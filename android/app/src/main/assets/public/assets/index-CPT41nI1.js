(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function jd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function FG(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var mA={exports:{}},bx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D8;function LG(){if(D8)return bx;D8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return bx.Fragment=e,bx.jsx=t,bx.jsxs=t,bx}var R8;function kG(){return R8||(R8=1,mA.exports=LG()),mA.exports}var S=kG(),pA={exports:{}},Ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B8;function IG(){if(B8)return Ln;B8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),h=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function b(W,K,Q){this.props=W,this.context=K,this.refs=A,this.updater=Q||g}b.prototype.isReactComponent={},b.prototype.setState=function(W,K){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,K,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function _(){}_.prototype=b.prototype;function M(W,K,Q){this.props=W,this.context=K,this.refs=A,this.updater=Q||g}var E=M.prototype=new _;E.constructor=M,x(E,b.prototype),E.isPureReactComponent=!0;var C=Array.isArray;function T(){}var B={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function R(W,K,Q){var te=Q.ref;return{$$typeof:n,type:W,key:K,ref:te!==void 0?te:null,props:Q}}function O(W,K){return R(W.type,K,W.props)}function U(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function I(W){var K={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Q){return K[Q]})}var q=/\/+/g;function X(W,K){return typeof W=="object"&&W!==null&&W.key!=null?I(""+W.key):K.toString(36)}function $(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(T,T):(W.status="pending",W.then(function(K){W.status==="pending"&&(W.status="fulfilled",W.value=K)},function(K){W.status==="pending"&&(W.status="rejected",W.reason=K)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function k(W,K,Q,te,le){var de=typeof W;(de==="undefined"||de==="boolean")&&(W=null);var ce=!1;if(W===null)ce=!0;else switch(de){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(W.$$typeof){case n:case e:ce=!0;break;case c:return ce=W._init,k(ce(W._payload),K,Q,te,le)}}if(ce)return le=le(W),ce=te===""?"."+X(W,0):te,C(le)?(Q="",ce!=null&&(Q=ce.replace(q,"$&/")+"/"),k(le,K,Q,"",function(Oe){return Oe})):le!=null&&(U(le)&&(le=O(le,Q+(le.key==null||W&&W.key===le.key?"":(""+le.key).replace(q,"$&/")+"/")+ce)),K.push(le)),1;ce=0;var be=te===""?".":te+":";if(C(W))for(var Te=0;Te<W.length;Te++)te=W[Te],de=be+X(te,Te),ce+=k(te,K,Q,de,le);else if(Te=p(W),typeof Te=="function")for(W=Te.call(W),Te=0;!(te=W.next()).done;)te=te.value,de=be+X(te,Te++),ce+=k(te,K,Q,de,le);else if(de==="object"){if(typeof W.then=="function")return k($(W),K,Q,te,le);throw K=String(W),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ce}function P(W,K,Q){if(W==null)return W;var te=[],le=0;return k(W,te,"","",function(de){return K.call(Q,de,le++)}),te}function Z(W){if(W._status===-1){var K=W._result;K=K(),K.then(function(Q){(W._status===0||W._status===-1)&&(W._status=1,W._result=Q)},function(Q){(W._status===0||W._status===-1)&&(W._status=2,W._result=Q)}),W._status===-1&&(W._status=0,W._result=K)}if(W._status===1)return W._result.default;throw W._result}var H=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},ae={map:P,forEach:function(W,K,Q){P(W,function(){K.apply(this,arguments)},Q)},count:function(W){var K=0;return P(W,function(){K++}),K},toArray:function(W){return P(W,function(K){return K})||[]},only:function(W){if(!U(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return Ln.Activity=d,Ln.Children=ae,Ln.Component=b,Ln.Fragment=t,Ln.Profiler=i,Ln.PureComponent=M,Ln.StrictMode=r,Ln.Suspense=l,Ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ln.__COMPILER_RUNTIME={__proto__:null,c:function(W){return B.H.useMemoCache(W)}},Ln.cache=function(W){return function(){return W.apply(null,arguments)}},Ln.cacheSignal=function(){return null},Ln.cloneElement=function(W,K,Q){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var te=x({},W.props),le=W.key;if(K!=null)for(de in K.key!==void 0&&(le=""+K.key),K)!z.call(K,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&K.ref===void 0||(te[de]=K[de]);var de=arguments.length-2;if(de===1)te.children=Q;else if(1<de){for(var ce=Array(de),be=0;be<de;be++)ce[be]=arguments[be+2];te.children=ce}return R(W.type,le,te)},Ln.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},Ln.createElement=function(W,K,Q){var te,le={},de=null;if(K!=null)for(te in K.key!==void 0&&(de=""+K.key),K)z.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=K[te]);var ce=arguments.length-2;if(ce===1)le.children=Q;else if(1<ce){for(var be=Array(ce),Te=0;Te<ce;Te++)be[Te]=arguments[Te+2];le.children=be}if(W&&W.defaultProps)for(te in ce=W.defaultProps,ce)le[te]===void 0&&(le[te]=ce[te]);return R(W,de,le)},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(W){return{$$typeof:o,render:W}},Ln.isValidElement=U,Ln.lazy=function(W){return{$$typeof:c,_payload:{_status:-1,_result:W},_init:Z}},Ln.memo=function(W,K){return{$$typeof:u,type:W,compare:K===void 0?null:K}},Ln.startTransition=function(W){var K=B.T,Q={};B.T=Q;try{var te=W(),le=B.S;le!==null&&le(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(T,H)}catch(de){H(de)}finally{K!==null&&Q.types!==null&&(K.types=Q.types),B.T=K}},Ln.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ln.use=function(W){return B.H.use(W)},Ln.useActionState=function(W,K,Q){return B.H.useActionState(W,K,Q)},Ln.useCallback=function(W,K){return B.H.useCallback(W,K)},Ln.useContext=function(W){return B.H.useContext(W)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(W,K){return B.H.useDeferredValue(W,K)},Ln.useEffect=function(W,K){return B.H.useEffect(W,K)},Ln.useEffectEvent=function(W){return B.H.useEffectEvent(W)},Ln.useId=function(){return B.H.useId()},Ln.useImperativeHandle=function(W,K,Q){return B.H.useImperativeHandle(W,K,Q)},Ln.useInsertionEffect=function(W,K){return B.H.useInsertionEffect(W,K)},Ln.useLayoutEffect=function(W,K){return B.H.useLayoutEffect(W,K)},Ln.useMemo=function(W,K){return B.H.useMemo(W,K)},Ln.useOptimistic=function(W,K){return B.H.useOptimistic(W,K)},Ln.useReducer=function(W,K,Q){return B.H.useReducer(W,K,Q)},Ln.useRef=function(W){return B.H.useRef(W)},Ln.useState=function(W){return B.H.useState(W)},Ln.useSyncExternalStore=function(W,K,Q){return B.H.useSyncExternalStore(W,K,Q)},Ln.useTransition=function(){return B.H.useTransition()},Ln.version="19.2.4",Ln}var O8;function w1(){return O8||(O8=1,pA.exports=IG()),pA.exports}var Re=w1();const rF=jd(Re);var vA={exports:{}},Sx={},gA={exports:{}},xA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z8;function PG(){return z8||(z8=1,(function(n){function e(k,P){var Z=k.length;k.push(P);e:for(;0<Z;){var H=Z-1>>>1,ae=k[H];if(0<i(ae,P))k[H]=P,k[Z]=ae,Z=H;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var P=k[0],Z=k.pop();if(Z!==P){k[0]=Z;e:for(var H=0,ae=k.length,W=ae>>>1;H<W;){var K=2*(H+1)-1,Q=k[K],te=K+1,le=k[te];if(0>i(Q,Z))te<ae&&0>i(le,Q)?(k[H]=le,k[te]=Z,H=te):(k[H]=Q,k[K]=Z,H=K);else if(te<ae&&0>i(le,Z))k[H]=le,k[te]=Z,H=te;else break e}}return P}function i(k,P){var Z=k.sortIndex-P.sortIndex;return Z!==0?Z:k.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,x=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function E(k){for(var P=t(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=k)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=t(u)}}function C(k){if(x=!1,E(k),!g)if(t(l)!==null)g=!0,T||(T=!0,I());else{var P=t(u);P!==null&&$(C,P.startTime-k)}}var T=!1,B=-1,z=5,R=-1;function O(){return A?!0:!(n.unstable_now()-R<z)}function U(){if(A=!1,T){var k=n.unstable_now();R=k;var P=!0;try{e:{g=!1,x&&(x=!1,_(B),B=-1),p=!0;var Z=h;try{t:{for(E(k),d=t(l);d!==null&&!(d.expirationTime>k&&O());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var ae=H(d.expirationTime<=k);if(k=n.unstable_now(),typeof ae=="function"){d.callback=ae,E(k),P=!0;break t}d===t(l)&&r(l),E(k)}else r(l);d=t(l)}if(d!==null)P=!0;else{var W=t(u);W!==null&&$(C,W.startTime-k),P=!1}}break e}finally{d=null,h=Z,p=!1}P=void 0}}finally{P?I():T=!1}}}var I;if(typeof M=="function")I=function(){M(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=U,I=function(){X.postMessage(null)}}else I=function(){b(U,0)};function $(k,P){B=b(function(){k(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(k){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var Z=h;h=P;try{return k()}finally{h=Z}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=h;h=k;try{return P()}finally{h=Z}},n.unstable_scheduleCallback=function(k,P,Z){var H=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?H+Z:H):Z=H,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,k={id:c++,callback:P,priorityLevel:k,startTime:Z,expirationTime:ae,sortIndex:-1},Z>H?(k.sortIndex=Z,e(u,k),t(l)===null&&k===t(u)&&(x?(_(B),B=-1):x=!0,$(C,Z-H))):(k.sortIndex=ae,e(l,k),g||p||(g=!0,T||(T=!0,I()))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var P=h;return function(){var Z=h;h=P;try{return k.apply(this,arguments)}finally{h=Z}}}})(xA)),xA}var U8;function jG(){return U8||(U8=1,gA.exports=PG()),gA.exports}var yA={exports:{}},Os={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F8;function VG(){if(F8)return Os;F8=1;var n=w1();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:u,implementation:c}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Os.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Os.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},Os.flushSync=function(l){var u=s.T,c=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=c,r.d.f()}},Os.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Os.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Os.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,d=o(c,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:d,integrity:h,fetchPriority:p}):c==="script"&&r.d.X(l,{crossOrigin:d,integrity:h,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Os.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Os.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,d=o(c,u.crossOrigin);r.d.L(l,c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Os.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Os.requestFormReset=function(l){r.d.r(l)},Os.unstable_batchedUpdates=function(l,u){return l(u)},Os.useFormState=function(l,u,c){return s.H.useFormState(l,u,c)},Os.useFormStatus=function(){return s.H.useHostTransitionStatus()},Os.version="19.2.4",Os}var L8;function HG(){if(L8)return yA.exports;L8=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yA.exports=VG(),yA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k8;function qG(){if(k8)return Sx;k8=1;var n=jG(),e=w1(),t=HG();function r(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function a(f){var m=f,w=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(w=m.return),f=m.return;while(f)}return m.tag===3?w:null}function s(f){if(f.tag===13){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function o(f){if(f.tag===31){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function l(f){if(a(f)!==f)throw Error(r(188))}function u(f){var m=f.alternate;if(!m){if(m=a(f),m===null)throw Error(r(188));return m!==f?null:f}for(var w=f,N=m;;){var F=w.return;if(F===null)break;var j=F.alternate;if(j===null){if(N=F.return,N!==null){w=N;continue}break}if(F.child===j.child){for(j=F.child;j;){if(j===w)return l(F),f;if(j===N)return l(F),m;j=j.sibling}throw Error(r(188))}if(w.return!==N.return)w=F,N=j;else{for(var se=!1,ye=F.child;ye;){if(ye===w){se=!0,w=F,N=j;break}if(ye===N){se=!0,N=F,w=j;break}ye=ye.sibling}if(!se){for(ye=j.child;ye;){if(ye===w){se=!0,w=j,N=F;break}if(ye===N){se=!0,N=j,w=F;break}ye=ye.sibling}if(!se)throw Error(r(189))}}if(w.alternate!==N)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?f:m}function c(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(m=c(f),m!==null)return m;f=f.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),M=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function I(f){return f===null||typeof f!="object"?null:(f=U&&f[U]||f["@@iterator"],typeof f=="function"?f:null)}var q=Symbol.for("react.client.reference");function X(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===q?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case x:return"Fragment";case b:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case g:return"Portal";case M:return f.displayName||"Context";case _:return(f._context.displayName||"Context")+".Consumer";case E:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case B:return m=f.displayName||null,m!==null?m:X(f.type)||"Memo";case z:m=f._payload,f=f._init;try{return X(f(m))}catch{}}return null}var $=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},H=[],ae=-1;function W(f){return{current:f}}function K(f){0>ae||(f.current=H[ae],H[ae]=null,ae--)}function Q(f,m){ae++,H[ae]=f.current,f.current=m}var te=W(null),le=W(null),de=W(null),ce=W(null);function be(f,m){switch(Q(de,m),Q(le,f),Q(te,null),m.nodeType){case 9:case 11:f=(f=m.documentElement)&&(f=f.namespaceURI)?JT(f):0;break;default:if(f=m.tagName,m=m.namespaceURI)m=JT(m),f=e8(m,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}K(te),Q(te,f)}function Te(){K(te),K(le),K(de)}function Oe(f){f.memoizedState!==null&&Q(ce,f);var m=te.current,w=e8(m,f.type);m!==w&&(Q(le,f),Q(te,w))}function Fe(f){le.current===f&&(K(te),K(le)),ce.current===f&&(K(ce),vx._currentValue=Z)}var Se,Ve;function ve(f){if(Se===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);Se=m&&m[1]||"",Ve=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+f+Ve}var fe=!1;function he(f,m){if(!f||fe)return"";fe=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(m){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(gt){var mt=gt}Reflect.construct(f,[],_t)}else{try{_t.call()}catch(gt){mt=gt}f.call(_t.prototype)}}else{try{throw Error()}catch(gt){mt=gt}(_t=f())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(gt){if(gt&&mt&&typeof gt.stack=="string")return[gt.stack,mt.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var F=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");F&&F.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=N.DetermineComponentFrameRoot(),se=j[0],ye=j[1];if(se&&ye){var Ge=se.split(`
`),ft=ye.split(`
`);for(F=N=0;N<Ge.length&&!Ge[N].includes("DetermineComponentFrameRoot");)N++;for(;F<ft.length&&!ft[F].includes("DetermineComponentFrameRoot");)F++;if(N===Ge.length||F===ft.length)for(N=Ge.length-1,F=ft.length-1;1<=N&&0<=F&&Ge[N]!==ft[F];)F--;for(;1<=N&&0<=F;N--,F--)if(Ge[N]!==ft[F]){if(N!==1||F!==1)do if(N--,F--,0>F||Ge[N]!==ft[F]){var yt=`
`+Ge[N].replace(" at new "," at ");return f.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",f.displayName)),yt}while(1<=N&&0<=F);break}}}finally{fe=!1,Error.prepareStackTrace=w}return(w=f?f.displayName||f.name:"")?ve(w):""}function Be(f,m){switch(f.tag){case 26:case 27:case 5:return ve(f.type);case 16:return ve("Lazy");case 13:return f.child!==m&&m!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return he(f.type,!1);case 11:return he(f.type.render,!1);case 1:return he(f.type,!0);case 31:return ve("Activity");default:return""}}function ue(f){try{var m="",w=null;do m+=Be(f,w),w=f,f=f.return;while(f);return m}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}var xe=Object.prototype.hasOwnProperty,we=n.unstable_scheduleCallback,ie=n.unstable_cancelCallback,re=n.unstable_shouldYield,ee=n.unstable_requestPaint,oe=n.unstable_now,ge=n.unstable_getCurrentPriorityLevel,De=n.unstable_ImmediatePriority,Le=n.unstable_UserBlockingPriority,Ue=n.unstable_NormalPriority,He=n.unstable_LowPriority,et=n.unstable_IdlePriority,Xe=n.log,We=n.unstable_setDisableYieldValue,st=null,lt=null;function Ke(f){if(typeof Xe=="function"&&We(f),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(st,f)}catch{}}var ze=Math.clz32?Math.clz32:me,G=Math.log,Ne=Math.LN2;function me(f){return f>>>=0,f===0?32:31-(G(f)/Ne|0)|0}var Pe=256,$e=262144,tt=4194304;function xt(f){var m=f&42;if(m!==0)return m;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function wt(f,m,w){var N=f.pendingLanes;if(N===0)return 0;var F=0,j=f.suspendedLanes,se=f.pingedLanes;f=f.warmLanes;var ye=N&134217727;return ye!==0?(N=ye&~j,N!==0?F=xt(N):(se&=ye,se!==0?F=xt(se):w||(w=ye&~f,w!==0&&(F=xt(w))))):(ye=N&~j,ye!==0?F=xt(ye):se!==0?F=xt(se):w||(w=N&~f,w!==0&&(F=xt(w)))),F===0?0:m!==0&&m!==F&&(m&j)===0&&(j=F&-F,w=m&-m,j>=w||j===32&&(w&4194048)!==0)?m:F}function kt(f,m){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&m)===0}function Jt(f,m){switch(f){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var f=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),f}function Wt(f){for(var m=[],w=0;31>w;w++)m.push(f);return m}function Fn(f,m){f.pendingLanes|=m,m!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function ar(f,m,w,N,F,j){var se=f.pendingLanes;f.pendingLanes=w,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=w,f.entangledLanes&=w,f.errorRecoveryDisabledLanes&=w,f.shellSuspendCounter=0;var ye=f.entanglements,Ge=f.expirationTimes,ft=f.hiddenUpdates;for(w=se&~w;0<w;){var yt=31-ze(w),_t=1<<yt;ye[yt]=0,Ge[yt]=-1;var mt=ft[yt];if(mt!==null)for(ft[yt]=null,yt=0;yt<mt.length;yt++){var gt=mt[yt];gt!==null&&(gt.lane&=-536870913)}w&=~_t}N!==0&&Ir(f,N,0),j!==0&&F===0&&f.tag!==0&&(f.suspendedLanes|=j&~(se&~m))}function Ir(f,m,w){f.pendingLanes|=m,f.suspendedLanes&=~m;var N=31-ze(m);f.entangledLanes|=m,f.entanglements[N]=f.entanglements[N]|1073741824|w&261930}function Di(f,m){var w=f.entangledLanes|=m;for(f=f.entanglements;w;){var N=31-ze(w),F=1<<N;F&m|f[N]&m&&(f[N]|=m),w&=~F}}function vi(f,m){var w=m&-m;return w=(w&42)!==0?1:Kr(w),(w&(f.suspendedLanes|m))!==0?0:w}function Kr(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function ca(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function yi(){var f=P.p;return f!==0?f:(f=window.event,f===void 0?32:A8(f.type))}function Hr(f,m){var w=P.p;try{return P.p=f,m()}finally{P.p=w}}var _r=Math.random().toString(36).slice(2),mn="__reactFiber$"+_r,hi="__reactProps$"+_r,wa="__reactContainer$"+_r,zl="__reactEvents$"+_r,Au="__reactListeners$"+_r,Ul="__reactHandles$"+_r,_e="__reactResources$"+_r,Je="__reactMarker$"+_r;function dt(f){delete f[mn],delete f[hi],delete f[zl],delete f[Au],delete f[Ul]}function at(f){var m=f[mn];if(m)return m;for(var w=f.parentNode;w;){if(m=w[wa]||w[mn]){if(w=m.alternate,m.child!==null||w!==null&&w.child!==null)for(f=o8(f);f!==null;){if(w=f[mn])return w;f=o8(f)}return m}f=w,w=f.parentNode}return null}function Ye(f){if(f=f[mn]||f[wa]){var m=f.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return f}return null}function Et(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f.stateNode;throw Error(r(33))}function ot(f){var m=f[_e];return m||(m=f[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Tt(f){f[Je]=!0}var qt=new Set,tn={};function nn(f,m){Gt(f,m),Gt(f+"Capture",m)}function Gt(f,m){for(tn[f]=m,f=0;f<m.length;f++)qt.add(m[f])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ur={},dr={};function ji(f){return xe.call(dr,f)?!0:xe.call(ur,f)?!1:Kn.test(f)?dr[f]=!0:(ur[f]=!0,!1)}function Vn(f,m,w){if(ji(m))if(w===null)f.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":f.removeAttribute(m);return;case"boolean":var N=m.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){f.removeAttribute(m);return}}f.setAttribute(m,""+w)}}function Kt(f,m,w){if(w===null)f.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(m);return}f.setAttribute(m,""+w)}}function ri(f,m,w,N){if(N===null)f.removeAttribute(w);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(w);return}f.setAttributeNS(m,w,""+N)}}function En(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Vi(f){var m=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Ws(f,m,w){var N=Object.getOwnPropertyDescriptor(f.constructor.prototype,m);if(!f.hasOwnProperty(m)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var F=N.get,j=N.set;return Object.defineProperty(f,m,{configurable:!0,get:function(){return F.call(this)},set:function(se){w=""+se,j.call(this,se)}}),Object.defineProperty(f,m,{enumerable:N.enumerable}),{getValue:function(){return w},setValue:function(se){w=""+se},stopTracking:function(){f._valueTracker=null,delete f[m]}}}}function ii(f){if(!f._valueTracker){var m=Vi(f)?"checked":"value";f._valueTracker=Ws(f,m,""+f[m])}}function Ys(f){if(!f)return!1;var m=f._valueTracker;if(!m)return!0;var w=m.getValue(),N="";return f&&(N=Vi(f)?f.checked?"true":"false":f.value),f=N,f!==w?(m.setValue(f),!0):!1}function sr(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Aa=/[\n"\\]/g;function Rr(f){return f.replace(Aa,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function ea(f,m,w,N,F,j,se,ye){f.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?f.type=se:f.removeAttribute("type"),m!=null?se==="number"?(m===0&&f.value===""||f.value!=m)&&(f.value=""+En(m)):f.value!==""+En(m)&&(f.value=""+En(m)):se!=="submit"&&se!=="reset"||f.removeAttribute("value"),m!=null?ta(f,se,En(m)):w!=null?ta(f,se,En(w)):N!=null&&f.removeAttribute("value"),F==null&&j!=null&&(f.defaultChecked=!!j),F!=null&&(f.checked=F&&typeof F!="function"&&typeof F!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?f.name=""+En(ye):f.removeAttribute("name")}function Ma(f,m,w,N,F,j,se,ye){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(f.type=j),m!=null||w!=null){if(!(j!=="submit"&&j!=="reset"||m!=null)){ii(f);return}w=w!=null?""+En(w):"",m=m!=null?""+En(m):w,ye||m===f.value||(f.value=m),f.defaultValue=m}N=N??F,N=typeof N!="function"&&typeof N!="symbol"&&!!N,f.checked=ye?f.checked:!!N,f.defaultChecked=!!N,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(f.name=se),ii(f)}function ta(f,m,w){m==="number"&&sr(f.ownerDocument)===f||f.defaultValue===""+w||(f.defaultValue=""+w)}function zo(f,m,w,N){if(f=f.options,m){m={};for(var F=0;F<w.length;F++)m["$"+w[F]]=!0;for(w=0;w<f.length;w++)F=m.hasOwnProperty("$"+f[w].value),f[w].selected!==F&&(f[w].selected=F),F&&N&&(f[w].defaultSelected=!0)}else{for(w=""+En(w),m=null,F=0;F<f.length;F++){if(f[F].value===w){f[F].selected=!0,N&&(f[F].defaultSelected=!0);return}m!==null||f[F].disabled||(m=f[F])}m!==null&&(m.selected=!0)}}function Sc(f,m,w){if(m!=null&&(m=""+En(m),m!==f.value&&(f.value=m),w==null)){f.defaultValue!==m&&(f.defaultValue=m);return}f.defaultValue=w!=null?""+En(w):""}function Uo(f,m,w,N){if(m==null){if(N!=null){if(w!=null)throw Error(r(92));if($(N)){if(1<N.length)throw Error(r(93));N=N[0]}w=N}w==null&&(w=""),m=w}w=En(m),f.defaultValue=w,N=f.textContent,N===w&&N!==""&&N!==null&&(f.value=N),ii(f)}function sl(f,m){if(m){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=m;return}}f.textContent=m}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(f,m,w){var N=m.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?N?f.setProperty(m,""):m==="float"?f.cssFloat="":f[m]="":N?f.setProperty(m,w):typeof w!="number"||w===0||_f.has(m)?m==="float"?f.cssFloat=w:f[m]=(""+w).trim():f[m]=w+"px"}function Ef(f,m,w){if(m!=null&&typeof m!="object")throw Error(r(62));if(f=f.style,w!=null){for(var N in w)!w.hasOwnProperty(N)||m!=null&&m.hasOwnProperty(N)||(N.indexOf("--")===0?f.setProperty(N,""):N==="float"?f.cssFloat="":f[N]="");for(var F in m)N=m[F],m.hasOwnProperty(F)&&w[F]!==N&&wc(f,F,N)}else for(var j in m)m.hasOwnProperty(j)&&wc(f,j,m[j])}function ol(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(f){return Nf.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function _a(){}var ll=null;function Tf(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Zs=null,Lo=null;function Cf(f){var m=Ye(f);if(m&&(f=m.stateNode)){var w=f[hi]||null;e:switch(f=m.stateNode,m.type){case"input":if(ea(f,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),m=w.name,w.type==="radio"&&m!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+Rr(""+m)+'"][type="radio"]'),m=0;m<w.length;m++){var N=w[m];if(N!==f&&N.form===f.form){var F=N[hi]||null;if(!F)throw Error(r(90));ea(N,F.value,F.defaultValue,F.defaultValue,F.checked,F.defaultChecked,F.type,F.name)}}for(m=0;m<w.length;m++)N=w[m],N.form===f.form&&Ys(N)}break e;case"textarea":Sc(f,w.value,w.defaultValue);break e;case"select":m=w.value,m!=null&&zo(f,!!w.multiple,m,!1)}}}var Df=!1;function Ac(f,m,w){if(Df)return f(m,w);Df=!0;try{var N=f(m);return N}finally{if(Df=!1,(Zs!==null||Lo!==null)&&(Ee(),Zs&&(m=Zs,f=Lo,Lo=Zs=null,Cf(m),f)))for(m=0;m<f.length;m++)Cf(f[m])}}function ul(f,m){var w=f.stateNode;if(w===null)return null;var N=w[hi]||null;if(N===null)return null;w=N[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(f=f.type,N=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!N;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(r(231,m,typeof w));return w}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=!1;if(Ks)try{var Mu={};Object.defineProperty(Mu,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{Va=!1}var cl=null,Rf=null,ko=null;function Bf(){if(ko)return ko;var f,m=Rf,w=m.length,N,F="value"in cl?cl.value:cl.textContent,j=F.length;for(f=0;f<w&&m[f]===F[f];f++);var se=w-f;for(N=1;N<=se&&m[w-N]===F[j-N];N++);return ko=F.slice(f,1<N?1-N:void 0)}function Fl(f){var m=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&m===13&&(f=13)):f=m,f===10&&(f=13),32<=f||f===13?f:0}function fl(){return!0}function _u(){return!1}function ai(f){function m(w,N,F,j,se){this._reactName=w,this._targetInst=F,this.type=N,this.nativeEvent=j,this.target=se,this.currentTarget=null;for(var ye in f)f.hasOwnProperty(ye)&&(w=f[ye],this[ye]=w?w(j):j[ye]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?fl:_u,this.isPropagationStopped=_u,this}return d(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),m}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=ai(dl),ts=d({},dl,{view:0,detail:0}),Ll=ai(ts),Of,hl,kl,na=d({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==kl&&(kl&&f.type==="mousemove"?(Of=f.screenX-kl.screenX,hl=f.screenY-kl.screenY):hl=Of=0,kl=f),Of)},movementY:function(f){return"movementY"in f?f.movementY:hl}}),pp=ai(na),bi=d({},na,{dataTransfer:0}),zf=ai(bi),wh=d({},ts,{relatedTarget:0}),Wd=ai(wh),Ea=d({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ss=ai(Ea),Hi=d({},dl,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Io=ai(Hi),Ah=d({},dl,{data:0}),tg=ai(Ah),A2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M2(f){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(f):(f=rg[f])?!!m[f]:!1}function Mh(){return M2}var ig=d({},ts,{key:function(f){if(f.key){var m=A2[f.key]||f.key;if(m!=="Unidentified")return m}return f.type==="keypress"?(f=Fl(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?ng[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(f){return f.type==="keypress"?Fl(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Fl(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),ag=ai(ig),_2=d({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=ai(_2),E2=d({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),Nu=ai(E2),sg=d({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),O5=ai(sg),N2=d({},na,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Mc=ai(N2),Tu=d({},dl,{newState:0,oldState:0}),og=ai(Tu),lg=[9,13,27,32],Uf=Ks&&"CompositionEvent"in window,_c=null;Ks&&"documentMode"in document&&(_c=document.documentMode);var Ff=Ks&&"TextEvent"in window&&!_c,Na=Ks&&(!Uf||_c&&8<_c&&11>=_c),_h=" ",ug=!1;function gp(f,m){switch(f){case"keyup":return lg.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yd(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Ec=!1;function xp(f,m){switch(f){case"compositionend":return Yd(m);case"keypress":return m.which!==32?null:(ug=!0,_h);case"textInput":return f=m.data,f===_h&&ug?null:f;default:return null}}function T2(f,m){if(Ec)return f==="compositionend"||!Uf&&gp(f,m)?(f=Bf(),ko=Rf=cl=null,Ec=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Na&&m.locale!=="ko"?null:m.data;default:return null}}var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m==="input"?!!Qs[f.type]:m==="textarea"}function yp(f,m,w,N){Zs?Lo?Lo.push(N):Lo=[N]:Zs=N,m=yb(m,"onChange"),0<m.length&&(w=new Eu("onChange","change",null,w,N),f.push({event:w,listeners:m}))}var Zd=null,Kd=null;function fg(f){XT(f,0)}function Qd(f){var m=Et(f);if(Ys(m))return f}function dg(f,m){if(f==="change")return m}var Eh=!1;if(Ks){var Lf;if(Ks){var si="oninput"in document;if(!si){var C2=document.createElement("div");C2.setAttribute("oninput","return;"),si=typeof C2.oninput=="function"}Lf=si}else Lf=!1;Eh=Lf&&(!document.documentMode||9<document.documentMode)}function D2(){Zd&&(Zd.detachEvent("onpropertychange",hg),Kd=Zd=null)}function hg(f){if(f.propertyName==="value"&&Qd(Kd)){var m=[];yp(m,Kd,f,Tf(f)),Ac(fg,m)}}function Nh(f,m,w){f==="focusin"?(D2(),Zd=m,Kd=w,Zd.attachEvent("onpropertychange",hg)):f==="focusout"&&D2()}function Nc(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Qd(Kd)}function R2(f,m){if(f==="click")return Qd(m)}function B2(f,m){if(f==="input"||f==="change")return Qd(m)}function kf(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var oi=typeof Object.is=="function"?Object.is:kf;function Jd(f,m){if(oi(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var w=Object.keys(f),N=Object.keys(m);if(w.length!==N.length)return!1;for(N=0;N<w.length;N++){var F=w[N];if(!xe.call(m,F)||!oi(f[F],m[F]))return!1}return!0}function mg(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function pg(f,m){var w=mg(f);f=0;for(var N;w;){if(w.nodeType===3){if(N=f+w.textContent.length,f<=m&&N>=m)return{node:w,offset:m-f};f=N}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=mg(w)}}function bp(f,m){return f&&m?f===m?!0:f&&f.nodeType===3?!1:m&&m.nodeType===3?bp(f,m.parentNode):"contains"in f?f.contains(m):f.compareDocumentPosition?!!(f.compareDocumentPosition(m)&16):!1:!1}function Sp(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var m=sr(f.document);m instanceof f.HTMLIFrameElement;){try{var w=typeof m.contentWindow.location.href=="string"}catch{w=!1}if(w)f=m.contentWindow;else break;m=sr(f.document)}return m}function e0(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m&&(m==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||m==="textarea"||f.contentEditable==="true")}var O2=Ks&&"documentMode"in document&&11>=document.documentMode,t0=null,wp=null,n0=null,Js=!1;function Ap(f,m,w){var N=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Js||t0==null||t0!==sr(N)||(N=t0,"selectionStart"in N&&e0(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),n0&&Jd(n0,N)||(n0=N,N=yb(wp,"onSelect"),0<N.length&&(m=new Eu("onSelect","select",null,m,w),f.push({event:m,listeners:N}),m.target=t0)))}function Tc(f,m){var w={};return w[f.toLowerCase()]=m.toLowerCase(),w["Webkit"+f]="webkit"+m,w["Moz"+f]="moz"+m,w}var r0={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionrun:Tc("Transition","TransitionRun"),transitionstart:Tc("Transition","TransitionStart"),transitioncancel:Tc("Transition","TransitionCancel"),transitionend:Tc("Transition","TransitionEnd")},Th={},ns={};Ks&&(ns=document.createElement("div").style,"AnimationEvent"in window||(delete r0.animationend.animation,delete r0.animationiteration.animation,delete r0.animationstart.animation),"TransitionEvent"in window||delete r0.transitionend.transition);function Cc(f){if(Th[f])return Th[f];if(!r0[f])return f;var m=r0[f],w;for(w in m)if(m.hasOwnProperty(w)&&w in ns)return Th[f]=m[w];return f}var ws=Cc("animationend"),vg=Cc("animationiteration"),Il=Cc("animationstart"),i0=Cc("transitionrun"),Dc=Cc("transitionstart"),gg=Cc("transitioncancel"),Mp=Cc("transitionend"),Cu=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function Ha(f,m){Cu.set(f,m),nn(m,[f])}var Rc=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},fa=[],If=0,Ep=0;function Bc(){for(var f=If,m=Ep=If=0;m<f;){var w=fa[m];fa[m++]=null;var N=fa[m];fa[m++]=null;var F=fa[m];fa[m++]=null;var j=fa[m];if(fa[m++]=null,N!==null&&F!==null){var se=N.pending;se===null?F.next=F:(F.next=se.next,se.next=F),N.pending=F}j!==0&&Np(w,F,j)}}function Ch(f,m,w,N){fa[If++]=f,fa[If++]=m,fa[If++]=w,fa[If++]=N,Ep|=N,f.lanes|=N,f=f.alternate,f!==null&&(f.lanes|=N)}function a0(f,m,w,N){return Ch(f,m,w,N),s0(f)}function Oc(f,m){return Ch(f,null,null,m),s0(f)}function Np(f,m,w){f.lanes|=w;var N=f.alternate;N!==null&&(N.lanes|=w);for(var F=!1,j=f.return;j!==null;)j.childLanes|=w,N=j.alternate,N!==null&&(N.childLanes|=w),j.tag===22&&(f=j.stateNode,f===null||f._visibility&1||(F=!0)),f=j,j=j.return;return f.tag===3?(j=f.stateNode,F&&m!==null&&(F=31-ze(w),f=j.hiddenUpdates,N=f[F],N===null?f[F]=[m]:N.push(m),m.lane=w|536870912),j):null}function s0(f){if(50<nd)throw nd=0,rd=null,Error(r(185));for(var m=f.return;m!==null;)f=m,m=f.return;return f.tag===3?f.stateNode:null}var zc={};function z2(f,m,w,N){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(f,m,w,N){return new z2(f,m,w,N)}function is(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Pl(f,m){var w=f.alternate;return w===null?(w=rs(f.tag,m,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=m,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&65011712,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,m=f.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w.refCleanup=f.refCleanup,w}function qa(f,m){f.flags&=65011714;var w=f.alternate;return w===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,m=w.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),f}function Dh(f,m,w,N,F,j){var se=0;if(N=f,typeof f=="function")is(f)&&(se=1);else if(typeof f=="string")se=MG(f,w,te.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case R:return f=rs(31,w,m,F),f.elementType=R,f.lanes=j,f;case x:return Du(w.children,F,j,m);case A:se=8,F|=24;break;case b:return f=rs(12,w,m,F|2),f.elementType=b,f.lanes=j,f;case C:return f=rs(13,w,m,F),f.elementType=C,f.lanes=j,f;case T:return f=rs(19,w,m,F),f.elementType=T,f.lanes=j,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case M:se=10;break e;case _:se=9;break e;case E:se=11;break e;case B:se=14;break e;case z:se=16,N=null;break e}se=29,w=Error(r(130,f===null?"null":typeof f,"")),N=null}return m=rs(se,w,m,F),m.elementType=f,m.type=N,m.lanes=j,m}function Du(f,m,w,N){return f=rs(7,f,N,m),f.lanes=w,f}function Tp(f,m,w){return f=rs(6,f,null,m),f.lanes=w,f}function U2(f){var m=rs(18,null,null,0);return m.stateNode=f,m}function ml(f,m,w){return m=rs(4,f.children!==null?f.children:[],f.key,m),m.lanes=w,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}var xg=new WeakMap;function As(f,m){if(typeof f=="object"&&f!==null){var w=xg.get(f);return w!==void 0?w:(m={value:f,source:m,stack:ue(m)},xg.set(f,m),m)}return{value:f,source:m,stack:ue(m)}}var pl=[],Pf=0,Rh=null,o0=0,eo=[],Ms=0,jl=null,Vl=1,Hl="";function Ru(f,m){pl[Pf++]=o0,pl[Pf++]=Rh,Rh=f,o0=m}function yg(f,m,w){eo[Ms++]=Vl,eo[Ms++]=Hl,eo[Ms++]=jl,jl=f;var N=Vl;f=Hl;var F=32-ze(N)-1;N&=~(1<<F),w+=1;var j=32-ze(m)+F;if(30<j){var se=F-F%5;j=(N&(1<<se)-1).toString(32),N>>=se,F-=se,Vl=1<<32-ze(m)+F|w<<F|N,Hl=j+f}else Vl=1<<j|w<<F|N,Hl=f}function Cp(f){f.return!==null&&(Ru(f,1),yg(f,1,0))}function Uc(f){for(;f===Rh;)Rh=pl[--Pf],pl[Pf]=null,o0=pl[--Pf],pl[Pf]=null;for(;f===jl;)jl=eo[--Ms],eo[Ms]=null,Hl=eo[--Ms],eo[Ms]=null,Vl=eo[--Ms],eo[Ms]=null}function Bh(f,m){eo[Ms++]=Vl,eo[Ms++]=Hl,eo[Ms++]=jl,Vl=m.id,Hl=m.overflow,jl=f}var da=null,Qr=null,cr=!1,Bu=null,ha=!1,Dp=Error(r(519));function or(f){var m=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oh(As(m,f)),Dp}function Rp(f){var m=f.stateNode,w=f.type,N=f.memoizedProps;switch(m[mn]=f,m[hi]=N,w){case"dialog":fr("cancel",m),fr("close",m);break;case"iframe":case"object":case"embed":fr("load",m);break;case"video":case"audio":for(w=0;w<fx.length;w++)fr(fx[w],m);break;case"source":fr("error",m);break;case"img":case"image":case"link":fr("error",m),fr("load",m);break;case"details":fr("toggle",m);break;case"input":fr("invalid",m),Ma(m,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0);break;case"select":fr("invalid",m);break;case"textarea":fr("invalid",m),Uo(m,N.value,N.defaultValue,N.children)}w=N.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||m.textContent===""+w||N.suppressHydrationWarning===!0||KT(m.textContent,w)?(N.popover!=null&&(fr("beforetoggle",m),fr("toggle",m)),N.onScroll!=null&&fr("scroll",m),N.onScrollEnd!=null&&fr("scrollend",m),N.onClick!=null&&(m.onclick=_a),m=!0):m=!1,m||or(f,!0)}function F2(f){for(da=f.return;da;)switch(da.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:da=da.return}}function jf(f){if(f!==da)return!1;if(!cr)return F2(f),cr=!0,!1;var m=f.tag,w;if((w=m!==3&&m!==27)&&((w=m===5)&&(w=f.type,w=!(w!=="form"&&w!=="button")||J5(f.type,f.memoizedProps)),w=!w),w&&Qr&&or(f),F2(f),m===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Qr=s8(f)}else if(m===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Qr=s8(f)}else m===27?(m=Qr,E0(f.type)?(f=iA,iA=null,Qr=f):Qr=m):Qr=da?eu(f.stateNode.nextSibling):null;return!0}function Vf(){Qr=da=null,cr=!1}function bg(){var f=Bu;return f!==null&&(Za===null?Za=f:Za.push.apply(Za,f),Bu=null),f}function Oh(f){Bu===null?Bu=[f]:Bu.push(f)}var Sg=W(null),Ou=null,Ga=null;function zu(f,m,w){Q(Sg,m._currentValue),m._currentValue=w}function Po(f){f._currentValue=Sg.current,K(Sg)}function Uu(f,m,w){for(;f!==null;){var N=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,N!==null&&(N.childLanes|=m)):N!==null&&(N.childLanes&m)!==m&&(N.childLanes|=m),f===w)break;f=f.return}}function Bp(f,m,w,N){var F=f.child;for(F!==null&&(F.return=f);F!==null;){var j=F.dependencies;if(j!==null){var se=F.child;j=j.firstContext;e:for(;j!==null;){var ye=j;j=F;for(var Ge=0;Ge<m.length;Ge++)if(ye.context===m[Ge]){j.lanes|=w,ye=j.alternate,ye!==null&&(ye.lanes|=w),Uu(j.return,w,f),N||(se=null);break e}j=ye.next}}else if(F.tag===18){if(se=F.return,se===null)throw Error(r(341));se.lanes|=w,j=se.alternate,j!==null&&(j.lanes|=w),Uu(se,w,f),se=null}else se=F.child;if(se!==null)se.return=F;else for(se=F;se!==null;){if(se===f){se=null;break}if(F=se.sibling,F!==null){F.return=se.return,se=F;break}se=se.return}F=se}}function Fc(f,m,w,N){f=null;for(var F=m,j=!1;F!==null;){if(!j){if((F.flags&524288)!==0)j=!0;else if((F.flags&262144)!==0)break}if(F.tag===10){var se=F.alternate;if(se===null)throw Error(r(387));if(se=se.memoizedProps,se!==null){var ye=F.type;oi(F.pendingProps.value,se.value)||(f!==null?f.push(ye):f=[ye])}}else if(F===ce.current){if(se=F.alternate,se===null)throw Error(r(387));se.memoizedState.memoizedState!==F.memoizedState.memoizedState&&(f!==null?f.push(vx):f=[vx])}F=F.return}f!==null&&Bp(m,f,w,N),m.flags|=262144}function l0(f){for(f=f.firstContext;f!==null;){if(!oi(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Hf(f){Ou=f,Ga=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function ma(f){return wg(Ou,f)}function zh(f,m){return Ou===null&&Hf(f),wg(f,m)}function wg(f,m){var w=m._currentValue;if(m={context:m,memoizedValue:w,next:null},Ga===null){if(f===null)throw Error(r(308));Ga=m,f.dependencies={lanes:0,firstContext:m},f.flags|=524288}else Ga=Ga.next=m;return w}var L2=typeof AbortController<"u"?AbortController:function(){var f=[],m=this.signal={aborted:!1,addEventListener:function(w,N){f.push(N)}};this.abort=function(){m.aborted=!0,f.forEach(function(w){return w()})}},k2=n.unstable_scheduleCallback,Ag=n.unstable_NormalPriority,un={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mg(){return{controller:new L2,data:new Map,refCount:0}}function Ta(f){f.refCount--,f.refCount===0&&k2(Ag,function(){f.controller.abort()})}var qf=null,_g=0,Fu=0,vl=null;function u0(f,m){if(qf===null){var w=qf=[];_g=0,Fu=q5(),vl={status:"pending",value:void 0,then:function(N){w.push(N)}}}return _g++,m.then(Eg,Eg),m}function Eg(){if(--_g===0&&qf!==null){vl!==null&&(vl.status="fulfilled");var f=qf;qf=null,Fu=0,vl=null;for(var m=0;m<f.length;m++)(0,f[m])()}}function Ng(f,m){var w=[],N={status:"pending",value:null,reason:null,then:function(F){w.push(F)}};return f.then(function(){N.status="fulfilled",N.value=m;for(var F=0;F<w.length;F++)(0,w[F])(m)},function(F){for(N.status="rejected",N.reason=F,F=0;F<w.length;F++)(0,w[F])(void 0)}),N}var I2=k.S;k.S=function(f,m){A0=oe(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&u0(f,m),I2!==null&&I2(f,m)};var Lc=W(null);function ql(){var f=Lc.current;return f!==null?f:Or.pooledCache}function c0(f,m){m===null?Q(Lc,Lc.current):Q(Lc,m.pool)}function Op(){var f=ql();return f===null?null:{parent:un._currentValue,pool:f}}var kc=Error(r(460)),Uh=Error(r(474)),gl=Error(r(542)),Fh={then:function(){}};function P2(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Tg(f,m,w){switch(w=f[w],w===void 0?f.push(m):w!==m&&(m.then(_a,_a),m=w),m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Cg(f),f;default:if(typeof m.status=="string")m.then(_a,_a);else{if(f=Or,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=m,f.status="pending",f.then(function(N){if(m.status==="pending"){var F=m;F.status="fulfilled",F.value=N}},function(N){if(m.status==="pending"){var F=m;F.status="rejected",F.reason=N}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Cg(f),f}throw pn=m,kc}}function Gf(f){try{var m=f._init;return m(f._payload)}catch(w){throw w!==null&&typeof w=="object"&&typeof w.then=="function"?(pn=w,kc):w}}var pn=null;function zp(){if(pn===null)throw Error(r(459));var f=pn;return pn=null,f}function Cg(f){if(f===kc||f===gl)throw Error(r(483))}var Ic=null,Pc=0;function Up(f){var m=Pc;return Pc+=1,Ic===null&&(Ic=[]),Tg(Ic,f,m)}function Lh(f,m){m=m.props.ref,f.ref=m!==void 0?m:null}function kh(f,m){throw m.$$typeof===h?Error(r(525)):(f=Object.prototype.toString.call(m),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)))}function f0(f){function m(rt,Ze){if(f){var ut=rt.deletions;ut===null?(rt.deletions=[Ze],rt.flags|=16):ut.push(Ze)}}function w(rt,Ze){if(!f)return null;for(;Ze!==null;)m(rt,Ze),Ze=Ze.sibling;return null}function N(rt){for(var Ze=new Map;rt!==null;)rt.key!==null?Ze.set(rt.key,rt):Ze.set(rt.index,rt),rt=rt.sibling;return Ze}function F(rt,Ze){return rt=Pl(rt,Ze),rt.index=0,rt.sibling=null,rt}function j(rt,Ze,ut){return rt.index=ut,f?(ut=rt.alternate,ut!==null?(ut=ut.index,ut<Ze?(rt.flags|=67108866,Ze):ut):(rt.flags|=67108866,Ze)):(rt.flags|=1048576,Ze)}function se(rt){return f&&rt.alternate===null&&(rt.flags|=67108866),rt}function ye(rt,Ze,ut,Mt){return Ze===null||Ze.tag!==6?(Ze=Tp(ut,rt.mode,Mt),Ze.return=rt,Ze):(Ze=F(Ze,ut),Ze.return=rt,Ze)}function Ge(rt,Ze,ut,Mt){var dn=ut.type;return dn===x?yt(rt,Ze,ut.props.children,Mt,ut.key):Ze!==null&&(Ze.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===z&&Gf(dn)===Ze.type)?(Ze=F(Ze,ut.props),Lh(Ze,ut),Ze.return=rt,Ze):(Ze=Dh(ut.type,ut.key,ut.props,null,rt.mode,Mt),Lh(Ze,ut),Ze.return=rt,Ze)}function ft(rt,Ze,ut,Mt){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==ut.containerInfo||Ze.stateNode.implementation!==ut.implementation?(Ze=ml(ut,rt.mode,Mt),Ze.return=rt,Ze):(Ze=F(Ze,ut.children||[]),Ze.return=rt,Ze)}function yt(rt,Ze,ut,Mt,dn){return Ze===null||Ze.tag!==7?(Ze=Du(ut,rt.mode,Mt,dn),Ze.return=rt,Ze):(Ze=F(Ze,ut),Ze.return=rt,Ze)}function _t(rt,Ze,ut){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ze=Tp(""+Ze,rt.mode,ut),Ze.return=rt,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:return ut=Dh(Ze.type,Ze.key,Ze.props,null,rt.mode,ut),Lh(ut,Ze),ut.return=rt,ut;case g:return Ze=ml(Ze,rt.mode,ut),Ze.return=rt,Ze;case z:return Ze=Gf(Ze),_t(rt,Ze,ut)}if($(Ze)||I(Ze))return Ze=Du(Ze,rt.mode,ut,null),Ze.return=rt,Ze;if(typeof Ze.then=="function")return _t(rt,Up(Ze),ut);if(Ze.$$typeof===M)return _t(rt,zh(rt,Ze),ut);kh(rt,Ze)}return null}function mt(rt,Ze,ut,Mt){var dn=Ze!==null?Ze.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return dn!==null?null:ye(rt,Ze,""+ut,Mt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case p:return ut.key===dn?Ge(rt,Ze,ut,Mt):null;case g:return ut.key===dn?ft(rt,Ze,ut,Mt):null;case z:return ut=Gf(ut),mt(rt,Ze,ut,Mt)}if($(ut)||I(ut))return dn!==null?null:yt(rt,Ze,ut,Mt,null);if(typeof ut.then=="function")return mt(rt,Ze,Up(ut),Mt);if(ut.$$typeof===M)return mt(rt,Ze,zh(rt,ut),Mt);kh(rt,ut)}return null}function gt(rt,Ze,ut,Mt,dn){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return rt=rt.get(ut)||null,ye(Ze,rt,""+Mt,dn);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case p:return rt=rt.get(Mt.key===null?ut:Mt.key)||null,Ge(Ze,rt,Mt,dn);case g:return rt=rt.get(Mt.key===null?ut:Mt.key)||null,ft(Ze,rt,Mt,dn);case z:return Mt=Gf(Mt),gt(rt,Ze,ut,Mt,dn)}if($(Mt)||I(Mt))return rt=rt.get(ut)||null,yt(Ze,rt,Mt,dn,null);if(typeof Mt.then=="function")return gt(rt,Ze,ut,Up(Mt),dn);if(Mt.$$typeof===M)return gt(rt,Ze,ut,zh(Ze,Mt),dn);kh(Ze,Mt)}return null}function en(rt,Ze,ut,Mt){for(var dn=null,Ur=null,sn=Ze,Jn=Ze=0,pr=null;sn!==null&&Jn<ut.length;Jn++){sn.index>Jn?(pr=sn,sn=null):pr=sn.sibling;var Fr=mt(rt,sn,ut[Jn],Mt);if(Fr===null){sn===null&&(sn=pr);break}f&&sn&&Fr.alternate===null&&m(rt,sn),Ze=j(Fr,Ze,Jn),Ur===null?dn=Fr:Ur.sibling=Fr,Ur=Fr,sn=pr}if(Jn===ut.length)return w(rt,sn),cr&&Ru(rt,Jn),dn;if(sn===null){for(;Jn<ut.length;Jn++)sn=_t(rt,ut[Jn],Mt),sn!==null&&(Ze=j(sn,Ze,Jn),Ur===null?dn=sn:Ur.sibling=sn,Ur=sn);return cr&&Ru(rt,Jn),dn}for(sn=N(sn);Jn<ut.length;Jn++)pr=gt(sn,rt,Jn,ut[Jn],Mt),pr!==null&&(f&&pr.alternate!==null&&sn.delete(pr.key===null?Jn:pr.key),Ze=j(pr,Ze,Jn),Ur===null?dn=pr:Ur.sibling=pr,Ur=pr);return f&&sn.forEach(function(R0){return m(rt,R0)}),cr&&Ru(rt,Jn),dn}function bn(rt,Ze,ut,Mt){if(ut==null)throw Error(r(151));for(var dn=null,Ur=null,sn=Ze,Jn=Ze=0,pr=null,Fr=ut.next();sn!==null&&!Fr.done;Jn++,Fr=ut.next()){sn.index>Jn?(pr=sn,sn=null):pr=sn.sibling;var R0=mt(rt,sn,Fr.value,Mt);if(R0===null){sn===null&&(sn=pr);break}f&&sn&&R0.alternate===null&&m(rt,sn),Ze=j(R0,Ze,Jn),Ur===null?dn=R0:Ur.sibling=R0,Ur=R0,sn=pr}if(Fr.done)return w(rt,sn),cr&&Ru(rt,Jn),dn;if(sn===null){for(;!Fr.done;Jn++,Fr=ut.next())Fr=_t(rt,Fr.value,Mt),Fr!==null&&(Ze=j(Fr,Ze,Jn),Ur===null?dn=Fr:Ur.sibling=Fr,Ur=Fr);return cr&&Ru(rt,Jn),dn}for(sn=N(sn);!Fr.done;Jn++,Fr=ut.next())Fr=gt(sn,rt,Jn,Fr.value,Mt),Fr!==null&&(f&&Fr.alternate!==null&&sn.delete(Fr.key===null?Jn:Fr.key),Ze=j(Fr,Ze,Jn),Ur===null?dn=Fr:Ur.sibling=Fr,Ur=Fr);return f&&sn.forEach(function(UG){return m(rt,UG)}),cr&&Ru(rt,Jn),dn}function ti(rt,Ze,ut,Mt){if(typeof ut=="object"&&ut!==null&&ut.type===x&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case p:e:{for(var dn=ut.key;Ze!==null;){if(Ze.key===dn){if(dn=ut.type,dn===x){if(Ze.tag===7){w(rt,Ze.sibling),Mt=F(Ze,ut.props.children),Mt.return=rt,rt=Mt;break e}}else if(Ze.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===z&&Gf(dn)===Ze.type){w(rt,Ze.sibling),Mt=F(Ze,ut.props),Lh(Mt,ut),Mt.return=rt,rt=Mt;break e}w(rt,Ze);break}else m(rt,Ze);Ze=Ze.sibling}ut.type===x?(Mt=Du(ut.props.children,rt.mode,Mt,ut.key),Mt.return=rt,rt=Mt):(Mt=Dh(ut.type,ut.key,ut.props,null,rt.mode,Mt),Lh(Mt,ut),Mt.return=rt,rt=Mt)}return se(rt);case g:e:{for(dn=ut.key;Ze!==null;){if(Ze.key===dn)if(Ze.tag===4&&Ze.stateNode.containerInfo===ut.containerInfo&&Ze.stateNode.implementation===ut.implementation){w(rt,Ze.sibling),Mt=F(Ze,ut.children||[]),Mt.return=rt,rt=Mt;break e}else{w(rt,Ze);break}else m(rt,Ze);Ze=Ze.sibling}Mt=ml(ut,rt.mode,Mt),Mt.return=rt,rt=Mt}return se(rt);case z:return ut=Gf(ut),ti(rt,Ze,ut,Mt)}if($(ut))return en(rt,Ze,ut,Mt);if(I(ut)){if(dn=I(ut),typeof dn!="function")throw Error(r(150));return ut=dn.call(ut),bn(rt,Ze,ut,Mt)}if(typeof ut.then=="function")return ti(rt,Ze,Up(ut),Mt);if(ut.$$typeof===M)return ti(rt,Ze,zh(rt,ut),Mt);kh(rt,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,Ze!==null&&Ze.tag===6?(w(rt,Ze.sibling),Mt=F(Ze,ut),Mt.return=rt,rt=Mt):(w(rt,Ze),Mt=Tp(ut,rt.mode,Mt),Mt.return=rt,rt=Mt),se(rt)):w(rt,Ze)}return function(rt,Ze,ut,Mt){try{Pc=0;var dn=ti(rt,Ze,ut,Mt);return Ic=null,dn}catch(sn){if(sn===kc||sn===gl)throw sn;var Ur=rs(29,sn,null,rt.mode);return Ur.lanes=Mt,Ur.return=rt,Ur}finally{}}}var $f=f0(!0),j2=f0(!1),jc=!1;function Dg(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Gl(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Lu(f,m,w){var N=f.updateQueue;if(N===null)return null;if(N=N.shared,(hr&2)!==0){var F=N.pending;return F===null?m.next=m:(m.next=F.next,F.next=m),N.pending=m,m=s0(f),Np(f,null,w),m}return Ch(f,N,m,w),s0(f)}function Vc(f,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194048)!==0)){var N=m.lanes;N&=f.pendingLanes,w|=N,m.lanes=w,Di(f,w)}}function Fp(f,m){var w=f.updateQueue,N=f.alternate;if(N!==null&&(N=N.updateQueue,w===N)){var F=null,j=null;if(w=w.firstBaseUpdate,w!==null){do{var se={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};j===null?F=j=se:j=j.next=se,w=w.next}while(w!==null);j===null?F=j=m:j=j.next=m}else F=j=m;w={baseState:N.baseState,firstBaseUpdate:F,lastBaseUpdate:j,shared:N.shared,callbacks:N.callbacks},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=m:f.next=m,w.lastBaseUpdate=m}var Bg=!1;function Ih(){if(Bg){var f=vl;if(f!==null)throw f}}function Xf(f,m,w,N){Bg=!1;var F=f.updateQueue;jc=!1;var j=F.firstBaseUpdate,se=F.lastBaseUpdate,ye=F.shared.pending;if(ye!==null){F.shared.pending=null;var Ge=ye,ft=Ge.next;Ge.next=null,se===null?j=ft:se.next=ft,se=Ge;var yt=f.alternate;yt!==null&&(yt=yt.updateQueue,ye=yt.lastBaseUpdate,ye!==se&&(ye===null?yt.firstBaseUpdate=ft:ye.next=ft,yt.lastBaseUpdate=Ge))}if(j!==null){var _t=F.baseState;se=0,yt=ft=Ge=null,ye=j;do{var mt=ye.lane&-536870913,gt=mt!==ye.lane;if(gt?(lr&mt)===mt:(N&mt)===mt){mt!==0&&mt===Fu&&(Bg=!0),yt!==null&&(yt=yt.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var en=f,bn=ye;mt=m;var ti=w;switch(bn.tag){case 1:if(en=bn.payload,typeof en=="function"){_t=en.call(ti,_t,mt);break e}_t=en;break e;case 3:en.flags=en.flags&-65537|128;case 0:if(en=bn.payload,mt=typeof en=="function"?en.call(ti,_t,mt):en,mt==null)break e;_t=d({},_t,mt);break e;case 2:jc=!0}}mt=ye.callback,mt!==null&&(f.flags|=64,gt&&(f.flags|=8192),gt=F.callbacks,gt===null?F.callbacks=[mt]:gt.push(mt))}else gt={lane:mt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},yt===null?(ft=yt=gt,Ge=_t):yt=yt.next=gt,se|=mt;if(ye=ye.next,ye===null){if(ye=F.shared.pending,ye===null)break;gt=ye,ye=gt.next,gt.next=null,F.lastBaseUpdate=gt,F.shared.pending=null}}while(!0);yt===null&&(Ge=_t),F.baseState=Ge,F.firstBaseUpdate=ft,F.lastBaseUpdate=yt,j===null&&(F.shared.lanes=0),fo|=se,f.lanes=se,f.memoizedState=_t}}function $l(f,m){if(typeof f!="function")throw Error(r(191,f));f.call(m)}function Ca(f,m){var w=f.callbacks;if(w!==null)for(f.callbacks=null,f=0;f<w.length;f++)$l(w[f],m)}var to=W(null),as=W(0);function Og(f,m){f=Ui,Q(as,f),Q(to,m),Ui=f|m.baseLanes}function zg(){Q(as,Ui),Q(to,to.current)}function $a(){Ui=as.current,K(to),K(as)}var ra=W(null),jo=null;function Hc(f){var m=f.alternate;Q(Si,Si.current&1),Q(ra,f),jo===null&&(m===null||to.current!==null||m.memoizedState!==null)&&(jo=f)}function Ug(f){Q(Si,Si.current),Q(ra,f),jo===null&&(jo=f)}function V2(f){f.tag===22?(Q(Si,Si.current),Q(ra,f),jo===null&&(jo=f)):ku()}function ku(){Q(Si,Si.current),Q(ra,ra.current)}function no(f){K(ra),jo===f&&(jo=null),K(Si)}var Si=W(0);function Lp(f){for(var m=f;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||nA(w)||rA(w)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var _s=0,wn=null,Pr=null,qi=null,kp=!1,Xl=!1,Wf=!1,Ip=0,Ph=0,Wl=null,z5=0;function wi(){throw Error(r(321))}function Fg(f,m){if(m===null)return!1;for(var w=0;w<m.length&&w<f.length;w++)if(!oi(f[w],m[w]))return!1;return!0}function Lg(f,m,w,N,F,j){return _s=j,wn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,k.H=f===null||f.memoizedState===null?lb:m0,Wf=!1,j=w(N,F),Wf=!1,Xl&&(j=q2(m,w,N,F)),H2(f),j}function H2(f){k.H=Gh;var m=Pr!==null&&Pr.next!==null;if(_s=0,qi=Pr=wn=null,kp=!1,Ph=0,Wl=null,m)throw Error(r(300));f===null||li||(f=f.dependencies,f!==null&&l0(f)&&(li=!0))}function q2(f,m,w,N){wn=f;var F=0;do{if(Xl&&(Wl=null),Ph=0,Xl=!1,25<=F)throw Error(r(301));if(F+=1,qi=Pr=null,f.updateQueue!=null){var j=f.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}k.H=$h,j=m(w,N)}while(Xl);return j}function U5(){var f=k.H,m=f.useState()[0];return m=typeof m.then=="function"?Vh(m):m,f=f.useState()[0],(Pr!==null?Pr.memoizedState:null)!==f&&(wn.flags|=1024),m}function kg(){var f=Ip!==0;return Ip=0,f}function Ig(f,m,w){m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~w}function Pg(f){if(kp){for(f=f.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}kp=!1}_s=0,qi=Pr=wn=null,Xl=!1,Ph=Ip=0,Wl=null}function ss(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qi===null?wn.memoizedState=qi=f:qi=qi.next=f,qi}function Ri(){if(Pr===null){var f=wn.alternate;f=f!==null?f.memoizedState:null}else f=Pr.next;var m=qi===null?wn.memoizedState:qi.next;if(m!==null)qi=m,Pr=f;else{if(f===null)throw wn.alternate===null?Error(r(467)):Error(r(310));Pr=f,f={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},qi===null?wn.memoizedState=qi=f:qi=qi.next=f}return qi}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vh(f){var m=Ph;return Ph+=1,Wl===null&&(Wl=[]),f=Tg(Wl,f,m),m=wn,(qi===null?m.memoizedState:qi.next)===null&&(m=m.alternate,k.H=m===null||m.memoizedState===null?lb:m0),f}function Pp(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Vh(f);if(f.$$typeof===M)return ma(f)}throw Error(r(438,String(f)))}function jg(f){var m=null,w=wn.updateQueue;if(w!==null&&(m=w.memoCache),m==null){var N=wn.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(m={data:N.data.map(function(F){return F.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),w===null&&(w=jh(),wn.updateQueue=w),w.memoCache=m,w=m.data[m.index],w===void 0)for(w=m.data[m.index]=Array(f),N=0;N<f;N++)w[N]=O;return m.index++,w}function Iu(f,m){return typeof m=="function"?m(f):m}function jp(f){var m=Ri();return Vg(m,Pr,f)}function Vg(f,m,w){var N=f.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=w;var F=f.baseQueue,j=N.pending;if(j!==null){if(F!==null){var se=F.next;F.next=j.next,j.next=se}m.baseQueue=F=j,N.pending=null}if(j=f.baseState,F===null)f.memoizedState=j;else{m=F.next;var ye=se=null,Ge=null,ft=m,yt=!1;do{var _t=ft.lane&-536870913;if(_t!==ft.lane?(lr&_t)===_t:(_s&_t)===_t){var mt=ft.revertLane;if(mt===0)Ge!==null&&(Ge=Ge.next={lane:0,revertLane:0,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),_t===Fu&&(yt=!0);else if((_s&mt)===mt){ft=ft.next,mt===Fu&&(yt=!0);continue}else _t={lane:0,revertLane:ft.revertLane,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Ge===null?(ye=Ge=_t,se=j):Ge=Ge.next=_t,wn.lanes|=mt,fo|=mt;_t=ft.action,Wf&&w(j,_t),j=ft.hasEagerState?ft.eagerState:w(j,_t)}else mt={lane:_t,revertLane:ft.revertLane,gesture:ft.gesture,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Ge===null?(ye=Ge=mt,se=j):Ge=Ge.next=mt,wn.lanes|=_t,fo|=_t;ft=ft.next}while(ft!==null&&ft!==m);if(Ge===null?se=j:Ge.next=ye,!oi(j,f.memoizedState)&&(li=!0,yt&&(w=vl,w!==null)))throw w;f.memoizedState=j,f.baseState=se,f.baseQueue=Ge,N.lastRenderedState=j}return F===null&&(N.lanes=0),[f.memoizedState,N.dispatch]}function Vp(f){var m=Ri(),w=m.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=f;var N=w.dispatch,F=w.pending,j=m.memoizedState;if(F!==null){w.pending=null;var se=F=F.next;do j=f(j,se.action),se=se.next;while(se!==F);oi(j,m.memoizedState)||(li=!0),m.memoizedState=j,m.baseQueue===null&&(m.baseState=j),w.lastRenderedState=j}return[j,N]}function Hg(f,m,w){var N=wn,F=Ri(),j=cr;if(j){if(w===void 0)throw Error(r(407));w=w()}else w=m();var se=!oi((Pr||F).memoizedState,w);if(se&&(F.memoizedState=w,li=!0),F=F.queue,Wg(Gg.bind(null,N,F,f),[f]),F.getSnapshot!==m||se||qi!==null&&qi.memoizedState.tag&1){if(N.flags|=2048,d0(9,{destroy:void 0},qg.bind(null,N,F,w,m),null),Or===null)throw Error(r(349));j||(_s&127)!==0||G2(N,m,w)}return w}function G2(f,m,w){f.flags|=16384,f={getSnapshot:m,value:w},m=wn.updateQueue,m===null?(m=jh(),wn.updateQueue=m,m.stores=[f]):(w=m.stores,w===null?m.stores=[f]:w.push(f))}function qg(f,m,w,N){m.value=w,m.getSnapshot=N,$g(m)&&Hp(f)}function Gg(f,m,w){return w(function(){$g(m)&&Hp(f)})}function $g(f){var m=f.getSnapshot;f=f.value;try{var w=m();return!oi(f,w)}catch{return!0}}function Hp(f){var m=Oc(f,2);m!==null&&y(m,f,2)}function Hh(f){var m=ss();if(typeof f=="function"){var w=f;if(f=w(),Wf){Ke(!0);try{w()}finally{Ke(!1)}}}return m.memoizedState=m.baseState=f,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:f},m}function $2(f,m,w,N){return f.baseState=w,Vg(f,Pr,typeof N=="function"?N:Iu)}function F5(f,m,w,N,F){if(Pu(f))throw Error(r(485));if(f=m.action,f!==null){var j={payload:F,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){j.listeners.push(se)}};k.T!==null?w(!0):j.isTransition=!1,N(j),w=m.pending,w===null?(j.next=m.pending=j,X2(m,j)):(j.next=w.next,m.pending=w.next=j)}}function X2(f,m){var w=m.action,N=m.payload,F=f.state;if(m.isTransition){var j=k.T,se={};k.T=se;try{var ye=w(F,N),Ge=k.S;Ge!==null&&Ge(se,ye),W2(f,m,ye)}catch(ft){qp(f,m,ft)}finally{j!==null&&se.types!==null&&(j.types=se.types),k.T=j}}else try{j=w(F,N),W2(f,m,j)}catch(ft){qp(f,m,ft)}}function W2(f,m,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(N){Xg(f,m,N)},function(N){return qp(f,m,N)}):Xg(f,m,w)}function Xg(f,m,w){m.status="fulfilled",m.value=w,Y2(m),f.state=w,m=f.pending,m!==null&&(w=m.next,w===m?f.pending=null:(w=w.next,m.next=w,X2(f,w)))}function qp(f,m,w){var N=f.pending;if(f.pending=null,N!==null){N=N.next;do m.status="rejected",m.reason=w,Y2(m),m=m.next;while(m!==N)}f.action=null}function Y2(f){f=f.listeners;for(var m=0;m<f.length;m++)(0,f[m])()}function Z2(f,m){return m}function K2(f,m){if(cr){var w=Or.formState;if(w!==null){e:{var N=wn;if(cr){if(Qr){t:{for(var F=Qr,j=ha;F.nodeType!==8;){if(!j){F=null;break t}if(F=eu(F.nextSibling),F===null){F=null;break t}}j=F.data,F=j==="F!"||j==="F"?F:null}if(F){Qr=eu(F.nextSibling),N=F.data==="F!";break e}}or(N)}N=!1}N&&(m=w[0])}}return w=ss(),w.memoizedState=w.baseState=m,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z2,lastRenderedState:m},w.queue=N,w=ob.bind(null,wn,N),N.dispatch=w,N=Hh(!1),j=qh.bind(null,wn,!1,N.queue),N=ss(),F={state:m,dispatch:null,action:f,pending:null},N.queue=F,w=F5.bind(null,wn,F,j,w),F.dispatch=w,N.memoizedState=f,[m,w,!1]}function Q2(f){var m=Ri();return J2(m,Pr,f)}function J2(f,m,w){if(m=Vg(f,m,Z2)[0],f=jp(Iu)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var N=Vh(m)}catch(se){throw se===kc?gl:se}else N=m;m=Ri();var F=m.queue,j=F.dispatch;return w!==m.memoizedState&&(wn.flags|=2048,d0(9,{destroy:void 0},L5.bind(null,F,w),null)),[N,j,f]}function L5(f,m){f.action=m}function eb(f){var m=Ri(),w=Pr;if(w!==null)return J2(m,w,f);Ri(),m=m.memoizedState,w=Ri();var N=w.queue.dispatch;return w.memoizedState=f,[m,N,!1]}function d0(f,m,w,N){return f={tag:f,create:w,deps:N,inst:m,next:null},m=wn.updateQueue,m===null&&(m=jh(),wn.updateQueue=m),w=m.lastEffect,w===null?m.lastEffect=f.next=f:(N=w.next,w.next=f,f.next=N,m.lastEffect=f),f}function tb(){return Ri().memoizedState}function Gp(f,m,w,N){var F=ss();wn.flags|=f,F.memoizedState=d0(1|m,{destroy:void 0},w,N===void 0?null:N)}function $p(f,m,w,N){var F=Ri();N=N===void 0?null:N;var j=F.memoizedState.inst;Pr!==null&&N!==null&&Fg(N,Pr.memoizedState.deps)?F.memoizedState=d0(m,j,w,N):(wn.flags|=f,F.memoizedState=d0(1|m,j,w,N))}function nb(f,m){Gp(8390656,8,f,m)}function Wg(f,m){$p(2048,8,f,m)}function rb(f){wn.flags|=4;var m=wn.updateQueue;if(m===null)m=jh(),wn.updateQueue=m,m.events=[f];else{var w=m.events;w===null?m.events=[f]:w.push(f)}}function ib(f){var m=Ri().memoizedState;return rb({ref:m,nextImpl:f}),function(){if((hr&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}function ab(f,m){return $p(4,2,f,m)}function ro(f,m){return $p(4,4,f,m)}function Yg(f,m){if(typeof m=="function"){f=f();var w=m(f);return function(){typeof w=="function"?w():m(null)}}if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function Xp(f,m,w){w=w!=null?w.concat([f]):null,$p(4,4,Yg.bind(null,m,f),w)}function Wp(){}function Zg(f,m){var w=Ri();m=m===void 0?null:m;var N=w.memoizedState;return m!==null&&Fg(m,N[1])?N[0]:(w.memoizedState=[f,m],f)}function Kg(f,m){var w=Ri();m=m===void 0?null:m;var N=w.memoizedState;if(m!==null&&Fg(m,N[1]))return N[0];if(N=f(),Wf){Ke(!0);try{f()}finally{Ke(!1)}}return w.memoizedState=[N,m],N}function Qg(f,m,w){return w===void 0||(_s&1073741824)!==0&&(lr&261930)===0?f.memoizedState=m:(f.memoizedState=w,f=v(),wn.lanes|=f,fo|=f,w)}function Jg(f,m,w,N){return oi(w,m)?w:to.current!==null?(f=Qg(f,w,N),oi(f,m)||(li=!0),f):(_s&42)===0||(_s&1073741824)!==0&&(lr&261930)===0?(li=!0,f.memoizedState=w):(f=v(),wn.lanes|=f,fo|=f,m)}function ex(f,m,w,N,F){var j=P.p;P.p=j!==0&&8>j?j:8;var se=k.T,ye={};k.T=ye,qh(f,!1,m,w);try{var Ge=F(),ft=k.S;if(ft!==null&&ft(ye,Ge),Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var yt=Ng(Ge,N);h0(f,m,yt,ls(f))}else h0(f,m,N,ls(f))}catch(_t){h0(f,m,{then:function(){},status:"rejected",reason:_t},ls())}finally{P.p=j,se!==null&&ye.types!==null&&(se.types=ye.types),k.T=se}}function k5(){}function tx(f,m,w,N){if(f.tag!==5)throw Error(r(476));var F=sb(f).queue;ex(f,F,m,Z,w===null?k5:function(){return nx(f),w(N)})}function sb(f){var m=f.memoizedState;if(m!==null)return m;m={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:Z},next:null};var w={};return m.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:w},next:null},f.memoizedState=m,f=f.alternate,f!==null&&(f.memoizedState=m),m}function nx(f){var m=sb(f);m.next===null&&(m=f.alternate.memoizedState),h0(f,m.next.queue,{},ls())}function rx(){return ma(vx)}function Da(){return Ri().memoizedState}function ix(){return Ri().memoizedState}function I5(f){for(var m=f.return;m!==null;){switch(m.tag){case 24:case 3:var w=ls();f=Gl(w);var N=Lu(m,f,w);N!==null&&(y(N,m,w),Vc(N,m,w)),m={cache:Mg()},f.payload=m;return}m=m.return}}function P5(f,m,w){var N=ls();w={lane:N,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},Pu(f)?Yf(m,w):(w=a0(f,m,w,N),w!==null&&(y(w,f,N),Es(w,m,N)))}function ob(f,m,w){var N=ls();h0(f,m,w,N)}function h0(f,m,w,N){var F={lane:N,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null};if(Pu(f))Yf(m,F);else{var j=f.alternate;if(f.lanes===0&&(j===null||j.lanes===0)&&(j=m.lastRenderedReducer,j!==null))try{var se=m.lastRenderedState,ye=j(se,w);if(F.hasEagerState=!0,F.eagerState=ye,oi(ye,se))return Ch(f,m,F,0),Or===null&&Bc(),!1}catch{}finally{}if(w=a0(f,m,F,N),w!==null)return y(w,f,N),Es(w,m,N),!0}return!1}function qh(f,m,w,N){if(N={lane:2,revertLane:q5(),gesture:null,action:N,hasEagerState:!1,eagerState:null,next:null},Pu(f)){if(m)throw Error(r(479))}else m=a0(f,w,N,2),m!==null&&y(m,f,2)}function Pu(f){var m=f.alternate;return f===wn||m!==null&&m===wn}function Yf(f,m){Xl=kp=!0;var w=f.pending;w===null?m.next=m:(m.next=w.next,w.next=m),f.pending=m}function Es(f,m,w){if((w&4194048)!==0){var N=m.lanes;N&=f.pendingLanes,w|=N,m.lanes=w,Di(f,w)}}var Gh={readContext:ma,use:Pp,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useLayoutEffect:wi,useInsertionEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useSyncExternalStore:wi,useId:wi,useHostTransitionStatus:wi,useFormState:wi,useActionState:wi,useOptimistic:wi,useMemoCache:wi,useCacheRefresh:wi};Gh.useEffectEvent=wi;var lb={readContext:ma,use:Pp,useCallback:function(f,m){return ss().memoizedState=[f,m===void 0?null:m],f},useContext:ma,useEffect:nb,useImperativeHandle:function(f,m,w){w=w!=null?w.concat([f]):null,Gp(4194308,4,Yg.bind(null,m,f),w)},useLayoutEffect:function(f,m){return Gp(4194308,4,f,m)},useInsertionEffect:function(f,m){Gp(4,2,f,m)},useMemo:function(f,m){var w=ss();m=m===void 0?null:m;var N=f();if(Wf){Ke(!0);try{f()}finally{Ke(!1)}}return w.memoizedState=[N,m],N},useReducer:function(f,m,w){var N=ss();if(w!==void 0){var F=w(m);if(Wf){Ke(!0);try{w(m)}finally{Ke(!1)}}}else F=m;return N.memoizedState=N.baseState=F,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:F},N.queue=f,f=f.dispatch=P5.bind(null,wn,f),[N.memoizedState,f]},useRef:function(f){var m=ss();return f={current:f},m.memoizedState=f},useState:function(f){f=Hh(f);var m=f.queue,w=ob.bind(null,wn,m);return m.dispatch=w,[f.memoizedState,w]},useDebugValue:Wp,useDeferredValue:function(f,m){var w=ss();return Qg(w,f,m)},useTransition:function(){var f=Hh(!1);return f=ex.bind(null,wn,f.queue,!0,!1),ss().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,m,w){var N=wn,F=ss();if(cr){if(w===void 0)throw Error(r(407));w=w()}else{if(w=m(),Or===null)throw Error(r(349));(lr&127)!==0||G2(N,m,w)}F.memoizedState=w;var j={value:w,getSnapshot:m};return F.queue=j,nb(Gg.bind(null,N,j,f),[f]),N.flags|=2048,d0(9,{destroy:void 0},qg.bind(null,N,j,w,m),null),w},useId:function(){var f=ss(),m=Or.identifierPrefix;if(cr){var w=Hl,N=Vl;w=(N&~(1<<32-ze(N)-1)).toString(32)+w,m="_"+m+"R_"+w,w=Ip++,0<w&&(m+="H"+w.toString(32)),m+="_"}else w=z5++,m="_"+m+"r_"+w.toString(32)+"_";return f.memoizedState=m},useHostTransitionStatus:rx,useFormState:K2,useActionState:K2,useOptimistic:function(f){var m=ss();m.memoizedState=m.baseState=f;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=w,m=qh.bind(null,wn,!0,w),w.dispatch=m,[f,m]},useMemoCache:jg,useCacheRefresh:function(){return ss().memoizedState=I5.bind(null,wn)},useEffectEvent:function(f){var m=ss(),w={impl:f};return m.memoizedState=w,function(){if((hr&2)!==0)throw Error(r(440));return w.impl.apply(void 0,arguments)}}},m0={readContext:ma,use:Pp,useCallback:Zg,useContext:ma,useEffect:Wg,useImperativeHandle:Xp,useInsertionEffect:ab,useLayoutEffect:ro,useMemo:Kg,useReducer:jp,useRef:tb,useState:function(){return jp(Iu)},useDebugValue:Wp,useDeferredValue:function(f,m){var w=Ri();return Jg(w,Pr.memoizedState,f,m)},useTransition:function(){var f=jp(Iu)[0],m=Ri().memoizedState;return[typeof f=="boolean"?f:Vh(f),m]},useSyncExternalStore:Hg,useId:Da,useHostTransitionStatus:rx,useFormState:Q2,useActionState:Q2,useOptimistic:function(f,m){var w=Ri();return $2(w,Pr,f,m)},useMemoCache:jg,useCacheRefresh:ix};m0.useEffectEvent=ib;var $h={readContext:ma,use:Pp,useCallback:Zg,useContext:ma,useEffect:Wg,useImperativeHandle:Xp,useInsertionEffect:ab,useLayoutEffect:ro,useMemo:Kg,useReducer:Vp,useRef:tb,useState:function(){return Vp(Iu)},useDebugValue:Wp,useDeferredValue:function(f,m){var w=Ri();return Pr===null?Qg(w,f,m):Jg(w,Pr.memoizedState,f,m)},useTransition:function(){var f=Vp(Iu)[0],m=Ri().memoizedState;return[typeof f=="boolean"?f:Vh(f),m]},useSyncExternalStore:Hg,useId:Da,useHostTransitionStatus:rx,useFormState:eb,useActionState:eb,useOptimistic:function(f,m){var w=Ri();return Pr!==null?$2(w,Pr,f,m):(w.baseState=f,[f,w.queue.dispatch])},useMemoCache:jg,useCacheRefresh:ix};$h.useEffectEvent=ib;function p0(f,m,w,N){m=f.memoizedState,w=w(N,m),w=w==null?m:d({},m,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var Xh={enqueueSetState:function(f,m,w){f=f._reactInternals;var N=ls(),F=Gl(N);F.payload=m,w!=null&&(F.callback=w),m=Lu(f,F,N),m!==null&&(y(m,f,N),Vc(m,f,N))},enqueueReplaceState:function(f,m,w){f=f._reactInternals;var N=ls(),F=Gl(N);F.tag=1,F.payload=m,w!=null&&(F.callback=w),m=Lu(f,F,N),m!==null&&(y(m,f,N),Vc(m,f,N))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var w=ls(),N=Gl(w);N.tag=2,m!=null&&(N.callback=m),m=Lu(f,N,w),m!==null&&(y(m,f,w),Vc(m,f,w))}};function ub(f,m,w,N,F,j,se){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(N,j,se):m.prototype&&m.prototype.isPureReactComponent?!Jd(w,N)||!Jd(F,j):!0}function cb(f,m,w,N){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,N),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,N),m.state!==f&&Xh.enqueueReplaceState(m,m.state,null)}function Ra(f,m){var w=m;if("ref"in m){w={};for(var N in m)N!=="ref"&&(w[N]=m[N])}if(f=f.defaultProps){w===m&&(w=d({},w));for(var F in f)w[F]===void 0&&(w[F]=f[F])}return w}function ax(f){Rc(f)}function fb(f){console.error(f)}function Yp(f){Rc(f)}function Zp(f,m){try{var w=f.onUncaughtError;w(m.value,{componentStack:m.stack})}catch(N){setTimeout(function(){throw N})}}function db(f,m,w){try{var N=f.onCaughtError;N(w.value,{componentStack:w.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(F){setTimeout(function(){throw F})}}function sx(f,m,w){return w=Gl(w),w.tag=3,w.payload={element:null},w.callback=function(){Zp(f,m)},w}function v0(f){return f=Gl(f),f.tag=3,f}function Ns(f,m,w,N){var F=w.type.getDerivedStateFromError;if(typeof F=="function"){var j=N.value;f.payload=function(){return F(j)},f.callback=function(){db(m,w,N)}}var se=w.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(f.callback=function(){db(m,w,N),typeof F!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var ye=N.stack;this.componentDidCatch(N.value,{componentStack:ye!==null?ye:""})})}function io(f,m,w,N,F){if(w.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(m=w.alternate,m!==null&&Fc(m,w,F,!0),w=ra.current,w!==null){switch(w.tag){case 31:case 13:return jo===null?Cn():w.alternate===null&&zr===0&&(zr=3),w.flags&=-257,w.flags|=65536,w.lanes=F,N===Fh?w.flags|=16384:(m=w.updateQueue,m===null?w.updateQueue=new Set([N]):m.add(N),j5(f,N,F)),!1;case 22:return w.flags|=65536,N===Fh?w.flags|=16384:(m=w.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([N])},w.updateQueue=m):(w=m.retryQueue,w===null?m.retryQueue=new Set([N]):w.add(N)),j5(f,N,F)),!1}throw Error(r(435,w.tag))}return j5(f,N,F),Cn(),!1}if(cr)return m=ra.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=F,N!==Dp&&(f=Error(r(422),{cause:N}),Oh(As(f,w)))):(N!==Dp&&(m=Error(r(423),{cause:N}),Oh(As(m,w))),f=f.current.alternate,f.flags|=65536,F&=-F,f.lanes|=F,N=As(N,w),F=sx(f.stateNode,N,F),Fp(f,F),zr!==4&&(zr=2)),!1;var j=Error(r(520),{cause:N});if(j=As(j,w),wl===null?wl=[j]:wl.push(j),zr!==4&&(zr=2),m===null)return!0;N=As(N,w),w=m;do{switch(w.tag){case 3:return w.flags|=65536,f=F&-F,w.lanes|=f,f=sx(w.stateNode,N,f),Fp(w,f),!1;case 1:if(m=w.type,j=w.stateNode,(w.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Jl===null||!Jl.has(j))))return w.flags|=65536,F&=-F,w.lanes|=F,F=v0(F),Ns(F,f,w,N),Fp(w,F),!1}w=w.return}while(w!==null);return!1}var Kp=Error(r(461)),li=!1;function Ai(f,m,w,N){m.child=f===null?j2(m,null,w,N):$f(m,f.child,w,N)}function Wh(f,m,w,N,F){w=w.render;var j=m.ref;if("ref"in N){var se={};for(var ye in N)ye!=="ref"&&(se[ye]=N[ye])}else se=N;return Hf(m),N=Lg(f,m,w,se,j,F),ye=kg(),f!==null&&!li?(Ig(f,m,F),bl(f,m,F)):(cr&&ye&&Cp(m),m.flags|=1,Ai(f,m,N,F),m.child)}function Yh(f,m,w,N,F){if(f===null){var j=w.type;return typeof j=="function"&&!is(j)&&j.defaultProps===void 0&&w.compare===null?(m.tag=15,m.type=j,ao(f,m,j,N,F)):(f=Dh(w.type,null,N,m,m.mode,F),f.ref=m.ref,f.return=m,m.child=f)}if(j=f.child,!Gc(f,F)){var se=j.memoizedProps;if(w=w.compare,w=w!==null?w:Jd,w(se,N)&&f.ref===m.ref)return bl(f,m,F)}return m.flags|=1,f=Pl(j,N),f.ref=m.ref,f.return=m,m.child=f}function ao(f,m,w,N,F){if(f!==null){var j=f.memoizedProps;if(Jd(j,N)&&f.ref===m.ref)if(li=!1,m.pendingProps=N=j,Gc(f,F))(f.flags&131072)!==0&&(li=!0);else return m.lanes=f.lanes,bl(f,m,F)}return g0(f,m,w,N,F)}function so(f,m,w,N){var F=N.children,j=f!==null?f.memoizedState:null;if(f===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),N.mode==="hidden"){if((m.flags&128)!==0){if(j=j!==null?j.baseLanes|w:w,f!==null){for(N=m.child=f.child,F=0;N!==null;)F=F|N.lanes|N.childLanes,N=N.sibling;N=F&~j}else N=0,m.child=null;return Yl(f,m,j,w,N)}if((w&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},f!==null&&c0(m,j!==null?j.cachePool:null),j!==null?Og(m,j):zg(),V2(m);else return N=m.lanes=536870912,Yl(f,m,j!==null?j.baseLanes|w:w,w,N)}else j!==null?(c0(m,j.cachePool),Og(m,j),ku(),m.memoizedState=null):(f!==null&&c0(m,null),zg(),ku());return Ai(f,m,F,w),m.child}function xl(f,m){return f!==null&&f.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Yl(f,m,w,N,F){var j=ql();return j=j===null?null:{parent:un._currentValue,pool:j},m.memoizedState={baseLanes:w,cachePool:j},f!==null&&c0(m,null),zg(),V2(m),f!==null&&Fc(f,m,N,!0),m.childLanes=F,null}function Vo(f,m){return m=x0({mode:m.mode,children:m.children},f.mode),m.ref=f.ref,f.child=m,m.return=f,m}function pa(f,m,w){return $f(m,f.child,null,w),f=Vo(m,m.pendingProps),f.flags|=2,no(m),m.memoizedState=null,f}function Zh(f,m,w){var N=m.pendingProps,F=(m.flags&128)!==0;if(m.flags&=-129,f===null){if(cr){if(N.mode==="hidden")return f=Vo(m,N),m.lanes=536870912,xl(null,f);if(Ug(m),(f=Qr)?(f=a8(f,ha),f=f!==null&&f.data==="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:jl!==null?{id:Vl,overflow:Hl}:null,retryLane:536870912,hydrationErrors:null},w=U2(f),w.return=m,m.child=w,da=m,Qr=null)):f=null,f===null)throw or(m);return m.lanes=536870912,null}return Vo(m,N)}var j=f.memoizedState;if(j!==null){var se=j.dehydrated;if(Ug(m),F)if(m.flags&256)m.flags&=-257,m=pa(f,m,w);else if(m.memoizedState!==null)m.child=f.child,m.flags|=128,m=null;else throw Error(r(558));else if(li||Fc(f,m,w,!1),F=(w&f.childLanes)!==0,li||F){if(N=Or,N!==null&&(se=vi(N,w),se!==0&&se!==j.retryLane))throw j.retryLane=se,Oc(f,se),y(N,f,se),Kp;Cn(),m=pa(f,m,w)}else f=j.treeContext,Qr=eu(se.nextSibling),da=m,cr=!0,Bu=null,ha=!1,f!==null&&Bh(m,f),m=Vo(m,N),m.flags|=4096;return m}return f=Pl(f.child,{mode:N.mode,children:N.children}),f.ref=m.ref,m.child=f,f.return=m,f}function yl(f,m){var w=m.ref;if(w===null)f!==null&&f.ref!==null&&(m.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(r(284));(f===null||f.ref!==w)&&(m.flags|=4194816)}}function g0(f,m,w,N,F){return Hf(m),w=Lg(f,m,w,N,void 0,F),N=kg(),f!==null&&!li?(Ig(f,m,F),bl(f,m,F)):(cr&&N&&Cp(m),m.flags|=1,Ai(f,m,w,F),m.child)}function Xa(f,m,w,N,F,j){return Hf(m),m.updateQueue=null,w=q2(m,N,w,F),H2(f),N=kg(),f!==null&&!li?(Ig(f,m,j),bl(f,m,j)):(cr&&N&&Cp(m),m.flags|=1,Ai(f,m,w,j),m.child)}function Ba(f,m,w,N,F){if(Hf(m),m.stateNode===null){var j=zc,se=w.contextType;typeof se=="object"&&se!==null&&(j=ma(se)),j=new w(N,j),m.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Xh,m.stateNode=j,j._reactInternals=m,j=m.stateNode,j.props=N,j.state=m.memoizedState,j.refs={},Dg(m),se=w.contextType,j.context=typeof se=="object"&&se!==null?ma(se):zc,j.state=m.memoizedState,se=w.getDerivedStateFromProps,typeof se=="function"&&(p0(m,w,se,N),j.state=m.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(se=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),se!==j.state&&Xh.enqueueReplaceState(j,j.state,null),Xf(m,N,j,F),Ih(),j.state=m.memoizedState),typeof j.componentDidMount=="function"&&(m.flags|=4194308),N=!0}else if(f===null){j=m.stateNode;var ye=m.memoizedProps,Ge=Ra(w,ye);j.props=Ge;var ft=j.context,yt=w.contextType;se=zc,typeof yt=="object"&&yt!==null&&(se=ma(yt));var _t=w.getDerivedStateFromProps;yt=typeof _t=="function"||typeof j.getSnapshotBeforeUpdate=="function",ye=m.pendingProps!==ye,yt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ye||ft!==se)&&cb(m,j,N,se),jc=!1;var mt=m.memoizedState;j.state=mt,Xf(m,N,j,F),Ih(),ft=m.memoizedState,ye||mt!==ft||jc?(typeof _t=="function"&&(p0(m,w,_t,N),ft=m.memoizedState),(Ge=jc||ub(m,w,Ge,N,mt,ft,se))?(yt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(m.flags|=4194308)):(typeof j.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=N,m.memoizedState=ft),j.props=N,j.state=ft,j.context=se,N=Ge):(typeof j.componentDidMount=="function"&&(m.flags|=4194308),N=!1)}else{j=m.stateNode,Rg(f,m),se=m.memoizedProps,yt=Ra(w,se),j.props=yt,_t=m.pendingProps,mt=j.context,ft=w.contextType,Ge=zc,typeof ft=="object"&&ft!==null&&(Ge=ma(ft)),ye=w.getDerivedStateFromProps,(ft=typeof ye=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(se!==_t||mt!==Ge)&&cb(m,j,N,Ge),jc=!1,mt=m.memoizedState,j.state=mt,Xf(m,N,j,F),Ih();var gt=m.memoizedState;se!==_t||mt!==gt||jc||f!==null&&f.dependencies!==null&&l0(f.dependencies)?(typeof ye=="function"&&(p0(m,w,ye,N),gt=m.memoizedState),(yt=jc||ub(m,w,yt,N,mt,gt,Ge)||f!==null&&f.dependencies!==null&&l0(f.dependencies))?(ft||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(N,gt,Ge),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(N,gt,Ge)),typeof j.componentDidUpdate=="function"&&(m.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof j.componentDidUpdate!="function"||se===f.memoizedProps&&mt===f.memoizedState||(m.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&mt===f.memoizedState||(m.flags|=1024),m.memoizedProps=N,m.memoizedState=gt),j.props=N,j.state=gt,j.context=Ge,N=yt):(typeof j.componentDidUpdate!="function"||se===f.memoizedProps&&mt===f.memoizedState||(m.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&mt===f.memoizedState||(m.flags|=1024),N=!1)}return j=N,yl(f,m),N=(m.flags&128)!==0,j||N?(j=m.stateNode,w=N&&typeof w.getDerivedStateFromError!="function"?null:j.render(),m.flags|=1,f!==null&&N?(m.child=$f(m,f.child,null,F),m.child=$f(m,null,w,F)):Ai(f,m,w,F),m.memoizedState=j.state,f=m.child):f=bl(f,m,F),f}function yr(f,m,w,N){return Vf(),m.flags|=256,Ai(f,m,w,N),m.child}var oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(f){return{baseLanes:f,cachePool:Op()}}function Kh(f,m,w){return f=f!==null?f.childLanes&~w:0,m&&(f|=mr),f}function lo(f,m,w){var N=m.pendingProps,F=!1,j=(m.flags&128)!==0,se;if((se=j)||(se=f!==null&&f.memoizedState===null?!1:(Si.current&2)!==0),se&&(F=!0,m.flags&=-129),se=(m.flags&32)!==0,m.flags&=-33,f===null){if(cr){if(F?Hc(m):ku(),(f=Qr)?(f=a8(f,ha),f=f!==null&&f.data!=="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:jl!==null?{id:Vl,overflow:Hl}:null,retryLane:536870912,hydrationErrors:null},w=U2(f),w.return=m,m.child=w,da=m,Qr=null)):f=null,f===null)throw or(m);return rA(f)?m.lanes=32:m.lanes=536870912,null}var ye=N.children;return N=N.fallback,F?(ku(),F=m.mode,ye=x0({mode:"hidden",children:ye},F),N=Du(N,F,w,null),ye.return=m,N.return=m,ye.sibling=N,m.child=ye,N=m.child,N.memoizedState=Ho(w),N.childLanes=Kh(f,se,w),m.memoizedState=oo,xl(null,N)):(Hc(m),qc(m,ye))}var Ge=f.memoizedState;if(Ge!==null&&(ye=Ge.dehydrated,ye!==null)){if(j)m.flags&256?(Hc(m),m.flags&=-257,m=y0(f,m,w)):m.memoizedState!==null?(ku(),m.child=f.child,m.flags|=128,m=null):(ku(),ye=N.fallback,F=m.mode,N=x0({mode:"visible",children:N.children},F),ye=Du(ye,F,w,null),ye.flags|=2,N.return=m,ye.return=m,N.sibling=ye,m.child=N,$f(m,f.child,null,w),N=m.child,N.memoizedState=Ho(w),N.childLanes=Kh(f,se,w),m.memoizedState=oo,m=xl(null,N));else if(Hc(m),rA(ye)){if(se=ye.nextSibling&&ye.nextSibling.dataset,se)var ft=se.dgst;se=ft,N=Error(r(419)),N.stack="",N.digest=se,Oh({value:N,source:null,stack:null}),m=y0(f,m,w)}else if(li||Fc(f,m,w,!1),se=(w&f.childLanes)!==0,li||se){if(se=Or,se!==null&&(N=vi(se,w),N!==0&&N!==Ge.retryLane))throw Ge.retryLane=N,Oc(f,N),y(se,f,N),Kp;nA(ye)||Cn(),m=y0(f,m,w)}else nA(ye)?(m.flags|=192,m.child=f.child,m=null):(f=Ge.treeContext,Qr=eu(ye.nextSibling),da=m,cr=!0,Bu=null,ha=!1,f!==null&&Bh(m,f),m=qc(m,N.children),m.flags|=4096);return m}return F?(ku(),ye=N.fallback,F=m.mode,Ge=f.child,ft=Ge.sibling,N=Pl(Ge,{mode:"hidden",children:N.children}),N.subtreeFlags=Ge.subtreeFlags&65011712,ft!==null?ye=Pl(ft,ye):(ye=Du(ye,F,w,null),ye.flags|=2),ye.return=m,N.return=m,N.sibling=ye,m.child=N,xl(null,N),N=m.child,ye=f.child.memoizedState,ye===null?ye=Ho(w):(F=ye.cachePool,F!==null?(Ge=un._currentValue,F=F.parent!==Ge?{parent:Ge,pool:Ge}:F):F=Op(),ye={baseLanes:ye.baseLanes|w,cachePool:F}),N.memoizedState=ye,N.childLanes=Kh(f,se,w),m.memoizedState=oo,xl(f.child,N)):(Hc(m),w=f.child,f=w.sibling,w=Pl(w,{mode:"visible",children:N.children}),w.return=m,w.sibling=null,f!==null&&(se=m.deletions,se===null?(m.deletions=[f],m.flags|=16):se.push(f)),m.child=w,m.memoizedState=null,w)}function qc(f,m){return m=x0({mode:"visible",children:m},f.mode),m.return=f,f.child=m}function x0(f,m){return f=rs(22,f,null,m),f.lanes=0,f}function y0(f,m,w){return $f(m,f.child,null,w),f=qc(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function Zf(f,m,w){f.lanes|=m;var N=f.alternate;N!==null&&(N.lanes|=m),Uu(f.return,m,w)}function Qh(f,m,w,N,F,j){var se=f.memoizedState;se===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:N,tail:w,tailMode:F,treeForkCount:j}:(se.isBackwards=m,se.rendering=null,se.renderingStartTime=0,se.last=N,se.tail=w,se.tailMode=F,se.treeForkCount=j)}function Jh(f,m,w){var N=m.pendingProps,F=N.revealOrder,j=N.tail;N=N.children;var se=Si.current,ye=(se&2)!==0;if(ye?(se=se&1|2,m.flags|=128):se&=1,Q(Si,se),Ai(f,m,N,w),N=cr?o0:0,!ye&&f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Zf(f,w,m);else if(f.tag===19)Zf(f,w,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(F){case"forwards":for(w=m.child,F=null;w!==null;)f=w.alternate,f!==null&&Lp(f)===null&&(F=w),w=w.sibling;w=F,w===null?(F=m.child,m.child=null):(F=w.sibling,w.sibling=null),Qh(m,!1,F,w,j,N);break;case"backwards":case"unstable_legacy-backwards":for(w=null,F=m.child,m.child=null;F!==null;){if(f=F.alternate,f!==null&&Lp(f)===null){m.child=F;break}f=F.sibling,F.sibling=w,w=F,F=f}Qh(m,!0,w,null,j,N);break;case"together":Qh(m,!1,null,null,void 0,N);break;default:m.memoizedState=null}return m.child}function bl(f,m,w){if(f!==null&&(m.dependencies=f.dependencies),fo|=m.lanes,(w&m.childLanes)===0)if(f!==null){if(Fc(f,m,w,!1),(w&m.childLanes)===0)return null}else return null;if(f!==null&&m.child!==f.child)throw Error(r(153));if(m.child!==null){for(f=m.child,w=Pl(f,f.pendingProps),m.child=w,w.return=m;f.sibling!==null;)f=f.sibling,w=w.sibling=Pl(f,f.pendingProps),w.return=m;w.sibling=null}return m.child}function Gc(f,m){return(f.lanes&m)!==0?!0:(f=f.dependencies,!!(f!==null&&l0(f)))}function em(f,m,w){switch(m.tag){case 3:be(m,m.stateNode.containerInfo),zu(m,un,f.memoizedState.cache),Vf();break;case 27:case 5:Oe(m);break;case 4:be(m,m.stateNode.containerInfo);break;case 10:zu(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,Ug(m),null;break;case 13:var N=m.memoizedState;if(N!==null)return N.dehydrated!==null?(Hc(m),m.flags|=128,null):(w&m.child.childLanes)!==0?lo(f,m,w):(Hc(m),f=bl(f,m,w),f!==null?f.sibling:null);Hc(m);break;case 19:var F=(f.flags&128)!==0;if(N=(w&m.childLanes)!==0,N||(Fc(f,m,w,!1),N=(w&m.childLanes)!==0),F){if(N)return Jh(f,m,w);m.flags|=128}if(F=m.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),Q(Si,Si.current),N)break;return null;case 22:return m.lanes=0,so(f,m,w,m.pendingProps);case 24:zu(m,un,f.memoizedState.cache)}return bl(f,m,w)}function Qp(f,m,w){if(f!==null)if(f.memoizedProps!==m.pendingProps)li=!0;else{if(!Gc(f,w)&&(m.flags&128)===0)return li=!1,em(f,m,w);li=(f.flags&131072)!==0}else li=!1,cr&&(m.flags&1048576)!==0&&yg(m,o0,m.index);switch(m.lanes=0,m.tag){case 16:e:{var N=m.pendingProps;if(f=Gf(m.elementType),m.type=f,typeof f=="function")is(f)?(N=Ra(f,N),m.tag=1,m=Ba(null,m,f,N,w)):(m.tag=0,m=g0(null,m,f,N,w));else{if(f!=null){var F=f.$$typeof;if(F===E){m.tag=11,m=Wh(null,m,f,N,w);break e}else if(F===B){m.tag=14,m=Yh(null,m,f,N,w);break e}}throw m=X(f)||f,Error(r(306,m,""))}}return m;case 0:return g0(f,m,m.type,m.pendingProps,w);case 1:return N=m.type,F=Ra(N,m.pendingProps),Ba(f,m,N,F,w);case 3:e:{if(be(m,m.stateNode.containerInfo),f===null)throw Error(r(387));N=m.pendingProps;var j=m.memoizedState;F=j.element,Rg(f,m),Xf(m,N,null,w);var se=m.memoizedState;if(N=se.cache,zu(m,un,N),N!==j.cache&&Bp(m,[un],w,!0),Ih(),N=se.element,j.isDehydrated)if(j={element:N,isDehydrated:!1,cache:se.cache},m.updateQueue.baseState=j,m.memoizedState=j,m.flags&256){m=yr(f,m,N,w);break e}else if(N!==F){F=As(Error(r(424)),m),Oh(F),m=yr(f,m,N,w);break e}else{switch(f=m.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Qr=eu(f.firstChild),da=m,cr=!0,Bu=null,ha=!0,w=j2(m,null,N,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(Vf(),N===F){m=bl(f,m,w);break e}Ai(f,m,N,w)}m=m.child}return m;case 26:return yl(f,m),f===null?(w=f8(m.type,null,m.pendingProps,null))?m.memoizedState=w:cr||(w=m.type,f=m.pendingProps,N=bb(de.current).createElement(w),N[mn]=m,N[hi]=f,us(N,w,f),Tt(N),m.stateNode=N):m.memoizedState=f8(m.type,f.memoizedProps,m.pendingProps,f.memoizedState),null;case 27:return Oe(m),f===null&&cr&&(N=m.stateNode=l8(m.type,m.pendingProps,de.current),da=m,ha=!0,F=Qr,E0(m.type)?(iA=F,Qr=eu(N.firstChild)):Qr=F),Ai(f,m,m.pendingProps.children,w),yl(f,m),f===null&&(m.flags|=4194304),m.child;case 5:return f===null&&cr&&((F=N=Qr)&&(N=fG(N,m.type,m.pendingProps,ha),N!==null?(m.stateNode=N,da=m,Qr=eu(N.firstChild),ha=!1,F=!0):F=!1),F||or(m)),Oe(m),F=m.type,j=m.pendingProps,se=f!==null?f.memoizedProps:null,N=j.children,J5(F,j)?N=null:se!==null&&J5(F,se)&&(m.flags|=32),m.memoizedState!==null&&(F=Lg(f,m,U5,null,null,w),vx._currentValue=F),yl(f,m),Ai(f,m,N,w),m.child;case 6:return f===null&&cr&&((f=w=Qr)&&(w=dG(w,m.pendingProps,ha),w!==null?(m.stateNode=w,da=m,Qr=null,f=!0):f=!1),f||or(m)),null;case 13:return lo(f,m,w);case 4:return be(m,m.stateNode.containerInfo),N=m.pendingProps,f===null?m.child=$f(m,null,N,w):Ai(f,m,N,w),m.child;case 11:return Wh(f,m,m.type,m.pendingProps,w);case 7:return Ai(f,m,m.pendingProps,w),m.child;case 8:return Ai(f,m,m.pendingProps.children,w),m.child;case 12:return Ai(f,m,m.pendingProps.children,w),m.child;case 10:return N=m.pendingProps,zu(m,m.type,N.value),Ai(f,m,N.children,w),m.child;case 9:return F=m.type._context,N=m.pendingProps.children,Hf(m),F=ma(F),N=N(F),m.flags|=1,Ai(f,m,N,w),m.child;case 14:return Yh(f,m,m.type,m.pendingProps,w);case 15:return ao(f,m,m.type,m.pendingProps,w);case 19:return Jh(f,m,w);case 31:return Zh(f,m,w);case 22:return so(f,m,w,m.pendingProps);case 24:return Hf(m),N=ma(un),f===null?(F=ql(),F===null&&(F=Or,j=Mg(),F.pooledCache=j,j.refCount++,j!==null&&(F.pooledCacheLanes|=w),F=j),m.memoizedState={parent:N,cache:F},Dg(m),zu(m,un,F)):((f.lanes&w)!==0&&(Rg(f,m),Xf(m,null,null,w),Ih()),F=f.memoizedState,j=m.memoizedState,F.parent!==N?(F={parent:N,cache:N},m.memoizedState=F,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=F),zu(m,un,N)):(N=j.cache,zu(m,un,N),N!==F.cache&&Bp(m,[un],w,!0))),Ai(f,m,m.pendingProps.children,w),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function Ts(f){f.flags|=4}function $c(f,m,w,N,F){if((m=(f.mode&32)!==0)&&(m=!1),m){if(f.flags|=16777216,(F&335544128)===F)if(f.stateNode.complete)f.flags|=8192;else if(Ut())f.flags|=8192;else throw pn=Fh,Uh}else f.flags&=-16777217}function ju(f,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!v8(m))if(Ut())f.flags|=8192;else throw pn=Fh,Uh}function b0(f,m){m!==null&&(f.flags|=4),f.flags&16384&&(m=f.tag!==22?Ht():536870912,f.lanes|=m,ho|=m)}function tm(f,m){if(!cr)switch(f.tailMode){case"hidden":m=f.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var N=null;w!==null;)w.alternate!==null&&(N=w),w=w.sibling;N===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:N.sibling=null}}function kr(f){var m=f.alternate!==null&&f.alternate.child===f.child,w=0,N=0;if(m)for(var F=f.child;F!==null;)w|=F.lanes|F.childLanes,N|=F.subtreeFlags&65011712,N|=F.flags&65011712,F.return=f,F=F.sibling;else for(F=f.child;F!==null;)w|=F.lanes|F.childLanes,N|=F.subtreeFlags,N|=F.flags,F.return=f,F=F.sibling;return f.subtreeFlags|=N,f.childLanes=w,m}function ox(f,m,w){var N=m.pendingProps;switch(Uc(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(m),null;case 1:return kr(m),null;case 3:return w=m.stateNode,N=null,f!==null&&(N=f.memoizedState.cache),m.memoizedState.cache!==N&&(m.flags|=2048),Po(un),Te(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(jf(m)?Ts(m):f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,bg())),kr(m),null;case 26:var F=m.type,j=m.memoizedState;return f===null?(Ts(m),j!==null?(kr(m),ju(m,j)):(kr(m),$c(m,F,null,N,w))):j?j!==f.memoizedState?(Ts(m),kr(m),ju(m,j)):(kr(m),m.flags&=-16777217):(f=f.memoizedProps,f!==N&&Ts(m),kr(m),$c(m,F,f,N,w)),null;case 27:if(Fe(m),w=de.current,F=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==N&&Ts(m);else{if(!N){if(m.stateNode===null)throw Error(r(166));return kr(m),null}f=te.current,jf(m)?Rp(m):(f=l8(F,N,w),m.stateNode=f,Ts(m))}return kr(m),null;case 5:if(Fe(m),F=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==N&&Ts(m);else{if(!N){if(m.stateNode===null)throw Error(r(166));return kr(m),null}if(j=te.current,jf(m))Rp(m);else{var se=bb(de.current);switch(j){case 1:j=se.createElementNS("http://www.w3.org/2000/svg",F);break;case 2:j=se.createElementNS("http://www.w3.org/1998/Math/MathML",F);break;default:switch(F){case"svg":j=se.createElementNS("http://www.w3.org/2000/svg",F);break;case"math":j=se.createElementNS("http://www.w3.org/1998/Math/MathML",F);break;case"script":j=se.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof N.is=="string"?se.createElement("select",{is:N.is}):se.createElement("select"),N.multiple?j.multiple=!0:N.size&&(j.size=N.size);break;default:j=typeof N.is=="string"?se.createElement(F,{is:N.is}):se.createElement(F)}}j[mn]=m,j[hi]=N;e:for(se=m.child;se!==null;){if(se.tag===5||se.tag===6)j.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===m)break e;for(;se.sibling===null;){if(se.return===null||se.return===m)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}m.stateNode=j;e:switch(us(j,F,N),F){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}N&&Ts(m)}}return kr(m),$c(m,m.type,f===null?null:f.memoizedProps,m.pendingProps,w),null;case 6:if(f&&m.stateNode!=null)f.memoizedProps!==N&&Ts(m);else{if(typeof N!="string"&&m.stateNode===null)throw Error(r(166));if(f=de.current,jf(m)){if(f=m.stateNode,w=m.memoizedProps,N=null,F=da,F!==null)switch(F.tag){case 27:case 5:N=F.memoizedProps}f[mn]=m,f=!!(f.nodeValue===w||N!==null&&N.suppressHydrationWarning===!0||KT(f.nodeValue,w)),f||or(m,!0)}else f=bb(f).createTextNode(N),f[mn]=m,m.stateNode=f}return kr(m),null;case 31:if(w=m.memoizedState,f===null||f.memoizedState!==null){if(N=jf(m),w!==null){if(f===null){if(!N)throw Error(r(318));if(f=m.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));f[mn]=m}else Vf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;kr(m),f=!1}else w=bg(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=w),f=!0;if(!f)return m.flags&256?(no(m),m):(no(m),null);if((m.flags&128)!==0)throw Error(r(558))}return kr(m),null;case 13:if(N=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(F=jf(m),N!==null&&N.dehydrated!==null){if(f===null){if(!F)throw Error(r(318));if(F=m.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(r(317));F[mn]=m}else Vf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;kr(m),F=!1}else F=bg(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=F),F=!0;if(!F)return m.flags&256?(no(m),m):(no(m),null)}return no(m),(m.flags&128)!==0?(m.lanes=w,m):(w=N!==null,f=f!==null&&f.memoizedState!==null,w&&(N=m.child,F=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(F=N.alternate.memoizedState.cachePool.pool),j=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(j=N.memoizedState.cachePool.pool),j!==F&&(N.flags|=2048)),w!==f&&w&&(m.child.flags|=8192),b0(m,m.updateQueue),kr(m),null);case 4:return Te(),f===null&&W5(m.stateNode.containerInfo),kr(m),null;case 10:return Po(m.type),kr(m),null;case 19:if(K(Si),N=m.memoizedState,N===null)return kr(m),null;if(F=(m.flags&128)!==0,j=N.rendering,j===null)if(F)tm(N,!1);else{if(zr!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(j=Lp(f),j!==null){for(m.flags|=128,tm(N,!1),f=j.updateQueue,m.updateQueue=f,b0(m,f),m.subtreeFlags=0,f=w,w=m.child;w!==null;)qa(w,f),w=w.sibling;return Q(Si,Si.current&1|2),cr&&Ru(m,N.treeForkCount),m.child}f=f.sibling}N.tail!==null&&oe()>mo&&(m.flags|=128,F=!0,tm(N,!1),m.lanes=4194304)}else{if(!F)if(f=Lp(j),f!==null){if(m.flags|=128,F=!0,f=f.updateQueue,m.updateQueue=f,b0(m,f),tm(N,!0),N.tail===null&&N.tailMode==="hidden"&&!j.alternate&&!cr)return kr(m),null}else 2*oe()-N.renderingStartTime>mo&&w!==536870912&&(m.flags|=128,F=!0,tm(N,!1),m.lanes=4194304);N.isBackwards?(j.sibling=m.child,m.child=j):(f=N.last,f!==null?f.sibling=j:m.child=j,N.last=j)}return N.tail!==null?(f=N.tail,N.rendering=f,N.tail=f.sibling,N.renderingStartTime=oe(),f.sibling=null,w=Si.current,Q(Si,F?w&1|2:w&1),cr&&Ru(m,N.treeForkCount),f):(kr(m),null);case 22:case 23:return no(m),$a(),N=m.memoizedState!==null,f!==null?f.memoizedState!==null!==N&&(m.flags|=8192):N&&(m.flags|=8192),N?(w&536870912)!==0&&(m.flags&128)===0&&(kr(m),m.subtreeFlags&6&&(m.flags|=8192)):kr(m),w=m.updateQueue,w!==null&&b0(m,w.retryQueue),w=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==w&&(m.flags|=2048),f!==null&&K(Lc),null;case 24:return w=null,f!==null&&(w=f.memoizedState.cache),m.memoizedState.cache!==w&&(m.flags|=2048),Po(un),kr(m),null;case 25:return null;case 30:return null}throw Error(r(156,m.tag))}function Jp(f,m){switch(Uc(m),m.tag){case 1:return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return Po(un),Te(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 26:case 27:case 5:return Fe(m),null;case 31:if(m.memoizedState!==null){if(no(m),m.alternate===null)throw Error(r(340));Vf()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 13:if(no(m),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Vf()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return K(Si),null;case 4:return Te(),null;case 10:return Po(m.type),null;case 22:case 23:return no(m),$a(),f!==null&&K(Lc),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 24:return Po(un),null;case 25:return null;default:return null}}function Kf(f,m){switch(Uc(m),m.tag){case 3:Po(un),Te();break;case 26:case 27:case 5:Fe(m);break;case 4:Te();break;case 31:m.memoizedState!==null&&no(m);break;case 13:no(m);break;case 19:K(Si);break;case 10:Po(m.type);break;case 22:case 23:no(m),$a(),f!==null&&K(Lc);break;case 24:Po(un)}}function Zl(f,m){try{var w=m.updateQueue,N=w!==null?w.lastEffect:null;if(N!==null){var F=N.next;w=F;do{if((w.tag&f)===f){N=void 0;var j=w.create,se=w.inst;N=j(),se.destroy=N}w=w.next}while(w!==F)}}catch(ye){qr(m,m.return,ye)}}function qo(f,m,w){try{var N=m.updateQueue,F=N!==null?N.lastEffect:null;if(F!==null){var j=F.next;N=j;do{if((N.tag&f)===f){var se=N.inst,ye=se.destroy;if(ye!==void 0){se.destroy=void 0,F=m;var Ge=w,ft=ye;try{ft()}catch(yt){qr(F,Ge,yt)}}}N=N.next}while(N!==j)}}catch(yt){qr(m,m.return,yt)}}function Xc(f){var m=f.updateQueue;if(m!==null){var w=f.stateNode;try{Ca(m,w)}catch(N){qr(f,f.return,N)}}}function lx(f,m,w){w.props=Ra(f.type,f.memoizedProps),w.state=f.memoizedState;try{w.componentWillUnmount()}catch(N){qr(f,m,N)}}function Kl(f,m){try{var w=f.ref;if(w!==null){switch(f.tag){case 26:case 27:case 5:var N=f.stateNode;break;case 30:N=f.stateNode;break;default:N=f.stateNode}typeof w=="function"?f.refCleanup=w(N):w.current=N}}catch(F){qr(f,m,F)}}function uo(f,m){var w=f.ref,N=f.refCleanup;if(w!==null)if(typeof N=="function")try{N()}catch(F){qr(f,m,F)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(F){qr(f,m,F)}else w.current=null}function co(f){var m=f.type,w=f.memoizedProps,N=f.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":w.autoFocus&&N.focus();break e;case"img":w.src?N.src=w.src:w.srcSet&&(N.srcset=w.srcSet)}}catch(F){qr(f,f.return,F)}}function Go(f,m,w){try{var N=f.stateNode;aG(N,f.type,w,m),N[hi]=m}catch(F){qr(f,f.return,F)}}function Gi(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&E0(f.type)||f.tag===4}function Ql(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Gi(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&E0(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Hn(f,m,w){var N=f.tag;if(N===5||N===6)f=f.stateNode,m?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(f,m):(m=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,m.appendChild(f),w=w._reactRootContainer,w!=null||m.onclick!==null||(m.onclick=_a));else if(N!==4&&(N===27&&E0(f.type)&&(w=f.stateNode,m=null),f=f.child,f!==null))for(Hn(f,m,w),f=f.sibling;f!==null;)Hn(f,m,w),f=f.sibling}function Er(f,m,w){var N=f.tag;if(N===5||N===6)f=f.stateNode,m?w.insertBefore(f,m):w.appendChild(f);else if(N!==4&&(N===27&&E0(f.type)&&(w=f.stateNode),f=f.child,f!==null))for(Er(f,m,w),f=f.sibling;f!==null;)Er(f,m,w),f=f.sibling}function Bi(f){var m=f.stateNode,w=f.memoizedProps;try{for(var N=f.type,F=m.attributes;F.length;)m.removeAttributeNode(F[0]);us(m,N,w),m[mn]=f,m[hi]=w}catch(j){qr(f,f.return,j)}}var $o=!1,ui=!1,Vu=!1,nm=typeof WeakSet=="function"?WeakSet:Set,Mi=null;function S0(f,m){if(f=f.containerInfo,K5=Nb,f=Sp(f),e0(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var N=w.getSelection&&w.getSelection();if(N&&N.rangeCount!==0){w=N.anchorNode;var F=N.anchorOffset,j=N.focusNode;N=N.focusOffset;try{w.nodeType,j.nodeType}catch{w=null;break e}var se=0,ye=-1,Ge=-1,ft=0,yt=0,_t=f,mt=null;t:for(;;){for(var gt;_t!==w||F!==0&&_t.nodeType!==3||(ye=se+F),_t!==j||N!==0&&_t.nodeType!==3||(Ge=se+N),_t.nodeType===3&&(se+=_t.nodeValue.length),(gt=_t.firstChild)!==null;)mt=_t,_t=gt;for(;;){if(_t===f)break t;if(mt===w&&++ft===F&&(ye=se),mt===j&&++yt===N&&(Ge=se),(gt=_t.nextSibling)!==null)break;_t=mt,mt=_t.parentNode}_t=gt}w=ye===-1||Ge===-1?null:{start:ye,end:Ge}}else w=null}w=w||{start:0,end:0}}else w=null;for(Q5={focusedElem:f,selectionRange:w},Nb=!1,Mi=m;Mi!==null;)if(m=Mi,f=m.child,(m.subtreeFlags&1028)!==0&&f!==null)f.return=m,Mi=f;else for(;Mi!==null;){switch(m=Mi,j=m.alternate,f=m.flags,m.tag){case 0:if((f&4)!==0&&(f=m.updateQueue,f=f!==null?f.events:null,f!==null))for(w=0;w<f.length;w++)F=f[w],F.ref.impl=F.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&j!==null){f=void 0,w=m,F=j.memoizedProps,j=j.memoizedState,N=w.stateNode;try{var en=Ra(w.type,F);f=N.getSnapshotBeforeUpdate(en,j),N.__reactInternalSnapshotBeforeUpdate=f}catch(bn){qr(w,w.return,bn)}}break;case 3:if((f&1024)!==0){if(f=m.stateNode.containerInfo,w=f.nodeType,w===9)tA(f);else if(w===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":tA(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=m.sibling,f!==null){f.return=m.return,Mi=f;break}Mi=m.return}}function hb(f,m,w){var N=w.flags;switch(w.tag){case 0:case 11:case 15:Hu(f,w),N&4&&Zl(5,w);break;case 1:if(Hu(f,w),N&4)if(f=w.stateNode,m===null)try{f.componentDidMount()}catch(se){qr(w,w.return,se)}else{var F=Ra(w.type,m.memoizedProps);m=m.memoizedState;try{f.componentDidUpdate(F,m,f.__reactInternalSnapshotBeforeUpdate)}catch(se){qr(w,w.return,se)}}N&64&&Xc(w),N&512&&Kl(w,w.return);break;case 3:if(Hu(f,w),N&64&&(f=w.updateQueue,f!==null)){if(m=null,w.child!==null)switch(w.child.tag){case 27:case 5:m=w.child.stateNode;break;case 1:m=w.child.stateNode}try{Ca(f,m)}catch(se){qr(w,w.return,se)}}break;case 27:m===null&&N&4&&Bi(w);case 26:case 5:Hu(f,w),m===null&&N&4&&co(w),N&512&&Kl(w,w.return);break;case 12:Hu(f,w);break;case 31:Hu(f,w),N&4&&tv(f,w);break;case 13:Hu(f,w),N&4&&ux(f,w),N&64&&(f=w.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(w=Xq.bind(null,w),hG(f,w))));break;case 22:if(N=w.memoizedState!==null||$o,!N){m=m!==null&&m.memoizedState!==null||ui,F=$o;var j=ui;$o=N,(ui=m)&&!j?Br(f,w,(w.subtreeFlags&8772)!==0):Hu(f,w),$o=F,ui=j}break;case 30:break;default:Hu(f,w)}}function ev(f){var m=f.alternate;m!==null&&(f.alternate=null,ev(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&dt(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var br=null,$i=!1;function Wa(f,m,w){for(w=w.child;w!==null;)Wc(f,m,w),w=w.sibling}function Wc(f,m,w){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(st,w)}catch{}switch(w.tag){case 26:ui||uo(w,m),Wa(f,m,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:ui||uo(w,m);var N=br,F=$i;E0(w.type)&&(br=w.stateNode,$i=!1),Wa(f,m,w),hx(w.stateNode),br=N,$i=F;break;case 5:ui||uo(w,m);case 6:if(N=br,F=$i,br=null,Wa(f,m,w),br=N,$i=F,br!==null)if($i)try{(br.nodeType===9?br.body:br.nodeName==="HTML"?br.ownerDocument.body:br).removeChild(w.stateNode)}catch(j){qr(w,m,j)}else try{br.removeChild(w.stateNode)}catch(j){qr(w,m,j)}break;case 18:br!==null&&($i?(f=br,r8(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,w.stateNode),dv(f)):r8(br,w.stateNode));break;case 4:N=br,F=$i,br=w.stateNode.containerInfo,$i=!0,Wa(f,m,w),br=N,$i=F;break;case 0:case 11:case 14:case 15:qo(2,w,m),ui||qo(4,w,m),Wa(f,m,w);break;case 1:ui||(uo(w,m),N=w.stateNode,typeof N.componentWillUnmount=="function"&&lx(w,m,N)),Wa(f,m,w);break;case 21:Wa(f,m,w);break;case 22:ui=(N=ui)||w.memoizedState!==null,Wa(f,m,w),ui=N;break;default:Wa(f,m,w)}}function tv(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{dv(f)}catch(w){qr(m,m.return,w)}}}function ux(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{dv(f)}catch(w){qr(m,m.return,w)}}function mb(f){switch(f.tag){case 31:case 13:case 19:var m=f.stateNode;return m===null&&(m=f.stateNode=new nm),m;case 22:return f=f.stateNode,m=f._retryCache,m===null&&(m=f._retryCache=new nm),m;default:throw Error(r(435,f.tag))}}function Oi(f,m){var w=mb(f);m.forEach(function(N){if(!w.has(N)){w.add(N);var F=Wq.bind(null,f,N);N.then(F,F)}})}function Ya(f,m){var w=m.deletions;if(w!==null)for(var N=0;N<w.length;N++){var F=w[N],j=f,se=m,ye=se;e:for(;ye!==null;){switch(ye.tag){case 27:if(E0(ye.type)){br=ye.stateNode,$i=!1;break e}break;case 5:br=ye.stateNode,$i=!1;break e;case 3:case 4:br=ye.stateNode.containerInfo,$i=!0;break e}ye=ye.return}if(br===null)throw Error(r(160));Wc(j,se,F),br=null,$i=!1,j=F.alternate,j!==null&&(j.return=null),F.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)Yc(m,f),m=m.sibling}var Cs=null;function Yc(f,m){var w=f.alternate,N=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ya(m,f),_i(f),N&4&&(qo(3,f,f.return),Zl(3,f),qo(5,f,f.return));break;case 1:Ya(m,f),_i(f),N&512&&(ui||w===null||uo(w,w.return)),N&64&&$o&&(f=f.updateQueue,f!==null&&(N=f.callbacks,N!==null&&(w=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=w===null?N:w.concat(N))));break;case 26:var F=Cs;if(Ya(m,f),_i(f),N&512&&(ui||w===null||uo(w,w.return)),N&4){var j=w!==null?w.memoizedState:null;if(N=f.memoizedState,w===null)if(N===null)if(f.stateNode===null){e:{N=f.type,w=f.memoizedProps,F=F.ownerDocument||F;t:switch(N){case"title":j=F.getElementsByTagName("title")[0],(!j||j[Je]||j[mn]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=F.createElement(N),F.head.insertBefore(j,F.querySelector("head > title"))),us(j,N,w),j[mn]=f,Tt(j),N=j;break e;case"link":var se=m8("link","href",F).get(N+(w.href||""));if(se){for(var ye=0;ye<se.length;ye++)if(j=se[ye],j.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&j.getAttribute("rel")===(w.rel==null?null:w.rel)&&j.getAttribute("title")===(w.title==null?null:w.title)&&j.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){se.splice(ye,1);break t}}j=F.createElement(N),us(j,N,w),F.head.appendChild(j);break;case"meta":if(se=m8("meta","content",F).get(N+(w.content||""))){for(ye=0;ye<se.length;ye++)if(j=se[ye],j.getAttribute("content")===(w.content==null?null:""+w.content)&&j.getAttribute("name")===(w.name==null?null:w.name)&&j.getAttribute("property")===(w.property==null?null:w.property)&&j.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&j.getAttribute("charset")===(w.charSet==null?null:w.charSet)){se.splice(ye,1);break t}}j=F.createElement(N),us(j,N,w),F.head.appendChild(j);break;default:throw Error(r(468,N))}j[mn]=f,Tt(j),N=j}f.stateNode=N}else p8(F,f.type,f.stateNode);else f.stateNode=h8(F,N,f.memoizedProps);else j!==N?(j===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):j.count--,N===null?p8(F,f.type,f.stateNode):h8(F,N,f.memoizedProps)):N===null&&f.stateNode!==null&&Go(f,f.memoizedProps,w.memoizedProps)}break;case 27:Ya(m,f),_i(f),N&512&&(ui||w===null||uo(w,w.return)),w!==null&&N&4&&Go(f,f.memoizedProps,w.memoizedProps);break;case 5:if(Ya(m,f),_i(f),N&512&&(ui||w===null||uo(w,w.return)),f.flags&32){F=f.stateNode;try{sl(F,"")}catch(en){qr(f,f.return,en)}}N&4&&f.stateNode!=null&&(F=f.memoizedProps,Go(f,F,w!==null?w.memoizedProps:F)),N&1024&&(Vu=!0);break;case 6:if(Ya(m,f),_i(f),N&4){if(f.stateNode===null)throw Error(r(162));N=f.memoizedProps,w=f.stateNode;try{w.nodeValue=N}catch(en){qr(f,f.return,en)}}break;case 3:if(Ab=null,F=Cs,Cs=Sb(m.containerInfo),Ya(m,f),Cs=F,_i(f),N&4&&w!==null&&w.memoizedState.isDehydrated)try{dv(m.containerInfo)}catch(en){qr(f,f.return,en)}Vu&&(Vu=!1,pb(f));break;case 4:N=Cs,Cs=Sb(f.stateNode.containerInfo),Ya(m,f),_i(f),Cs=N;break;case 12:Ya(m,f),_i(f);break;case 31:Ya(m,f),_i(f),N&4&&(N=f.updateQueue,N!==null&&(f.updateQueue=null,Oi(f,N)));break;case 13:Ya(m,f),_i(f),f.child.flags&8192&&f.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&($u=oe()),N&4&&(N=f.updateQueue,N!==null&&(f.updateQueue=null,Oi(f,N)));break;case 22:F=f.memoizedState!==null;var Ge=w!==null&&w.memoizedState!==null,ft=$o,yt=ui;if($o=ft||F,ui=yt||Ge,Ya(m,f),ui=yt,$o=ft,_i(f),N&8192)e:for(m=f.stateNode,m._visibility=F?m._visibility&-2:m._visibility|1,F&&(w===null||Ge||$o||ui||Qf(f)),w=null,m=f;;){if(m.tag===5||m.tag===26){if(w===null){Ge=w=m;try{if(j=Ge.stateNode,F)se=j.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{ye=Ge.stateNode;var _t=Ge.memoizedProps.style,mt=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;ye.style.display=mt==null||typeof mt=="boolean"?"":(""+mt).trim()}}catch(en){qr(Ge,Ge.return,en)}}}else if(m.tag===6){if(w===null){Ge=m;try{Ge.stateNode.nodeValue=F?"":Ge.memoizedProps}catch(en){qr(Ge,Ge.return,en)}}}else if(m.tag===18){if(w===null){Ge=m;try{var gt=Ge.stateNode;F?i8(gt,!0):i8(Ge.stateNode,!1)}catch(en){qr(Ge,Ge.return,en)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;w===m&&(w=null),m=m.return}w===m&&(w=null),m.sibling.return=m.return,m=m.sibling}N&4&&(N=f.updateQueue,N!==null&&(w=N.retryQueue,w!==null&&(N.retryQueue=null,Oi(f,w))));break;case 19:Ya(m,f),_i(f),N&4&&(N=f.updateQueue,N!==null&&(f.updateQueue=null,Oi(f,N)));break;case 30:break;case 21:break;default:Ya(m,f),_i(f)}}function _i(f){var m=f.flags;if(m&2){try{for(var w,N=f.return;N!==null;){if(Gi(N)){w=N;break}N=N.return}if(w==null)throw Error(r(160));switch(w.tag){case 27:var F=w.stateNode,j=Ql(f);Er(f,j,F);break;case 5:var se=w.stateNode;w.flags&32&&(sl(se,""),w.flags&=-33);var ye=Ql(f);Er(f,ye,se);break;case 3:case 4:var Ge=w.stateNode.containerInfo,ft=Ql(f);Hn(f,ft,Ge);break;default:throw Error(r(161))}}catch(yt){qr(f,f.return,yt)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function pb(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var m=f;pb(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),f=f.sibling}}function Hu(f,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)hb(f,m.alternate,m),m=m.sibling}function Qf(f){for(f=f.child;f!==null;){var m=f;switch(m.tag){case 0:case 11:case 14:case 15:qo(4,m,m.return),Qf(m);break;case 1:uo(m,m.return);var w=m.stateNode;typeof w.componentWillUnmount=="function"&&lx(m,m.return,w),Qf(m);break;case 27:hx(m.stateNode);case 26:case 5:uo(m,m.return),Qf(m);break;case 22:m.memoizedState===null&&Qf(m);break;case 30:Qf(m);break;default:Qf(m)}f=f.sibling}}function Br(f,m,w){for(w=w&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var N=m.alternate,F=f,j=m,se=j.flags;switch(j.tag){case 0:case 11:case 15:Br(F,j,w),Zl(4,j);break;case 1:if(Br(F,j,w),N=j,F=N.stateNode,typeof F.componentDidMount=="function")try{F.componentDidMount()}catch(ft){qr(N,N.return,ft)}if(N=j,F=N.updateQueue,F!==null){var ye=N.stateNode;try{var Ge=F.shared.hiddenCallbacks;if(Ge!==null)for(F.shared.hiddenCallbacks=null,F=0;F<Ge.length;F++)$l(Ge[F],ye)}catch(ft){qr(N,N.return,ft)}}w&&se&64&&Xc(j),Kl(j,j.return);break;case 27:Bi(j);case 26:case 5:Br(F,j,w),w&&N===null&&se&4&&co(j),Kl(j,j.return);break;case 12:Br(F,j,w);break;case 31:Br(F,j,w),w&&se&4&&tv(F,j);break;case 13:Br(F,j,w),w&&se&4&&ux(F,j);break;case 22:j.memoizedState===null&&Br(F,j,w),Kl(j,j.return);break;case 30:break;default:Br(F,j,w)}m=m.sibling}}function nv(f,m){var w=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),f=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(f=m.memoizedState.cachePool.pool),f!==w&&(f!=null&&f.refCount++,w!=null&&Ta(w))}function qu(f,m){f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Ta(f))}function ia(f,m,w,N){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)gi(f,m,w,N),m=m.sibling}function gi(f,m,w,N){var F=m.flags;switch(m.tag){case 0:case 11:case 15:ia(f,m,w,N),F&2048&&Zl(9,m);break;case 1:ia(f,m,w,N);break;case 3:ia(f,m,w,N),F&2048&&(f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Ta(f)));break;case 12:if(F&2048){ia(f,m,w,N),f=m.stateNode;try{var j=m.memoizedProps,se=j.id,ye=j.onPostCommit;typeof ye=="function"&&ye(se,m.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Ge){qr(m,m.return,Ge)}}else ia(f,m,w,N);break;case 31:ia(f,m,w,N);break;case 13:ia(f,m,w,N);break;case 23:break;case 22:j=m.stateNode,se=m.alternate,m.memoizedState!==null?j._visibility&2?ia(f,m,w,N):w0(f,m):j._visibility&2?ia(f,m,w,N):(j._visibility|=2,Zc(f,m,w,N,(m.subtreeFlags&10256)!==0||!1)),F&2048&&nv(se,m);break;case 24:ia(f,m,w,N),F&2048&&qu(m.alternate,m);break;default:ia(f,m,w,N)}}function Zc(f,m,w,N,F){for(F=F&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var j=f,se=m,ye=w,Ge=N,ft=se.flags;switch(se.tag){case 0:case 11:case 15:Zc(j,se,ye,Ge,F),Zl(8,se);break;case 23:break;case 22:var yt=se.stateNode;se.memoizedState!==null?yt._visibility&2?Zc(j,se,ye,Ge,F):w0(j,se):(yt._visibility|=2,Zc(j,se,ye,Ge,F)),F&&ft&2048&&nv(se.alternate,se);break;case 24:Zc(j,se,ye,Ge,F),F&&ft&2048&&qu(se.alternate,se);break;default:Zc(j,se,ye,Ge,F)}m=m.sibling}}function w0(f,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var w=f,N=m,F=N.flags;switch(N.tag){case 22:w0(w,N),F&2048&&nv(N.alternate,N);break;case 24:w0(w,N),F&2048&&qu(N.alternate,N);break;default:w0(w,N)}m=m.sibling}}var Ei=8192;function Jf(f,m,w){if(f.subtreeFlags&Ei)for(f=f.child;f!==null;)zi(f,m,w),f=f.sibling}function zi(f,m,w){switch(f.tag){case 26:Jf(f,m,w),f.flags&Ei&&f.memoizedState!==null&&_G(w,Cs,f.memoizedState,f.memoizedProps);break;case 5:Jf(f,m,w);break;case 3:case 4:var N=Cs;Cs=Sb(f.stateNode.containerInfo),Jf(f,m,w),Cs=N;break;case 22:f.memoizedState===null&&(N=f.alternate,N!==null&&N.memoizedState!==null?(N=Ei,Ei=16777216,Jf(f,m,w),Ei=N):Jf(f,m,w));break;default:Jf(f,m,w)}}function Ds(f){var m=f.alternate;if(m!==null&&(f=m.child,f!==null)){m.child=null;do m=f.sibling,f.sibling=null,f=m;while(f!==null)}}function os(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var w=0;w<m.length;w++){var N=m[w];Mi=N,rm(N,f)}Ds(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)ed(f),f=f.sibling}function ed(f){switch(f.tag){case 0:case 11:case 15:os(f),f.flags&2048&&qo(9,f,f.return);break;case 3:os(f);break;case 12:os(f);break;case 22:var m=f.stateNode;f.memoizedState!==null&&m._visibility&2&&(f.return===null||f.return.tag!==13)?(m._visibility&=-3,rv(f)):os(f);break;default:os(f)}}function rv(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var w=0;w<m.length;w++){var N=m[w];Mi=N,rm(N,f)}Ds(f)}for(f=f.child;f!==null;){switch(m=f,m.tag){case 0:case 11:case 15:qo(8,m,m.return),rv(m);break;case 22:w=m.stateNode,w._visibility&2&&(w._visibility&=-3,rv(m));break;default:rv(m)}f=f.sibling}}function rm(f,m){for(;Mi!==null;){var w=Mi;switch(w.tag){case 0:case 11:case 15:qo(8,w,m);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var N=w.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:Ta(w.memoizedState.cache)}if(N=w.child,N!==null)N.return=w,Mi=N;else e:for(w=f;Mi!==null;){N=Mi;var F=N.sibling,j=N.return;if(ev(N),N===w){Mi=null;break e}if(F!==null){F.return=j,Mi=F;break e}Mi=j}}}var iv={getCacheForType:function(f){var m=ma(un),w=m.data.get(f);return w===void 0&&(w=f(),m.data.set(f,w)),w},cacheSignal:function(){return ma(un).controller.signal}},av=typeof WeakMap=="function"?WeakMap:Map,hr=0,Or=null,qn=null,lr=0,cn=0,rr=null,Bn=!1,Qn=!1,jr=!1,Ui=0,zr=0,fo=0,Gu=0,Sl=0,mr=0,ho=0,wl=null,Za=null,Rs=!1,$u=0,A0=0,mo=1/0,M0=null,Jl=null,xi=0,Al=null,po=null,Xo=0,Xu=0,td=null,sv=null,nd=0,rd=null;function ls(){return(hr&2)!==0&&lr!==0?lr&-lr:k.T!==null?q5():yi()}function v(){if(mr===0)if((lr&536870912)===0||cr){var f=$e;$e<<=1,($e&3932160)===0&&($e=262144),mr=f}else mr=536870912;return f=ra.current,f!==null&&(f.flags|=32),mr}function y(f,m,w){(f===Or&&(cn===2||cn===9)||f.cancelPendingCommit!==null)&&(it(f,0),J(f,lr,mr,!1)),Fn(f,w),((hr&2)===0||f!==Or)&&(f===Or&&((hr&2)===0&&(Gu|=w),zr===4&&J(f,lr,mr,!1)),Kc(f))}function D(f,m,w){if((hr&6)!==0)throw Error(r(327));var N=!w&&(m&127)===0&&(m&f.expiredLanes)===0||kt(f,m),F=N?id(f,m):Bs(f,m,!0),j=N;do{if(F===0){Qn&&!N&&J(f,m,0,!1);break}else{if(w=f.current.alternate,j&&!V(w)){F=Bs(f,m,!1),j=!1;continue}if(F===2){if(j=m,f.errorRecoveryDisabledLanes&j)var se=0;else se=f.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){m=se;e:{var ye=f;F=wl;var Ge=ye.current.memoizedState.isDehydrated;if(Ge&&(it(ye,se).flags|=256),se=Bs(ye,se,!1),se!==2){if(jr&&!Ge){ye.errorRecoveryDisabledLanes|=j,Gu|=j,F=4;break e}j=Za,Za=F,j!==null&&(Za===null?Za=j:Za.push.apply(Za,j))}F=se}if(j=!1,F!==2)continue}}if(F===1){it(f,0),J(f,m,0,!0);break}e:{switch(N=f,j=F,j){case 0:case 1:throw Error(r(345));case 4:if((m&4194048)!==m)break;case 6:J(N,m,mr,!Bn);break e;case 2:Za=null;break;case 3:case 5:break;default:throw Error(r(329))}if((m&62914560)===m&&(F=$u+300-oe(),10<F)){if(J(N,m,mr,!Bn),wt(N,0,!0)!==0)break e;Xo=m,N.timeoutHandle=t8(L.bind(null,N,w,Za,M0,Rs,m,mr,Gu,ho,Bn,j,"Throttled",-0,0),F);break e}L(N,w,Za,M0,Rs,m,mr,Gu,ho,Bn,j,null,-0,0)}}break}while(!0);Kc(f)}function L(f,m,w,N,F,j,se,ye,Ge,ft,yt,_t,mt,gt){if(f.timeoutHandle=-1,_t=m.subtreeFlags,_t&8192||(_t&16785408)===16785408){_t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_a},zi(m,j,_t);var en=(j&62914560)===j?$u-oe():(j&4194048)===j?A0-oe():0;if(en=EG(_t,en),en!==null){Xo=j,f.cancelPendingCommit=en(An.bind(null,f,m,j,w,N,F,se,ye,Ge,yt,_t,null,mt,gt)),J(f,j,se,!ft);return}}An(f,m,j,w,N,F,se,ye,Ge)}function V(f){for(var m=f;;){var w=m.tag;if((w===0||w===11||w===15)&&m.flags&16384&&(w=m.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var N=0;N<w.length;N++){var F=w[N],j=F.getSnapshot;F=F.value;try{if(!oi(j(),F))return!1}catch{return!1}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function J(f,m,w,N){m&=~Sl,m&=~Gu,f.suspendedLanes|=m,f.pingedLanes&=~m,N&&(f.warmLanes|=m),N=f.expirationTimes;for(var F=m;0<F;){var j=31-ze(F),se=1<<j;N[j]=-1,F&=~se}w!==0&&Ir(f,w,m)}function Ee(){return(hr&6)===0?(cx(0),!1):!0}function qe(){if(qn!==null){if(cn===0)var f=qn.return;else f=qn,Ga=Ou=null,Pg(f),Ic=null,Pc=0,f=qn;for(;f!==null;)Kf(f.alternate,f),f=f.return;qn=null}}function it(f,m){var w=f.timeoutHandle;w!==-1&&(f.timeoutHandle=-1,lG(w)),w=f.cancelPendingCommit,w!==null&&(f.cancelPendingCommit=null,w()),Xo=0,qe(),Or=f,qn=w=Pl(f.current,null),lr=m,cn=0,rr=null,Bn=!1,Qn=kt(f,m),jr=!1,ho=mr=Sl=Gu=fo=zr=0,Za=wl=null,Rs=!1,(m&8)!==0&&(m|=m&32);var N=f.entangledLanes;if(N!==0)for(f=f.entanglements,N&=m;0<N;){var F=31-ze(N),j=1<<F;m|=f[F],N&=~j}return Ui=m,Bc(),w}function At(f,m){wn=null,k.H=Gh,m===kc||m===gl?(m=zp(),cn=3):m===Uh?(m=zp(),cn=4):cn=m===Kp?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,rr=m,qn===null&&(zr=1,Zp(f,As(m,f.current)))}function Ut(){var f=ra.current;return f===null?!0:(lr&4194048)===lr?jo===null:(lr&62914560)===lr||(lr&536870912)!==0?f===jo:!1}function Vt(){var f=k.H;return k.H=Gh,f===null?Gh:f}function $t(){var f=k.A;return k.A=iv,f}function Cn(){zr=4,Bn||(lr&4194048)!==lr&&ra.current!==null||(Qn=!0),(fo&134217727)===0&&(Gu&134217727)===0||Or===null||J(Or,lr,mr,!1)}function Bs(f,m,w){var N=hr;hr|=2;var F=Vt(),j=$t();(Or!==f||lr!==m)&&(M0=null,it(f,m)),m=!1;var se=zr;e:do try{if(cn!==0&&qn!==null){var ye=qn,Ge=rr;switch(cn){case 8:qe(),se=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(m=!0);var ft=cn;if(cn=0,rr=null,Dt(f,ye,Ge,ft),w&&Qn){se=0;break e}break;default:ft=cn,cn=0,rr=null,Dt(f,ye,Ge,ft)}}im(),se=zr;break}catch(yt){At(f,yt)}while(!0);return m&&f.shellSuspendCounter++,Ga=Ou=null,hr=N,k.H=F,k.A=j,qn===null&&(Or=null,lr=0,Bc()),se}function im(){for(;qn!==null;)nt(qn)}function id(f,m){var w=hr;hr|=2;var N=Vt(),F=$t();Or!==f||lr!==m?(M0=null,mo=oe()+500,it(f,m)):Qn=kt(f,m);e:do try{if(cn!==0&&qn!==null){m=qn;var j=rr;t:switch(cn){case 1:cn=0,rr=null,Dt(f,m,j,1);break;case 2:case 9:if(P2(j)){cn=0,rr=null,pt(m);break}m=function(){cn!==2&&cn!==9||Or!==f||(cn=7),Kc(f)},j.then(m,m);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:P2(j)?(cn=0,rr=null,pt(m)):(cn=0,rr=null,Dt(f,m,j,7));break;case 5:var se=null;switch(qn.tag){case 26:se=qn.memoizedState;case 5:case 27:var ye=qn;if(se?v8(se):ye.stateNode.complete){cn=0,rr=null;var Ge=ye.sibling;if(Ge!==null)qn=Ge;else{var ft=ye.return;ft!==null?(qn=ft,ln(ft)):qn=null}break t}}cn=0,rr=null,Dt(f,m,j,5);break;case 6:cn=0,rr=null,Dt(f,m,j,6);break;case 8:qe(),zr=6;break e;default:throw Error(r(462))}}ht();break}catch(yt){At(f,yt)}while(!0);return Ga=Ou=null,k.H=N,k.A=F,hr=w,qn!==null?0:(Or=null,lr=0,Bc(),zr)}function ht(){for(;qn!==null&&!re();)nt(qn)}function nt(f){var m=Qp(f.alternate,f,Ui);f.memoizedProps=f.pendingProps,m===null?ln(f):qn=m}function pt(f){var m=f,w=m.alternate;switch(m.tag){case 15:case 0:m=Xa(w,m,m.pendingProps,m.type,void 0,lr);break;case 11:m=Xa(w,m,m.pendingProps,m.type.render,m.ref,lr);break;case 5:Pg(m);default:Kf(w,m),m=qn=qa(m,Ui),m=Qp(w,m,Ui)}f.memoizedProps=f.pendingProps,m===null?ln(f):qn=m}function Dt(f,m,w,N){Ga=Ou=null,Pg(m),Ic=null,Pc=0;var F=m.return;try{if(io(f,F,m,w,lr)){zr=1,Zp(f,As(w,f.current)),qn=null;return}}catch(j){if(F!==null)throw qn=F,j;zr=1,Zp(f,As(w,f.current)),qn=null;return}m.flags&32768?(cr||N===1?f=!0:Qn||(lr&536870912)!==0?f=!1:(Bn=f=!0,(N===2||N===9||N===3||N===6)&&(N=ra.current,N!==null&&N.tag===13&&(N.flags|=16384))),Jr(m,f)):ln(m)}function ln(f){var m=f;do{if((m.flags&32768)!==0){Jr(m,Bn);return}f=m.return;var w=ox(m.alternate,m,Ui);if(w!==null){qn=w;return}if(m=m.sibling,m!==null){qn=m;return}qn=m=f}while(m!==null);zr===0&&(zr=5)}function Jr(f,m){do{var w=Jp(f.alternate,f);if(w!==null){w.flags&=32767,qn=w;return}if(w=f.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!m&&(f=f.sibling,f!==null)){qn=f;return}qn=f=w}while(f!==null);zr=6,qn=null}function An(f,m,w,N,F,j,se,ye,Ge){f.cancelPendingCommit=null;do ov();while(xi!==0);if((hr&6)!==0)throw Error(r(327));if(m!==null){if(m===f.current)throw Error(r(177));if(j=m.lanes|m.childLanes,j|=Ep,ar(f,w,j,se,ye,Ge),f===Or&&(qn=Or=null,lr=0),po=m,Al=f,Xo=w,Xu=j,td=F,sv=N,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,Yq(Ue,function(){return kT(),null})):(f.callbackNode=null,f.callbackPriority=0),N=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||N){N=k.T,k.T=null,F=P.p,P.p=2,se=hr,hr|=4;try{S0(f,m,w)}finally{hr=se,P.p=F,k.T=N}}xi=1,Sr(),aa(),wr()}}function Sr(){if(xi===1){xi=0;var f=Al,m=po,w=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||w){w=k.T,k.T=null;var N=P.p;P.p=2;var F=hr;hr|=4;try{Yc(m,f);var j=Q5,se=Sp(f.containerInfo),ye=j.focusedElem,Ge=j.selectionRange;if(se!==ye&&ye&&ye.ownerDocument&&bp(ye.ownerDocument.documentElement,ye)){if(Ge!==null&&e0(ye)){var ft=Ge.start,yt=Ge.end;if(yt===void 0&&(yt=ft),"selectionStart"in ye)ye.selectionStart=ft,ye.selectionEnd=Math.min(yt,ye.value.length);else{var _t=ye.ownerDocument||document,mt=_t&&_t.defaultView||window;if(mt.getSelection){var gt=mt.getSelection(),en=ye.textContent.length,bn=Math.min(Ge.start,en),ti=Ge.end===void 0?bn:Math.min(Ge.end,en);!gt.extend&&bn>ti&&(se=ti,ti=bn,bn=se);var rt=pg(ye,bn),Ze=pg(ye,ti);if(rt&&Ze&&(gt.rangeCount!==1||gt.anchorNode!==rt.node||gt.anchorOffset!==rt.offset||gt.focusNode!==Ze.node||gt.focusOffset!==Ze.offset)){var ut=_t.createRange();ut.setStart(rt.node,rt.offset),gt.removeAllRanges(),bn>ti?(gt.addRange(ut),gt.extend(Ze.node,Ze.offset)):(ut.setEnd(Ze.node,Ze.offset),gt.addRange(ut))}}}}for(_t=[],gt=ye;gt=gt.parentNode;)gt.nodeType===1&&_t.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<_t.length;ye++){var Mt=_t[ye];Mt.element.scrollLeft=Mt.left,Mt.element.scrollTop=Mt.top}}Nb=!!K5,Q5=K5=null}finally{hr=F,P.p=N,k.T=w}}f.current=m,xi=2}}function aa(){if(xi===2){xi=0;var f=Al,m=po,w=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||w){w=k.T,k.T=null;var N=P.p;P.p=2;var F=hr;hr|=4;try{hb(f,m.alternate,m)}finally{hr=F,P.p=N,k.T=w}}xi=3}}function wr(){if(xi===4||xi===3){xi=0,ee();var f=Al,m=po,w=Xo,N=sv;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?xi=5:(xi=0,po=Al=null,Wu(f,f.pendingLanes));var F=f.pendingLanes;if(F===0&&(Jl=null),ca(w),m=m.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(st,m,void 0,(m.current.flags&128)===128)}catch{}if(N!==null){m=k.T,F=P.p,P.p=2,k.T=null;try{for(var j=f.onRecoverableError,se=0;se<N.length;se++){var ye=N[se];j(ye.value,{componentStack:ye.stack})}}finally{k.T=m,P.p=F}}(Xo&3)!==0&&ov(),Kc(f),F=f.pendingLanes,(w&261930)!==0&&(F&42)!==0?f===rd?nd++:(nd=0,rd=f):nd=0,cx(0)}}function Wu(f,m){(f.pooledCacheLanes&=m)===0&&(m=f.pooledCache,m!=null&&(f.pooledCache=null,Ta(m)))}function ov(){return Sr(),aa(),wr(),kT()}function kT(){if(xi!==5)return!1;var f=Al,m=Xu;Xu=0;var w=ca(Xo),N=k.T,F=P.p;try{P.p=32>w?32:w,k.T=null,w=td,td=null;var j=Al,se=Xo;if(xi=0,po=Al=null,Xo=0,(hr&6)!==0)throw Error(r(331));var ye=hr;if(hr|=4,ed(j.current),gi(j,j.current,se,w),hr=ye,cx(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(st,j)}catch{}return!0}finally{P.p=F,k.T=N,Wu(f,m)}}function IT(f,m,w){m=As(w,m),m=sx(f.stateNode,m,2),f=Lu(f,m,2),f!==null&&(Fn(f,2),Kc(f))}function qr(f,m,w){if(f.tag===3)IT(f,f,w);else for(;m!==null;){if(m.tag===3){IT(m,f,w);break}else if(m.tag===1){var N=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Jl===null||!Jl.has(N))){f=As(w,f),w=v0(2),N=Lu(m,w,2),N!==null&&(Ns(w,N,m,f),Fn(N,2),Kc(N));break}}m=m.return}}function j5(f,m,w){var N=f.pingCache;if(N===null){N=f.pingCache=new av;var F=new Set;N.set(m,F)}else F=N.get(m),F===void 0&&(F=new Set,N.set(m,F));F.has(w)||(jr=!0,F.add(w),f=$q.bind(null,f,m,w),m.then(f,f))}function $q(f,m,w){var N=f.pingCache;N!==null&&N.delete(m),f.pingedLanes|=f.suspendedLanes&w,f.warmLanes&=~w,Or===f&&(lr&w)===w&&(zr===4||zr===3&&(lr&62914560)===lr&&300>oe()-$u?(hr&2)===0&&it(f,0):Sl|=w,ho===lr&&(ho=0)),Kc(f)}function PT(f,m){m===0&&(m=Ht()),f=Oc(f,m),f!==null&&(Fn(f,m),Kc(f))}function Xq(f){var m=f.memoizedState,w=0;m!==null&&(w=m.retryLane),PT(f,w)}function Wq(f,m){var w=0;switch(f.tag){case 31:case 13:var N=f.stateNode,F=f.memoizedState;F!==null&&(w=F.retryLane);break;case 19:N=f.stateNode;break;case 22:N=f.stateNode._retryCache;break;default:throw Error(r(314))}N!==null&&N.delete(m),PT(f,w)}function Yq(f,m){return we(f,m)}var vb=null,lv=null,V5=!1,gb=!1,H5=!1,_0=0;function Kc(f){f!==lv&&f.next===null&&(lv===null?vb=lv=f:lv=lv.next=f),gb=!0,V5||(V5=!0,Kq())}function cx(f,m){if(!H5&&gb){H5=!0;do for(var w=!1,N=vb;N!==null;){if(f!==0){var F=N.pendingLanes;if(F===0)var j=0;else{var se=N.suspendedLanes,ye=N.pingedLanes;j=(1<<31-ze(42|f)+1)-1,j&=F&~(se&~ye),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(w=!0,qT(N,j))}else j=lr,j=wt(N,N===Or?j:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(j&3)===0||kt(N,j)||(w=!0,qT(N,j));N=N.next}while(w);H5=!1}}function Zq(){jT()}function jT(){gb=V5=!1;var f=0;_0!==0&&oG()&&(f=_0);for(var m=oe(),w=null,N=vb;N!==null;){var F=N.next,j=VT(N,m);j===0?(N.next=null,w===null?vb=F:w.next=F,F===null&&(lv=w)):(w=N,(f!==0||(j&3)!==0)&&(gb=!0)),N=F}xi!==0&&xi!==5||cx(f),_0!==0&&(_0=0)}function VT(f,m){for(var w=f.suspendedLanes,N=f.pingedLanes,F=f.expirationTimes,j=f.pendingLanes&-62914561;0<j;){var se=31-ze(j),ye=1<<se,Ge=F[se];Ge===-1?((ye&w)===0||(ye&N)!==0)&&(F[se]=Jt(ye,m)):Ge<=m&&(f.expiredLanes|=ye),j&=~ye}if(m=Or,w=lr,w=wt(f,f===m?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),N=f.callbackNode,w===0||f===m&&(cn===2||cn===9)||f.cancelPendingCommit!==null)return N!==null&&N!==null&&ie(N),f.callbackNode=null,f.callbackPriority=0;if((w&3)===0||kt(f,w)){if(m=w&-w,m===f.callbackPriority)return m;switch(N!==null&&ie(N),ca(w)){case 2:case 8:w=Le;break;case 32:w=Ue;break;case 268435456:w=et;break;default:w=Ue}return N=HT.bind(null,f),w=we(w,N),f.callbackPriority=m,f.callbackNode=w,m}return N!==null&&N!==null&&ie(N),f.callbackPriority=2,f.callbackNode=null,2}function HT(f,m){if(xi!==0&&xi!==5)return f.callbackNode=null,f.callbackPriority=0,null;var w=f.callbackNode;if(ov()&&f.callbackNode!==w)return null;var N=lr;return N=wt(f,f===Or?N:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),N===0?null:(D(f,N,m),VT(f,oe()),f.callbackNode!=null&&f.callbackNode===w?HT.bind(null,f):null)}function qT(f,m){if(ov())return null;D(f,m,!0)}function Kq(){uG(function(){(hr&6)!==0?we(De,Zq):jT()})}function q5(){if(_0===0){var f=Fu;f===0&&(f=Pe,Pe<<=1,(Pe&261888)===0&&(Pe=256)),_0=f}return _0}function GT(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Fo(""+f)}function $T(f,m){var w=m.ownerDocument.createElement("input");return w.name=m.name,w.value=m.value,f.id&&w.setAttribute("form",f.id),m.parentNode.insertBefore(w,m),f=new FormData(f),w.parentNode.removeChild(w),f}function Qq(f,m,w,N,F){if(m==="submit"&&w&&w.stateNode===F){var j=GT((F[hi]||null).action),se=N.submitter;se&&(m=(m=se[hi]||null)?GT(m.formAction):se.getAttribute("formAction"),m!==null&&(j=m,se=null));var ye=new Eu("action","action",null,N,F);f.push({event:ye,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(_0!==0){var Ge=se?$T(F,se):new FormData(F);tx(w,{pending:!0,data:Ge,method:F.method,action:j},null,Ge)}}else typeof j=="function"&&(ye.preventDefault(),Ge=se?$T(F,se):new FormData(F),tx(w,{pending:!0,data:Ge,method:F.method,action:j},j,Ge))},currentTarget:F}]})}}for(var G5=0;G5<_p.length;G5++){var $5=_p[G5],Jq=$5.toLowerCase(),eG=$5[0].toUpperCase()+$5.slice(1);Ha(Jq,"on"+eG)}Ha(ws,"onAnimationEnd"),Ha(vg,"onAnimationIteration"),Ha(Il,"onAnimationStart"),Ha("dblclick","onDoubleClick"),Ha("focusin","onFocus"),Ha("focusout","onBlur"),Ha(i0,"onTransitionRun"),Ha(Dc,"onTransitionStart"),Ha(gg,"onTransitionCancel"),Ha(Mp,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fx));function XT(f,m){m=(m&4)!==0;for(var w=0;w<f.length;w++){var N=f[w],F=N.event;N=N.listeners;e:{var j=void 0;if(m)for(var se=N.length-1;0<=se;se--){var ye=N[se],Ge=ye.instance,ft=ye.currentTarget;if(ye=ye.listener,Ge!==j&&F.isPropagationStopped())break e;j=ye,F.currentTarget=ft;try{j(F)}catch(yt){Rc(yt)}F.currentTarget=null,j=Ge}else for(se=0;se<N.length;se++){if(ye=N[se],Ge=ye.instance,ft=ye.currentTarget,ye=ye.listener,Ge!==j&&F.isPropagationStopped())break e;j=ye,F.currentTarget=ft;try{j(F)}catch(yt){Rc(yt)}F.currentTarget=null,j=Ge}}}}function fr(f,m){var w=m[zl];w===void 0&&(w=m[zl]=new Set);var N=f+"__bubble";w.has(N)||(WT(m,f,2,!1),w.add(N))}function X5(f,m,w){var N=0;m&&(N|=4),WT(w,f,N,m)}var xb="_reactListening"+Math.random().toString(36).slice(2);function W5(f){if(!f[xb]){f[xb]=!0,qt.forEach(function(w){w!=="selectionchange"&&(tG.has(w)||X5(w,!1,f),X5(w,!0,f))});var m=f.nodeType===9?f:f.ownerDocument;m===null||m[xb]||(m[xb]=!0,X5("selectionchange",!1,m))}}function WT(f,m,w,N){switch(A8(m)){case 2:var F=CG;break;case 8:F=DG;break;default:F=uA}w=F.bind(null,m,w,f),F=void 0,!Va||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(F=!0),N?F!==void 0?f.addEventListener(m,w,{capture:!0,passive:F}):f.addEventListener(m,w,!0):F!==void 0?f.addEventListener(m,w,{passive:F}):f.addEventListener(m,w,!1)}function Y5(f,m,w,N,F){var j=N;if((m&1)===0&&(m&2)===0&&N!==null)e:for(;;){if(N===null)return;var se=N.tag;if(se===3||se===4){var ye=N.stateNode.containerInfo;if(ye===F)break;if(se===4)for(se=N.return;se!==null;){var Ge=se.tag;if((Ge===3||Ge===4)&&se.stateNode.containerInfo===F)return;se=se.return}for(;ye!==null;){if(se=at(ye),se===null)return;if(Ge=se.tag,Ge===5||Ge===6||Ge===26||Ge===27){N=j=se;continue e}ye=ye.parentNode}}N=N.return}Ac(function(){var ft=j,yt=Tf(w),_t=[];e:{var mt=Cu.get(f);if(mt!==void 0){var gt=Eu,en=f;switch(f){case"keypress":if(Fl(w)===0)break e;case"keydown":case"keyup":gt=ag;break;case"focusin":en="focus",gt=Wd;break;case"focusout":en="blur",gt=Wd;break;case"beforeblur":case"afterblur":gt=Wd;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=Nu;break;case ws:case vg:case Il:gt=Ss;break;case Mp:gt=O5;break;case"scroll":case"scrollend":gt=Ll;break;case"wheel":gt=Mc;break;case"copy":case"cut":case"paste":gt=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=vp;break;case"toggle":case"beforetoggle":gt=og}var bn=(m&4)!==0,ti=!bn&&(f==="scroll"||f==="scrollend"),rt=bn?mt!==null?mt+"Capture":null:mt;bn=[];for(var Ze=ft,ut;Ze!==null;){var Mt=Ze;if(ut=Mt.stateNode,Mt=Mt.tag,Mt!==5&&Mt!==26&&Mt!==27||ut===null||rt===null||(Mt=ul(Ze,rt),Mt!=null&&bn.push(dx(Ze,Mt,ut))),ti)break;Ze=Ze.return}0<bn.length&&(mt=new gt(mt,en,null,w,yt),_t.push({event:mt,listeners:bn}))}}if((m&7)===0){e:{if(mt=f==="mouseover"||f==="pointerover",gt=f==="mouseout"||f==="pointerout",mt&&w!==ll&&(en=w.relatedTarget||w.fromElement)&&(at(en)||en[wa]))break e;if((gt||mt)&&(mt=yt.window===yt?yt:(mt=yt.ownerDocument)?mt.defaultView||mt.parentWindow:window,gt?(en=w.relatedTarget||w.toElement,gt=ft,en=en?at(en):null,en!==null&&(ti=a(en),bn=en.tag,en!==ti||bn!==5&&bn!==27&&bn!==6)&&(en=null)):(gt=null,en=ft),gt!==en)){if(bn=pp,Mt="onMouseLeave",rt="onMouseEnter",Ze="mouse",(f==="pointerout"||f==="pointerover")&&(bn=vp,Mt="onPointerLeave",rt="onPointerEnter",Ze="pointer"),ti=gt==null?mt:Et(gt),ut=en==null?mt:Et(en),mt=new bn(Mt,Ze+"leave",gt,w,yt),mt.target=ti,mt.relatedTarget=ut,Mt=null,at(yt)===ft&&(bn=new bn(rt,Ze+"enter",en,w,yt),bn.target=ut,bn.relatedTarget=ti,Mt=bn),ti=Mt,gt&&en)t:{for(bn=nG,rt=gt,Ze=en,ut=0,Mt=rt;Mt;Mt=bn(Mt))ut++;Mt=0;for(var dn=Ze;dn;dn=bn(dn))Mt++;for(;0<ut-Mt;)rt=bn(rt),ut--;for(;0<Mt-ut;)Ze=bn(Ze),Mt--;for(;ut--;){if(rt===Ze||Ze!==null&&rt===Ze.alternate){bn=rt;break t}rt=bn(rt),Ze=bn(Ze)}bn=null}else bn=null;gt!==null&&YT(_t,mt,gt,bn,!1),en!==null&&ti!==null&&YT(_t,ti,en,bn,!0)}}e:{if(mt=ft?Et(ft):window,gt=mt.nodeName&&mt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&mt.type==="file")var Ur=dg;else if(cg(mt))if(Eh)Ur=B2;else{Ur=Nc;var sn=Nh}else gt=mt.nodeName,!gt||gt.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?ft&&ol(ft.elementType)&&(Ur=dg):Ur=R2;if(Ur&&(Ur=Ur(f,ft))){yp(_t,Ur,w,yt);break e}sn&&sn(f,mt,ft),f==="focusout"&&ft&&mt.type==="number"&&ft.memoizedProps.value!=null&&ta(mt,"number",mt.value)}switch(sn=ft?Et(ft):window,f){case"focusin":(cg(sn)||sn.contentEditable==="true")&&(t0=sn,wp=ft,n0=null);break;case"focusout":n0=wp=t0=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,Ap(_t,w,yt);break;case"selectionchange":if(O2)break;case"keydown":case"keyup":Ap(_t,w,yt)}var Jn;if(Uf)e:{switch(f){case"compositionstart":var pr="onCompositionStart";break e;case"compositionend":pr="onCompositionEnd";break e;case"compositionupdate":pr="onCompositionUpdate";break e}pr=void 0}else Ec?gp(f,w)&&(pr="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(pr="onCompositionStart");pr&&(Na&&w.locale!=="ko"&&(Ec||pr!=="onCompositionStart"?pr==="onCompositionEnd"&&Ec&&(Jn=Bf()):(cl=yt,Rf="value"in cl?cl.value:cl.textContent,Ec=!0)),sn=yb(ft,pr),0<sn.length&&(pr=new tg(pr,f,null,w,yt),_t.push({event:pr,listeners:sn}),Jn?pr.data=Jn:(Jn=Yd(w),Jn!==null&&(pr.data=Jn)))),(Jn=Ff?xp(f,w):T2(f,w))&&(pr=yb(ft,"onBeforeInput"),0<pr.length&&(sn=new tg("onBeforeInput","beforeinput",null,w,yt),_t.push({event:sn,listeners:pr}),sn.data=Jn)),Qq(_t,f,ft,w,yt)}XT(_t,m)})}function dx(f,m,w){return{instance:f,listener:m,currentTarget:w}}function yb(f,m){for(var w=m+"Capture",N=[];f!==null;){var F=f,j=F.stateNode;if(F=F.tag,F!==5&&F!==26&&F!==27||j===null||(F=ul(f,w),F!=null&&N.unshift(dx(f,F,j)),F=ul(f,m),F!=null&&N.push(dx(f,F,j))),f.tag===3)return N;f=f.return}return[]}function nG(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function YT(f,m,w,N,F){for(var j=m._reactName,se=[];w!==null&&w!==N;){var ye=w,Ge=ye.alternate,ft=ye.stateNode;if(ye=ye.tag,Ge!==null&&Ge===N)break;ye!==5&&ye!==26&&ye!==27||ft===null||(Ge=ft,F?(ft=ul(w,j),ft!=null&&se.unshift(dx(w,ft,Ge))):F||(ft=ul(w,j),ft!=null&&se.push(dx(w,ft,Ge)))),w=w.return}se.length!==0&&f.push({event:m,listeners:se})}var rG=/\r\n?/g,iG=/\u0000|\uFFFD/g;function ZT(f){return(typeof f=="string"?f:""+f).replace(rG,`
`).replace(iG,"")}function KT(f,m){return m=ZT(m),ZT(f)===m}function ei(f,m,w,N,F,j){switch(w){case"children":typeof N=="string"?m==="body"||m==="textarea"&&N===""||sl(f,N):(typeof N=="number"||typeof N=="bigint")&&m!=="body"&&sl(f,""+N);break;case"className":Kt(f,"class",N);break;case"tabIndex":Kt(f,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(f,w,N);break;case"style":Ef(f,N,j);break;case"data":if(m!=="object"){Kt(f,"data",N);break}case"src":case"href":if(N===""&&(m!=="a"||w!=="href")){f.removeAttribute(w);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){f.removeAttribute(w);break}N=Fo(""+N),f.setAttribute(w,N);break;case"action":case"formAction":if(typeof N=="function"){f.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(w==="formAction"?(m!=="input"&&ei(f,m,"name",F.name,F,null),ei(f,m,"formEncType",F.formEncType,F,null),ei(f,m,"formMethod",F.formMethod,F,null),ei(f,m,"formTarget",F.formTarget,F,null)):(ei(f,m,"encType",F.encType,F,null),ei(f,m,"method",F.method,F,null),ei(f,m,"target",F.target,F,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){f.removeAttribute(w);break}N=Fo(""+N),f.setAttribute(w,N);break;case"onClick":N!=null&&(f.onclick=_a);break;case"onScroll":N!=null&&fr("scroll",f);break;case"onScrollEnd":N!=null&&fr("scrollend",f);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(w=N.__html,w!=null){if(F.children!=null)throw Error(r(60));f.innerHTML=w}}break;case"multiple":f.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":f.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){f.removeAttribute("xlink:href");break}w=Fo(""+N),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?f.setAttribute(w,""+N):f.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?f.setAttribute(w,""):f.removeAttribute(w);break;case"capture":case"download":N===!0?f.setAttribute(w,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?f.setAttribute(w,N):f.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?f.setAttribute(w,N):f.removeAttribute(w);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?f.removeAttribute(w):f.setAttribute(w,N);break;case"popover":fr("beforetoggle",f),fr("toggle",f),Vn(f,"popover",N);break;case"xlinkActuate":ri(f,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":ri(f,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":ri(f,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":ri(f,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":ri(f,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":ri(f,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":ri(f,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":ri(f,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":ri(f,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":Vn(f,"is",N);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=Sh.get(w)||w,Vn(f,w,N))}}function Z5(f,m,w,N,F,j){switch(w){case"style":Ef(f,N,j);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(w=N.__html,w!=null){if(F.children!=null)throw Error(r(60));f.innerHTML=w}}break;case"children":typeof N=="string"?sl(f,N):(typeof N=="number"||typeof N=="bigint")&&sl(f,""+N);break;case"onScroll":N!=null&&fr("scroll",f);break;case"onScrollEnd":N!=null&&fr("scrollend",f);break;case"onClick":N!=null&&(f.onclick=_a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tn.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(F=w.endsWith("Capture"),m=w.slice(2,F?w.length-7:void 0),j=f[hi]||null,j=j!=null?j[w]:null,typeof j=="function"&&f.removeEventListener(m,j,F),typeof N=="function")){typeof j!="function"&&j!==null&&(w in f?f[w]=null:f.hasAttribute(w)&&f.removeAttribute(w)),f.addEventListener(m,N,F);break e}w in f?f[w]=N:N===!0?f.setAttribute(w,""):Vn(f,w,N)}}}function us(f,m,w){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fr("error",f),fr("load",f);var N=!1,F=!1,j;for(j in w)if(w.hasOwnProperty(j)){var se=w[j];if(se!=null)switch(j){case"src":N=!0;break;case"srcSet":F=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:ei(f,m,j,se,w,null)}}F&&ei(f,m,"srcSet",w.srcSet,w,null),N&&ei(f,m,"src",w.src,w,null);return;case"input":fr("invalid",f);var ye=j=se=F=null,Ge=null,ft=null;for(N in w)if(w.hasOwnProperty(N)){var yt=w[N];if(yt!=null)switch(N){case"name":F=yt;break;case"type":se=yt;break;case"checked":Ge=yt;break;case"defaultChecked":ft=yt;break;case"value":j=yt;break;case"defaultValue":ye=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(r(137,m));break;default:ei(f,m,N,yt,w,null)}}Ma(f,j,ye,Ge,ft,se,F,!1);return;case"select":fr("invalid",f),N=se=j=null;for(F in w)if(w.hasOwnProperty(F)&&(ye=w[F],ye!=null))switch(F){case"value":j=ye;break;case"defaultValue":se=ye;break;case"multiple":N=ye;default:ei(f,m,F,ye,w,null)}m=j,w=se,f.multiple=!!N,m!=null?zo(f,!!N,m,!1):w!=null&&zo(f,!!N,w,!0);return;case"textarea":fr("invalid",f),j=F=N=null;for(se in w)if(w.hasOwnProperty(se)&&(ye=w[se],ye!=null))switch(se){case"value":N=ye;break;case"defaultValue":F=ye;break;case"children":j=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(91));break;default:ei(f,m,se,ye,w,null)}Uo(f,N,F,j);return;case"option":for(Ge in w)if(w.hasOwnProperty(Ge)&&(N=w[Ge],N!=null))switch(Ge){case"selected":f.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:ei(f,m,Ge,N,w,null)}return;case"dialog":fr("beforetoggle",f),fr("toggle",f),fr("cancel",f),fr("close",f);break;case"iframe":case"object":fr("load",f);break;case"video":case"audio":for(N=0;N<fx.length;N++)fr(fx[N],f);break;case"image":fr("error",f),fr("load",f);break;case"details":fr("toggle",f);break;case"embed":case"source":case"link":fr("error",f),fr("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ft in w)if(w.hasOwnProperty(ft)&&(N=w[ft],N!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:ei(f,m,ft,N,w,null)}return;default:if(ol(m)){for(yt in w)w.hasOwnProperty(yt)&&(N=w[yt],N!==void 0&&Z5(f,m,yt,N,w,void 0));return}}for(ye in w)w.hasOwnProperty(ye)&&(N=w[ye],N!=null&&ei(f,m,ye,N,w,null))}function aG(f,m,w,N){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var F=null,j=null,se=null,ye=null,Ge=null,ft=null,yt=null;for(gt in w){var _t=w[gt];if(w.hasOwnProperty(gt)&&_t!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":Ge=_t;default:N.hasOwnProperty(gt)||ei(f,m,gt,null,N,_t)}}for(var mt in N){var gt=N[mt];if(_t=w[mt],N.hasOwnProperty(mt)&&(gt!=null||_t!=null))switch(mt){case"type":j=gt;break;case"name":F=gt;break;case"checked":ft=gt;break;case"defaultChecked":yt=gt;break;case"value":se=gt;break;case"defaultValue":ye=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(r(137,m));break;default:gt!==_t&&ei(f,m,mt,gt,N,_t)}}ea(f,se,ye,Ge,ft,yt,j,F);return;case"select":gt=se=ye=mt=null;for(j in w)if(Ge=w[j],w.hasOwnProperty(j)&&Ge!=null)switch(j){case"value":break;case"multiple":gt=Ge;default:N.hasOwnProperty(j)||ei(f,m,j,null,N,Ge)}for(F in N)if(j=N[F],Ge=w[F],N.hasOwnProperty(F)&&(j!=null||Ge!=null))switch(F){case"value":mt=j;break;case"defaultValue":ye=j;break;case"multiple":se=j;default:j!==Ge&&ei(f,m,F,j,N,Ge)}m=ye,w=se,N=gt,mt!=null?zo(f,!!w,mt,!1):!!N!=!!w&&(m!=null?zo(f,!!w,m,!0):zo(f,!!w,w?[]:"",!1));return;case"textarea":gt=mt=null;for(ye in w)if(F=w[ye],w.hasOwnProperty(ye)&&F!=null&&!N.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:ei(f,m,ye,null,N,F)}for(se in N)if(F=N[se],j=w[se],N.hasOwnProperty(se)&&(F!=null||j!=null))switch(se){case"value":mt=F;break;case"defaultValue":gt=F;break;case"children":break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:F!==j&&ei(f,m,se,F,N,j)}Sc(f,mt,gt);return;case"option":for(var en in w)if(mt=w[en],w.hasOwnProperty(en)&&mt!=null&&!N.hasOwnProperty(en))switch(en){case"selected":f.selected=!1;break;default:ei(f,m,en,null,N,mt)}for(Ge in N)if(mt=N[Ge],gt=w[Ge],N.hasOwnProperty(Ge)&&mt!==gt&&(mt!=null||gt!=null))switch(Ge){case"selected":f.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:ei(f,m,Ge,mt,N,gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bn in w)mt=w[bn],w.hasOwnProperty(bn)&&mt!=null&&!N.hasOwnProperty(bn)&&ei(f,m,bn,null,N,mt);for(ft in N)if(mt=N[ft],gt=w[ft],N.hasOwnProperty(ft)&&mt!==gt&&(mt!=null||gt!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,m));break;default:ei(f,m,ft,mt,N,gt)}return;default:if(ol(m)){for(var ti in w)mt=w[ti],w.hasOwnProperty(ti)&&mt!==void 0&&!N.hasOwnProperty(ti)&&Z5(f,m,ti,void 0,N,mt);for(yt in N)mt=N[yt],gt=w[yt],!N.hasOwnProperty(yt)||mt===gt||mt===void 0&&gt===void 0||Z5(f,m,yt,mt,N,gt);return}}for(var rt in w)mt=w[rt],w.hasOwnProperty(rt)&&mt!=null&&!N.hasOwnProperty(rt)&&ei(f,m,rt,null,N,mt);for(_t in N)mt=N[_t],gt=w[_t],!N.hasOwnProperty(_t)||mt===gt||mt==null&&gt==null||ei(f,m,_t,mt,N,gt)}function QT(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sG(){if(typeof performance.getEntriesByType=="function"){for(var f=0,m=0,w=performance.getEntriesByType("resource"),N=0;N<w.length;N++){var F=w[N],j=F.transferSize,se=F.initiatorType,ye=F.duration;if(j&&ye&&QT(se)){for(se=0,ye=F.responseEnd,N+=1;N<w.length;N++){var Ge=w[N],ft=Ge.startTime;if(ft>ye)break;var yt=Ge.transferSize,_t=Ge.initiatorType;yt&&QT(_t)&&(Ge=Ge.responseEnd,se+=yt*(Ge<ye?1:(ye-ft)/(Ge-ft)))}if(--N,m+=8*(j+se)/(F.duration/1e3),f++,10<f)break}}if(0<f)return m/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var K5=null,Q5=null;function bb(f){return f.nodeType===9?f:f.ownerDocument}function JT(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e8(f,m){if(f===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&m==="foreignObject"?0:f}function J5(f,m){return f==="textarea"||f==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var eA=null;function oG(){var f=window.event;return f&&f.type==="popstate"?f===eA?!1:(eA=f,!0):(eA=null,!1)}var t8=typeof setTimeout=="function"?setTimeout:void 0,lG=typeof clearTimeout=="function"?clearTimeout:void 0,n8=typeof Promise=="function"?Promise:void 0,uG=typeof queueMicrotask=="function"?queueMicrotask:typeof n8<"u"?function(f){return n8.resolve(null).then(f).catch(cG)}:t8;function cG(f){setTimeout(function(){throw f})}function E0(f){return f==="head"}function r8(f,m){var w=m,N=0;do{var F=w.nextSibling;if(f.removeChild(w),F&&F.nodeType===8)if(w=F.data,w==="/$"||w==="/&"){if(N===0){f.removeChild(F),dv(m);return}N--}else if(w==="$"||w==="$?"||w==="$~"||w==="$!"||w==="&")N++;else if(w==="html")hx(f.ownerDocument.documentElement);else if(w==="head"){w=f.ownerDocument.head,hx(w);for(var j=w.firstChild;j;){var se=j.nextSibling,ye=j.nodeName;j[Je]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&j.rel.toLowerCase()==="stylesheet"||w.removeChild(j),j=se}}else w==="body"&&hx(f.ownerDocument.body);w=F}while(w);dv(m)}function i8(f,m){var w=f;f=0;do{var N=w.nextSibling;if(w.nodeType===1?m?(w._stashedDisplay=w.style.display,w.style.display="none"):(w.style.display=w._stashedDisplay||"",w.getAttribute("style")===""&&w.removeAttribute("style")):w.nodeType===3&&(m?(w._stashedText=w.nodeValue,w.nodeValue=""):w.nodeValue=w._stashedText||""),N&&N.nodeType===8)if(w=N.data,w==="/$"){if(f===0)break;f--}else w!=="$"&&w!=="$?"&&w!=="$~"&&w!=="$!"||f++;w=N}while(w)}function tA(f){var m=f.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var w=m;switch(m=m.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":tA(w),dt(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}f.removeChild(w)}}function fG(f,m,w,N){for(;f.nodeType===1;){var F=w;if(f.nodeName.toLowerCase()!==m.toLowerCase()){if(!N&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(N){if(!f[Je])switch(m){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(j=f.getAttribute("rel"),j==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(j!==F.rel||f.getAttribute("href")!==(F.href==null||F.href===""?null:F.href)||f.getAttribute("crossorigin")!==(F.crossOrigin==null?null:F.crossOrigin)||f.getAttribute("title")!==(F.title==null?null:F.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(j=f.getAttribute("src"),(j!==(F.src==null?null:F.src)||f.getAttribute("type")!==(F.type==null?null:F.type)||f.getAttribute("crossorigin")!==(F.crossOrigin==null?null:F.crossOrigin))&&j&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(m==="input"&&f.type==="hidden"){var j=F.name==null?null:""+F.name;if(F.type==="hidden"&&f.getAttribute("name")===j)return f}else return f;if(f=eu(f.nextSibling),f===null)break}return null}function dG(f,m,w){if(m==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!w||(f=eu(f.nextSibling),f===null))return null;return f}function a8(f,m){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!m||(f=eu(f.nextSibling),f===null))return null;return f}function nA(f){return f.data==="$?"||f.data==="$~"}function rA(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function hG(f,m){var w=f.ownerDocument;if(f.data==="$~")f._reactRetry=m;else if(f.data!=="$?"||w.readyState!=="loading")m();else{var N=function(){m(),w.removeEventListener("DOMContentLoaded",N)};w.addEventListener("DOMContentLoaded",N),f._reactRetry=N}}function eu(f){for(;f!=null;f=f.nextSibling){var m=f.nodeType;if(m===1||m===3)break;if(m===8){if(m=f.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return f}var iA=null;function s8(f){f=f.nextSibling;for(var m=0;f;){if(f.nodeType===8){var w=f.data;if(w==="/$"||w==="/&"){if(m===0)return eu(f.nextSibling);m--}else w!=="$"&&w!=="$!"&&w!=="$?"&&w!=="$~"&&w!=="&"||m++}f=f.nextSibling}return null}function o8(f){f=f.previousSibling;for(var m=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"||w==="$~"||w==="&"){if(m===0)return f;m--}else w!=="/$"&&w!=="/&"||m++}f=f.previousSibling}return null}function l8(f,m,w){switch(m=bb(w),f){case"html":if(f=m.documentElement,!f)throw Error(r(452));return f;case"head":if(f=m.head,!f)throw Error(r(453));return f;case"body":if(f=m.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function hx(f){for(var m=f.attributes;m.length;)f.removeAttributeNode(m[0]);dt(f)}var tu=new Map,u8=new Set;function Sb(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var ad=P.d;P.d={f:mG,r:pG,D:vG,C:gG,L:xG,m:yG,X:SG,S:bG,M:wG};function mG(){var f=ad.f(),m=Ee();return f||m}function pG(f){var m=Ye(f);m!==null&&m.tag===5&&m.type==="form"?nx(m):ad.r(f)}var uv=typeof document>"u"?null:document;function c8(f,m,w){var N=uv;if(N&&typeof m=="string"&&m){var F=Rr(m);F='link[rel="'+f+'"][href="'+F+'"]',typeof w=="string"&&(F+='[crossorigin="'+w+'"]'),u8.has(F)||(u8.add(F),f={rel:f,crossOrigin:w,href:m},N.querySelector(F)===null&&(m=N.createElement("link"),us(m,"link",f),Tt(m),N.head.appendChild(m)))}}function vG(f){ad.D(f),c8("dns-prefetch",f,null)}function gG(f,m){ad.C(f,m),c8("preconnect",f,m)}function xG(f,m,w){ad.L(f,m,w);var N=uv;if(N&&f&&m){var F='link[rel="preload"][as="'+Rr(m)+'"]';m==="image"&&w&&w.imageSrcSet?(F+='[imagesrcset="'+Rr(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(F+='[imagesizes="'+Rr(w.imageSizes)+'"]')):F+='[href="'+Rr(f)+'"]';var j=F;switch(m){case"style":j=cv(f);break;case"script":j=fv(f)}tu.has(j)||(f=d({rel:"preload",href:m==="image"&&w&&w.imageSrcSet?void 0:f,as:m},w),tu.set(j,f),N.querySelector(F)!==null||m==="style"&&N.querySelector(mx(j))||m==="script"&&N.querySelector(px(j))||(m=N.createElement("link"),us(m,"link",f),Tt(m),N.head.appendChild(m)))}}function yG(f,m){ad.m(f,m);var w=uv;if(w&&f){var N=m&&typeof m.as=="string"?m.as:"script",F='link[rel="modulepreload"][as="'+Rr(N)+'"][href="'+Rr(f)+'"]',j=F;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=fv(f)}if(!tu.has(j)&&(f=d({rel:"modulepreload",href:f},m),tu.set(j,f),w.querySelector(F)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(px(j)))return}N=w.createElement("link"),us(N,"link",f),Tt(N),w.head.appendChild(N)}}}function bG(f,m,w){ad.S(f,m,w);var N=uv;if(N&&f){var F=ot(N).hoistableStyles,j=cv(f);m=m||"default";var se=F.get(j);if(!se){var ye={loading:0,preload:null};if(se=N.querySelector(mx(j)))ye.loading=5;else{f=d({rel:"stylesheet",href:f,"data-precedence":m},w),(w=tu.get(j))&&aA(f,w);var Ge=se=N.createElement("link");Tt(Ge),us(Ge,"link",f),Ge._p=new Promise(function(ft,yt){Ge.onload=ft,Ge.onerror=yt}),Ge.addEventListener("load",function(){ye.loading|=1}),Ge.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,wb(se,m,N)}se={type:"stylesheet",instance:se,count:1,state:ye},F.set(j,se)}}}function SG(f,m){ad.X(f,m);var w=uv;if(w&&f){var N=ot(w).hoistableScripts,F=fv(f),j=N.get(F);j||(j=w.querySelector(px(F)),j||(f=d({src:f,async:!0},m),(m=tu.get(F))&&sA(f,m),j=w.createElement("script"),Tt(j),us(j,"link",f),w.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},N.set(F,j))}}function wG(f,m){ad.M(f,m);var w=uv;if(w&&f){var N=ot(w).hoistableScripts,F=fv(f),j=N.get(F);j||(j=w.querySelector(px(F)),j||(f=d({src:f,async:!0,type:"module"},m),(m=tu.get(F))&&sA(f,m),j=w.createElement("script"),Tt(j),us(j,"link",f),w.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},N.set(F,j))}}function f8(f,m,w,N){var F=(F=de.current)?Sb(F):null;if(!F)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(m=cv(w.href),w=ot(F).hoistableStyles,N=w.get(m),N||(N={type:"style",instance:null,count:0,state:null},w.set(m,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){f=cv(w.href);var j=ot(F).hoistableStyles,se=j.get(f);if(se||(F=F.ownerDocument||F,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(f,se),(j=F.querySelector(mx(f)))&&!j._p&&(se.instance=j,se.state.loading=5),tu.has(f)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},tu.set(f,w),j||AG(F,f,w,se.state))),m&&N===null)throw Error(r(528,""));return se}if(m&&N!==null)throw Error(r(529,""));return null;case"script":return m=w.async,w=w.src,typeof w=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=fv(w),w=ot(F).hoistableScripts,N=w.get(m),N||(N={type:"script",instance:null,count:0,state:null},w.set(m,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function cv(f){return'href="'+Rr(f)+'"'}function mx(f){return'link[rel="stylesheet"]['+f+"]"}function d8(f){return d({},f,{"data-precedence":f.precedence,precedence:null})}function AG(f,m,w,N){f.querySelector('link[rel="preload"][as="style"]['+m+"]")?N.loading=1:(m=f.createElement("link"),N.preload=m,m.addEventListener("load",function(){return N.loading|=1}),m.addEventListener("error",function(){return N.loading|=2}),us(m,"link",w),Tt(m),f.head.appendChild(m))}function fv(f){return'[src="'+Rr(f)+'"]'}function px(f){return"script[async]"+f}function h8(f,m,w){if(m.count++,m.instance===null)switch(m.type){case"style":var N=f.querySelector('style[data-href~="'+Rr(w.href)+'"]');if(N)return m.instance=N,Tt(N),N;var F=d({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return N=(f.ownerDocument||f).createElement("style"),Tt(N),us(N,"style",F),wb(N,w.precedence,f),m.instance=N;case"stylesheet":F=cv(w.href);var j=f.querySelector(mx(F));if(j)return m.state.loading|=4,m.instance=j,Tt(j),j;N=d8(w),(F=tu.get(F))&&aA(N,F),j=(f.ownerDocument||f).createElement("link"),Tt(j);var se=j;return se._p=new Promise(function(ye,Ge){se.onload=ye,se.onerror=Ge}),us(j,"link",N),m.state.loading|=4,wb(j,w.precedence,f),m.instance=j;case"script":return j=fv(w.src),(F=f.querySelector(px(j)))?(m.instance=F,Tt(F),F):(N=w,(F=tu.get(j))&&(N=d({},w),sA(N,F)),f=f.ownerDocument||f,F=f.createElement("script"),Tt(F),us(F,"link",N),f.head.appendChild(F),m.instance=F);case"void":return null;default:throw Error(r(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(N=m.instance,m.state.loading|=4,wb(N,w.precedence,f));return m.instance}function wb(f,m,w){for(var N=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),F=N.length?N[N.length-1]:null,j=F,se=0;se<N.length;se++){var ye=N[se];if(ye.dataset.precedence===m)j=ye;else if(j!==F)break}j?j.parentNode.insertBefore(f,j.nextSibling):(m=w.nodeType===9?w.head:w,m.insertBefore(f,m.firstChild))}function aA(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.title==null&&(f.title=m.title)}function sA(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.integrity==null&&(f.integrity=m.integrity)}var Ab=null;function m8(f,m,w){if(Ab===null){var N=new Map,F=Ab=new Map;F.set(w,N)}else F=Ab,N=F.get(w),N||(N=new Map,F.set(w,N));if(N.has(f))return N;for(N.set(f,null),w=w.getElementsByTagName(f),F=0;F<w.length;F++){var j=w[F];if(!(j[Je]||j[mn]||f==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var se=j.getAttribute(m)||"";se=f+se;var ye=N.get(se);ye?ye.push(j):N.set(se,[j])}}return N}function p8(f,m,w){f=f.ownerDocument||f,f.head.insertBefore(w,m==="title"?f.querySelector("head > title"):null)}function MG(f,m,w){if(w===1||m.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return f=m.disabled,typeof m.precedence=="string"&&f==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function v8(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function _G(f,m,w,N){if(w.type==="stylesheet"&&(typeof N.media!="string"||matchMedia(N.media).matches!==!1)&&(w.state.loading&4)===0){if(w.instance===null){var F=cv(N.href),j=m.querySelector(mx(F));if(j){m=j._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(f.count++,f=Mb.bind(f),m.then(f,f)),w.state.loading|=4,w.instance=j,Tt(j);return}j=m.ownerDocument||m,N=d8(N),(F=tu.get(F))&&aA(N,F),j=j.createElement("link"),Tt(j);var se=j;se._p=new Promise(function(ye,Ge){se.onload=ye,se.onerror=Ge}),us(j,"link",N),w.instance=j}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(w,m),(m=w.state.preload)&&(w.state.loading&3)===0&&(f.count++,w=Mb.bind(f),m.addEventListener("load",w),m.addEventListener("error",w))}}var oA=0;function EG(f,m){return f.stylesheets&&f.count===0&&Eb(f,f.stylesheets),0<f.count||0<f.imgCount?function(w){var N=setTimeout(function(){if(f.stylesheets&&Eb(f,f.stylesheets),f.unsuspend){var j=f.unsuspend;f.unsuspend=null,j()}},6e4+m);0<f.imgBytes&&oA===0&&(oA=62500*sG());var F=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&Eb(f,f.stylesheets),f.unsuspend)){var j=f.unsuspend;f.unsuspend=null,j()}},(f.imgBytes>oA?50:800)+m);return f.unsuspend=w,function(){f.unsuspend=null,clearTimeout(N),clearTimeout(F)}}:null}function Mb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eb(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var _b=null;function Eb(f,m){f.stylesheets=null,f.unsuspend!==null&&(f.count++,_b=new Map,m.forEach(NG,f),_b=null,Mb.call(f))}function NG(f,m){if(!(m.state.loading&4)){var w=_b.get(f);if(w)var N=w.get(null);else{w=new Map,_b.set(f,w);for(var F=f.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<F.length;j++){var se=F[j];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(w.set(se.dataset.precedence,se),N=se)}N&&w.set(null,N)}F=m.instance,se=F.getAttribute("data-precedence"),j=w.get(se)||N,j===N&&w.set(null,F),w.set(se,F),this.count++,N=Mb.bind(this),F.addEventListener("load",N),F.addEventListener("error",N),j?j.parentNode.insertBefore(F,j.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(F,f.firstChild)),m.state.loading|=4}}var vx={$$typeof:M,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function TG(f,m,w,N,F,j,se,ye,Ge){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=N,this.onUncaughtError=F,this.onCaughtError=j,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ge,this.incompleteTransitions=new Map}function g8(f,m,w,N,F,j,se,ye,Ge,ft,yt,_t){return f=new TG(f,m,w,se,Ge,ft,yt,_t,ye),m=1,j===!0&&(m|=24),j=rs(3,null,null,m),f.current=j,j.stateNode=f,m=Mg(),m.refCount++,f.pooledCache=m,m.refCount++,j.memoizedState={element:N,isDehydrated:w,cache:m},Dg(j),f}function x8(f){return f?(f=zc,f):zc}function y8(f,m,w,N,F,j){F=x8(F),N.context===null?N.context=F:N.pendingContext=F,N=Gl(m),N.payload={element:w},j=j===void 0?null:j,j!==null&&(N.callback=j),w=Lu(f,N,m),w!==null&&(y(w,f,m),Vc(w,f,m))}function b8(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<m?w:m}}function lA(f,m){b8(f,m),(f=f.alternate)&&b8(f,m)}function S8(f){if(f.tag===13||f.tag===31){var m=Oc(f,67108864);m!==null&&y(m,f,67108864),lA(f,67108864)}}function w8(f){if(f.tag===13||f.tag===31){var m=ls();m=Kr(m);var w=Oc(f,m);w!==null&&y(w,f,m),lA(f,m)}}var Nb=!0;function CG(f,m,w,N){var F=k.T;k.T=null;var j=P.p;try{P.p=2,uA(f,m,w,N)}finally{P.p=j,k.T=F}}function DG(f,m,w,N){var F=k.T;k.T=null;var j=P.p;try{P.p=8,uA(f,m,w,N)}finally{P.p=j,k.T=F}}function uA(f,m,w,N){if(Nb){var F=cA(N);if(F===null)Y5(f,m,N,Tb,w),M8(f,N);else if(BG(F,f,m,w,N))N.stopPropagation();else if(M8(f,N),m&4&&-1<RG.indexOf(f)){for(;F!==null;){var j=Ye(F);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var se=xt(j.pendingLanes);if(se!==0){var ye=j;for(ye.pendingLanes|=2,ye.entangledLanes|=2;se;){var Ge=1<<31-ze(se);ye.entanglements[1]|=Ge,se&=~Ge}Kc(j),(hr&6)===0&&(mo=oe()+500,cx(0))}}break;case 31:case 13:ye=Oc(j,2),ye!==null&&y(ye,j,2),Ee(),lA(j,2)}if(j=cA(N),j===null&&Y5(f,m,N,Tb,w),j===F)break;F=j}F!==null&&N.stopPropagation()}else Y5(f,m,N,null,w)}}function cA(f){return f=Tf(f),fA(f)}var Tb=null;function fA(f){if(Tb=null,f=at(f),f!==null){var m=a(f);if(m===null)f=null;else{var w=m.tag;if(w===13){if(f=s(m),f!==null)return f;f=null}else if(w===31){if(f=o(m),f!==null)return f;f=null}else if(w===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;f=null}else m!==f&&(f=null)}}return Tb=f,null}function A8(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case De:return 2;case Le:return 8;case Ue:case He:return 32;case et:return 268435456;default:return 32}default:return 32}}var dA=!1,N0=null,T0=null,C0=null,gx=new Map,xx=new Map,D0=[],RG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M8(f,m){switch(f){case"focusin":case"focusout":N0=null;break;case"dragenter":case"dragleave":T0=null;break;case"mouseover":case"mouseout":C0=null;break;case"pointerover":case"pointerout":gx.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":xx.delete(m.pointerId)}}function yx(f,m,w,N,F,j){return f===null||f.nativeEvent!==j?(f={blockedOn:m,domEventName:w,eventSystemFlags:N,nativeEvent:j,targetContainers:[F]},m!==null&&(m=Ye(m),m!==null&&S8(m)),f):(f.eventSystemFlags|=N,m=f.targetContainers,F!==null&&m.indexOf(F)===-1&&m.push(F),f)}function BG(f,m,w,N,F){switch(m){case"focusin":return N0=yx(N0,f,m,w,N,F),!0;case"dragenter":return T0=yx(T0,f,m,w,N,F),!0;case"mouseover":return C0=yx(C0,f,m,w,N,F),!0;case"pointerover":var j=F.pointerId;return gx.set(j,yx(gx.get(j)||null,f,m,w,N,F)),!0;case"gotpointercapture":return j=F.pointerId,xx.set(j,yx(xx.get(j)||null,f,m,w,N,F)),!0}return!1}function _8(f){var m=at(f.target);if(m!==null){var w=a(m);if(w!==null){if(m=w.tag,m===13){if(m=s(w),m!==null){f.blockedOn=m,Hr(f.priority,function(){w8(w)});return}}else if(m===31){if(m=o(w),m!==null){f.blockedOn=m,Hr(f.priority,function(){w8(w)});return}}else if(m===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Cb(f){if(f.blockedOn!==null)return!1;for(var m=f.targetContainers;0<m.length;){var w=cA(f.nativeEvent);if(w===null){w=f.nativeEvent;var N=new w.constructor(w.type,w);ll=N,w.target.dispatchEvent(N),ll=null}else return m=Ye(w),m!==null&&S8(m),f.blockedOn=w,!1;m.shift()}return!0}function E8(f,m,w){Cb(f)&&w.delete(m)}function OG(){dA=!1,N0!==null&&Cb(N0)&&(N0=null),T0!==null&&Cb(T0)&&(T0=null),C0!==null&&Cb(C0)&&(C0=null),gx.forEach(E8),xx.forEach(E8)}function Db(f,m){f.blockedOn===m&&(f.blockedOn=null,dA||(dA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OG)))}var Rb=null;function N8(f){Rb!==f&&(Rb=f,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rb===f&&(Rb=null);for(var m=0;m<f.length;m+=3){var w=f[m],N=f[m+1],F=f[m+2];if(typeof N!="function"){if(fA(N||w)===null)continue;break}var j=Ye(w);j!==null&&(f.splice(m,3),m-=3,tx(j,{pending:!0,data:F,method:w.method,action:N},N,F))}}))}function dv(f){function m(Ge){return Db(Ge,f)}N0!==null&&Db(N0,f),T0!==null&&Db(T0,f),C0!==null&&Db(C0,f),gx.forEach(m),xx.forEach(m);for(var w=0;w<D0.length;w++){var N=D0[w];N.blockedOn===f&&(N.blockedOn=null)}for(;0<D0.length&&(w=D0[0],w.blockedOn===null);)_8(w),w.blockedOn===null&&D0.shift();if(w=(f.ownerDocument||f).$$reactFormReplay,w!=null)for(N=0;N<w.length;N+=3){var F=w[N],j=w[N+1],se=F[hi]||null;if(typeof j=="function")se||N8(w);else if(se){var ye=null;if(j&&j.hasAttribute("formAction")){if(F=j,se=j[hi]||null)ye=se.formAction;else if(fA(F)!==null)continue}else ye=se.action;typeof ye=="function"?w[N+1]=ye:(w.splice(N,3),N-=3),N8(w)}}}function T8(){function f(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(se){return F=se})},focusReset:"manual",scroll:"manual"})}function m(){F!==null&&(F(),F=null),N||setTimeout(w,20)}function w(){if(!N&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var N=!1,F=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(w,100),function(){N=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),F!==null&&(F(),F=null)}}}function hA(f){this._internalRoot=f}Bb.prototype.render=hA.prototype.render=function(f){var m=this._internalRoot;if(m===null)throw Error(r(409));var w=m.current,N=ls();y8(w,N,f,m,null,null)},Bb.prototype.unmount=hA.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var m=f.containerInfo;y8(f.current,2,null,f,null,null),Ee(),m[wa]=null}};function Bb(f){this._internalRoot=f}Bb.prototype.unstable_scheduleHydration=function(f){if(f){var m=yi();f={blockedOn:null,target:f,priority:m};for(var w=0;w<D0.length&&m!==0&&m<D0[w].priority;w++);D0.splice(w,0,f),w===0&&_8(f)}};var C8=e.version;if(C8!=="19.2.4")throw Error(r(527,C8,"19.2.4"));P.findDOMNode=function(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=u(m),f=f!==null?c(f):null,f=f===null?null:f.stateNode,f};var zG={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{st=Ob.inject(zG),lt=Ob}catch{}}return Sx.createRoot=function(f,m){if(!i(f))throw Error(r(299));var w=!1,N="",F=ax,j=fb,se=Yp;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onUncaughtError!==void 0&&(F=m.onUncaughtError),m.onCaughtError!==void 0&&(j=m.onCaughtError),m.onRecoverableError!==void 0&&(se=m.onRecoverableError)),m=g8(f,1,!1,null,null,w,N,null,F,j,se,T8),f[wa]=m.current,W5(f),new hA(m)},Sx.hydrateRoot=function(f,m,w){if(!i(f))throw Error(r(299));var N=!1,F="",j=ax,se=fb,ye=Yp,Ge=null;return w!=null&&(w.unstable_strictMode===!0&&(N=!0),w.identifierPrefix!==void 0&&(F=w.identifierPrefix),w.onUncaughtError!==void 0&&(j=w.onUncaughtError),w.onCaughtError!==void 0&&(se=w.onCaughtError),w.onRecoverableError!==void 0&&(ye=w.onRecoverableError),w.formState!==void 0&&(Ge=w.formState)),m=g8(f,1,!0,m,w??null,N,F,Ge,j,se,ye,T8),m.context=x8(null),w=m.current,N=ls(),N=Kr(N),F=Gl(N),F.callback=null,Lu(w,F,N),w=N,m.current.lanes=w,Fn(m,w),Kc(m),f[wa]=m.current,W5(f),new Bb(m)},Sx.version="19.2.4",Sx}var I8;function GG(){if(I8)return vA.exports;I8=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vA.exports=qG(),vA.exports}var $G=GG();const XG=jd($G);var hn=(n=>(n.HOME="HOME",n.MATRIX="MATRIX",n.SEQUENCES="SEQUENCES",n.FUNCTIONS="FUNCTIONS",n.LIMITS="LIMITS",n.DERIVATIVES="DERIVATIVES",n.INTEGRALS="INTEGRALS",n.DIFF_EQ="DIFF_EQ",n.EXAMS="EXAMS",n))(hn||{}),Ft=(n=>(n.BASICS="BASICS",n.OPERATIONS="OPERATIONS",n.DETERMINANT="DETERMINANT",n.INVERSE="INVERSE",n.SYSTEMS="SYSTEMS",n.GAUSSIAN="GAUSSIAN",n.EIGENVALUES="EIGENVALUES",n.VECTOR_3D="VECTOR_3D",n.VECTOR_OPS_3D="VECTOR_OPS_3D",n.SEQUENCES="SEQUENCES",n.SERIES="SERIES",n.COBWEB="COBWEB",n.SEQUENCES_3D="SEQUENCES_3D",n.FUNCTIONS="FUNCTIONS",n.TRANSFORMATIONS="TRANSFORMATIONS",n.NEWTON="NEWTON",n.FUNCTIONS_3D="FUNCTIONS_3D",n.LIMITS="LIMITS",n.CONTINUITY="CONTINUITY",n.LIMITS_3D="LIMITS_3D",n.DERIVATIVE_RULES="DERIVATIVE_RULES",n.FUNCTION_ANALYSIS="FUNCTION_ANALYSIS",n.TAYLOR="TAYLOR",n.DERIVATIVES_3D="DERIVATIVES_3D",n.INTEGRAL_BASICS="INTEGRAL_BASICS",n.INTEGRAL_RULES="INTEGRAL_RULES",n.AREA_UNDER_CURVE="AREA_UNDER_CURVE",n.INTEGRALS_3D="INTEGRALS_3D",n.DIFF_BASICS="DIFF_BASICS",n.POPULATION_MODELS="POPULATION_MODELS",n.RADIOACTIVE_DECAY="RADIOACTIVE_DECAY",n.DIFF_EQ_3D="DIFF_EQ_3D",n.CLASS_EXAM_1="CLASS_EXAM_1",n.CLASS_EXAM_2="CLASS_EXAM_2",n.CLASS_EXAM_3="CLASS_EXAM_3",n.FULL_EXAM="FULL_EXAM",n.EXAM_ANALYSIS="EXAM_ANALYSIS",n.CHEAT_SHEET="CHEAT_SHEET",n.HOMEWORK="HOMEWORK",n.FINAL_EXAM="FINAL_EXAM",n))(Ft||{}),ga=(n=>(n.ADD="ADD",n.SUBTRACT="SUBTRACT",n.MULTIPLY="MULTIPLY",n.SCALAR="SCALAR",n))(ga||{});/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YG=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),P8=n=>{const e=YG(n);return e.charAt(0).toUpperCase()+e.slice(1)},iF=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),ZG=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>Re.createElement("svg",{ref:l,...KG,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:iF("lucide",i),...!a&&!ZG(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>Re.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(n,e)=>{const t=Re.forwardRef(({className:r,...i},a)=>Re.createElement(QG,{ref:a,iconNode:e,className:iF(`lucide-${WG(P8(n))}`,`lucide-${n}`,r),...i}));return t.displayName=P8(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vd=Lt("activity",JG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],t$=Lt("arrow-down-right",e$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],r$=Lt("arrow-down-up",n$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],a$=Lt("arrow-left-right",i$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aF=Lt("arrow-left",s$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],j8=Lt("arrow-right-left",o$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ic=Lt("arrow-right",l$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],c$=Lt("arrow-up-down",u$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],O3=Lt("arrow-up-right",f$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],sF=Lt("atom",d$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cw=Lt("book-open",h$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],gd=Lt("box",m$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],v$=Lt("braces",p$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],D_=Lt("brain",g$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],s1=Lt("calculator",x$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],fw=Lt("chart-area",y$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],S$=Lt("chart-column",b$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],oF=Lt("chart-line",w$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],M$=Lt("chart-no-axes-column",A$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],lF=Lt("chart-pie",_$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],N$=Lt("chevron-down",E$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C$=Lt("chevron-left",T$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JE=Lt("chevron-right",D$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B$=Lt("chevron-up",R$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],z$=Lt("chevrons-up",O$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bA=Lt("circle-check-big",U$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wy=Lt("circle-check",F$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V8=Lt("circle-x",L$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I$=Lt("clock",k$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]],uF=Lt("cylinder",P$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],V$=Lt("database",j$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],dw=Lt("divide",H$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],cF=Lt("dna",q$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$$=Lt("external-link",G$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W$=Lt("eye",X$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Z$=Lt("factory",Y$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Px=Lt("file-text",K$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M5 9v6",key:"158jrl"}],["circle",{cx:"5",cy:"18",r:"3",key:"104gr9"}],["path",{d:"M12 3v18",key:"108xh3"}],["circle",{cx:"19",cy:"6",r:"3",key:"108a5v"}],["path",{d:"M16 15.7A9 9 0 0 0 19 9",key:"1e3vqb"}]],J$=Lt("git-graph",Q$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fF=Lt("globe",eX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],z3=Lt("graduation-cap",tX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],A1=Lt("grid-3x3",nX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],H8=Lt("hash",rX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dF=Lt("history",iX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],hw=Lt("infinity",aX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oc=Lt("layers",sX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],lX=Lt("layout-list",oX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],cX=Lt("library",uX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],M1=Lt("lightbulb",fX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hF=Lt("lock",dX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],U3=Lt("maximize",hX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pX=Lt("menu",mX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],mF=Lt("microscope",vX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],xX=Lt("minimize",gX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M5 12h14",key:"1ays0h"}]],q8=Lt("minus",yX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],pF=Lt("mouse-pointer-2",bX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]],wX=Lt("move-3d",SX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M19 13V19H13",key:"10vkzq"}],["path",{d:"M5 5L19 19",key:"5zm2fv"}]],MX=Lt("move-down-right",AX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M13 5H19V11",key:"1n1gyv"}],["path",{d:"M19 5L5 19",key:"72u4yj"}]],EX=Lt("move-up-right",_X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],e6=Lt("move",NX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],CX=Lt("octagon-alert",TX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],RX=Lt("pause",DX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],OX=Lt("pen-tool",BX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],t6=Lt("play",zX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],G8=Lt("plus",UX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],R_=Lt("refresh-ccw",FX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kX=Lt("refresh-cw",LX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]],PX=Lt("rotate-3d",IX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VX=Lt("rotate-ccw",jX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],qX=Lt("ruler",HX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],$X=Lt("scaling",GX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],vF=Lt("scan",XX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],gF=Lt("settings-2",WX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],ZX=Lt("shuffle",YX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]],xF=Lt("sigma",KX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],JX=Lt("sliders-vertical",QX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],yF=Lt("sprout",eW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],nW=Lt("table-2",tW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],n6=Lt("target",rW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],aW=Lt("terminal",iW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],r6=Lt("timer",sW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lW=Lt("trash-2",oW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mw=Lt("trending-up",uW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pw=Lt("triangle-alert",cW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bF=Lt("trophy",fW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],hW=Lt("unplug",dW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]],F3=Lt("variable",mW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],SF=Lt("waves",pW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B_=Lt("x",vW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wF=Lt("zap",gW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],yW=Lt("zoom-in",xW),vy=Re.createContext({});function i6(n){const e=Re.useRef(null);return e.current===null&&(e.current=n()),e.current}const AF=typeof window<"u",a6=AF?Re.useLayoutEffect:Re.useEffect,vw=Re.createContext(null);function s6(n,e){n.indexOf(e)===-1&&n.push(e)}function o6(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const pf=(n,e,t)=>t>e?e:t<n?n:t;let l6=()=>{};const Rd={},MF=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function _F(n){return typeof n=="object"&&n!==null}const EF=n=>/^0[^.\s]+$/u.test(n);function u6(n){let e;return()=>(e===void 0&&(e=n()),e)}const pu=n=>n,bW=(n,e)=>t=>e(n(t)),Yy=(...n)=>n.reduce(bW),gy=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class c6{constructor(){this.subscriptions=[]}add(e){return s6(this.subscriptions,e),()=>o6(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Md=n=>n*1e3,cu=n=>n/1e3;function NF(n,e){return e?n*(1e3/e):0}const TF=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,SW=1e-7,wW=12;function AW(n,e,t,r,i){let a,s,o=0;do s=e+(t-e)/2,a=TF(s,r,i)-n,a>0?t=s:e=s;while(Math.abs(a)>SW&&++o<wW);return s}function Zy(n,e,t,r){if(n===e&&t===r)return pu;const i=a=>AW(a,0,1,n,t);return a=>a===0||a===1?a:TF(i(a),e,r)}const CF=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,DF=n=>e=>1-n(1-e),RF=Zy(.33,1.53,.69,.99),f6=DF(RF),BF=CF(f6),OF=n=>(n*=2)<1?.5*f6(n):.5*(2-Math.pow(2,-10*(n-1))),d6=n=>1-Math.sin(Math.acos(n)),zF=DF(d6),UF=CF(d6),MW=Zy(.42,0,1,1),_W=Zy(0,0,.58,1),FF=Zy(.42,0,.58,1),EW=n=>Array.isArray(n)&&typeof n[0]!="number",LF=n=>Array.isArray(n)&&typeof n[0]=="number",NW={linear:pu,easeIn:MW,easeInOut:FF,easeOut:_W,circIn:d6,circInOut:UF,circOut:zF,backIn:f6,backInOut:BF,backOut:RF,anticipate:OF},TW=n=>typeof n=="string",$8=n=>{if(LF(n)){l6(n.length===4);const[e,t,r,i]=n;return Zy(e,t,r,i)}else if(TW(n))return NW[n];return n},zb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CW(n,e){let t=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){s.has(c)&&(u.schedule(c),n()),c(o)}const u={schedule:(c,d=!1,h=!1)=>{const g=h&&i?t:r;return d&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(o=c,i){a=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,a&&(a=!1,u.process(c))}};return u}const DW=40;function kF(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=zb.reduce((M,E)=>(M[E]=CW(a),M),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:p,postRender:g}=s,x=()=>{const M=Rd.useManualTiming?i.timestamp:performance.now();t=!1,Rd.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(M-i.timestamp,DW),1)),i.timestamp=M,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),d.process(i),h.process(i),p.process(i),g.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(x))},A=()=>{t=!0,r=!0,i.isProcessing||n(x)};return{schedule:zb.reduce((M,E)=>{const C=s[E];return M[E]=(T,B=!1,z=!1)=>(t||A(),C.schedule(T,B,z)),M},{}),cancel:M=>{for(let E=0;E<zb.length;E++)s[zb[E]].cancel(M)},state:i,steps:s}}const{schedule:ci,cancel:K0,state:ms,steps:SA}=kF(typeof requestAnimationFrame<"u"?requestAnimationFrame:pu,!0);let d3;function RW(){d3=void 0}const bo={now:()=>(d3===void 0&&bo.set(ms.isProcessing||Rd.useManualTiming?ms.timestamp:performance.now()),d3),set:n=>{d3=n,queueMicrotask(RW)}},IF=n=>e=>typeof e=="string"&&e.startsWith(n),PF=IF("--"),BW=IF("var(--"),h6=n=>BW(n)?OW.test(n.split("/*")[0].trim()):!1,OW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X8(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const _1={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},xy={..._1,transform:n=>pf(0,1,n)},Ub={..._1,default:1},Zx=n=>Math.round(n*1e5)/1e5,m6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zW(n){return n==null}const UW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,p6=(n,e)=>t=>!!(typeof t=="string"&&UW.test(t)&&t.startsWith(n)||e&&!zW(t)&&Object.prototype.hasOwnProperty.call(t,e)),jF=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(m6);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},FW=n=>pf(0,255,n),wA={..._1,transform:n=>Math.round(FW(n))},Cm={test:p6("rgb","red"),parse:jF("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+wA.transform(n)+", "+wA.transform(e)+", "+wA.transform(t)+", "+Zx(xy.transform(r))+")"};function LW(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const O_={test:p6("#"),parse:LW,transform:Cm.transform},Ky=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),j0=Ky("deg"),uf=Ky("%"),rn=Ky("px"),kW=Ky("vh"),IW=Ky("vw"),W8={...uf,parse:n=>uf.parse(n)/100,transform:n=>uf.transform(n*100)},Vv={test:p6("hsl","hue"),parse:jF("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+uf.transform(Zx(e))+", "+uf.transform(Zx(t))+", "+Zx(xy.transform(r))+")"},xa={test:n=>Cm.test(n)||O_.test(n)||Vv.test(n),parse:n=>Cm.test(n)?Cm.parse(n):Vv.test(n)?Vv.parse(n):O_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Cm.transform(n):Vv.transform(n),getAnimatableNone:n=>{const e=xa.parse(n);return e.alpha=0,xa.transform(e)}},PW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jW(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(m6))==null?void 0:e.length)||0)+(((t=n.match(PW))==null?void 0:t.length)||0)>0}const VF="number",HF="color",VW="var",HW="var(",Y8="${}",qW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yy(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(qW,l=>(xa.test(l)?(r.color.push(a),i.push(HF),t.push(xa.parse(l))):l.startsWith(HW)?(r.var.push(a),i.push(VW),t.push(l)):(r.number.push(a),i.push(VF),t.push(parseFloat(l))),++a,Y8)).split(Y8);return{values:t,split:o,indexes:r,types:i}}function qF(n){return yy(n).values}function GF(n){const{split:e,types:t}=yy(n),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=t[s];o===VF?a+=Zx(i[s]):o===HF?a+=xa.transform(i[s]):a+=i[s]}return a}}const GW=n=>typeof n=="number"?0:xa.test(n)?xa.getAnimatableNone(n):n;function $W(n){const e=qF(n);return GF(n)(e.map(GW))}const Q0={test:jW,parse:qF,createTransformer:GF,getAnimatableNone:$W};function AA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function XW({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,s=0;if(!e)i=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=AA(l,o,n+1/3),a=AA(l,o,n),s=AA(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function L3(n,e){return t=>t>0?e:n}const ki=(n,e,t)=>n+(e-n)*t,MA=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},WW=[O_,Cm,Vv],YW=n=>WW.find(e=>e.test(n));function Z8(n){const e=YW(n);if(!e)return!1;let t=e.parse(n);return e===Vv&&(t=XW(t)),t}const K8=(n,e)=>{const t=Z8(n),r=Z8(e);if(!t||!r)return L3(n,e);const i={...t};return a=>(i.red=MA(t.red,r.red,a),i.green=MA(t.green,r.green,a),i.blue=MA(t.blue,r.blue,a),i.alpha=ki(t.alpha,r.alpha,a),Cm.transform(i))},z_=new Set(["none","hidden"]);function ZW(n,e){return z_.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function KW(n,e){return t=>ki(n,e,t)}function v6(n){return typeof n=="number"?KW:typeof n=="string"?h6(n)?L3:xa.test(n)?K8:eY:Array.isArray(n)?$F:typeof n=="object"?xa.test(n)?K8:QW:L3}function $F(n,e){const t=[...n],r=t.length,i=n.map((a,s)=>v6(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)t[s]=i[s](a);return t}}function QW(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=v6(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function JW(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=n.indexes[a][r[a]],o=n.values[s]??0;t[i]=o,r[a]++}return t}const eY=(n,e)=>{const t=Q0.createTransformer(e),r=yy(n),i=yy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?z_.has(n)&&!i.values.length||z_.has(e)&&!r.values.length?ZW(n,e):Yy($F(JW(r,i),i.values),t):L3(n,e)};function XF(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ki(n,e,t):v6(n)(n,e)}const tY=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ci.update(e,t),stop:()=>K0(e),now:()=>ms.isProcessing?ms.timestamp:bo.now()}},WF=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=Math.round(n(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},k3=2e4;function g6(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<k3;)e+=t,r=n.next(e);return e>=k3?1/0:e}function nY(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(g6(r),k3);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:cu(i)}}const rY=5;function YF(n,e,t){const r=Math.max(e-rY,0);return NF(t-n(r),e-r)}const Yi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_A=.001;function iY({duration:n=Yi.duration,bounce:e=Yi.bounce,velocity:t=Yi.velocity,mass:r=Yi.mass}){let i,a,s=1-e;s=pf(Yi.minDamping,Yi.maxDamping,s),n=pf(Yi.minDuration,Yi.maxDuration,cu(n)),s<1?(i=u=>{const c=u*s,d=c*n,h=c-t,p=U_(u,s),g=Math.exp(-d);return _A-h/p*g},a=u=>{const d=u*s*n,h=d*t+t,p=Math.pow(s,2)*Math.pow(u,2)*n,g=Math.exp(-d),x=U_(Math.pow(u,2),s);return(-i(u)+_A>0?-1:1)*((h-p)*g)/x}):(i=u=>{const c=Math.exp(-u*n),d=(u-t)*n+1;return-_A+c*d},a=u=>{const c=Math.exp(-u*n),d=(t-u)*(n*n);return c*d});const o=5/n,l=sY(i,a,o);if(n=Md(n),isNaN(l))return{stiffness:Yi.stiffness,damping:Yi.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:n}}}const aY=12;function sY(n,e,t){let r=t;for(let i=1;i<aY;i++)r=r-n(r)/e(r);return r}function U_(n,e){return n*Math.sqrt(1-e*e)}const oY=["duration","bounce"],lY=["stiffness","damping","mass"];function Q8(n,e){return e.some(t=>n[t]!==void 0)}function uY(n){let e={velocity:Yi.velocity,stiffness:Yi.stiffness,damping:Yi.damping,mass:Yi.mass,isResolvedFromDuration:!1,...n};if(!Q8(n,lY)&&Q8(n,oY))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*pf(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Yi.mass,stiffness:i,damping:a}}else{const t=iY(n);e={...e,...t,mass:Yi.mass},e.isResolvedFromDuration=!0}return e}function I3(n=Yi.visualDuration,e=Yi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=uY({...t,velocity:-cu(t.velocity||0)}),g=h||0,x=u/(2*Math.sqrt(l*c)),A=s-a,b=cu(Math.sqrt(l/c)),_=Math.abs(A)<5;r||(r=_?Yi.restSpeed.granular:Yi.restSpeed.default),i||(i=_?Yi.restDelta.granular:Yi.restDelta.default);let M;if(x<1){const C=U_(b,x);M=T=>{const B=Math.exp(-x*b*T);return s-B*((g+x*b*A)/C*Math.sin(C*T)+A*Math.cos(C*T))}}else if(x===1)M=C=>s-Math.exp(-b*C)*(A+(g+b*A)*C);else{const C=b*Math.sqrt(x*x-1);M=T=>{const B=Math.exp(-x*b*T),z=Math.min(C*T,300);return s-B*((g+x*b*A)*Math.sinh(z)+C*A*Math.cosh(z))/C}}const E={calculatedDuration:p&&d||null,next:C=>{const T=M(C);if(p)o.done=C>=d;else{let B=C===0?g:0;x<1&&(B=C===0?Md(g):YF(M,C,T));const z=Math.abs(B)<=r,R=Math.abs(s-T)<=i;o.done=z&&R}return o.value=o.done?s:T,o},toString:()=>{const C=Math.min(g6(E),k3),T=WF(B=>E.next(C*B).value,C,30);return C+"ms "+T},toTransition:()=>{}};return E}I3.applyToOptions=n=>{const e=nY(n,100,I3);return n.ease=e.ease,n.duration=Md(e.duration),n.type="keyframes",n};function F_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=n[0],h={done:!1,value:d},p=z=>o!==void 0&&z<o||l!==void 0&&z>l,g=z=>o===void 0?l:l===void 0||Math.abs(o-z)<Math.abs(l-z)?o:l;let x=t*e;const A=d+x,b=s===void 0?A:s(A);b!==A&&(x=b-d);const _=z=>-x*Math.exp(-z/r),M=z=>b+_(z),E=z=>{const R=_(z),O=M(z);h.done=Math.abs(R)<=u,h.value=h.done?b:O};let C,T;const B=z=>{p(h.value)&&(C=z,T=I3({keyframes:[h.value,g(h.value)],velocity:YF(M,z,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return B(0),{calculatedDuration:null,next:z=>{let R=!1;return!T&&C===void 0&&(R=!0,E(z),B(z)),C!==void 0&&z>=C?T.next(z-C):(!R&&E(z),h)}}}function cY(n,e,t){const r=[],i=t||Rd.mix||XF,a=n.length-1;for(let s=0;s<a;s++){let o=i(n[s],n[s+1]);if(e){const l=Array.isArray(e)?e[s]||pu:e;o=Yy(l,o)}r.push(o)}return r}function fY(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(l6(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=cY(e,r,i),l=o.length,u=c=>{if(s&&c<n[0])return e[0];let d=0;if(l>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const h=gy(n[d],n[d+1],c);return o[d](h)};return t?c=>u(pf(n[0],n[a-1],c)):u}function dY(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=gy(0,e,r);n.push(ki(t,1,i))}}function hY(n){const e=[0];return dY(e,n.length-1),e}function mY(n,e){return n.map(t=>t*e)}function pY(n,e){return n.map(()=>e||FF).splice(0,n.length-1)}function Kx({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=EW(r)?r.map($8):$8(r),a={done:!1,value:e[0]},s=mY(t&&t.length===e.length?t:hY(e),n),o=fY(s,e,{ease:Array.isArray(i)?i:pY(e,i)});return{calculatedDuration:n,next:l=>(a.value=o(l),a.done=l>=n,a)}}const vY=n=>n!==null;function x6(n,{repeat:e,repeatType:t="loop"},r,i=1){const a=n.filter(vY),o=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const gY={decay:F_,inertia:F_,tween:Kx,keyframes:Kx,spring:I3};function ZF(n){typeof n.type=="string"&&(n.type=gY[n.type])}class y6{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const xY=n=>n/100;class b6 extends y6{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==bo.now()&&this.tick(bo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ZF(e);const{type:t=Kx,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const l=t||Kx;l!==Kx&&typeof o[0]!="number"&&(this.mixKeyframes=Yy(xY,XF(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=g6(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:p,type:g,onUpdate:x,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let M=this.currentTime,E=r;if(d){const z=Math.min(this.currentTime,i)/o;let R=Math.floor(z),O=z%1;!O&&z>=1&&(O=1),O===1&&R--,R=Math.min(R,d+1),!!(R%2)&&(h==="reverse"?(O=1-O,p&&(O-=p/o)):h==="mirror"&&(E=s)),M=pf(0,1,O)*o}const C=_?{done:!1,value:c[0]}:E.next(M);a&&(C.value=a(C.value));let{done:T}=C;!_&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return B&&g!==F_&&(C.value=x6(c,this.options,A,this.speed)),x&&x(C.value),B&&this.finish(),C}then(e,t){return this.finished.then(e,t)}get duration(){return cu(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cu(e)}get time(){return cu(this.currentTime)}set time(e){var t;e=Md(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bo.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cu(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=tY,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function yY(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Dm=n=>n*180/Math.PI,L_=n=>{const e=Dm(Math.atan2(n[1],n[0]));return k_(e)},bY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:L_,rotateZ:L_,skewX:n=>Dm(Math.atan(n[1])),skewY:n=>Dm(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},k_=n=>(n=n%360,n<0&&(n+=360),n),J8=L_,eC=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),tC=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),SY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eC,scaleY:tC,scale:n=>(eC(n)+tC(n))/2,rotateX:n=>k_(Dm(Math.atan2(n[6],n[5]))),rotateY:n=>k_(Dm(Math.atan2(-n[2],n[0]))),rotateZ:J8,rotate:J8,skewX:n=>Dm(Math.atan(n[4])),skewY:n=>Dm(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function I_(n){return n.includes("scale")?1:0}function P_(n,e){if(!n||n==="none")return I_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=SY,i=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bY,i=o}if(!i)return I_(e);const a=r[e],s=i[1].split(",").map(AY);return typeof a=="function"?a(s):s[a]}const wY=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return P_(t,e)};function AY(n){return parseFloat(n.trim())}const E1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],N1=new Set(E1),nC=n=>n===_1||n===rn,MY=new Set(["x","y","z"]),_Y=E1.filter(n=>!MY.has(n));function EY(n){const e=[];return _Y.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const $0={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>P_(e,"x"),y:(n,{transform:e})=>P_(e,"y")};$0.translateX=$0.x;$0.translateY=$0.y;const Lm=new Set;let j_=!1,V_=!1,H_=!1;function KF(){if(V_){const n=Array.from(Lm).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=EY(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))==null||o.set(s)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}V_=!1,j_=!1,Lm.forEach(n=>n.complete(H_)),Lm.clear()}function QF(){Lm.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(V_=!0)})}function NY(){H_=!0,QF(),KF(),H_=!1}class S6{constructor(e,t,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Lm.add(this),j_||(j_=!0,ci.read(QF),ci.resolveKeyframes(KF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const o=r.readValue(t,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}yY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lm.delete(this)}cancel(){this.state==="scheduled"&&(Lm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TY=n=>n.startsWith("--");function CY(n,e,t){TY(e)?n.style.setProperty(e,t):n.style[e]=t}const DY=u6(()=>window.ScrollTimeline!==void 0),RY={};function BY(n,e){const t=u6(n);return()=>RY[e]??t()}const JF=BY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jx=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,rC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jx([0,.65,.55,1]),circOut:jx([.55,0,1,.45]),backIn:jx([.31,.01,.66,-.59]),backOut:jx([.33,1.53,.69,.99])};function eL(n,e){if(n)return typeof n=="function"?JF()?WF(n,e):"ease-out":LF(n)?jx(n):Array.isArray(n)?n.map(t=>eL(t,e)||rC.easeOut):rC[n]}function OY(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:t};l&&(c.offset=l);const d=eL(o,i);Array.isArray(d)&&(c.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),n.animate(c,h)}function tL(n){return typeof n=="function"&&"applyToOptions"in n}function zY({type:n,...e}){return tL(n)&&JF()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UY extends y6{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,l6(typeof e.type!="string");const u=zY(e);this.animation=OY(t,r,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const c=x6(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):CY(t,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r,i;const e=(t=this.options)==null?void 0:t.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return cu(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cu(e)}get time(){return cu(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Md(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&DY()?(this.animation.timeline=e,pu):t(this)}}const nL={anticipate:OF,backInOut:BF,circInOut:UF};function FY(n){return n in nL}function LY(n){typeof n.ease=="string"&&FY(n.ease)&&(n.ease=nL[n.ease])}const EA=10;class kY extends UY{constructor(e){LY(e),ZF(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new b6({...s,autoplay:!1}),l=Math.max(EA,bo.now()-this.startTime),u=pf(0,EA,l-EA);t.setWithVelocity(o.sample(Math.max(0,l-u)).value,o.sample(l).value,u),o.stop()}}const iC=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Q0.test(n)||n==="0")&&!n.startsWith("url("));function IY(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function PY(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=iC(i,e),o=iC(a,e);return!s||!o?!1:IY(n)||(t==="spring"||tL(t))&&r}function q_(n){n.duration=0,n.type="keyframes"}const jY=new Set(["opacity","clipPath","filter","transform"]),VY=u6(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HY(n){var c;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:a,type:s}=n;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return VY()&&t&&jY.has(t)&&(t!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const qY=40;class GY extends y6{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var g;super(),this.stop=()=>{var x,A;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=bo.now();const h={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:u,element:c,...d},p=(c==null?void 0:c.KeyframeResolver)||S6;this.keyframeResolver=new p(o,(x,A,b)=>this.onKeyframesResolved(x,A,h,!b),l,u,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,t,r,i){var A,b;this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=bo.now(),PY(e,a,s,o)||((Rd.instantAnimations||!l)&&(c==null||c(x6(e,r,t))),e[0]=e[e.length-1],q_(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>qY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},p=!u&&HY(h),g=(b=(A=h.motionValue)==null?void 0:A.owner)==null?void 0:b.current,x=p?new kY({...h,element:g}):new b6(h);x.finished.then(()=>{this.notifyFinished()}).catch(pu),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),NY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function rL(n,e,t,r=0,i=1){const a=Array.from(n).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),s=n.size,o=(s-1)*r;return typeof t=="function"?t(a,s):i===1?a*r:o-a*r}const $Y=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XY(n){const e=$Y.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function iL(n,e,t=1){const[r,i]=XY(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return MF(s)?parseFloat(s):s}return h6(i)?iL(i,e,t+1):i}const WY={type:"spring",stiffness:500,damping:25,restSpeed:10},YY=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ZY={type:"keyframes",duration:.8},KY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QY=(n,{keyframes:e})=>e.length>2?ZY:N1.has(n)?n.startsWith("scale")?YY(e[1]):WY:KY,JY=n=>n!==null;function eZ(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(JY),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}function w6(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}function tZ({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const A6=(n,e,t,r={},i,a)=>s=>{const o=w6(r,n)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Md(l);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:a?void 0:i};tZ(o)||Object.assign(c,QY(n,c)),c.duration&&(c.duration=Md(c.duration)),c.repeatDelay&&(c.repeatDelay=Md(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(q_(c),c.delay===0&&(d=!0)),(Rd.instantAnimations||Rd.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(d=!0,q_(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!a&&e.get()!==void 0){const h=eZ(c.keyframes,o);if(h!==void 0){ci.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new b6(c):new GY(c)};function aC(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function M6(n,e,t,r){if(typeof e=="function"){const[i,a]=aC(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=aC(r);e=e(t!==void 0?t:n.custom,i,a)}return e}function e1(n,e,t){const r=n.getProps();return M6(r,e,t!==void 0?t:r.custom,n)}const aL=new Set(["width","height","top","left","right","bottom",...E1]),sC=30,nZ=n=>!isNaN(parseFloat(n));class rZ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=bo.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=bo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new c6);const r=this.events[e].add(t);return e==="change"?()=>{r(),ci.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sC)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,sC);return NF(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function o1(n,e){return new rZ(n,e)}const G_=n=>Array.isArray(n);function iZ(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,o1(t))}function aZ(n){return G_(n)?n[n.length-1]||0:n}function sZ(n,e){const t=e1(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const s in a){const o=aZ(a[s]);iZ(n,s,o)}}const Ps=n=>!!(n&&n.getVelocity);function oZ(n){return!!(Ps(n)&&n.add)}function $_(n,e){const t=n.getValue("willChange");if(oZ(t))return t.add(e);if(!t&&Rd.WillChange){const r=new Rd.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function _6(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const lZ="framerAppearId",sL="data-"+_6(lZ);function oL(n){return n.props[sL]}function uZ({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function lL(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...o}=e;const l=a==null?void 0:a.reduceMotion;r&&(a=r);const u=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const d in o){const h=n.getValue(d,n.latestValues[d]??null),p=o[d];if(p===void 0||c&&uZ(c,d))continue;const g={delay:t,...w6(a||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const M=oL(n);if(M){const E=window.MotionHandoffAnimation(M,d,ci);E!==null&&(g.startTime=E,A=!0)}}$_(n,d);const b=l??n.shouldReduceMotion;h.start(A6(d,h,p,b&&aL.has(d)?{type:!1}:g,n,A));const _=h.animation;_&&u.push(_)}return s&&Promise.all(u).then(()=>{ci.update(()=>{s&&sZ(n,s)})}),u}function X_(n,e,t={}){var l;const r=e1(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const a=r?()=>Promise.all(lL(n,r,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return cZ(n,e,u,c,d,h,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,c]=o==="beforeChildren"?[a,s]:[s,a];return u().then(()=>c())}else return Promise.all([a(),s(t.delay)])}function cZ(n,e,t=0,r=0,i=0,a=1,s){const o=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),o.push(X_(l,e,{...s,delay:t+(typeof r=="function"?0:r)+rL(n.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function fZ(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>X_(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=X_(n,e,t);else{const i=typeof e=="function"?e1(n,e,t.custom):e;r=Promise.all(lL(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const dZ={test:n=>n==="auto",parse:n=>n},uL=n=>e=>e.test(n),cL=[_1,rn,uf,j0,IW,kW,dZ],oC=n=>cL.find(uL(n));function hZ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||EF(n):!0}const mZ=new Set(["brightness","contrast","saturate","opacity"]);function pZ(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(m6)||[];if(!r)return n;const i=t.replace(r,"");let a=mZ.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const vZ=/\b([a-z-]*)\(.*?\)/gu,W_={...Q0,getAnimatableNone:n=>{const e=n.match(vZ);return e?e.map(pZ).join(" "):n}},lC={..._1,transform:Math.round},gZ={rotate:j0,rotateX:j0,rotateY:j0,rotateZ:j0,scale:Ub,scaleX:Ub,scaleY:Ub,scaleZ:Ub,skew:j0,skewX:j0,skewY:j0,distance:rn,translateX:rn,translateY:rn,translateZ:rn,x:rn,y:rn,z:rn,perspective:rn,transformPerspective:rn,opacity:xy,originX:W8,originY:W8,originZ:rn},E6={borderWidth:rn,borderTopWidth:rn,borderRightWidth:rn,borderBottomWidth:rn,borderLeftWidth:rn,borderRadius:rn,borderTopLeftRadius:rn,borderTopRightRadius:rn,borderBottomRightRadius:rn,borderBottomLeftRadius:rn,width:rn,maxWidth:rn,height:rn,maxHeight:rn,top:rn,right:rn,bottom:rn,left:rn,inset:rn,insetBlock:rn,insetBlockStart:rn,insetBlockEnd:rn,insetInline:rn,insetInlineStart:rn,insetInlineEnd:rn,padding:rn,paddingTop:rn,paddingRight:rn,paddingBottom:rn,paddingLeft:rn,paddingBlock:rn,paddingBlockStart:rn,paddingBlockEnd:rn,paddingInline:rn,paddingInlineStart:rn,paddingInlineEnd:rn,margin:rn,marginTop:rn,marginRight:rn,marginBottom:rn,marginLeft:rn,marginBlock:rn,marginBlockStart:rn,marginBlockEnd:rn,marginInline:rn,marginInlineStart:rn,marginInlineEnd:rn,fontSize:rn,backgroundPositionX:rn,backgroundPositionY:rn,...gZ,zIndex:lC,fillOpacity:xy,strokeOpacity:xy,numOctaves:lC},xZ={...E6,color:xa,backgroundColor:xa,outlineColor:xa,fill:xa,stroke:xa,borderColor:xa,borderTopColor:xa,borderRightColor:xa,borderBottomColor:xa,borderLeftColor:xa,filter:W_,WebkitFilter:W_},fL=n=>xZ[n];function dL(n,e){let t=fL(n);return t!==W_&&(t=Q0),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const yZ=new Set(["auto","none","0"]);function bZ(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!yZ.has(a)&&yy(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=dL(t,i)}class SZ extends S6{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),h6(d))){const h=iL(d,t.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!aL.has(r)||e.length!==2)return;const[i,a]=e,s=oC(i),o=oC(a),l=X8(i),u=X8(a);if(l!==u&&$0[r]){this.needsMeasurement=!0;return}if(s!==o)if(nC(s)&&nC(o))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else $0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||hZ(e[i]))&&r.push(i);r.length&&bZ(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=$0[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function wZ(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n).filter(r=>r!=null)}const hL=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Y_(n){return _F(n)&&"offsetHeight"in n}const{schedule:N6}=kF(queueMicrotask,!1),Ju={x:!1,y:!1};function mL(){return Ju.x||Ju.y}function AZ(n){return n==="x"||n==="y"?Ju[n]?null:(Ju[n]=!0,()=>{Ju[n]=!1}):Ju.x||Ju.y?null:(Ju.x=Ju.y=!0,()=>{Ju.x=Ju.y=!1})}function pL(n,e){const t=wZ(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function uC(n){return!(n.pointerType==="touch"||mL())}function MZ(n,e,t={}){const[r,i,a]=pL(n,t),s=o=>{if(!uC(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=d=>{uC(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const vL=(n,e)=>e?n===e?!0:vL(n,e.parentElement):!1,T6=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,_Z=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EZ(n){return _Z.has(n.tagName)||n.isContentEditable===!0}const NZ=new Set(["INPUT","SELECT","TEXTAREA"]);function TZ(n){return NZ.has(n.tagName)||n.isContentEditable===!0}const h3=new WeakSet;function cC(n){return e=>{e.key==="Enter"&&n(e)}}function NA(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CZ=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=cC(()=>{if(h3.has(t))return;NA(t,"down");const i=cC(()=>{NA(t,"up")}),a=()=>NA(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function fC(n){return T6(n)&&!mL()}function DZ(n,e,t={}){const[r,i,a]=pL(n,t),s=o=>{const l=o.currentTarget;if(!fC(o))return;h3.add(l);const u=e(l,o),c=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),h3.has(l)&&h3.delete(l),fC(p)&&typeof u=="function"&&u(p,{success:g})},d=p=>{c(p,l===window||l===document||t.useGlobalTarget||vL(l,p.target))},h=p=>{c(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),Y_(o)&&(o.addEventListener("focus",u=>CZ(u,i)),!EZ(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function gL(n){return _F(n)&&"ownerSVGElement"in n}function RZ(n){return gL(n)&&n.tagName==="svg"}const BZ=[...cL,xa,Q0],OZ=n=>BZ.find(uL(n)),dC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hv=()=>({x:dC(),y:dC()}),hC=()=>({min:0,max:0}),Oa=()=>({x:hC(),y:hC()}),Z_={current:null},xL={current:!1},zZ=typeof window<"u";function UZ(){if(xL.current=!0,!!zZ)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Z_.current=n.matches;n.addEventListener("change",e),e()}else Z_.current=!1}const FZ=new WeakMap;function gw(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function by(n){return typeof n=="string"||Array.isArray(n)}const C6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D6=["initial",...C6];function xw(n){return gw(n.animate)||D6.some(e=>by(n[e]))}function yL(n){return!!(xw(n)||n.variants)}function LZ(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Ps(i))n.addValue(r,i);else if(Ps(a))n.addValue(r,o1(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const s=n.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=n.getStaticValue(r);n.addValue(r,o1(s!==void 0?s:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const mC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let P3={};function bL(n){P3=n}function kZ(){return P3}class IZ{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=S6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=bo.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ci.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=xw(t),this.isVariantNode=yL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in h){const g=h[p];u[p]!==void 0&&Ps(g)&&g.set(u[p])}}mount(e){var t;this.current=e,FZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xL.current||UZ(),this.shouldReduceMotion=Z_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),K0(this.notifyUpdate),K0(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=N1.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&ci.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in P3){const t=P3[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<mC.length;r++){const i=mC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=LZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=o1(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(MF(r)||EF(r))?r=parseFloat(r):!OZ(r)&&Q0.test(t)&&(r=dL(e,t)),this.setBaseTarget(e,Ps(r)?r.get():r)),Ps(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const s=M6(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);s&&(r=s[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ps(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new c6),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){N6.render(this.render)}}class SL extends IZ{constructor(){super(...arguments),this.KeyframeResolver=SZ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const r=e.style;return r?r[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ps(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class oh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function wL({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function PZ({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function jZ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function TA(n){return n===void 0||n===1}function K_({scale:n,scaleX:e,scaleY:t}){return!TA(n)||!TA(e)||!TA(t)}function wm(n){return K_(n)||AL(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function AL(n){return pC(n.x)||pC(n.y)}function pC(n){return n&&n!=="0%"}function j3(n,e,t){const r=n-t,i=e*r;return t+i}function vC(n,e,t,r,i){return i!==void 0&&(n=j3(n,i,r)),j3(n,t,r)+e}function Q_(n,e=0,t=1,r,i){n.min=vC(n.min,e,t,r,i),n.max=vC(n.max,e,t,r,i)}function ML(n,{x:e,y:t}){Q_(n.x,e.translate,e.scale,e.originPoint),Q_(n.y,t.translate,t.scale,t.originPoint)}const gC=.999999999999,xC=1.0000000000001;function VZ(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=t[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Gv(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,ML(n,s)),r&&wm(a.latestValues)&&Gv(n,a.latestValues))}e.x<xC&&e.x>gC&&(e.x=1),e.y<xC&&e.y>gC&&(e.y=1)}function qv(n,e){n.min=n.min+e,n.max=n.max+e}function yC(n,e,t,r,i=.5){const a=ki(n.min,n.max,i);Q_(n,e,t,a,r)}function Gv(n,e){yC(n.x,e.x,e.scaleX,e.scale,e.originX),yC(n.y,e.y,e.scaleY,e.scale,e.originY)}function _L(n,e){return wL(jZ(n.getBoundingClientRect(),e))}function HZ(n,e,t){const r=_L(n,t),{scroll:i}=e;return i&&(qv(r.x,i.offset.x),qv(r.y,i.offset.y)),r}const qZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GZ=E1.length;function $Z(n,e,t){let r="",i=!0;for(let a=0;a<GZ;a++){const s=E1[a],o=n[s];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(s.startsWith("scale")?1:0);else{const u=parseFloat(o);l=s.startsWith("scale")?u===1:u===0}if(!l||t){const u=hL(o,E6[s]);if(!l){i=!1;const c=qZ[s]||s;r+=`${c}(${u}) `}t&&(e[s]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function R6(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let s=!1,o=!1;for(const l in e){const u=e[l];if(N1.has(l)){s=!0;continue}else if(PF(l)){i[l]=u;continue}else{const c=hL(u,E6[l]);l.startsWith("origin")?(o=!0,a[l]=c):r[l]=c}}if(e.transform||(s||t?r.transform=$Z(e,n.transform,t):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;r.transformOrigin=`${l} ${u} ${c}`}}function EL(n,{style:e,vars:t},r,i){const a=n.style;let s;for(s in e)a[s]=e[s];i==null||i.applyProjectionStyles(a,r);for(s in t)a.setProperty(s,t[s])}function bC(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const wx={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rn.test(n))n=parseFloat(n);else return n;const t=bC(n,e.target.x),r=bC(n,e.target.y);return`${t}% ${r}%`}},XZ={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Q0.parse(n);if(i.length>5)return r;const a=Q0.createTransformer(n),s=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=ki(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}},J_={borderRadius:{...wx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wx,borderTopRightRadius:wx,borderBottomLeftRadius:wx,borderBottomRightRadius:wx,boxShadow:XZ};function NL(n,{layout:e,layoutId:t}){return N1.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!J_[n]||n==="opacity")}function B6(n,e,t){var s;const r=n.style,i=e==null?void 0:e.style,a={};if(!r)return a;for(const o in r)(Ps(r[o])||i&&Ps(i[o])||NL(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=r[o]);return a}function WZ(n){return window.getComputedStyle(n)}class YZ extends SL{constructor(){super(...arguments),this.type="html",this.renderInstance=EL}readValueFromInstance(e,t){var r;if(N1.has(t))return(r=this.projection)!=null&&r.isProjecting?I_(t):wY(e,t);{const i=WZ(e),a=(PF(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _L(e,t)}build(e,t,r){R6(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return B6(e,t,r)}}const ZZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},KZ={offset:"strokeDashoffset",array:"strokeDasharray"};function QZ(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?ZZ:KZ;n[a.offset]=`${-r}`,n[a.array]=`${e} ${t}`}const JZ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function TL(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,u,c){if(R6(n,o,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:h}=n;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox);for(const p of JZ)d[p]!==void 0&&(h[p]=d[p],delete d[p]);e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),r!==void 0&&(d.scale=r),i!==void 0&&QZ(d,i,a,s,!1)}const CL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),DL=n=>typeof n=="string"&&n.toLowerCase()==="svg";function eK(n,e,t,r){EL(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(CL.has(i)?i:_6(i),e.attrs[i])}function RL(n,e,t){const r=B6(n,e,t);for(const i in n)if(Ps(n[i])||Ps(e[i])){const a=E1.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}class tK extends SL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oa}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(N1.has(t)){const r=fL(t);return r&&r.default||0}return t=CL.has(t)?t:_6(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return RL(e,t,r)}build(e,t,r){TL(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){eK(e,t,r,i)}mount(e){this.isSVGTag=DL(e.tagName),super.mount(e)}}const nK=D6.length;function BL(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?BL(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<nK;t++){const r=D6[t],i=n.props[r];(by(i)||i===!1)&&(e[r]=i)}return e}function OL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const rK=[...C6].reverse(),iK=C6.length;function aK(n){return e=>Promise.all(e.map(({animation:t,options:r})=>fZ(n,t,r)))}function sK(n){let e=aK(n),t=SC(),r=!0;const i=l=>(u,c)=>{var h;const d=e1(n,c,l==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,...x}=d;u={...u,...x,...g}}return u};function a(l){e=l(n)}function s(l){const{props:u}=n,c=BL(n.parent)||{},d=[],h=new Set;let p={},g=1/0;for(let A=0;A<iK;A++){const b=rK[A],_=t[b],M=u[b]!==void 0?u[b]:c[b],E=by(M),C=b===l?_.isActive:null;C===!1&&(g=A);let T=M===c[b]&&M!==u[b]&&E;if(T&&r&&n.manuallyAnimateOnMount&&(T=!1),_.protectedKeys={...p},!_.isActive&&C===null||!M&&!_.prevProp||gw(M)||typeof M=="boolean")continue;const B=oK(_.prevProp,M);let z=B||b===l&&_.isActive&&!T&&E||A>g&&E,R=!1;const O=Array.isArray(M)?M:[M];let U=O.reduce(i(b),{});C===!1&&(U={});const{prevResolvedValues:I={}}=_,q={...I,...U},X=P=>{z=!0,h.has(P)&&(R=!0,h.delete(P)),_.needsAnimating[P]=!0;const Z=n.getValue(P);Z&&(Z.liveStyle=!1)};for(const P in q){const Z=U[P],H=I[P];if(p.hasOwnProperty(P))continue;let ae=!1;G_(Z)&&G_(H)?ae=!OL(Z,H):ae=Z!==H,ae?Z!=null?X(P):h.add(P):Z!==void 0&&h.has(P)?X(P):_.protectedKeys[P]=!0}_.prevProp=M,_.prevResolvedValues=U,_.isActive&&(p={...p,...U}),r&&n.blockInitialAnimation&&(z=!1);const $=T&&B;z&&(!$||R)&&d.push(...O.map(P=>{const Z={type:b};if(typeof P=="string"&&r&&!$&&n.manuallyAnimateOnMount&&n.parent){const{parent:H}=n,ae=e1(H,P);if(H.enteringChildren&&ae){const{delayChildren:W}=ae.transition||{};Z.delay=rL(H.enteringChildren,n,W)}}return{animation:P,options:Z}}))}if(h.size){const A={};if(typeof u.initial!="boolean"){const b=e1(n,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(A.transition=b.transition)}h.forEach(b=>{const _=n.getBaseTarget(b),M=n.getValue(b);M&&(M.liveStyle=!0),A[b]=_??null}),d.push({animation:A})}let x=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function o(l,u){var d;if(t[l].isActive===u)return Promise.resolve();(d=n.variantChildren)==null||d.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,u)}),t[l].isActive=u;const c=s(l);for(const h in t)t[h].protectedKeys={};return c}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t,reset:()=>{t=SC()}}}function oK(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!OL(e,n):!1}function am(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SC(){return{animate:am(!0),whileInView:am(),whileHover:am(),whileTap:am(),whileDrag:am(),whileFocus:am(),exit:am()}}function wC(n,e){n.min=e.min,n.max=e.max}function Yu(n,e){wC(n.x,e.x),wC(n.y,e.y)}function AC(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const zL=1e-4,lK=1-zL,uK=1+zL,UL=.01,cK=0-UL,fK=0+UL;function So(n){return n.max-n.min}function dK(n,e,t){return Math.abs(n-e)<=t}function MC(n,e,t,r=.5){n.origin=r,n.originPoint=ki(e.min,e.max,n.origin),n.scale=So(t)/So(e),n.translate=ki(t.min,t.max,n.origin)-n.originPoint,(n.scale>=lK&&n.scale<=uK||isNaN(n.scale))&&(n.scale=1),(n.translate>=cK&&n.translate<=fK||isNaN(n.translate))&&(n.translate=0)}function Qx(n,e,t,r){MC(n.x,e.x,t.x,r?r.originX:void 0),MC(n.y,e.y,t.y,r?r.originY:void 0)}function _C(n,e,t){n.min=t.min+e.min,n.max=n.min+So(e)}function hK(n,e,t){_C(n.x,e.x,t.x),_C(n.y,e.y,t.y)}function EC(n,e,t){n.min=e.min-t.min,n.max=n.min+So(e)}function V3(n,e,t){EC(n.x,e.x,t.x),EC(n.y,e.y,t.y)}function NC(n,e,t,r,i){return n-=e,n=j3(n,1/t,r),i!==void 0&&(n=j3(n,1/i,r)),n}function mK(n,e=0,t=1,r=.5,i,a=n,s=n){if(uf.test(e)&&(e=parseFloat(e),e=ki(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=ki(a.min,a.max,r);n===a&&(o-=e),n.min=NC(n.min,e,t,o,i),n.max=NC(n.max,e,t,o,i)}function TC(n,e,[t,r,i],a,s){mK(n,e[t],e[r],e[i],e.scale,a,s)}const pK=["x","scaleX","originX"],vK=["y","scaleY","originY"];function CC(n,e,t,r){TC(n.x,e,pK,t?t.x:void 0,r?r.x:void 0),TC(n.y,e,vK,t?t.y:void 0,r?r.y:void 0)}function DC(n){return n.translate===0&&n.scale===1}function FL(n){return DC(n.x)&&DC(n.y)}function RC(n,e){return n.min===e.min&&n.max===e.max}function gK(n,e){return RC(n.x,e.x)&&RC(n.y,e.y)}function BC(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function LL(n,e){return BC(n.x,e.x)&&BC(n.y,e.y)}function OC(n){return So(n.x)/So(n.y)}function zC(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function au(n){return[n("x"),n("y")]}function xK(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,s=(t==null?void 0:t.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:h,skewX:p,skewY:g}=t;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const kL=["TopLeft","TopRight","BottomLeft","BottomRight"],yK=kL.length,UC=n=>typeof n=="string"?parseFloat(n):n,FC=n=>typeof n=="number"||rn.test(n);function bK(n,e,t,r,i,a){i?(n.opacity=ki(0,t.opacity??1,SK(r)),n.opacityExit=ki(e.opacity??1,0,wK(r))):a&&(n.opacity=ki(e.opacity??1,t.opacity??1,r));for(let s=0;s<yK;s++){const o=`border${kL[s]}Radius`;let l=LC(e,o),u=LC(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||FC(l)===FC(u)?(n[o]=Math.max(ki(UC(l),UC(u),r),0),(uf.test(u)||uf.test(l))&&(n[o]+="%")):n[o]=u}(e.rotate||t.rotate)&&(n.rotate=ki(e.rotate||0,t.rotate||0,r))}function LC(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const SK=IL(0,.5,zF),wK=IL(.5,.95,pu);function IL(n,e,t){return r=>r<n?0:r>e?1:t(gy(n,e,r))}function AK(n,e,t){const r=Ps(n)?n:o1(n);return r.start(A6("",r,e,t)),r.animation}function Sy(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const MK=(n,e)=>n.depth-e.depth;class _K{constructor(){this.children=[],this.isDirty=!1}add(e){s6(this.children,e),this.isDirty=!0}remove(e){o6(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MK),this.isDirty=!1,this.children.forEach(e)}}function EK(n,e){const t=bo.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(K0(r),n(a-e))};return ci.setup(r,!0),()=>K0(r)}function m3(n){return Ps(n)?n.get():n}class NK{constructor(){this.members=[]}add(e){s6(this.members,e),e.scheduleRender()}remove(e){if(o6(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,a=e.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const p3={hasAnimatedSinceResize:!0,hasEverUpdated:!1},CA=["","X","Y","Z"],TK=1e3;let CK=0;function DA(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function PL(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=oL(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ci,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&PL(r)}function jL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=CK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BK),this.nodes.forEach(FK),this.nodes.forEach(LK),this.nodes.forEach(OK)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _K)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new c6),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=gL(s)&&!RZ(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let c,d=0;const h=()=>this.root.updateBlockedByResize=!1;ci.read(()=>{d=window.innerWidth}),n(s,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,c&&c(),c=EK(h,250),p3.hasAnimatedSinceResize&&(p3.hasAnimatedSinceResize=!1,this.nodes.forEach(PC)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||VK,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=u.getProps(),b=!this.targetLayout||!LL(this.targetLayout,p),_=!d&&h;if(this.options.layoutRoot||this.resumeFrom||_||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...w6(g,"layout"),onPlay:x,onComplete:A};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(c,_)}else d||PC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),K0(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kK),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(UK),this.nodes.forEach(DK),this.nodes.forEach(RK)):this.nodes.forEach(IC),this.clearAllSnapshots();const o=bo.now();ms.delta=pf(0,1e3/60,o-ms.timestamp),ms.timestamp=o,ms.isProcessing=!0,SA.update.process(ms),SA.preRender.process(ms),SA.render.process(ms),ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,N6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zK),this.sharedNodes.forEach(IK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ci.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ci.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!So(this.snapshot.measuredBox.x)&&!So(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Oa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!FL(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||wm(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),HK(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Oa();const o=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(qK))){const{scroll:c}=this.root;c&&(qv(o.x,c.offset.x),qv(o.y,c.offset.y))}return o}removeElementScroll(s){var l;const o=Oa();if(Yu(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Yu(o,s),qv(o.x,d.offset.x),qv(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const l=Oa();Yu(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Gv(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),wm(c.latestValues)&&Gv(l,c.latestValues)}return wm(this.latestValues)&&Gv(l,this.latestValues),l}removeTransform(s){const o=Oa();Yu(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!wm(u.latestValues))continue;K_(u.latestValues)&&u.updateSnapshot();const c=Oa(),d=u.measurePageBox();Yu(c,d),CC(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return wm(this.latestValues)&&CC(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!this.layout||!(c||d))return;this.resolvedRelativeTargetAt=ms.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Oa(),this.targetWithTransforms=Oa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yu(this.target,this.layout.layoutBox),ML(this.target,this.targetDelta)):Yu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||K_(this.parent.latestValues)||AL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,o,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oa(),this.relativeTargetOrigin=Oa(),V3(this.relativeTargetOrigin,o,l),Yu(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ms.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Yu(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;VZ(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Oa());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(AC(this.prevProjectionDelta.x,this.projectionDelta.x),AC(this.prevProjectionDelta.y,this.projectionDelta.y)),Qx(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!zC(this.projectionDelta.x,this.prevProjectionDelta.x)||!zC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hv(),this.projectionDelta=Hv(),this.projectionDeltaWithTransform=Hv()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Hv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Oa(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,A=this.getStack(),b=!A||A.members.length<=1,_=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(jK));this.animationProgress=0;let M;this.mixTargetDelta=E=>{const C=E/1e3;jC(d.x,s.x,C),jC(d.y,s.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(V3(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PK(this.relativeTarget,this.relativeTargetOrigin,h,C),M&&gK(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Oa()),Yu(M,this.relativeTarget)),x&&(this.animationValues=c,bK(c,u,this.latestValues,C,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(K0(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ci.update(()=>{p3.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=o1(0)),this.currentAnimation=AK(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&VL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Oa();const d=So(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=So(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Yu(o,l),Gv(o,c),Qx(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new NK),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&DA("z",s,u,this.animationValues);for(let c=0;c<CA.length;c++)DA(`rotate${CA[c]}`,s,u,this.animationValues),DA(`skew${CA[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=m3(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=m3(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wm(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=xK(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),s.transform=d;const{x:h,y:p}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in J_){if(c[g]===void 0)continue;const{correct:x,applyTo:A,isCSSVariable:b}=J_[g],_=d==="none"?c[g]:x(c[g],u);if(A){const M=A.length;for(let E=0;E<M;E++)s[A[E]]=_}else b?this.options.visualElement.renderState.vars[g]=_:s[g]=_}this.options.layoutId&&(s.pointerEvents=u===this?m3(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(kC),this.root.sharedNodes.clear()}}}function DK(n){n.updateLayout()}function RK(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,s=e.source!==n.layout.source;a==="size"?au(d=>{const h=s?e.measuredBox[d]:e.layoutBox[d],p=So(h);h.min=r[d].min,h.max=h.min+p}):VL(a,e.layoutBox,r)&&au(d=>{const h=s?e.measuredBox[d]:e.layoutBox[d],p=So(r[d]);h.max=h.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+p)});const o=Hv();Qx(o,r,e.layoutBox);const l=Hv();s?Qx(l,n.applyTransform(i,!0),e.measuredBox):Qx(l,r,e.layoutBox);const u=!FL(o);let c=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=Oa();V3(g,e.layoutBox,h.layoutBox);const x=Oa();V3(x,r,p.layoutBox),LL(g,x)||(c=!0),d.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=g,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function BK(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function OK(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function zK(n){n.clearSnapshot()}function kC(n){n.clearMeasurements()}function IC(n){n.isLayoutDirty=!1}function UK(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function PC(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function FK(n){n.resolveTargetDelta()}function LK(n){n.calcProjection()}function kK(n){n.resetSkewAndRotation()}function IK(n){n.removeLeadSnapshot()}function jC(n,e,t){n.translate=ki(e.translate,0,t),n.scale=ki(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function VC(n,e,t,r){n.min=ki(e.min,t.min,r),n.max=ki(e.max,t.max,r)}function PK(n,e,t,r){VC(n.x,e.x,t.x,r),VC(n.y,e.y,t.y,r)}function jK(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const VK={duration:.45,ease:[.4,0,.1,1]},HC=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),qC=HC("applewebkit/")&&!HC("chrome/")?Math.round:pu;function GC(n){n.min=qC(n.min),n.max=qC(n.max)}function HK(n){GC(n.x),GC(n.y)}function VL(n,e,t){return n==="position"||n==="preserve-aspect"&&!dK(OC(e),OC(t),.2)}function qK(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const GK=jL({attachResizeListener:(n,e)=>Sy(n,"resize",e),measureScroll:()=>{var n,e;return{x:document.documentElement.scrollLeft||((n=document.body)==null?void 0:n.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),$K=n=>!n.isLayoutDirty&&n.willUpdate(!1);function $C(){const n=new Set,e=new WeakMap,t=()=>n.forEach($K);return{add:r=>{n.add(r),e.set(r,r.addEventListener("willUpdate",t))},remove:r=>{n.delete(r);const i=e.get(r);i&&(i(),e.delete(r)),t()},dirty:t}}const RA={current:void 0},HL=jL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!RA.current){const n=new GK({});n.mount(window),n.setOptions({layoutScroll:!0}),RA.current=n}return RA.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),O6=Re.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function XC(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function XK(...n){return e=>{let t=!1;const r=n.map(i=>{const a=XC(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():XC(n[i],null)}}}}function WK(...n){return Re.useCallback(XK(...n),n)}class YK extends Re.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=Y_(r)&&r.offsetWidth||0,a=Y_(r)&&r.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left,s.bottom=a-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function ZK({children:n,isPresent:e,anchorX:t,anchorY:r,root:i}){var d;const a=Re.useId(),s=Re.useRef(null),o=Re.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=Re.useContext(O6),u=((d=n.props)==null?void 0:d.ref)??(n==null?void 0:n.ref),c=WK(s,u);return Re.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:x,right:A,bottom:b}=o.current;if(e||!s.current||!h||!p)return;const _=t==="left"?`left: ${x}`:`right: ${A}`,M=r==="bottom"?`bottom: ${b}`:`top: ${g}`;s.current.dataset.motionPopId=a;const E=document.createElement("style");l&&(E.nonce=l);const C=i??document.head;return C.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${_}px !important;
            ${M}px !important;
          }
        `),()=>{C.contains(E)&&C.removeChild(E)}},[e]),S.jsx(YK,{isPresent:e,childRef:s,sizeRef:o,children:Re.cloneElement(n,{ref:c})})}const KK=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,anchorY:l,root:u})=>{const c=i6(QK),d=Re.useId();let h=!0,p=Re.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:t,custom:i,onExitComplete:g=>{c.set(g,!0);for(const x of c.values())if(!x)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[t,c,r]);return a&&h&&(p={...p}),Re.useMemo(()=>{c.forEach((g,x)=>c.set(x,!1))},[t]),Re.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),s==="popLayout"&&(n=S.jsx(ZK,{isPresent:t,anchorX:o,anchorY:l,root:u,children:n})),S.jsx(vw.Provider,{value:p,children:n})};function QK(){return new Map}function qL(n=!0){const e=Re.useContext(vw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=Re.useId();Re.useEffect(()=>{if(n)return i(a)},[n]);const s=Re.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,s]:[!0]}const Fb=n=>n.key||"";function WC(n){const e=[];return Re.Children.forEach(n,t=>{Re.isValidElement(t)&&e.push(t)}),e}const Eo=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",anchorY:l="top",root:u})=>{const[c,d]=qL(s),h=Re.useMemo(()=>WC(n),[n]),p=s&&!c?[]:h.map(Fb),g=Re.useRef(!0),x=Re.useRef(h),A=i6(()=>new Map),b=Re.useRef(new Set),[_,M]=Re.useState(h),[E,C]=Re.useState(h);a6(()=>{g.current=!1,x.current=h;for(let z=0;z<E.length;z++){const R=Fb(E[z]);p.includes(R)?(A.delete(R),b.current.delete(R)):A.get(R)!==!0&&A.set(R,!1)}},[E,p.length,p.join("-")]);const T=[];if(h!==_){let z=[...h];for(let R=0;R<E.length;R++){const O=E[R],U=Fb(O);p.includes(U)||(z.splice(R,0,O),T.push(O))}return a==="wait"&&T.length&&(z=T),C(WC(z)),M(h),null}const{forceRender:B}=Re.useContext(vy);return S.jsx(S.Fragment,{children:E.map(z=>{const R=Fb(z),O=s&&!c?!1:h===E||p.includes(R),U=()=>{if(b.current.has(R))return;if(b.current.add(R),A.has(R))A.set(R,!0);else return;let I=!0;A.forEach(q=>{q||(I=!1)}),I&&(B==null||B(),C(x.current),s&&(d==null||d()),r&&r())};return S.jsx(KK,{isPresent:O,initial:!g.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:O?void 0:U,anchorX:o,anchorY:l,children:z},R)})})},JK=Re.createContext(null);function eQ(){const n=Re.useRef(!1);return a6(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function tQ(){const n=eQ(),[e,t]=Re.useState(0),r=Re.useCallback(()=>{n.current&&t(e+1)},[e]);return[Re.useCallback(()=>ci.postRender(r),[r]),e]}const GL=n=>n===!0,nQ=n=>GL(n===!0)||n==="id",rQ=({children:n,id:e,inherit:t=!0})=>{const r=Re.useContext(vy),i=Re.useContext(JK),[a,s]=tQ(),o=Re.useRef(null),l=r.id||i;o.current===null&&(nQ(t)&&l&&(e=e?l+"-"+e:l),o.current={id:e,group:GL(t)&&r.group||$C()});const u=Re.useMemo(()=>({...o.current,forceRender:a}),[s]);return S.jsx(vy.Provider,{value:u,children:n})},$L=Re.createContext({strict:!1}),YC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ZC=!1;function iQ(){if(ZC)return;const n={};for(const e in YC)n[e]={isEnabled:t=>YC[e].some(r=>!!t[r])};bL(n),ZC=!0}function XL(){return iQ(),kZ()}function aQ(n){const e=XL();for(const t in n)e[t]={...e[t],...n[t]};bL(e)}const sQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function H3(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sQ.has(n)}let WL=n=>!H3(n);function oQ(n){typeof n=="function"&&(WL=e=>e.startsWith("on")?!H3(e):n(e))}try{oQ(require("@emotion/is-prop-valid").default)}catch{}function lQ(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(WL(i)||t===!0&&H3(i)||!e&&!H3(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const yw=Re.createContext({});function uQ(n,e){if(xw(n)){const{initial:t,animate:r}=n;return{initial:t===!1||by(t)?t:void 0,animate:by(r)?r:void 0}}return n.inherit!==!1?e:{}}function cQ(n){const{initial:e,animate:t}=uQ(n,Re.useContext(yw));return Re.useMemo(()=>({initial:e,animate:t}),[KC(e),KC(t)])}function KC(n){return Array.isArray(n)?n.join(" "):n}const z6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YL(n,e,t){for(const r in e)!Ps(e[r])&&!NL(r,t)&&(n[r]=e[r])}function fQ({transformTemplate:n},e){return Re.useMemo(()=>{const t=z6();return R6(t,e,n),Object.assign({},t.vars,t.style)},[e])}function dQ(n,e){const t=n.style||{},r={};return YL(r,t,n),Object.assign(r,fQ(n,e)),r}function hQ(n,e){const t={},r=dQ(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const ZL=()=>({...z6(),attrs:{}});function mQ(n,e,t,r){const i=Re.useMemo(()=>{const a=ZL();return TL(a,e,DL(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};YL(a,n.style,n),i.style={...a,...i.style}}return i}const pQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function U6(n){return typeof n!="string"||n.includes("-")?!1:!!(pQ.indexOf(n)>-1||/[A-Z]/u.test(n))}function vQ(n,e,t,{latestValues:r},i,a=!1,s){const l=(s??U6(n)?mQ:hQ)(e,r,i,n),u=lQ(e,typeof n=="string",a),c=n!==Re.Fragment?{...u,...l,ref:t}:{},{children:d}=e,h=Re.useMemo(()=>Ps(d)?d.get():d,[d]);return Re.createElement(n,{...c,children:h})}function gQ({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:xQ(t,r,i,n),renderState:e()}}function xQ(n,e,t,r){const i={},a=r(n,{});for(const h in a)i[h]=m3(a[h]);let{initial:s,animate:o}=n;const l=xw(n),u=yL(n);e&&u&&!l&&n.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let c=t?t.initial===!1:!1;c=c||s===!1;const d=c?o:s;if(d&&typeof d!="boolean"&&!gw(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const g=M6(n,h[p]);if(g){const{transitionEnd:x,transition:A,...b}=g;for(const _ in b){let M=b[_];if(Array.isArray(M)){const E=c?M.length-1:0;M=M[E]}M!==null&&(i[_]=M)}for(const _ in x)i[_]=x[_]}}}return i}const KL=n=>(e,t)=>{const r=Re.useContext(yw),i=Re.useContext(vw),a=()=>gQ(n,e,r,i);return t?a():i6(a)},yQ=KL({scrapeMotionValuesFromProps:B6,createRenderState:z6}),bQ=KL({scrapeMotionValuesFromProps:RL,createRenderState:ZL}),SQ=Symbol.for("motionComponentSymbol");function wQ(n,e,t){const r=Re.useRef(t);Re.useInsertionEffect(()=>{r.current=t});const i=Re.useRef(null);return Re.useCallback(a=>{var o;a&&((o=n.onMount)==null||o.call(n,a)),e&&(a?e.mount(a):e.unmount());const s=r.current;if(typeof s=="function")if(a){const l=s(a);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):s(a);else s&&(s.current=a)},[e])}const QL=Re.createContext({});function Vx(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function AQ(n,e,t,r,i,a){var M,E;const{visualElement:s}=Re.useContext(yw),o=Re.useContext($L),l=Re.useContext(vw),u=Re.useContext(O6),c=u.reducedMotion,d=u.skipAnimations,h=Re.useRef(null),p=Re.useRef(!1);r=r||o.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,skipAnimations:d,isSVG:a}),p.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const g=h.current,x=Re.useContext(QL);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&MQ(h.current,t,i,x);const A=Re.useRef(!1);Re.useInsertionEffect(()=>{g&&A.current&&g.update(t,l)});const b=t[sL],_=Re.useRef(!!b&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return a6(()=>{p.current=!0,g&&(A.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),_.current&&g.animationState&&g.animationState.animateChanges())}),Re.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),_.current=!1),g.enteringChildren=void 0)}),g}function MQ(n,e,t,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:JL(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&Vx(o),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function JL(n){if(n)return n.options.allowProjection!==!1?n.projection:JL(n.parent)}function BA(n,{forwardMotionProps:e=!1,type:t}={},r,i){r&&aQ(r);const a=t?t==="svg":U6(n),s=a?bQ:yQ;function o(u,c){let d;const h={...Re.useContext(O6),...u,layoutId:_Q(u)},{isStatic:p}=h,g=cQ(u),x=s(u,p);if(!p&&AF){EQ();const A=NQ(h);d=A.MeasureLayout,g.visualElement=AQ(n,x,h,i,A.ProjectionNode,a)}return S.jsxs(yw.Provider,{value:g,children:[d&&g.visualElement?S.jsx(d,{visualElement:g.visualElement,...h}):null,vQ(n,u,wQ(x,g.visualElement,c),x,p,e,a)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=Re.forwardRef(o);return l[SQ]=n,l}function _Q({layoutId:n}){const e=Re.useContext(vy).id;return e&&n!==void 0?e+"-"+n:n}function EQ(n,e){Re.useContext($L).strict}function NQ(n){const e=XL(),{drag:t,layout:r}=e;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(n)||r!=null&&r.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function TQ(n,e){if(typeof Proxy>"u")return BA;const t=new Map,r=(a,s)=>BA(a,s,n,e),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(t.has(s)||t.set(s,BA(s,void 0,n,e)),t.get(s))})}const CQ=(n,e)=>e.isSVG??U6(n)?new tK(e):new YZ(e,{allowProjection:n!==Re.Fragment});class DQ extends oh{constructor(e){super(e),e.animationState||(e.animationState=sK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let RQ=0;class BQ extends oh{constructor(){super(...arguments),this.id=RQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OQ={animation:{Feature:DQ},exit:{Feature:BQ}};function Qy(n){return{point:{x:n.pageX,y:n.pageY}}}const zQ=n=>e=>T6(e)&&n(e,Qy(e));function Jx(n,e,t,r){return Sy(n,e,zQ(t),r)}const ek=({current:n})=>n?n.ownerDocument.defaultView:null,QC=(n,e)=>Math.abs(n-e);function UQ(n,e){const t=QC(n.x,e.x),r=QC(n.y,e.y);return Math.sqrt(t**2+r**2)}const JC=new Set(["auto","scroll"]);class tk{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=zA(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=UQ(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:A}=p,{timestamp:b}=ms;this.history.push({...A,timestamp:b});const{onStart:_,onMove:M}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=OA(g,this.transformPagePoint),ci.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:A,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=zA(p.type==="pointercancel"?this.lastMoveEventInfo:OA(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,_),A&&A(p,_)},!T6(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const l=Qy(e),u=OA(l,this.transformPagePoint),{point:c}=u,{timestamp:d}=ms;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=t;h&&h(e,zA(u,this.history)),this.removeListeners=Yy(Jx(this.contextWindow,"pointermove",this.handlePointerMove),Jx(this.contextWindow,"pointerup",this.handlePointerUp),Jx(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){const r=getComputedStyle(t);(JC.has(r.overflowX)||JC.has(r.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-t.x,y:i.y-t.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),ci.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),K0(this.updatePoint)}}function OA(n,e){return e?{point:e(n.point)}:n}function e7(n,e){return{x:n.x-e.x,y:n.y-e.y}}function zA({point:n},e){return{point:n,delta:e7(n,nk(e)),offset:e7(n,FQ(e)),velocity:LQ(e,.1)}}function FQ(n){return n[0]}function nk(n){return n[n.length-1]}function LQ(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=nk(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Md(e)));)t--;if(!r)return{x:0,y:0};const a=cu(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function kQ(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ki(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ki(t,n,r.max):Math.min(n,t)),n}function t7(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function IQ(n,{top:e,left:t,bottom:r,right:i}){return{x:t7(n.x,t,i),y:t7(n.y,e,r)}}function n7(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function PQ(n,e){return{x:n7(n.x,e.x),y:n7(n.y,e.y)}}function jQ(n,e){let t=.5;const r=So(n),i=So(e);return i>r?t=gy(e.min,e.max-r,n.min):r>i&&(t=gy(n.min,n.max-i,e.min)),pf(0,1,t)}function VQ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const eE=.35;function HQ(n=eE){return n===!1?n=0:n===!0&&(n=eE),{x:r7(n,"left","right"),y:r7(n,"top","bottom")}}function r7(n,e,t){return{min:i7(n,e),max:i7(n,t)}}function i7(n,e){return typeof n=="number"?n:n[e]||0}const qQ=new WeakMap;class GQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=d=>{t?(this.stopAnimation(),this.snapToCursor(Qy(d).point)):this.pauseAnimation()},s=(d,h)=>{this.stopAnimation();const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AZ(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),au(b=>{let _=this.getAxisMotionValue(b).get()||0;if(uf.test(_)){const{projection:M}=this.visualElement;if(M&&M.layout){const E=M.layout.layoutBox[b];E&&(_=So(E)*(parseFloat(_)/100))}}this.originPoint[b]=_}),x&&ci.update(()=>x(d,h),!1,!0),$_(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:A}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=$Q(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),A&&ci.update(()=>A(d,h),!1,!0)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>au(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new tk(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:ek(this.visualElement),element:this.visualElement.current})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ci.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Lb(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=kQ(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&Vx(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=IQ(r.layoutBox,e):this.constraints=!1,this.elastic=HQ(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&au(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=VQ(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vx(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=HZ(r,i.root,this.visualElement.getTransformPagePoint());let s=PQ(i.layout.layoutBox,a);if(t){const o=t(PZ(s));this.hasMutatedConstraints=!!o,o&&(s=wL(o))}return s}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=au(c=>{if(!Lb(c,t,this.currentDirection))return;let d=l&&l[c]||{};s&&(d={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return $_(this.visualElement,e),r.start(A6(e,r,0,t,this.visualElement,!1))}stopAnimation(){au(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){au(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){au(t=>{const{drag:r}=this.getProps();if(!Lb(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[t],l=a.get()||0;a.set(e[t]-ki(s,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Vx(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};au(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=jQ({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),au(s=>{if(!Lb(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(ki(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;qQ.set(this.visualElement,this);const e=this.visualElement.current,t=Jx(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps(),d=l.target,h=d!==e&&TZ(d);u&&c&&!h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Vx(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ci.read(r);const s=Sy(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(au(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=eE,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Lb(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $Q(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class XQ extends oh{constructor(e){super(e),this.removeGroupControls=pu,this.removeListeners=pu,this.controls=new GQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pu}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const UA=n=>(e,t)=>{n&&ci.update(()=>n(e,t),!1,!0)};class WQ extends oh{constructor(){super(...arguments),this.removePointerDownListener=pu}onPointerDown(e){this.session=new tk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ek(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:UA(e),onStart:UA(t),onMove:UA(r),onEnd:(a,s)=>{delete this.session,i&&ci.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Jx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let FA=!1;class YQ extends Re.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),FA&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),p3.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,e.layoutDependency!==t&&s.setOptions({...s.options,layoutDependency:t}),FA=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||ci.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),N6.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;FA=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rk(n){const[e,t]=qL(),r=Re.useContext(vy);return S.jsx(YQ,{...n,layoutGroup:r,switchLayoutGroup:Re.useContext(QL),isPresent:e,safeToRemove:t})}const ZQ={pan:{Feature:WQ},drag:{Feature:XQ,ProjectionNode:HL,MeasureLayout:rk}};function a7(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&ci.postRender(()=>a(e,Qy(e)))}class KQ extends oh{mount(){const{current:e}=this.node;e&&(this.unmount=MZ(e,(t,r)=>(a7(this.node,r,"Start"),i=>a7(this.node,i,"End"))))}unmount(){}}class QQ extends oh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yy(Sy(this.node.current,"focus",()=>this.onFocus()),Sy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s7(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&ci.postRender(()=>a(e,Qy(e)))}class JQ extends oh{mount(){const{current:e}=this.node;e&&(this.unmount=DZ(e,(t,r)=>(s7(this.node,r,"Start"),(i,{success:a})=>s7(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tE=new WeakMap,LA=new WeakMap,eJ=n=>{const e=tE.get(n.target);e&&e(n)},tJ=n=>{n.forEach(eJ)};function nJ({root:n,...e}){const t=n||document;LA.has(t)||LA.set(t,{});const r=LA.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(tJ,{root:n,...e})),r[i]}function rJ(n,e,t){const r=nJ(e);return tE.set(n,t),r.observe(n),()=>{tE.delete(n),r.unobserve(n)}}const iJ={some:0,all:1};class aJ extends oh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:iJ[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return rJ(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(sJ(e,t))&&this.startObserver()}unmount(){}}function sJ({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const oJ={inView:{Feature:aJ},tap:{Feature:JQ},focus:{Feature:QQ},hover:{Feature:KQ}},lJ={layout:{ProjectionNode:HL,MeasureLayout:rk}},uJ={...OQ,...oJ,...ZQ,...lJ},Yt=TQ(uJ,CQ),cJ=({currentView:n,currentModule:e,setView:t,goHome:r,isOpen:i,toggleSidebar:a})=>{const o=(()=>{const l=[{type:"header",label:"Academic Tools"},{id:Ft.CHEAT_SHEET,label:"Cheat Sheet",icon:Px},{id:Ft.HOMEWORK,label:"Homework Exercises",icon:cX},{id:Ft.FINAL_EXAM,label:"Module Test",icon:z3}];switch(e){case hn.MATRIX:return[{type:"header",label:"Core Concepts"},{id:Ft.BASICS,label:"Definitions",icon:cw},{id:Ft.OPERATIONS,label:"Operations",icon:s1},{type:"header",label:"3D Space"},{id:Ft.VECTOR_OPS_3D,label:"Vector Lab (3D)",icon:O3},{id:Ft.VECTOR_3D,label:"Matrix Warper (3D)",icon:gd},{type:"header",label:"Linear Systems"},{id:Ft.GAUSSIAN,label:"Gaussian Elimination",icon:oc},{id:Ft.SYSTEMS,label:"Cramer's Systems",icon:xF},{id:Ft.INVERSE,label:"Inverse Matrix",icon:J$},{type:"header",label:"Spectral Theory"},{id:Ft.DETERMINANT,label:"Determinant",icon:A1},{id:Ft.EIGENVALUES,label:"Eigenvalues",icon:sF},...l];case hn.SEQUENCES:return[{type:"header",label:"Sequence Analysis"},{id:Ft.SEQUENCES,label:"Limits & Monotonicity",icon:mw},{id:Ft.COBWEB,label:"Chaos & Cobweb",icon:ZX},{type:"header",label:"Visualization"},{id:Ft.SEQUENCES_3D,label:"3D Helix Visualizer",icon:gd},{type:"header",label:"Infinite Series"},{id:Ft.SERIES,label:"Partial Sums",icon:oc},...l];case hn.FUNCTIONS:return[{type:"header",label:"Properties"},{id:Ft.FUNCTIONS,label:"Graphing & Domain",icon:Vd},{id:Ft.TRANSFORMATIONS,label:"Transformations",icon:e6},{type:"header",label:"3D Geometry"},{id:Ft.FUNCTIONS_3D,label:"Surface Plotter",icon:gd},{type:"header",label:"Applications"},{id:Ft.NEWTON,label:"Newton Optimization",icon:n6},...l];case hn.LIMITS:return[{type:"header",label:"Analysis"},{id:Ft.FUNCTIONS,label:"Limit Analysis",icon:hw},{id:Ft.CONTINUITY,label:"Continuity & Holes",icon:hW},{type:"header",label:"Multivariable"},{id:Ft.LIMITS_3D,label:"3D Limits",icon:gd},...l];case hn.DERIVATIVES:return[{type:"header",label:"Calculus I"},{id:Ft.DERIVATIVE_RULES,label:"Rules & Formulas",icon:dw},{id:Ft.FUNCTION_ANALYSIS,label:"Curve Analysis",icon:oF},{type:"header",label:"Multivariable"},{id:Ft.DERIVATIVES_3D,label:"Tangent Planes (3D)",icon:gd},{type:"header",label:"Approximation"},{id:Ft.TAYLOR,label:"Taylor Series",icon:SF},...l];case hn.INTEGRALS:return[{type:"header",label:"Calculus II"},{id:Ft.INTEGRAL_BASICS,label:"Concept & Constant",icon:dF},{id:Ft.INTEGRAL_RULES,label:"Rules & Formulas",icon:F3},{type:"header",label:"Definite Integrals"},{id:Ft.AREA_UNDER_CURVE,label:"Area & FTC",icon:fw},{id:Ft.INTEGRALS_3D,label:"Solid of Revolution",icon:uF},...l];case hn.DIFF_EQ:return[{type:"header",label:"Modeling Change"},{id:Ft.DIFF_BASICS,label:"Solutions & Curves",icon:mF},{id:Ft.POPULATION_MODELS,label:"Population Bio-Models",icon:yF},{id:Ft.RADIOACTIVE_DECAY,label:"Radioactive Decay",icon:r6},{type:"header",label:"Chaos Theory"},{id:Ft.DIFF_EQ_3D,label:"Lorenz Attractor (3D)",icon:fF},...l];case hn.EXAMS:return[{type:"header",label:"Examination Hall"},{id:Ft.CLASS_EXAM_1,label:"Class Exam I",icon:Px},{id:Ft.CLASS_EXAM_2,label:"Class Exam II",icon:Px},{id:Ft.CLASS_EXAM_3,label:"Class Exam III",icon:Px},{type:"header",label:"Final Assessment"},{id:Ft.FULL_EXAM,label:"Final Exam",icon:z3},{id:Ft.EXAM_ANALYSIS,label:"Performance Analytics",icon:lF}];default:return[]}})();return S.jsxs(S.Fragment,{children:[S.jsx(Eo,{children:i&&S.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden"})}),S.jsxs(Yt.div,{className:`
          fixed top-0 bottom-0 left-0 w-72 z-50
          glass-panel-heavy
          overflow-y-auto
          flex flex-col
          md:!translate-x-0
        `,initial:!1,animate:{x:i?0:"-100%"},style:{transform:void 0},variants:{open:{x:0},closed:{x:"-100%"}},transition:{type:"spring",stiffness:300,damping:30},children:[S.jsx("div",{className:"absolute top-4 right-4 md:hidden",children:S.jsx("button",{onClick:a,className:"p-2 text-slate-400 hover:text-white transition-colors",children:S.jsx(B_,{size:24})})}),S.jsxs("div",{className:"p-5",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-[10px] font-bold text-slate-500 hover:text-cyan-400 uppercase tracking-widest transition-colors mb-5 group pl-1",children:[S.jsx(aF,{size:12,className:"group-hover:-translate-x-1 transition-transform"}),"Dashboard"]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 flex items-center justify-center shadow-lg shadow-cyan-500/20 text-white shrink-0",children:S.jsx(cF,{size:18})}),S.jsxs("div",{children:[S.jsx("h1",{className:"font-bold text-white text-sm leading-tight",children:"Math Biotech"}),S.jsx("div",{className:"text-[9px] font-mono text-cyan-400 uppercase tracking-wider",children:e.replace("_"," ")})]})]})]}),S.jsx("nav",{className:"space-y-0.5",children:o.map((l,u)=>{if(l.type==="header")return S.jsx("div",{className:"pt-5 pb-2 px-3 text-[9px] font-bold text-slate-600 uppercase tracking-[0.2em] font-mono",children:l.label},`head-${u}`);const c=l.icon,d=n===l.id;return S.jsxs("button",{onClick:()=>{t(l.id),window.innerWidth<768&&a()},className:`
                                relative w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-300 group overflow-hidden
                                ${d?"text-white":"text-slate-400 hover:text-slate-200"}
                            `,children:[d&&S.jsx(Yt.div,{layoutId:"activeNavBg",className:"absolute inset-0 bg-white/[0.03] border border-cyan-500/30 rounded-lg",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:S.jsx("div",{className:"absolute inset-0 bg-cyan-500/10 blur-xl opacity-50"})}),d&&S.jsx(Yt.div,{layoutId:"activeNavLine",className:"absolute left-0 top-2.5 bottom-2.5 w-0.5 bg-cyan-400 rounded-r-full shadow-[0_0_8px_#22d3ee]"}),S.jsx("div",{className:`relative z-10 transition-colors ${d?"text-cyan-400":"text-slate-500 group-hover:text-slate-300"}`,children:S.jsx(c,{size:16,strokeWidth:d?2.5:2})}),S.jsx("span",{className:"relative z-10 text-[13px] font-medium tracking-tight",children:l.label})]},l.id)})})]}),S.jsx("div",{className:"mt-auto p-5 border-t border-white/5",children:S.jsx("div",{className:"text-[9px] text-slate-600 font-mono text-center",children:"v2.5.0  Stable Release"})})]})]})},o7=[{id:hn.MATRIX,title:"Matrix",subtitle:"Linear Algebra",icon:A1,color:"text-cyan-400",gradient:"from-cyan-500/20 to-blue-600/20",desc:"Systems, Determinants & Vector Spaces"},{id:hn.SEQUENCES,title:"Sequences",subtitle:"Discrete Math",icon:mw,color:"text-purple-400",gradient:"from-purple-500/20 to-pink-600/20",desc:"Limits, Convergence & Series"},{id:hn.FUNCTIONS,title:"Functions",subtitle:"Analysis I",icon:Vd,color:"text-pink-400",gradient:"from-pink-500/20 to-rose-600/20",desc:"Domain, Range & Transformations"},{id:hn.LIMITS,title:"Limits",subtitle:"Foundations",icon:hw,color:"text-orange-400",gradient:"from-orange-500/20 to-amber-600/20",desc:"Continuity & Asymptotes"},{id:hn.DERIVATIVES,title:"Derivatives",subtitle:"Calculus I",icon:dw,color:"text-teal-400",gradient:"from-teal-500/20 to-emerald-600/20",desc:"Rates of Change & Optimization"},{id:hn.INTEGRALS,title:"Integrals",subtitle:"Calculus II",icon:fw,color:"text-emerald-400",gradient:"from-emerald-500/20 to-green-600/20",desc:"Area, Volume & Accumulation"},{id:hn.DIFF_EQ,title:"Diff Eq",subtitle:"Modeling",icon:oc,color:"text-indigo-400",gradient:"from-indigo-500/20 to-violet-600/20",desc:"Growth, Decay & Dynamics"},{id:hn.EXAMS,title:"Exams",subtitle:"Assessment",icon:z3,color:"text-white",gradient:"from-slate-700/50 to-slate-800/50",desc:"Prepare for Final Assessment"}],fJ=({module:n,onSelect:e,index:t})=>{const r=n.icon;return S.jsxs(Yt.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:t*.05},onClick:()=>e(n.id),className:"relative overflow-hidden rounded-2xl p-4 text-left border border-white/5 bg-slate-900/40 backdrop-blur-sm group min-h-[140px] flex flex-col justify-between",children:[S.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),S.jsx("div",{className:"relative z-10 flex justify-between items-start",children:S.jsx("div",{className:`p-2.5 rounded-xl bg-white/5 w-fit ${n.color} border border-white/5`,children:S.jsx(r,{size:20})})}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("h3",{className:"font-bold text-white text-base leading-tight mb-1",children:n.title}),S.jsx("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:n.subtitle})]})]})},dJ=({module:n,onSelect:e,index:t})=>{const r=n.icon;return S.jsxs(Yt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05},onClick:()=>e(n.id),className:"group relative h-full w-full overflow-hidden rounded-[2rem] border border-white/10 bg-slate-900/40 backdrop-blur-md p-8 text-left transition-all hover:border-white/20 hover:bg-slate-900/60",children:[S.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.gradient} opacity-0 transition-opacity duration-500 group-hover:opacity-100`}),S.jsxs("div",{className:"relative z-10 flex h-full flex-col justify-between",children:[S.jsxs("div",{children:[S.jsx("div",{className:`mb-6 inline-flex rounded-2xl bg-white/5 p-4 ${n.color} ring-1 ring-white/10`,children:S.jsx(r,{size:32})}),S.jsx("h3",{className:"mb-2 text-3xl font-bold text-white tracking-tight",children:n.title}),S.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${n.color}`,children:n.subtitle})]}),S.jsxs("div",{className:"mt-8 flex items-end justify-between",children:[S.jsx("p",{className:"max-w-[80%] text-sm text-slate-400 leading-relaxed group-hover:text-slate-200 transition-colors",children:n.desc}),S.jsx("div",{className:"rounded-full bg-white/5 p-3 text-slate-400 transition-all group-hover:bg-white/10 group-hover:text-white group-hover:scale-110",children:S.jsx(ic,{size:20})})]})]})]})},hJ=({onSelectModule:n})=>S.jsxs("div",{className:"relative min-h-screen bg-[#020617] overflow-x-hidden selection:bg-cyan-500/30",children:[S.jsxs("div",{className:"hidden md:flex min-h-screen flex-col px-12 py-12 relative z-10 max-w-[1600px] mx-auto",children:[S.jsxs(Yt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-16",children:[S.jsx("h1",{className:"text-7xl font-black tracking-tighter text-white mb-4",children:"Math Biotech"}),S.jsx("p",{className:"text-slate-400 text-lg max-w-2xl font-light",children:"Interactive mathematical modeling platform for the Warsaw University of Life Sciences. Select a module to begin exploring concepts."})]}),S.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o7.map((e,t)=>S.jsx(dJ,{module:e,onSelect:n,index:t},e.id))})]}),S.jsxs("div",{className:"md:hidden relative z-20 flex flex-col min-h-[100dvh] px-6 pt-10 pb-8 box-border",children:[S.jsx("div",{className:"shrink-0 mb-8 mt-2",children:S.jsxs(Yt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:[S.jsx("h1",{className:"text-7xl font-black tracking-tighter text-white leading-none mb-4",children:"Math"}),S.jsxs("h2",{className:"text-lg text-slate-500 font-medium tracking-wide",children:[S.jsx("span",{className:"text-white font-bold",children:"Warsaw University"})," of Life Sciences"]})]})}),S.jsx("div",{className:"flex-1 grid grid-cols-2 gap-4 pb-8 content-start",children:o7.map((e,t)=>S.jsx(fJ,{module:e,onSelect:n,index:t},e.id))})]}),S.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-cyan-900/20 rounded-full blur-[120px]"}),S.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[600px] h-[600px] bg-purple-900/20 rounded-full blur-[120px]"})]})]}),Jo=({data:n,label:e,editable:t=!1,onChange:r,highlightRow:i,highlightCol:a,color:s="blue"})=>{var _;const o=n.length,l=((_=n[0])==null?void 0:_.length)||0,[u,c]=Re.useState(null),d=(M,E)=>{c({key:`${M}-${E}`,val:n[M][E].toString()})},h=()=>{c(null)},p=(M,E,C)=>{if(c({key:`${M}-${E}`,val:C}),!r)return;const T=parseFloat(C);if(isNaN(T)){if(C===""){const B=n.map(z=>[...z]);B[M][E]=0,r(B)}}else{const B=n.map(z=>[...z]);B[M][E]=T,r(B)}},g={blue:{text:"text-blue-100",focus:"focus:bg-blue-500/20 focus:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",bracket:"#60a5fa"},green:{text:"text-emerald-100",focus:"focus:bg-emerald-500/20 focus:shadow-[0_0_20px_-5px_rgba(16,185,129,0.5)]",bracket:"#34d399"},purple:{text:"text-purple-100",focus:"focus:bg-purple-500/20 focus:shadow-[0_0_20px_-5px_rgba(168,85,247,0.5)]",bracket:"#c084fc"},orange:{text:"text-cyan-100",focus:"focus:bg-cyan-500/20 focus:shadow-[0_0_20px_-5px_rgba(34,211,238,0.5)]",bracket:"#22d3ee"},pink:{text:"text-pink-100",focus:"focus:bg-pink-500/20 focus:shadow-[0_0_20px_-5px_rgba(236,72,153,0.5)]",bracket:"#f472b6"},red:{text:"text-fuchsia-100",focus:"focus:bg-fuchsia-500/20 focus:shadow-[0_0_20px_-5px_rgba(217,70,239,0.5)]",bracket:"#e879f9"},cyan:{text:"text-cyan-100",focus:"focus:bg-cyan-500/20 focus:shadow-[0_0_20px_-5px_rgba(34,211,238,0.5)]",bracket:"#22d3ee"}},x=g[s]||g.blue,A=2,b=10;return S.jsxs("div",{className:"flex flex-col items-center gap-3 relative group/matrix",children:[e&&S.jsx(Yt.h3,{layout:!0,className:"text-[10px] font-bold text-slate-500 tracking-[0.2em] uppercase",children:e}),S.jsx(rQ,{children:S.jsxs(Yt.div,{layout:!0,className:"relative px-4 py-2 flex items-stretch",children:[S.jsx("svg",{className:"absolute left-0 top-0 h-full w-4 overflow-visible",preserveAspectRatio:"none",children:S.jsx(Yt.path,{d:`M ${b} 0 L 2 0 L 2 100% L ${b} 100%`,fill:"none",stroke:x.bracket,strokeWidth:A,strokeOpacity:.4,vectorEffect:"non-scaling-stroke",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5}})}),S.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${l}, minmax(min-content, 1fr))`},children:S.jsx(Eo,{children:n.map((M,E)=>M.map((C,T)=>{const B=E===i||T===a,z=`${E}-${T}`,R=u&&u.key===z?u.val:C;return S.jsx(Yt.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:500,damping:30},children:S.jsx("input",{type:"text",inputMode:"decimal",value:R,readOnly:!t,onFocus:()=>t&&d(E,T),onBlur:h,onChange:O=>p(E,T,O.target.value),className:`
                                w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14
                                text-center text-sm sm:text-base md:text-lg 
                                font-mono rounded-lg border border-transparent outline-none transition-all duration-200
                                bg-slate-800/40 hover:bg-slate-800/80
                                ${x.text}
                                ${t?"cursor-text":"cursor-default"}
                                ${t?x.focus:""}
                                ${B?"!bg-white/20 !text-white scale-110 shadow-lg ring-1 ring-white/30 z-10":""}
                            `})},z)}))})}),S.jsx("svg",{className:"absolute right-0 top-0 h-full w-4 overflow-visible",preserveAspectRatio:"none",children:S.jsx(Yt.path,{d:`M ${4-b} 0 L 2 0 L 2 100% L ${4-b} 100%`,fill:"none",stroke:x.bracket,strokeWidth:A,strokeOpacity:.4,vectorEffect:"non-scaling-stroke",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5}})})]})}),S.jsxs("div",{className:"text-[9px] text-slate-600 font-mono opacity-0 group-hover/matrix:opacity-100 transition-opacity",children:[o,"  ",l]})]})},cc=({context:n})=>{const[e,t]=Re.useState(""),i={matrix_basics:{title:"Matrix Definitions",syntax:"Use curly braces {{...}} for rows.",examples:["{{1, 2, 3}, {4, 5, 6}}","identity matrix of size 4","diagonal matrix {1, 2, 3}"]},matrix_ops:{title:"Matrix Operations (PDF Pg 11)",syntax:"Use + for add, * for mult, ^ for power.",examples:["{{1,0},{3,5}} + {{1,3},{7,5}}","{{1,0,2},{3,5,1}} * {{1,3},{7,5},{0,2}}","{{1,0},{3,5}}^3","transpose {{1, 0, 2}, {3, 5, 1}}"]},determinant:{title:"Determinant Calculation",syntax:"Use det(...) or determinant(...)",examples:["det {{1, 0}, {3, 5}}","determinant {{5, 3, -1}, {2, 0, 4}, {-3, 6, 2}}","trace {{4, 1}, {2, 3}}"]},inverse:{title:"Inverse Matrix",syntax:"Use inverse(...) or inv(...)",examples:["inverse {{1, 0}, {3, 5}}","inv {{2, 7, 3}, {3, 9, 4}, {1, 5, 3}}","{{1, 2}, {3, 4}}^-1"]},systems:{title:"System Solver",syntax:"List equations separated by comma",examples:["solve x - 4y + 5z = 2, 2y - z = 1, 4x + 2y + z = 0","{{1, -4, 5}, {0, 2, -1}, {4, 2, 1}} . {x, y, z} = {2, 1, 0}"]},sequences:{title:"Sequence Analysis (PDF Pg 9)",syntax:"Use limit... or discreteplot...",examples:["limit (4*n^2+5*n-7)^0.5 - 2*n as n->infinity","limit (1 + 1/n)^n as n->infinity","discreteplot (4*n^2+5*n-7)^0.5 - 2*n, {n, 1, 50}","Sum[1/n^2, {n, 1, infinity}]"]},functions:{title:"Function Analysis",syntax:"plot ... or domain of ...",examples:["plot (x-1)/(x^2-4)","domain of 2*sqrt(1-x^2)","range of x^2 - 1","asymptotes of (x-1)/(x^2-4)"]},limits:{title:"Limits & Continuity",syntax:"limit f(x) as x->c",examples:["limit (27-x^3)/(x-3) as x->3","limit x/ln(x) as x->0+","limit (1+1/x)^x as x->infinity"]},derivatives:{title:"Differentiation",syntax:"derivative of ... or d/dx ...",examples:["derivative of (x^2-3)e^x","d/dx x^2 * ln(x)","second derivative of sin(x)"]},analysis:{title:"Extrema & Monotonicity",syntax:"extrema of ... or maximize ...",examples:["extrema of x^3 + 3x^2 - 9x - 2","inflection points of x^3 + 3x^2 - 9x - 2","stationary points of (x^2-3)e^x"]},gaussian:{title:"Row Reduction",syntax:"row reduce ... or rref ...",examples:["row reduce {{2, 1, -1}, {-3, -1, 2}, {-2, 1, 2}}","rref {{2, 1, -1, 8}, {-3, -1, 2, -11}}"]},eigen:{title:"Eigenvalues",syntax:"eigenvalues ...",examples:["eigenvalues {{4, 1}, {2, 3}}","eigenvectors {{4, 1}, {2, 3}}","characteristic polynomial {{4, 1}, {2, 3}}"]}}[n],a=s=>{const o=encodeURIComponent(s);window.open(`https://www.wolframalpha.com/input?i=${o}`,"_blank")};return S.jsx("div",{className:"mt-12 border-t border-orange-500/30 pt-8",children:S.jsxs("div",{className:"bg-slate-900/80 rounded-2xl border border-orange-500/20 overflow-hidden",children:[S.jsxs("div",{className:"bg-gradient-to-r from-orange-600/20 to-slate-900 p-4 flex items-center justify-between border-b border-orange-500/20",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg text-orange-500",children:S.jsx(s1,{size:20})}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:["WolframAlpha Integration",S.jsx("span",{className:"px-2 py-0.5 rounded-full bg-orange-500 text-slate-900 text-[10px] font-bold uppercase tracking-wider",children:"Pro Tools"})]}),S.jsx("p",{className:"text-xs text-orange-300/70",children:"Computation Engine & Syntax Helper"})]})]}),S.jsx($$,{size:18,className:"text-orange-500/50"})]}),S.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute left-3 top-3 text-slate-500",children:S.jsx(aW,{size:18})}),S.jsx("input",{type:"text",value:e,onChange:s=>t(s.target.value),placeholder:"Enter mathematical query...",className:"w-full bg-slate-950 border border-slate-700 rounded-xl py-3 pl-10 pr-4 text-white focus:border-orange-500 outline-none font-mono text-sm",onKeyDown:s=>s.key==="Enter"&&a(e)})]}),S.jsxs("button",{onClick:()=>a(e),disabled:!e,className:"w-full py-3 bg-orange-600 hover:bg-orange-500 disabled:opacity-50 disabled:hover:bg-orange-600 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[S.jsx(s1,{size:16})," Compute on WolframAlpha"]}),S.jsx("p",{className:"text-[10px] text-slate-500 text-center",children:"Opens in a new tab. Requires internet connection."})]}),S.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-4",children:[S.jsx("h4",{className:"text-xs font-bold text-orange-400 uppercase tracking-widest mb-1",children:i.title}),S.jsx("p",{className:"text-xs text-slate-400 mb-4 font-mono",children:i.syntax}),S.jsx("div",{className:"space-y-2",children:i.examples.map((s,o)=>S.jsxs("button",{onClick:()=>a(s),className:"w-full text-left group flex items-center justify-between p-2 rounded-lg hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700",children:[S.jsx("code",{className:"text-xs text-slate-300 font-mono truncate",children:s}),S.jsx("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx(JE,{size:14,className:"text-orange-500"})})]},o))})]})]})]})})};class El{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new El(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class cf{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new cf(t,El.range(this,e))}}class zt{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,a,s=t&&t.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&"),u;i>15?u=""+o.slice(i-15,i):u=o.slice(0,i);var c;a+15<o.length?c=o.slice(a,a+15)+"":c=o.slice(a),r+=u+l+c}var d=new Error(r);return d.name="ParseError",d.__proto__=zt.prototype,d.position=i,i!=null&&a!=null&&(d.length=a-i),d.rawMessage=e,d}}zt.prototype.__proto__=Error.prototype;var mJ=function(e,t){return e.indexOf(t)!==-1},pJ=function(e,t){return e===void 0?t:e},vJ=/([A-Z])/g,gJ=function(e){return e.replace(vJ,"-$1").toLowerCase()},xJ={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},yJ=/[&><"']/g;function bJ(n){return String(n).replace(yJ,e=>xJ[e])}var ik=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},SJ=function(e){var t=ik(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},wJ=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},AJ=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return t!=null?t[1]:"_relative"},Tn={contains:mJ,deflt:pJ,escape:bJ,hyphenate:gJ,getBaseElem:ik,isCharacterBox:SJ,protocolFromUrl:AJ},v3={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function MJ(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class F6{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in v3)if(v3.hasOwnProperty(t)){var r=v3[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:MJ(r)}}reportNonstrict(e,t,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new zt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var i=this.strict;if(typeof i=="function")try{i=i(e,t,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=Tn.protocolFromUrl(e.url));var t=typeof this.trust=="function"?this.trust(e):this.trust;return!!t}}class B0{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return tf[_J[this.id]]}sub(){return tf[EJ[this.id]]}fracNum(){return tf[NJ[this.id]]}fracDen(){return tf[TJ[this.id]]}cramp(){return tf[CJ[this.id]]}text(){return tf[DJ[this.id]]}isTight(){return this.size>=2}}var L6=0,q3=1,t1=2,_d=3,wy=4,fu=5,l1=6,wo=7,tf=[new B0(L6,0,!1),new B0(q3,0,!0),new B0(t1,1,!1),new B0(_d,1,!0),new B0(wy,2,!1),new B0(fu,2,!0),new B0(l1,3,!1),new B0(wo,3,!0)],_J=[wy,fu,wy,fu,l1,wo,l1,wo],EJ=[fu,fu,fu,fu,wo,wo,wo,wo],NJ=[t1,_d,wy,fu,l1,wo,l1,wo],TJ=[_d,_d,fu,fu,wo,wo,wo,wo],CJ=[q3,q3,_d,_d,fu,fu,wo,wo],DJ=[L6,q3,t1,_d,t1,_d,t1,_d],yn={DISPLAY:tf[L6],TEXT:tf[t1],SCRIPT:tf[wy],SCRIPTSCRIPT:tf[l1]},nE=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function RJ(n){for(var e=0;e<nE.length;e++)for(var t=nE[e],r=0;r<t.blocks.length;r++){var i=t.blocks[r];if(n>=i[0]&&n<=i[1])return t.name}return null}var g3=[];nE.forEach(n=>n.blocks.forEach(e=>g3.push(...e)));function ak(n){for(var e=0;e<g3.length;e+=2)if(n>=g3[e]&&n<=g3[e+1])return!0;return!1}var hv=80,BJ=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},OJ=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},zJ=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},UJ=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},FJ=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},LJ=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},kJ=function(e,t,r){var i=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},IJ=function(e,t,r){t=1e3*t;var i="";switch(e){case"sqrtMain":i=BJ(t,hv);break;case"sqrtSize1":i=OJ(t,hv);break;case"sqrtSize2":i=zJ(t,hv);break;case"sqrtSize3":i=UJ(t,hv);break;case"sqrtSize4":i=FJ(t,hv);break;case"sqrtTall":i=kJ(t,hv,r)}return i},PJ=function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},l7={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},jJ=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Jy{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Tn.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var af={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},kb={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},u7={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function VJ(n,e){af[n]=e}function k6(n,e,t){if(!af[e])throw new Error("Font metrics not found for font: "+e+".");var r=n.charCodeAt(0),i=af[e][r];if(!i&&n[0]in u7&&(r=u7[n[0]].charCodeAt(0),i=af[e][r]),!i&&t==="text"&&ak(r)&&(i=af[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var kA={};function HJ(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!kA[e]){var t=kA[e]={cssEmPerMu:kb.quad[e]/18};for(var r in kb)kb.hasOwnProperty(r)&&(t[r]=kb[r][e])}return kA[e]}var qJ=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],c7=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],f7=function(e,t){return t.size<2?e:qJ[e-1][t.size-1]};class vd{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||vd.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=c7[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new vd(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:f7(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:c7[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=f7(vd.BASESIZE,e);return this.size===t&&this.textSize===vd.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==vd.BASESIZE?["sizing","reset-size"+this.size,"size"+vd.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=HJ(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}vd.BASESIZE=6;var rE={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},GJ={ex:!0,em:!0,mu:!0},sk=function(e){return typeof e!="string"&&(e=e.unit),e in rE||e in GJ||e==="ex"},Li=function(e,t){var r;if(e.unit in rE)r=rE[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new zt("Invalid unit: '"+e.unit+"'");i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},It=function(e){return+e.toFixed(4)+"em"},J0=function(e){return e.filter(t=>t).join(" ")},ok=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},lk=function(e){var t=document.createElement(e);t.className=J0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t},uk=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Tn.escape(J0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Tn.hyphenate(i)+":"+this.style[i]+";");r&&(t+=' style="'+Tn.escape(r)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(t+=" "+a+'="'+Tn.escape(this.attributes[a])+'"');t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">",t};class e2{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ok.call(this,e,r,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Tn.contains(this.classes,e)}toNode(){return lk.call(this,"span")}toMarkup(){return uk.call(this,"span")}}class I6{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ok.call(this,t,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Tn.contains(this.classes,e)}toNode(){return lk.call(this,"a")}toMarkup(){return uk.call(this,"a")}}class $J{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Tn.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=Tn.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+Tn.escape(t)+'"'),e+="'/>",e}}var XJ={:"",:"",:"",:""};let vu=class{constructor(e,t,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=RJ(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=XJ[this.text])}hasClass(e){return Tn.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=It(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=J0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Tn.escape(J0(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Tn.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,t+=' style="'+Tn.escape(r)+'"');var a=Tn.escape(this.text);return e?(t+=">",t+=a,t+="</span>",t):a}};class Bd{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class eh{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",l7[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+l7[this.pathName]+"'/>"}}class iE{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>",e}}function d7(n){if(n instanceof vu)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function WJ(n){if(n instanceof e2)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var YJ={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ZJ={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},pi={math:{},text:{}};function Y(n,e,t,r,i,a){pi[n][i]={font:e,group:t,replace:r},a&&r&&(pi[n][r]=pi[n][i])}var ne="math",Ct="text",pe="main",Ie="ams",Ti="accent-token",Zt="bin",Co="close",T1="inner",xn="mathord",Sa="op-token",Rl="open",bw="punct",je="rel",Hd="spacing",Qe="textord";Y(ne,pe,je,"","\\equiv",!0);Y(ne,pe,je,"","\\prec",!0);Y(ne,pe,je,"","\\succ",!0);Y(ne,pe,je,"","\\sim",!0);Y(ne,pe,je,"","\\perp");Y(ne,pe,je,"","\\preceq",!0);Y(ne,pe,je,"","\\succeq",!0);Y(ne,pe,je,"","\\simeq",!0);Y(ne,pe,je,"","\\mid",!0);Y(ne,pe,je,"","\\ll",!0);Y(ne,pe,je,"","\\gg",!0);Y(ne,pe,je,"","\\asymp",!0);Y(ne,pe,je,"","\\parallel");Y(ne,pe,je,"","\\bowtie",!0);Y(ne,pe,je,"","\\smile",!0);Y(ne,pe,je,"","\\sqsubseteq",!0);Y(ne,pe,je,"","\\sqsupseteq",!0);Y(ne,pe,je,"","\\doteq",!0);Y(ne,pe,je,"","\\frown",!0);Y(ne,pe,je,"","\\ni",!0);Y(ne,pe,je,"","\\propto",!0);Y(ne,pe,je,"","\\vdash",!0);Y(ne,pe,je,"","\\dashv",!0);Y(ne,pe,je,"","\\owns");Y(ne,pe,bw,".","\\ldotp");Y(ne,pe,bw,"","\\cdotp");Y(ne,pe,Qe,"#","\\#");Y(Ct,pe,Qe,"#","\\#");Y(ne,pe,Qe,"&","\\&");Y(Ct,pe,Qe,"&","\\&");Y(ne,pe,Qe,"","\\aleph",!0);Y(ne,pe,Qe,"","\\forall",!0);Y(ne,pe,Qe,"","\\hbar",!0);Y(ne,pe,Qe,"","\\exists",!0);Y(ne,pe,Qe,"","\\nabla",!0);Y(ne,pe,Qe,"","\\flat",!0);Y(ne,pe,Qe,"","\\ell",!0);Y(ne,pe,Qe,"","\\natural",!0);Y(ne,pe,Qe,"","\\clubsuit",!0);Y(ne,pe,Qe,"","\\wp",!0);Y(ne,pe,Qe,"","\\sharp",!0);Y(ne,pe,Qe,"","\\diamondsuit",!0);Y(ne,pe,Qe,"","\\Re",!0);Y(ne,pe,Qe,"","\\heartsuit",!0);Y(ne,pe,Qe,"","\\Im",!0);Y(ne,pe,Qe,"","\\spadesuit",!0);Y(ne,pe,Qe,"","\\S",!0);Y(Ct,pe,Qe,"","\\S");Y(ne,pe,Qe,"","\\P",!0);Y(Ct,pe,Qe,"","\\P");Y(ne,pe,Qe,"","\\dag");Y(Ct,pe,Qe,"","\\dag");Y(Ct,pe,Qe,"","\\textdagger");Y(ne,pe,Qe,"","\\ddag");Y(Ct,pe,Qe,"","\\ddag");Y(Ct,pe,Qe,"","\\textdaggerdbl");Y(ne,pe,Co,"","\\rmoustache",!0);Y(ne,pe,Rl,"","\\lmoustache",!0);Y(ne,pe,Co,"","\\rgroup",!0);Y(ne,pe,Rl,"","\\lgroup",!0);Y(ne,pe,Zt,"","\\mp",!0);Y(ne,pe,Zt,"","\\ominus",!0);Y(ne,pe,Zt,"","\\uplus",!0);Y(ne,pe,Zt,"","\\sqcap",!0);Y(ne,pe,Zt,"","\\ast");Y(ne,pe,Zt,"","\\sqcup",!0);Y(ne,pe,Zt,"","\\bigcirc",!0);Y(ne,pe,Zt,"","\\bullet",!0);Y(ne,pe,Zt,"","\\ddagger");Y(ne,pe,Zt,"","\\wr",!0);Y(ne,pe,Zt,"","\\amalg");Y(ne,pe,Zt,"&","\\And");Y(ne,pe,je,"","\\longleftarrow",!0);Y(ne,pe,je,"","\\Leftarrow",!0);Y(ne,pe,je,"","\\Longleftarrow",!0);Y(ne,pe,je,"","\\longrightarrow",!0);Y(ne,pe,je,"","\\Rightarrow",!0);Y(ne,pe,je,"","\\Longrightarrow",!0);Y(ne,pe,je,"","\\leftrightarrow",!0);Y(ne,pe,je,"","\\longleftrightarrow",!0);Y(ne,pe,je,"","\\Leftrightarrow",!0);Y(ne,pe,je,"","\\Longleftrightarrow",!0);Y(ne,pe,je,"","\\mapsto",!0);Y(ne,pe,je,"","\\longmapsto",!0);Y(ne,pe,je,"","\\nearrow",!0);Y(ne,pe,je,"","\\hookleftarrow",!0);Y(ne,pe,je,"","\\hookrightarrow",!0);Y(ne,pe,je,"","\\searrow",!0);Y(ne,pe,je,"","\\leftharpoonup",!0);Y(ne,pe,je,"","\\rightharpoonup",!0);Y(ne,pe,je,"","\\swarrow",!0);Y(ne,pe,je,"","\\leftharpoondown",!0);Y(ne,pe,je,"","\\rightharpoondown",!0);Y(ne,pe,je,"","\\nwarrow",!0);Y(ne,pe,je,"","\\rightleftharpoons",!0);Y(ne,Ie,je,"","\\nless",!0);Y(ne,Ie,je,"","\\@nleqslant");Y(ne,Ie,je,"","\\@nleqq");Y(ne,Ie,je,"","\\lneq",!0);Y(ne,Ie,je,"","\\lneqq",!0);Y(ne,Ie,je,"","\\@lvertneqq");Y(ne,Ie,je,"","\\lnsim",!0);Y(ne,Ie,je,"","\\lnapprox",!0);Y(ne,Ie,je,"","\\nprec",!0);Y(ne,Ie,je,"","\\npreceq",!0);Y(ne,Ie,je,"","\\precnsim",!0);Y(ne,Ie,je,"","\\precnapprox",!0);Y(ne,Ie,je,"","\\nsim",!0);Y(ne,Ie,je,"","\\@nshortmid");Y(ne,Ie,je,"","\\nmid",!0);Y(ne,Ie,je,"","\\nvdash",!0);Y(ne,Ie,je,"","\\nvDash",!0);Y(ne,Ie,je,"","\\ntriangleleft");Y(ne,Ie,je,"","\\ntrianglelefteq",!0);Y(ne,Ie,je,"","\\subsetneq",!0);Y(ne,Ie,je,"","\\@varsubsetneq");Y(ne,Ie,je,"","\\subsetneqq",!0);Y(ne,Ie,je,"","\\@varsubsetneqq");Y(ne,Ie,je,"","\\ngtr",!0);Y(ne,Ie,je,"","\\@ngeqslant");Y(ne,Ie,je,"","\\@ngeqq");Y(ne,Ie,je,"","\\gneq",!0);Y(ne,Ie,je,"","\\gneqq",!0);Y(ne,Ie,je,"","\\@gvertneqq");Y(ne,Ie,je,"","\\gnsim",!0);Y(ne,Ie,je,"","\\gnapprox",!0);Y(ne,Ie,je,"","\\nsucc",!0);Y(ne,Ie,je,"","\\nsucceq",!0);Y(ne,Ie,je,"","\\succnsim",!0);Y(ne,Ie,je,"","\\succnapprox",!0);Y(ne,Ie,je,"","\\ncong",!0);Y(ne,Ie,je,"","\\@nshortparallel");Y(ne,Ie,je,"","\\nparallel",!0);Y(ne,Ie,je,"","\\nVDash",!0);Y(ne,Ie,je,"","\\ntriangleright");Y(ne,Ie,je,"","\\ntrianglerighteq",!0);Y(ne,Ie,je,"","\\@nsupseteqq");Y(ne,Ie,je,"","\\supsetneq",!0);Y(ne,Ie,je,"","\\@varsupsetneq");Y(ne,Ie,je,"","\\supsetneqq",!0);Y(ne,Ie,je,"","\\@varsupsetneqq");Y(ne,Ie,je,"","\\nVdash",!0);Y(ne,Ie,je,"","\\precneqq",!0);Y(ne,Ie,je,"","\\succneqq",!0);Y(ne,Ie,je,"","\\@nsubseteqq");Y(ne,Ie,Zt,"","\\unlhd");Y(ne,Ie,Zt,"","\\unrhd");Y(ne,Ie,je,"","\\nleftarrow",!0);Y(ne,Ie,je,"","\\nrightarrow",!0);Y(ne,Ie,je,"","\\nLeftarrow",!0);Y(ne,Ie,je,"","\\nRightarrow",!0);Y(ne,Ie,je,"","\\nleftrightarrow",!0);Y(ne,Ie,je,"","\\nLeftrightarrow",!0);Y(ne,Ie,je,"","\\vartriangle");Y(ne,Ie,Qe,"","\\hslash");Y(ne,Ie,Qe,"","\\triangledown");Y(ne,Ie,Qe,"","\\lozenge");Y(ne,Ie,Qe,"","\\circledS");Y(ne,Ie,Qe,"","\\circledR");Y(Ct,Ie,Qe,"","\\circledR");Y(ne,Ie,Qe,"","\\measuredangle",!0);Y(ne,Ie,Qe,"","\\nexists");Y(ne,Ie,Qe,"","\\mho");Y(ne,Ie,Qe,"","\\Finv",!0);Y(ne,Ie,Qe,"","\\Game",!0);Y(ne,Ie,Qe,"","\\backprime");Y(ne,Ie,Qe,"","\\blacktriangle");Y(ne,Ie,Qe,"","\\blacktriangledown");Y(ne,Ie,Qe,"","\\blacksquare");Y(ne,Ie,Qe,"","\\blacklozenge");Y(ne,Ie,Qe,"","\\bigstar");Y(ne,Ie,Qe,"","\\sphericalangle",!0);Y(ne,Ie,Qe,"","\\complement",!0);Y(ne,Ie,Qe,"","\\eth",!0);Y(Ct,pe,Qe,"","");Y(ne,Ie,Qe,"","\\diagup");Y(ne,Ie,Qe,"","\\diagdown");Y(ne,Ie,Qe,"","\\square");Y(ne,Ie,Qe,"","\\Box");Y(ne,Ie,Qe,"","\\Diamond");Y(ne,Ie,Qe,"","\\yen",!0);Y(Ct,Ie,Qe,"","\\yen",!0);Y(ne,Ie,Qe,"","\\checkmark",!0);Y(Ct,Ie,Qe,"","\\checkmark");Y(ne,Ie,Qe,"","\\beth",!0);Y(ne,Ie,Qe,"","\\daleth",!0);Y(ne,Ie,Qe,"","\\gimel",!0);Y(ne,Ie,Qe,"","\\digamma",!0);Y(ne,Ie,Qe,"","\\varkappa");Y(ne,Ie,Rl,"","\\@ulcorner",!0);Y(ne,Ie,Co,"","\\@urcorner",!0);Y(ne,Ie,Rl,"","\\@llcorner",!0);Y(ne,Ie,Co,"","\\@lrcorner",!0);Y(ne,Ie,je,"","\\leqq",!0);Y(ne,Ie,je,"","\\leqslant",!0);Y(ne,Ie,je,"","\\eqslantless",!0);Y(ne,Ie,je,"","\\lesssim",!0);Y(ne,Ie,je,"","\\lessapprox",!0);Y(ne,Ie,je,"","\\approxeq",!0);Y(ne,Ie,Zt,"","\\lessdot");Y(ne,Ie,je,"","\\lll",!0);Y(ne,Ie,je,"","\\lessgtr",!0);Y(ne,Ie,je,"","\\lesseqgtr",!0);Y(ne,Ie,je,"","\\lesseqqgtr",!0);Y(ne,Ie,je,"","\\doteqdot");Y(ne,Ie,je,"","\\risingdotseq",!0);Y(ne,Ie,je,"","\\fallingdotseq",!0);Y(ne,Ie,je,"","\\backsim",!0);Y(ne,Ie,je,"","\\backsimeq",!0);Y(ne,Ie,je,"","\\subseteqq",!0);Y(ne,Ie,je,"","\\Subset",!0);Y(ne,Ie,je,"","\\sqsubset",!0);Y(ne,Ie,je,"","\\preccurlyeq",!0);Y(ne,Ie,je,"","\\curlyeqprec",!0);Y(ne,Ie,je,"","\\precsim",!0);Y(ne,Ie,je,"","\\precapprox",!0);Y(ne,Ie,je,"","\\vartriangleleft");Y(ne,Ie,je,"","\\trianglelefteq");Y(ne,Ie,je,"","\\vDash",!0);Y(ne,Ie,je,"","\\Vvdash",!0);Y(ne,Ie,je,"","\\smallsmile");Y(ne,Ie,je,"","\\smallfrown");Y(ne,Ie,je,"","\\bumpeq",!0);Y(ne,Ie,je,"","\\Bumpeq",!0);Y(ne,Ie,je,"","\\geqq",!0);Y(ne,Ie,je,"","\\geqslant",!0);Y(ne,Ie,je,"","\\eqslantgtr",!0);Y(ne,Ie,je,"","\\gtrsim",!0);Y(ne,Ie,je,"","\\gtrapprox",!0);Y(ne,Ie,Zt,"","\\gtrdot");Y(ne,Ie,je,"","\\ggg",!0);Y(ne,Ie,je,"","\\gtrless",!0);Y(ne,Ie,je,"","\\gtreqless",!0);Y(ne,Ie,je,"","\\gtreqqless",!0);Y(ne,Ie,je,"","\\eqcirc",!0);Y(ne,Ie,je,"","\\circeq",!0);Y(ne,Ie,je,"","\\triangleq",!0);Y(ne,Ie,je,"","\\thicksim");Y(ne,Ie,je,"","\\thickapprox");Y(ne,Ie,je,"","\\supseteqq",!0);Y(ne,Ie,je,"","\\Supset",!0);Y(ne,Ie,je,"","\\sqsupset",!0);Y(ne,Ie,je,"","\\succcurlyeq",!0);Y(ne,Ie,je,"","\\curlyeqsucc",!0);Y(ne,Ie,je,"","\\succsim",!0);Y(ne,Ie,je,"","\\succapprox",!0);Y(ne,Ie,je,"","\\vartriangleright");Y(ne,Ie,je,"","\\trianglerighteq");Y(ne,Ie,je,"","\\Vdash",!0);Y(ne,Ie,je,"","\\shortmid");Y(ne,Ie,je,"","\\shortparallel");Y(ne,Ie,je,"","\\between",!0);Y(ne,Ie,je,"","\\pitchfork",!0);Y(ne,Ie,je,"","\\varpropto");Y(ne,Ie,je,"","\\blacktriangleleft");Y(ne,Ie,je,"","\\therefore",!0);Y(ne,Ie,je,"","\\backepsilon");Y(ne,Ie,je,"","\\blacktriangleright");Y(ne,Ie,je,"","\\because",!0);Y(ne,Ie,je,"","\\llless");Y(ne,Ie,je,"","\\gggtr");Y(ne,Ie,Zt,"","\\lhd");Y(ne,Ie,Zt,"","\\rhd");Y(ne,Ie,je,"","\\eqsim",!0);Y(ne,pe,je,"","\\Join");Y(ne,Ie,je,"","\\Doteq",!0);Y(ne,Ie,Zt,"","\\dotplus",!0);Y(ne,Ie,Zt,"","\\smallsetminus");Y(ne,Ie,Zt,"","\\Cap",!0);Y(ne,Ie,Zt,"","\\Cup",!0);Y(ne,Ie,Zt,"","\\doublebarwedge",!0);Y(ne,Ie,Zt,"","\\boxminus",!0);Y(ne,Ie,Zt,"","\\boxplus",!0);Y(ne,Ie,Zt,"","\\divideontimes",!0);Y(ne,Ie,Zt,"","\\ltimes",!0);Y(ne,Ie,Zt,"","\\rtimes",!0);Y(ne,Ie,Zt,"","\\leftthreetimes",!0);Y(ne,Ie,Zt,"","\\rightthreetimes",!0);Y(ne,Ie,Zt,"","\\curlywedge",!0);Y(ne,Ie,Zt,"","\\curlyvee",!0);Y(ne,Ie,Zt,"","\\circleddash",!0);Y(ne,Ie,Zt,"","\\circledast",!0);Y(ne,Ie,Zt,"","\\centerdot");Y(ne,Ie,Zt,"","\\intercal",!0);Y(ne,Ie,Zt,"","\\doublecap");Y(ne,Ie,Zt,"","\\doublecup");Y(ne,Ie,Zt,"","\\boxtimes",!0);Y(ne,Ie,je,"","\\dashrightarrow",!0);Y(ne,Ie,je,"","\\dashleftarrow",!0);Y(ne,Ie,je,"","\\leftleftarrows",!0);Y(ne,Ie,je,"","\\leftrightarrows",!0);Y(ne,Ie,je,"","\\Lleftarrow",!0);Y(ne,Ie,je,"","\\twoheadleftarrow",!0);Y(ne,Ie,je,"","\\leftarrowtail",!0);Y(ne,Ie,je,"","\\looparrowleft",!0);Y(ne,Ie,je,"","\\leftrightharpoons",!0);Y(ne,Ie,je,"","\\curvearrowleft",!0);Y(ne,Ie,je,"","\\circlearrowleft",!0);Y(ne,Ie,je,"","\\Lsh",!0);Y(ne,Ie,je,"","\\upuparrows",!0);Y(ne,Ie,je,"","\\upharpoonleft",!0);Y(ne,Ie,je,"","\\downharpoonleft",!0);Y(ne,pe,je,"","\\origof",!0);Y(ne,pe,je,"","\\imageof",!0);Y(ne,Ie,je,"","\\multimap",!0);Y(ne,Ie,je,"","\\leftrightsquigarrow",!0);Y(ne,Ie,je,"","\\rightrightarrows",!0);Y(ne,Ie,je,"","\\rightleftarrows",!0);Y(ne,Ie,je,"","\\twoheadrightarrow",!0);Y(ne,Ie,je,"","\\rightarrowtail",!0);Y(ne,Ie,je,"","\\looparrowright",!0);Y(ne,Ie,je,"","\\curvearrowright",!0);Y(ne,Ie,je,"","\\circlearrowright",!0);Y(ne,Ie,je,"","\\Rsh",!0);Y(ne,Ie,je,"","\\downdownarrows",!0);Y(ne,Ie,je,"","\\upharpoonright",!0);Y(ne,Ie,je,"","\\downharpoonright",!0);Y(ne,Ie,je,"","\\rightsquigarrow",!0);Y(ne,Ie,je,"","\\leadsto");Y(ne,Ie,je,"","\\Rrightarrow",!0);Y(ne,Ie,je,"","\\restriction");Y(ne,pe,Qe,"","`");Y(ne,pe,Qe,"$","\\$");Y(Ct,pe,Qe,"$","\\$");Y(Ct,pe,Qe,"$","\\textdollar");Y(ne,pe,Qe,"%","\\%");Y(Ct,pe,Qe,"%","\\%");Y(ne,pe,Qe,"_","\\_");Y(Ct,pe,Qe,"_","\\_");Y(Ct,pe,Qe,"_","\\textunderscore");Y(ne,pe,Qe,"","\\angle",!0);Y(ne,pe,Qe,"","\\infty",!0);Y(ne,pe,Qe,"","\\prime");Y(ne,pe,Qe,"","\\triangle");Y(ne,pe,Qe,"","\\Gamma",!0);Y(ne,pe,Qe,"","\\Delta",!0);Y(ne,pe,Qe,"","\\Theta",!0);Y(ne,pe,Qe,"","\\Lambda",!0);Y(ne,pe,Qe,"","\\Xi",!0);Y(ne,pe,Qe,"","\\Pi",!0);Y(ne,pe,Qe,"","\\Sigma",!0);Y(ne,pe,Qe,"","\\Upsilon",!0);Y(ne,pe,Qe,"","\\Phi",!0);Y(ne,pe,Qe,"","\\Psi",!0);Y(ne,pe,Qe,"","\\Omega",!0);Y(ne,pe,Qe,"A","");Y(ne,pe,Qe,"B","");Y(ne,pe,Qe,"E","");Y(ne,pe,Qe,"Z","");Y(ne,pe,Qe,"H","");Y(ne,pe,Qe,"I","");Y(ne,pe,Qe,"K","");Y(ne,pe,Qe,"M","");Y(ne,pe,Qe,"N","");Y(ne,pe,Qe,"O","");Y(ne,pe,Qe,"P","");Y(ne,pe,Qe,"T","");Y(ne,pe,Qe,"X","");Y(ne,pe,Qe,"","\\neg",!0);Y(ne,pe,Qe,"","\\lnot");Y(ne,pe,Qe,"","\\top");Y(ne,pe,Qe,"","\\bot");Y(ne,pe,Qe,"","\\emptyset");Y(ne,Ie,Qe,"","\\varnothing");Y(ne,pe,xn,"","\\alpha",!0);Y(ne,pe,xn,"","\\beta",!0);Y(ne,pe,xn,"","\\gamma",!0);Y(ne,pe,xn,"","\\delta",!0);Y(ne,pe,xn,"","\\epsilon",!0);Y(ne,pe,xn,"","\\zeta",!0);Y(ne,pe,xn,"","\\eta",!0);Y(ne,pe,xn,"","\\theta",!0);Y(ne,pe,xn,"","\\iota",!0);Y(ne,pe,xn,"","\\kappa",!0);Y(ne,pe,xn,"","\\lambda",!0);Y(ne,pe,xn,"","\\mu",!0);Y(ne,pe,xn,"","\\nu",!0);Y(ne,pe,xn,"","\\xi",!0);Y(ne,pe,xn,"","\\omicron",!0);Y(ne,pe,xn,"","\\pi",!0);Y(ne,pe,xn,"","\\rho",!0);Y(ne,pe,xn,"","\\sigma",!0);Y(ne,pe,xn,"","\\tau",!0);Y(ne,pe,xn,"","\\upsilon",!0);Y(ne,pe,xn,"","\\phi",!0);Y(ne,pe,xn,"","\\chi",!0);Y(ne,pe,xn,"","\\psi",!0);Y(ne,pe,xn,"","\\omega",!0);Y(ne,pe,xn,"","\\varepsilon",!0);Y(ne,pe,xn,"","\\vartheta",!0);Y(ne,pe,xn,"","\\varpi",!0);Y(ne,pe,xn,"","\\varrho",!0);Y(ne,pe,xn,"","\\varsigma",!0);Y(ne,pe,xn,"","\\varphi",!0);Y(ne,pe,Zt,"","*",!0);Y(ne,pe,Zt,"+","+");Y(ne,pe,Zt,"","-",!0);Y(ne,pe,Zt,"","\\cdot",!0);Y(ne,pe,Zt,"","\\circ",!0);Y(ne,pe,Zt,"","\\div",!0);Y(ne,pe,Zt,"","\\pm",!0);Y(ne,pe,Zt,"","\\times",!0);Y(ne,pe,Zt,"","\\cap",!0);Y(ne,pe,Zt,"","\\cup",!0);Y(ne,pe,Zt,"","\\setminus",!0);Y(ne,pe,Zt,"","\\land");Y(ne,pe,Zt,"","\\lor");Y(ne,pe,Zt,"","\\wedge",!0);Y(ne,pe,Zt,"","\\vee",!0);Y(ne,pe,Qe,"","\\surd");Y(ne,pe,Rl,"","\\langle",!0);Y(ne,pe,Rl,"","\\lvert");Y(ne,pe,Rl,"","\\lVert");Y(ne,pe,Co,"?","?");Y(ne,pe,Co,"!","!");Y(ne,pe,Co,"","\\rangle",!0);Y(ne,pe,Co,"","\\rvert");Y(ne,pe,Co,"","\\rVert");Y(ne,pe,je,"=","=");Y(ne,pe,je,":",":");Y(ne,pe,je,"","\\approx",!0);Y(ne,pe,je,"","\\cong",!0);Y(ne,pe,je,"","\\ge");Y(ne,pe,je,"","\\geq",!0);Y(ne,pe,je,"","\\gets");Y(ne,pe,je,">","\\gt",!0);Y(ne,pe,je,"","\\in",!0);Y(ne,pe,je,"","\\@not");Y(ne,pe,je,"","\\subset",!0);Y(ne,pe,je,"","\\supset",!0);Y(ne,pe,je,"","\\subseteq",!0);Y(ne,pe,je,"","\\supseteq",!0);Y(ne,Ie,je,"","\\nsubseteq",!0);Y(ne,Ie,je,"","\\nsupseteq",!0);Y(ne,pe,je,"","\\models");Y(ne,pe,je,"","\\leftarrow",!0);Y(ne,pe,je,"","\\le");Y(ne,pe,je,"","\\leq",!0);Y(ne,pe,je,"<","\\lt",!0);Y(ne,pe,je,"","\\rightarrow",!0);Y(ne,pe,je,"","\\to");Y(ne,Ie,je,"","\\ngeq",!0);Y(ne,Ie,je,"","\\nleq",!0);Y(ne,pe,Hd,"","\\ ");Y(ne,pe,Hd,"","\\space");Y(ne,pe,Hd,"","\\nobreakspace");Y(Ct,pe,Hd,"","\\ ");Y(Ct,pe,Hd,""," ");Y(Ct,pe,Hd,"","\\space");Y(Ct,pe,Hd,"","\\nobreakspace");Y(ne,pe,Hd,null,"\\nobreak");Y(ne,pe,Hd,null,"\\allowbreak");Y(ne,pe,bw,",",",");Y(ne,pe,bw,";",";");Y(ne,Ie,Zt,"","\\barwedge",!0);Y(ne,Ie,Zt,"","\\veebar",!0);Y(ne,pe,Zt,"","\\odot",!0);Y(ne,pe,Zt,"","\\oplus",!0);Y(ne,pe,Zt,"","\\otimes",!0);Y(ne,pe,Qe,"","\\partial",!0);Y(ne,pe,Zt,"","\\oslash",!0);Y(ne,Ie,Zt,"","\\circledcirc",!0);Y(ne,Ie,Zt,"","\\boxdot",!0);Y(ne,pe,Zt,"","\\bigtriangleup");Y(ne,pe,Zt,"","\\bigtriangledown");Y(ne,pe,Zt,"","\\dagger");Y(ne,pe,Zt,"","\\diamond");Y(ne,pe,Zt,"","\\star");Y(ne,pe,Zt,"","\\triangleleft");Y(ne,pe,Zt,"","\\triangleright");Y(ne,pe,Rl,"{","\\{");Y(Ct,pe,Qe,"{","\\{");Y(Ct,pe,Qe,"{","\\textbraceleft");Y(ne,pe,Co,"}","\\}");Y(Ct,pe,Qe,"}","\\}");Y(Ct,pe,Qe,"}","\\textbraceright");Y(ne,pe,Rl,"{","\\lbrace");Y(ne,pe,Co,"}","\\rbrace");Y(ne,pe,Rl,"[","\\lbrack",!0);Y(Ct,pe,Qe,"[","\\lbrack",!0);Y(ne,pe,Co,"]","\\rbrack",!0);Y(Ct,pe,Qe,"]","\\rbrack",!0);Y(ne,pe,Rl,"(","\\lparen",!0);Y(ne,pe,Co,")","\\rparen",!0);Y(Ct,pe,Qe,"<","\\textless",!0);Y(Ct,pe,Qe,">","\\textgreater",!0);Y(ne,pe,Rl,"","\\lfloor",!0);Y(ne,pe,Co,"","\\rfloor",!0);Y(ne,pe,Rl,"","\\lceil",!0);Y(ne,pe,Co,"","\\rceil",!0);Y(ne,pe,Qe,"\\","\\backslash");Y(ne,pe,Qe,"","|");Y(ne,pe,Qe,"","\\vert");Y(Ct,pe,Qe,"|","\\textbar",!0);Y(ne,pe,Qe,"","\\|");Y(ne,pe,Qe,"","\\Vert");Y(Ct,pe,Qe,"","\\textbardbl");Y(Ct,pe,Qe,"~","\\textasciitilde");Y(Ct,pe,Qe,"\\","\\textbackslash");Y(Ct,pe,Qe,"^","\\textasciicircum");Y(ne,pe,je,"","\\uparrow",!0);Y(ne,pe,je,"","\\Uparrow",!0);Y(ne,pe,je,"","\\downarrow",!0);Y(ne,pe,je,"","\\Downarrow",!0);Y(ne,pe,je,"","\\updownarrow",!0);Y(ne,pe,je,"","\\Updownarrow",!0);Y(ne,pe,Sa,"","\\coprod");Y(ne,pe,Sa,"","\\bigvee");Y(ne,pe,Sa,"","\\bigwedge");Y(ne,pe,Sa,"","\\biguplus");Y(ne,pe,Sa,"","\\bigcap");Y(ne,pe,Sa,"","\\bigcup");Y(ne,pe,Sa,"","\\int");Y(ne,pe,Sa,"","\\intop");Y(ne,pe,Sa,"","\\iint");Y(ne,pe,Sa,"","\\iiint");Y(ne,pe,Sa,"","\\prod");Y(ne,pe,Sa,"","\\sum");Y(ne,pe,Sa,"","\\bigotimes");Y(ne,pe,Sa,"","\\bigoplus");Y(ne,pe,Sa,"","\\bigodot");Y(ne,pe,Sa,"","\\oint");Y(ne,pe,Sa,"","\\oiint");Y(ne,pe,Sa,"","\\oiiint");Y(ne,pe,Sa,"","\\bigsqcup");Y(ne,pe,Sa,"","\\smallint");Y(Ct,pe,T1,"","\\textellipsis");Y(ne,pe,T1,"","\\mathellipsis");Y(Ct,pe,T1,"","\\ldots",!0);Y(ne,pe,T1,"","\\ldots",!0);Y(ne,pe,T1,"","\\@cdots",!0);Y(ne,pe,T1,"","\\ddots",!0);Y(ne,pe,Qe,"","\\varvdots");Y(ne,pe,Ti,"","\\acute");Y(ne,pe,Ti,"","\\grave");Y(ne,pe,Ti,"","\\ddot");Y(ne,pe,Ti,"~","\\tilde");Y(ne,pe,Ti,"","\\bar");Y(ne,pe,Ti,"","\\breve");Y(ne,pe,Ti,"","\\check");Y(ne,pe,Ti,"^","\\hat");Y(ne,pe,Ti,"","\\vec");Y(ne,pe,Ti,"","\\dot");Y(ne,pe,Ti,"","\\mathring");Y(ne,pe,xn,"","\\@imath");Y(ne,pe,xn,"","\\@jmath");Y(ne,pe,Qe,"","");Y(ne,pe,Qe,"","");Y(Ct,pe,Qe,"","\\i",!0);Y(Ct,pe,Qe,"","\\j",!0);Y(Ct,pe,Qe,"","\\ss",!0);Y(Ct,pe,Qe,"","\\ae",!0);Y(Ct,pe,Qe,"","\\oe",!0);Y(Ct,pe,Qe,"","\\o",!0);Y(Ct,pe,Qe,"","\\AE",!0);Y(Ct,pe,Qe,"","\\OE",!0);Y(Ct,pe,Qe,"","\\O",!0);Y(Ct,pe,Ti,"","\\'");Y(Ct,pe,Ti,"","\\`");Y(Ct,pe,Ti,"","\\^");Y(Ct,pe,Ti,"","\\~");Y(Ct,pe,Ti,"","\\=");Y(Ct,pe,Ti,"","\\u");Y(Ct,pe,Ti,"","\\.");Y(Ct,pe,Ti,"","\\c");Y(Ct,pe,Ti,"","\\r");Y(Ct,pe,Ti,"","\\v");Y(Ct,pe,Ti,"",'\\"');Y(Ct,pe,Ti,"","\\H");Y(Ct,pe,Ti,"","\\textcircled");var ck={"--":!0,"---":!0,"``":!0,"''":!0};Y(Ct,pe,Qe,"","--",!0);Y(Ct,pe,Qe,"","\\textendash");Y(Ct,pe,Qe,"","---",!0);Y(Ct,pe,Qe,"","\\textemdash");Y(Ct,pe,Qe,"","`",!0);Y(Ct,pe,Qe,"","\\textquoteleft");Y(Ct,pe,Qe,"","'",!0);Y(Ct,pe,Qe,"","\\textquoteright");Y(Ct,pe,Qe,"","``",!0);Y(Ct,pe,Qe,"","\\textquotedblleft");Y(Ct,pe,Qe,"","''",!0);Y(Ct,pe,Qe,"","\\textquotedblright");Y(ne,pe,Qe,"","\\degree",!0);Y(Ct,pe,Qe,"","\\degree");Y(Ct,pe,Qe,"","\\textdegree",!0);Y(ne,pe,Qe,"","\\pounds");Y(ne,pe,Qe,"","\\mathsterling",!0);Y(Ct,pe,Qe,"","\\pounds");Y(Ct,pe,Qe,"","\\textsterling",!0);Y(ne,Ie,Qe,"","\\maltese");Y(Ct,Ie,Qe,"","\\maltese");var h7='0123456789/@."';for(var IA=0;IA<h7.length;IA++){var m7=h7.charAt(IA);Y(ne,pe,Qe,m7,m7)}var p7='0123456789!@*()-=+";:?/.,';for(var PA=0;PA<p7.length;PA++){var v7=p7.charAt(PA);Y(Ct,pe,Qe,v7,v7)}var G3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var jA=0;jA<G3.length;jA++){var Ib=G3.charAt(jA);Y(ne,pe,xn,Ib,Ib),Y(Ct,pe,Qe,Ib,Ib)}Y(ne,Ie,Qe,"C","");Y(Ct,Ie,Qe,"C","");Y(ne,Ie,Qe,"H","");Y(Ct,Ie,Qe,"H","");Y(ne,Ie,Qe,"N","");Y(Ct,Ie,Qe,"N","");Y(ne,Ie,Qe,"P","");Y(Ct,Ie,Qe,"P","");Y(ne,Ie,Qe,"Q","");Y(Ct,Ie,Qe,"Q","");Y(ne,Ie,Qe,"R","");Y(Ct,Ie,Qe,"R","");Y(ne,Ie,Qe,"Z","");Y(Ct,Ie,Qe,"Z","");Y(ne,pe,xn,"h","");Y(Ct,pe,xn,"h","");var Nn="";for(var vo=0;vo<G3.length;vo++){var Xi=G3.charAt(vo);Nn=String.fromCharCode(55349,56320+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56372+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56424+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56580+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56684+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56736+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56788+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56840+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56944+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),vo<26&&(Nn=String.fromCharCode(55349,56632+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn),Nn=String.fromCharCode(55349,56476+vo),Y(ne,pe,xn,Xi,Nn),Y(Ct,pe,Qe,Xi,Nn))}Nn="";Y(ne,pe,xn,"k",Nn);Y(Ct,pe,Qe,"k",Nn);for(var sm=0;sm<10;sm++){var O0=sm.toString();Nn=String.fromCharCode(55349,57294+sm),Y(ne,pe,xn,O0,Nn),Y(Ct,pe,Qe,O0,Nn),Nn=String.fromCharCode(55349,57314+sm),Y(ne,pe,xn,O0,Nn),Y(Ct,pe,Qe,O0,Nn),Nn=String.fromCharCode(55349,57324+sm),Y(ne,pe,xn,O0,Nn),Y(Ct,pe,Qe,O0,Nn),Nn=String.fromCharCode(55349,57334+sm),Y(ne,pe,xn,O0,Nn),Y(Ct,pe,Qe,O0,Nn)}var aE="";for(var VA=0;VA<aE.length;VA++){var Pb=aE.charAt(VA);Y(ne,pe,xn,Pb,Pb),Y(Ct,pe,Qe,Pb,Pb)}var jb=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],g7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],KJ=function(e,t){var r=e.charCodeAt(0),i=e.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=t==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[jb[o][2],jb[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[g7[l][2],g7[l][s]]}else{if(a===120485||a===120486)return[jb[0][2],jb[0][s]];if(120486<a&&a<120782)return["",""];throw new zt("Unsupported character: "+e)}},Sw=function(e,t,r){return pi[r][e]&&pi[r][e].replace&&(e=pi[r][e].replace),{value:e,metrics:k6(e,t,r)}},tc=function(e,t,r,i,a){var s=Sw(e,t,r),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new vu(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),l=new vu(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},QJ=function(e,t,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Sw(e,"Main-Bold",t).metrics?tc(e,"Main-Bold",t,r,i.concat(["mathbf"])):e==="\\"||pi[t][e].font==="main"?tc(e,"Main-Regular",t,r,i):tc(e,"AMS-Regular",t,r,i.concat(["amsrm"]))},JJ=function(e,t,r,i,a){return a!=="textord"&&Sw(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},eee=function(e,t,r){var i=e.mode,a=e.text,s=["mord"],o=i==="math"||i==="text"&&t.font,l=o?t.font:t.fontFamily,u="",c="";if(a.charCodeAt(0)===55349&&([u,c]=KJ(a,i)),u.length>0)return tc(a,u,i,t,s.concat(c));if(l){var d,h;if(l==="boldsymbol"){var p=JJ(a,i,t,s,r);d=p.fontName,h=[p.fontClass]}else o?(d=hk[l].fontName,h=[l]):(d=Vb(l,t.fontWeight,t.fontShape),h=[l,t.fontWeight,t.fontShape]);if(Sw(a,d,i).metrics)return tc(a,d,i,t,s.concat(h));if(ck.hasOwnProperty(a)&&d.slice(0,10)==="Typewriter"){for(var g=[],x=0;x<a.length;x++)g.push(tc(a[x],d,i,t,s.concat(h)));return dk(g)}}if(r==="mathord")return tc(a,"Math-Italic",i,t,s.concat(["mathnormal"]));if(r==="textord"){var A=pi[i][a]&&pi[i][a].font;if(A==="ams"){var b=Vb("amsrm",t.fontWeight,t.fontShape);return tc(a,b,i,t,s.concat("amsrm",t.fontWeight,t.fontShape))}else if(A==="main"||!A){var _=Vb("textrm",t.fontWeight,t.fontShape);return tc(a,_,i,t,s.concat(t.fontWeight,t.fontShape))}else{var M=Vb(A,t.fontWeight,t.fontShape);return tc(a,M,i,t,s.concat(M,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},tee=(n,e)=>{if(J0(n.classes)!==J0(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var r in n.style)if(n.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;return!0},nee=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],r=n[e+1];t instanceof vu&&r instanceof vu&&tee(t,r)&&(t.text+=r.text,t.height=Math.max(t.height,r.height),t.depth=Math.max(t.depth,r.depth),t.italic=r.italic,n.splice(e+1,1),e--)}return n},P6=function(e){for(var t=0,r=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>t&&(t=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=i},Zo=function(e,t,r,i){var a=new e2(e,t,r,i);return P6(a),a},fk=(n,e,t,r)=>new e2(n,e,t,r),ree=function(e,t,r){var i=Zo([e],[],t);return i.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=It(i.height),i.maxFontSize=1,i},iee=function(e,t,r,i){var a=new I6(e,t,r,i);return P6(a),a},dk=function(e){var t=new Jy(e);return P6(t),t},aee=function(e,t){return e instanceof Jy?Zo([],[e],t):e},see=function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],i=-t[0].shift-t[0].elem.depth,a=i,s=1;s<t.length;s++){var o=-t[s].shift-a-t[s].elem.depth,l=o-(t[s-1].elem.height+t[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(t[s])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,d=0;d<e.children.length;d++){var h=e.children[d];c-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},oee=function(e,t){for(var{children:r,depth:i}=see(e),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=Zo(["pstrut"],[]);u.style.height=It(a);for(var c=[],d=i,h=i,p=i,g=0;g<r.length;g++){var x=r[g];if(x.type==="kern")p+=x.size;else{var A=x.elem,b=x.wrapperClasses||[],_=x.wrapperStyle||{},M=Zo(b,[u,A],void 0,_);M.style.top=It(-a-p-A.depth),x.marginLeft&&(M.style.marginLeft=x.marginLeft),x.marginRight&&(M.style.marginRight=x.marginRight),c.push(M),p+=A.height+A.depth}d=Math.min(d,p),h=Math.max(h,p)}var E=Zo(["vlist"],c);E.style.height=It(h);var C;if(d<0){var T=Zo([],[]),B=Zo(["vlist"],[T]);B.style.height=It(-d);var z=Zo(["vlist-s"],[new vu("")]);C=[Zo(["vlist-r"],[E,z]),Zo(["vlist-r"],[B])]}else C=[Zo(["vlist-r"],[E])];var R=Zo(["vlist-t"],C);return C.length===2&&R.classes.push("vlist-t2"),R.height=h,R.depth=-d,R},lee=(n,e)=>{var t=Zo(["mspace"],[],e),r=Li(n,e);return t.style.marginRight=It(r),t},Vb=function(e,t,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return t==="textbf"&&r==="textit"?a="BoldItalic":t==="textbf"?a="Bold":t==="textit"?a="Italic":a="Regular",i+"-"+a},hk={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},mk={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},uee=function(e,t){var[r,i,a]=mk[e],s=new eh(r),o=new Bd([s],{width:It(i),height:It(a),style:"width:"+It(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=fk(["overlay"],[o],t);return l.height=a,l.style.height=It(a),l.style.width=It(i),l},ct={fontMap:hk,makeSymbol:tc,mathsym:QJ,makeSpan:Zo,makeSvgSpan:fk,makeLineSpan:ree,makeAnchor:iee,makeFragment:dk,wrapFragment:aee,makeVList:oee,makeOrd:eee,makeGlue:lee,staticSvg:uee,svgData:mk,tryCombineChars:nee},Fi={number:3,unit:"mu"},om={number:4,unit:"mu"},sd={number:5,unit:"mu"},cee={mord:{mop:Fi,mbin:om,mrel:sd,minner:Fi},mop:{mord:Fi,mop:Fi,mrel:sd,minner:Fi},mbin:{mord:om,mop:om,mopen:om,minner:om},mrel:{mord:sd,mop:sd,mopen:sd,minner:sd},mopen:{},mclose:{mop:Fi,mbin:om,mrel:sd,minner:Fi},mpunct:{mord:Fi,mop:Fi,mrel:sd,mopen:Fi,mclose:Fi,mpunct:Fi,minner:Fi},minner:{mord:Fi,mop:Fi,mbin:om,mrel:sd,mopen:Fi,mpunct:Fi,minner:Fi}},fee={mord:{mop:Fi},mop:{mord:Fi,mop:Fi},mbin:{},mrel:{},mopen:{},mclose:{mop:Fi},mpunct:{},minner:{mop:Fi}},pk={},$3={},X3={};function Xt(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=n,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<t.length;++l)pk[t[l]]=o;e&&(a&&($3[e]=a),s&&(X3[e]=s))}function Jm(n){var{type:e,htmlBuilder:t,mathmlBuilder:r}=n;Xt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:r})}var W3=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},la=function(e){return e.type==="ordgroup"?e.body:[e]},Od=ct.makeSpan,dee=["leftmost","mbin","mopen","mrel","mop","mpunct"],hee=["rightmost","mrel","mclose","mpunct"],mee={display:yn.DISPLAY,text:yn.TEXT,script:yn.SCRIPT,scriptscript:yn.SCRIPTSCRIPT},pee={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},La=function(e,t,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=Cr(e[s],t);if(o instanceof Jy){var l=o.children;a.push(...l)}else a.push(o)}if(ct.tryCombineChars(a),!r)return a;var u=t;if(e.length===1){var c=e[0];c.type==="sizing"?u=t.havingSize(c.size):c.type==="styling"&&(u=t.havingStyle(mee[c.style]))}var d=Od([i[0]||"leftmost"],[],t),h=Od([i[1]||"rightmost"],[],t),p=r==="root";return x7(a,(g,x)=>{var A=x.classes[0],b=g.classes[0];A==="mbin"&&Tn.contains(hee,b)?x.classes[0]="mord":b==="mbin"&&Tn.contains(dee,A)&&(g.classes[0]="mord")},{node:d},h,p),x7(a,(g,x)=>{var A=sE(x),b=sE(g),_=A&&b?g.hasClass("mtight")?fee[A][b]:cee[A][b]:null;if(_)return ct.makeGlue(_,u)},{node:d},h,p),a},x7=function n(e,t,r,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var o=e[s],l=vk(o);if(l){n(l.children,t,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var c=t(o,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=Od(["leftmost"])),r.insertAfter=(d=>h=>{e.splice(d+1,0,h),s++})(s)}i&&e.pop()},vk=function(e){return e instanceof Jy||e instanceof I6||e instanceof e2&&e.hasClass("enclosing")?e:null},vee=function n(e,t){var r=vk(e);if(r){var i=r.children;if(i.length){if(t==="right")return n(i[i.length-1],"right");if(t==="left")return n(i[0],"left")}}return e},sE=function(e,t){return e?(t&&(e=vee(e,t)),pee[e.classes[0]]||null):null},Ay=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Od(t.concat(r))},Cr=function(e,t,r){if(!e)return Od();if($3[e.type]){var i=$3[e.type](e,t);if(r&&t.size!==r.size){i=Od(t.sizingClasses(r),[i],t);var a=t.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new zt("Got group of unknown type: '"+e.type+"'")};function Hb(n,e){var t=Od(["base"],n,e),r=Od(["strut"]);return r.style.height=It(t.height+t.depth),t.depth&&(r.style.verticalAlign=It(-t.depth)),t.children.unshift(r),t}function oE(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var r=La(n,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(Hb(s,e)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Hb(s,e)),s=[]),a.push(r[o]));s.length>0&&a.push(Hb(s,e));var u;t?(u=Hb(La(t,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var c=Od(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=It(c.height+c.depth),c.depth&&(d.style.verticalAlign=It(-c.depth))}return c}function gk(n){return new Jy(n)}class lu{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=J0(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Tn.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+Tn.escape(J0(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ey{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Tn.escape(this.toText())}toText(){return this.text}}class gee{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",It(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+It(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Bt={MathNode:lu,TextNode:ey,SpaceNode:gee,newDocumentFragment:gk},gu=function(e,t,r){return pi[t][e]&&pi[t][e].replace&&e.charCodeAt(0)!==55349&&!(ck.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=pi[t][e].replace),new Bt.TextNode(e)},j6=function(e){return e.length===1?e[0]:new Bt.MathNode("mrow",e)},V6=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=e.text;if(Tn.contains(["\\imath","\\jmath"],a))return null;pi[i][a]&&pi[i][a].replace&&(a=pi[i][a].replace);var s=ct.fontMap[r].fontName;return k6(a,s,i)?ct.fontMap[r].variant:null},il=function(e,t,r){if(e.length===1){var i=di(e[0],t);return r&&i instanceof lu&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<e.length;o++){var l=di(e[o],t);if(l instanceof lu&&s instanceof lu){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof ey&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof ey&&c.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof ey&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),a.pop())}}}a.push(l),s=l}return a},th=function(e,t,r){return j6(il(e,t,r))},di=function(e,t){if(!e)return new Bt.MathNode("mrow");if(X3[e.type]){var r=X3[e.type](e,t);return r}else throw new zt("Got group of unknown type: '"+e.type+"'")};function y7(n,e,t,r,i){var a=il(n,t),s;a.length===1&&a[0]instanceof lu&&Tn.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new Bt.MathNode("mrow",a);var o=new Bt.MathNode("annotation",[new Bt.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new Bt.MathNode("semantics",[s,o]),u=new Bt.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return ct.makeSpan([c],[u])}var xk=function(e){return new vd({style:e.displayMode?yn.DISPLAY:yn.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},yk=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=ct.makeSpan(r,[e])}return e},xee=function(e,t,r){var i=xk(r),a;if(r.output==="mathml")return y7(e,t,i,r.displayMode,!0);if(r.output==="html"){var s=oE(e,i);a=ct.makeSpan(["katex"],[s])}else{var o=y7(e,t,i,r.displayMode,!1),l=oE(e,i);a=ct.makeSpan(["katex"],[o,l])}return yk(a,r)},yee=function(e,t,r){var i=xk(r),a=oE(e,i),s=ct.makeSpan(["katex"],[a]);return yk(s,r)},bee={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},See=function(e){var t=new Bt.MathNode("mo",[new Bt.TextNode(bee[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},wee={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Aee=function(e){return e.type==="ordgroup"?e.body.length:1},Mee=function(e,t){function r(){var o=4e5,l=e.label.slice(1);if(Tn.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=Aee(u.base),d,h,p;if(c>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,p=.42,h=l+"4"):(d=312,o=2340,p=.34,h="tilde4");else{var g=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],p=[0,.24,.3,.3,.36,.42][g],h=l+g):(o=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],p=[0,.26,.286,.3,.306,.34][g],h="tilde"+g)}var x=new eh(h),A=new Bd([x],{width:"100%",height:It(p),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:ct.makeSvgSpan([],[A],t),minWidth:0,height:p}}else{var b=[],_=wee[l],[M,E,C]=_,T=C/1e3,B=M.length,z,R;if(B===1){var O=_[3];z=["hide-tail"],R=[O]}else if(B===2)z=["halfarrow-left","halfarrow-right"],R=["xMinYMin","xMaxYMin"];else if(B===3)z=["brace-left","brace-center","brace-right"],R=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+B+" children.");for(var U=0;U<B;U++){var I=new eh(M[U]),q=new Bd([I],{width:"400em",height:It(T),viewBox:"0 0 "+o+" "+C,preserveAspectRatio:R[U]+" slice"}),X=ct.makeSvgSpan([z[U]],[q],t);if(B===1)return{span:X,minWidth:E,height:T};X.style.height=It(T),b.push(X)}return{span:ct.makeSpan(["stretchy"],b,t),minWidth:E,height:T}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=It(s),a>0&&(i.style.minWidth=It(a)),i},_ee=function(e,t,r,i,a){var s,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(t)){if(s=ct.makeSpan(["stretchy",t],[],a),t==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new iE({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new iE({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Bd(u,{width:"100%",height:It(o)});s=ct.makeSvgSpan([],[c],a)}return s.height=o,s.style.height=It(o),s},zd={encloseSpan:_ee,mathMLnode:See,svgSpan:Mee};function nr(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function H6(n){var e=ww(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function ww(n){return n&&(n.type==="atom"||ZJ.hasOwnProperty(n.type))?n:null}var q6=(n,e)=>{var t,r,i;n&&n.type==="supsub"?(r=nr(n.base,"accent"),t=r.base,n.base=t,i=WJ(Cr(n,e)),n.base=r):(r=nr(n,"accent"),t=r.base);var a=Cr(t,e.havingCrampedStyle()),s=r.isShifty&&Tn.isCharacterBox(t),o=0;if(s){var l=Tn.getBaseElem(t),u=Cr(l,e.havingCrampedStyle());o=d7(u).skew}var c=r.label==="\\c",d=c?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=zd.svgSpan(r,e),h=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+It(2*o)+")",marginLeft:It(2*o)}:void 0}]},e);else{var p,g;r.label==="\\vec"?(p=ct.staticSvg("vec",e),g=ct.svgData.vec[1]):(p=ct.makeOrd({mode:r.mode,text:r.label},e,"textord"),p=d7(p),p.italic=0,g=p.width,c&&(d+=p.depth)),h=ct.makeSpan(["accent-body"],[p]);var x=r.label==="\\textcircled";x&&(h.classes.push("accent-full"),d=a.height);var A=o;x||(A-=g/2),h.style.left=It(A),r.label==="\\textcircled"&&(h.style.top=".2em"),h=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-d},{type:"elem",elem:h}]},e)}var b=ct.makeSpan(["mord","accent"],[h],e);return i?(i.children[0]=b,i.height=Math.max(b.height,i.height),i.classes[0]="mord",i):b},bk=(n,e)=>{var t=n.isStretchy?zd.mathMLnode(n.label):new Bt.MathNode("mo",[gu(n.label,n.mode)]),r=new Bt.MathNode("mover",[di(n.base,e),t]);return r.setAttribute("accent","true"),r},Eee=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));Xt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=W3(e[0]),r=!Eee.test(n.funcName),i=!r||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:r,isShifty:i,base:t}},htmlBuilder:q6,mathmlBuilder:bk});Xt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],r=n.parser.mode;return r==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:q6,mathmlBuilder:bk});Xt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"accentUnder",mode:t.mode,label:r,base:i}},htmlBuilder:(n,e)=>{var t=Cr(n.base,e),r=zd.svgSpan(n,e),i=n.label==="\\utilde"?.12:0,a=ct.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:t}]},e);return ct.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(n,e)=>{var t=zd.mathMLnode(n.label),r=new Bt.MathNode("munder",[di(n.base,e),t]);return r.setAttribute("accentunder","true"),r}});var qb=n=>{var e=new Bt.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Xt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r,funcName:i}=n;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,r=e.havingStyle(t.sup()),i=ct.wrapFragment(Cr(n.body,r,e),e),a=n.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;n.below&&(r=e.havingStyle(t.sub()),s=ct.wrapFragment(Cr(n.below,r,e),e),s.classes.push(a+"-arrow-pad"));var o=zd.svgSpan(n,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||n.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(s){var d=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;c=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:d}]},e)}else c=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),ct.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(n,e){var t=zd.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(n.body){var i=qb(di(n.body,e));if(n.below){var a=qb(di(n.below,e));r=new Bt.MathNode("munderover",[t,a,i])}else r=new Bt.MathNode("mover",[t,i])}else if(n.below){var s=qb(di(n.below,e));r=new Bt.MathNode("munder",[t,s])}else r=qb(),r=new Bt.MathNode("mover",[t,r]);return r}});var Nee=ct.makeSpan;function Sk(n,e){var t=La(n.body,e,!0);return Nee([n.mclass],t,e)}function wk(n,e){var t,r=il(n.body,e);return n.mclass==="minner"?t=new Bt.MathNode("mpadded",r):n.mclass==="mord"?n.isCharacterBox?(t=r[0],t.type="mi"):t=new Bt.MathNode("mi",r):(n.isCharacterBox?(t=r[0],t.type="mo"):t=new Bt.MathNode("mo",r),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Xt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+r.slice(5),body:la(i),isCharacterBox:Tn.isCharacterBox(i)}},htmlBuilder:Sk,mathmlBuilder:wk});var Aw=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Xt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:Aw(e[0]),body:la(e[1]),isCharacterBox:Tn.isCharacterBox(e[1])}}});Xt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:r}=n,i=e[1],a=e[0],s;r!=="\\stackrel"?s=Aw(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:la(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:t.mode,mclass:s,body:[l],isCharacterBox:Tn.isCharacterBox(l)}},htmlBuilder:Sk,mathmlBuilder:wk});Xt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:Aw(e[0]),body:la(e[0])}},htmlBuilder(n,e){var t=La(n.body,e,!0),r=ct.makeSpan([n.mclass],t,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(n,e){var t=il(n.body,e),r=new Bt.MathNode("mstyle",t);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Tee={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},b7=()=>({type:"styling",body:[],mode:"math",style:"display"}),S7=n=>n.type==="textord"&&n.text==="@",Cee=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function Dee(n,e,t){var r=Tee[n];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=t.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=t.callFunction("\\Big",[a],[]),o=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Ree(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new zt("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var r=[],i=[r],a=0;a<e.length;a++){for(var s=e[a],o=b7(),l=0;l<s.length;l++)if(!S7(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=H6(s[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var h=!0,p=l+1;p<s.length;p++){if(Cee(s[p],u)){h=!1,l=p;break}if(S7(s[p]))throw new zt("Missing a "+u+" character to complete a CD arrow.",s[p]);c[d].body.push(s[p])}if(h)throw new zt("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new zt('Expected one of "<>AV=|." after @',s[l]);var g=Dee(u,c,n),x={type:"styling",body:[g],mode:"math",style:"display"};r.push(x),o=b7()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}n.gullet.endGroup(),n.gullet.endGroup();var A=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:A,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Xt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"cdlabel",mode:t.mode,side:r.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),r=ct.wrapFragment(Cr(n.label,t,e),e);return r.classes.push("cd-label-"+n.side),r.style.bottom=It(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(n,e){var t=new Bt.MathNode("mrow",[di(n.label,e)]);return t=new Bt.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new Bt.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Xt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=ct.wrapFragment(Cr(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new Bt.MathNode("mrow",[di(n.fragment,e)])}});Xt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,r=nr(e[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=nr(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new zt("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new zt("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:u}}});var Ak=(n,e)=>{var t=La(n.body,e.withColor(n.color),!1);return ct.makeFragment(t)},Mk=(n,e)=>{var t=il(n.body,e.withColor(n.color)),r=new Bt.MathNode("mstyle",t);return r.setAttribute("mathcolor",n.color),r};Xt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,r=nr(e[0],"color-token").color,i=e[1];return{type:"color",mode:t.mode,color:r,body:la(i)}},htmlBuilder:Ak,mathmlBuilder:Mk});Xt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:r}=n,i=nr(e[0],"color-token").color;t.gullet.macros.set("\\current@color",i);var a=t.parseExpression(!0,r);return{type:"color",mode:t.mode,color:i,body:a}},htmlBuilder:Ak,mathmlBuilder:Mk});Xt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:r}=n,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&nr(i,"size").value}},htmlBuilder(n,e){var t=ct.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=It(Li(n.size,e)))),t},mathmlBuilder(n,e){var t=new Bt.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",It(Li(n.size,e)))),t}});var lE={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},_k=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new zt("Expected a control sequence",n);return e},Bee=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},Ek=(n,e,t,r)=>{var i=n.gullet.macros.get(t.text);i==null&&(t.noexpand=!0,i={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,i,r)};Xt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var r=e.fetch();if(lE[r.text])return(t==="\\global"||t==="\\\\globallong")&&(r.text=lE[r.text]),nr(e.parseFunction(),"internal");throw new zt("Invalid token after macro prefix",r)}});Xt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new zt("Expected a control sequence",r);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new zt('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new zt('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new zt("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},t===lE[t]),{type:"internal",mode:e.mode}}});Xt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=_k(e.gullet.popToken());e.gullet.consumeSpaces();var i=Bee(e);return Ek(e,r,i,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Xt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=_k(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return Ek(e,r,a,t==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Hx=function(e,t,r){var i=pi.math[e]&&pi.math[e].replace,a=k6(i||e,t,r);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return a},G6=function(e,t,r,i){var a=r.havingBaseStyle(t),s=ct.makeSpan(i.concat(a.sizingClasses(r)),[e],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},Nk=function(e,t,r){var i=t.havingBaseStyle(r),a=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=It(a),e.height-=a,e.depth+=a},Oee=function(e,t,r,i,a,s){var o=ct.makeSymbol(e,"Main-Regular",a,i),l=G6(o,t,i,s);return r&&Nk(l,i,t),l},zee=function(e,t,r,i){return ct.makeSymbol(e,"Size"+t+"-Regular",r,i)},Tk=function(e,t,r,i,a,s){var o=zee(e,t,a,i),l=G6(ct.makeSpan(["delimsizing","size"+t],[o],i),yn.TEXT,i,s);return r&&Nk(l,i,yn.TEXT),l},HA=function(e,t,r){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=ct.makeSpan(["delimsizinginner",i],[ct.makeSpan([],[ct.makeSymbol(e,t,r)])]);return{type:"elem",elem:a}},qA=function(e,t,r){var i=af["Size4-Regular"][e.charCodeAt(0)]?af["Size4-Regular"][e.charCodeAt(0)][4]:af["Size1-Regular"][e.charCodeAt(0)][4],a=new eh("inner",PJ(e,Math.round(1e3*t))),s=new Bd([a],{width:It(i),height:It(t),style:"width:"+It(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=ct.makeSvgSpan([],[s],r);return o.height=t,o.style.height=It(t),o.style.width=It(i),{type:"elem",elem:o}},uE=.008,Gb={type:"kern",size:-1*uE},Uee=["|","\\lvert","\\rvert","\\vert"],Fee=["\\|","\\lVert","\\rVert","\\Vert"],Ck=function(e,t,r,i,a,s){var o,l,u,c,d="",h=0;o=u=c=e,l=null;var p="Size1-Regular";e==="\\uparrow"?u=c="":e==="\\Uparrow"?u=c="":e==="\\downarrow"?o=u="":e==="\\Downarrow"?o=u="":e==="\\updownarrow"?(o="\\uparrow",u="",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="",c="\\Downarrow"):Tn.contains(Uee,e)?(u="",d="vert",h=333):Tn.contains(Fee,e)?(u="",d="doublevert",h=556):e==="["||e==="\\lbrack"?(o="",u="",c="",p="Size4-Regular",d="lbrack",h=667):e==="]"||e==="\\rbrack"?(o="",u="",c="",p="Size4-Regular",d="rbrack",h=667):e==="\\lfloor"||e===""?(u=o="",c="",p="Size4-Regular",d="lfloor",h=667):e==="\\lceil"||e===""?(o="",u=c="",p="Size4-Regular",d="lceil",h=667):e==="\\rfloor"||e===""?(u=o="",c="",p="Size4-Regular",d="rfloor",h=667):e==="\\rceil"||e===""?(o="",u=c="",p="Size4-Regular",d="rceil",h=667):e==="("||e==="\\lparen"?(o="",u="",c="",p="Size4-Regular",d="lparen",h=875):e===")"||e==="\\rparen"?(o="",u="",c="",p="Size4-Regular",d="rparen",h=875):e==="\\{"||e==="\\lbrace"?(o="",l="",c="",u="",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",c="",u="",p="Size4-Regular"):e==="\\lgroup"||e===""?(o="",c="",u="",p="Size4-Regular"):e==="\\rgroup"||e===""?(o="",c="",u="",p="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",c="",u="",p="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",c="",u="",p="Size4-Regular");var g=Hx(o,p,a),x=g.height+g.depth,A=Hx(u,p,a),b=A.height+A.depth,_=Hx(c,p,a),M=_.height+_.depth,E=0,C=1;if(l!==null){var T=Hx(l,p,a);E=T.height+T.depth,C=2}var B=x+M+E,z=Math.max(0,Math.ceil((t-B)/(C*b))),R=B+z*C*b,O=i.fontMetrics().axisHeight;r&&(O*=i.sizeMultiplier);var U=R/2-O,I=[];if(d.length>0){var q=R-x-M,X=Math.round(R*1e3),$=jJ(d,Math.round(q*1e3)),k=new eh(d,$),P=(h/1e3).toFixed(3)+"em",Z=(X/1e3).toFixed(3)+"em",H=new Bd([k],{width:P,height:Z,viewBox:"0 0 "+h+" "+X}),ae=ct.makeSvgSpan([],[H],i);ae.height=X/1e3,ae.style.width=P,ae.style.height=Z,I.push({type:"elem",elem:ae})}else{if(I.push(HA(c,p,a)),I.push(Gb),l===null){var W=R-x-M+2*uE;I.push(qA(u,W,i))}else{var K=(R-x-M-E)/2+2*uE;I.push(qA(u,K,i)),I.push(Gb),I.push(HA(l,p,a)),I.push(Gb),I.push(qA(u,K,i))}I.push(Gb),I.push(HA(o,p,a))}var Q=i.havingBaseStyle(yn.TEXT),te=ct.makeVList({positionType:"bottom",positionData:U,children:I},Q);return G6(ct.makeSpan(["delimsizing","mult"],[te],Q),yn.TEXT,i,s)},GA=80,$A=.08,XA=function(e,t,r,i,a){var s=IJ(e,i,r),o=new eh(e,s),l=new Bd([o],{width:"400em",height:It(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ct.makeSvgSpan(["hide-tail"],[l],a)},Lee=function(e,t){var r=t.havingBaseSizing(),i=Ok("\\surd",e*r.sizeMultiplier,Bk,r),a=r.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,d;return i.type==="small"?(c=1e3+1e3*s+GA,e<1?a=1:e<1.4&&(a=.7),l=(1+s+$A)/a,u=(1+s)/a,o=XA("sqrtMain",l,c,s,t),o.style.minWidth="0.853em",d=.833/a):i.type==="large"?(c=(1e3+GA)*ty[i.size],u=(ty[i.size]+s)/a,l=(ty[i.size]+s+$A)/a,o=XA("sqrtSize"+i.size,l,c,s,t),o.style.minWidth="1.02em",d=1/a):(l=e+s+$A,u=e+s,c=Math.floor(1e3*e+s)+GA,o=XA("sqrtTall",l,c,s,t),o.style.minWidth="0.742em",d=1.056),o.height=u,o.style.height=It(l),{span:o,advanceWidth:d,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*a}},Dk=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],kee=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Rk=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ty=[0,1.2,1.8,2.4,3],Iee=function(e,t,r,i,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Tn.contains(Dk,e)||Tn.contains(Rk,e))return Tk(e,t,!1,r,i,a);if(Tn.contains(kee,e))return Ck(e,ty[t],!1,r,i,a);throw new zt("Illegal delimiter: '"+e+"'")},Pee=[{type:"small",style:yn.SCRIPTSCRIPT},{type:"small",style:yn.SCRIPT},{type:"small",style:yn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],jee=[{type:"small",style:yn.SCRIPTSCRIPT},{type:"small",style:yn.SCRIPT},{type:"small",style:yn.TEXT},{type:"stack"}],Bk=[{type:"small",style:yn.SCRIPTSCRIPT},{type:"small",style:yn.SCRIPT},{type:"small",style:yn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Vee=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Ok=function(e,t,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=Hx(e,Vee(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>t)return r[s]}return r[r.length-1]},zk=function(e,t,r,i,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;Tn.contains(Rk,e)?o=Pee:Tn.contains(Dk,e)?o=Bk:o=jee;var l=Ok(e,t,o,i);return l.type==="small"?Oee(e,l.style,r,i,a,s):l.type==="large"?Tk(e,l.size,r,i,a,s):Ck(e,t,r,i,a,s)},Hee=function(e,t,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(t-o,r+o),d=Math.max(c/500*l,2*c-u);return zk(e,d,!0,i,a,s)},Ed={sqrtImage:Lee,sizedDelim:Iee,sizeToMaxHeight:ty,customSizedDelim:zk,leftRightDelim:Hee},w7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},qee=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Mw(n,e){var t=ww(n);if(t&&Tn.contains(qee,t.text))return t;throw t?new zt("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new zt("Invalid delimiter type '"+n.type+"'",n)}Xt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=Mw(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:w7[n.funcName].size,mclass:w7[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?ct.makeSpan([n.mclass]):Ed.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(gu(n.delim,n.mode));var t=new Bt.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var r=It(Ed.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",r),t.setAttribute("maxsize",r),t}});function A7(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Xt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new zt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:Mw(e[0],n).text,color:t}}});Xt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Mw(e[0],n),r=n.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=nr(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:t.text,right:a.delim,rightColor:a.color}},htmlBuilder:(n,e)=>{A7(n);for(var t=La(n.body,e,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<t.length;s++)t[s].isMiddle?a=!0:(r=Math.max(t[s].height,r),i=Math.max(t[s].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(n.left==="."?o=Ay(e,["mopen"]):o=Ed.leftRightDelim(n.left,r,i,e,n.mode,["mopen"]),t.unshift(o),a)for(var l=1;l<t.length;l++){var u=t[l],c=u.isMiddle;c&&(t[l]=Ed.leftRightDelim(c.delim,r,i,c.options,n.mode,[]))}var d;if(n.right===".")d=Ay(e,["mclose"]);else{var h=n.rightColor?e.withColor(n.rightColor):e;d=Ed.leftRightDelim(n.right,r,i,h,n.mode,["mclose"])}return t.push(d),ct.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{A7(n);var t=il(n.body,e);if(n.left!=="."){var r=new Bt.MathNode("mo",[gu(n.left,n.mode)]);r.setAttribute("fence","true"),t.unshift(r)}if(n.right!=="."){var i=new Bt.MathNode("mo",[gu(n.right,n.mode)]);i.setAttribute("fence","true"),n.rightColor&&i.setAttribute("mathcolor",n.rightColor),t.push(i)}return j6(t)}});Xt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Mw(e[0],n);if(!n.parser.leftrightDepth)throw new zt("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=Ay(e,[]);else{t=Ed.sizedDelim(n.delim,1,e,n.mode,[]);var r={delim:n.delim,options:e};t.isMiddle=r}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?gu("|","text"):gu(n.delim,n.mode),r=new Bt.MathNode("mo",[t]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var $6=(n,e)=>{var t=ct.wrapFragment(Cr(n.body,e),e),r=n.label.slice(1),i=e.sizeMultiplier,a,s=0,o=Tn.isCharacterBox(n.body);if(r==="sout")a=ct.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Li({number:.6,unit:"pt"},e),u=Li({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var d=t.height+t.depth+l+u;t.style.paddingLeft=It(d/2+l);var h=Math.floor(1e3*d*i),p=LJ(h),g=new Bd([new eh("phase",p)],{width:"400em",height:It(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});a=ct.makeSvgSpan(["hide-tail"],[g],e),a.style.height=It(d),s=t.depth+l+u}else{/cancel/.test(r)?o||t.classes.push("cancel-pad"):r==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var x=0,A=0,b=0;/box/.test(r)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),x=e.fontMetrics().fboxsep+(r==="colorbox"?0:b),A=x):r==="angl"?(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),x=4*b,A=Math.max(0,.25-t.depth)):(x=o?.2:0,A=x),a=zd.encloseSpan(t,r,x,A,e),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=It(b)):r==="angl"&&b!==.049&&(a.style.borderTopWidth=It(b),a.style.borderRightWidth=It(b)),s=t.depth+A,n.backgroundColor&&(a.style.backgroundColor=n.backgroundColor,n.borderColor&&(a.style.borderColor=n.borderColor))}var _;if(n.backgroundColor)_=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:t,shift:0}]},e);else{var M=/cancel|phase/.test(r)?["svg-align"]:[];_=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:M}]},e)}return/cancel/.test(r)&&(_.height=t.height,_.depth=t.depth),/cancel/.test(r)&&!o?ct.makeSpan(["mord","cancel-lap"],[_],e):ct.makeSpan(["mord"],[_],e)},X6=(n,e)=>{var t=0,r=new Bt.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[di(n.body,e)]);switch(n.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*t+"pt"),r.setAttribute("height","+"+2*t+"pt"),r.setAttribute("lspace",t+"pt"),r.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(n.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&r.setAttribute("mathbackground",n.backgroundColor),r};Xt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,a=nr(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:$6,mathmlBuilder:X6});Xt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,a=nr(e[0],"color-token").color,s=nr(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:$6,mathmlBuilder:X6});Xt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Xt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"enclose",mode:t.mode,label:r,body:i}},htmlBuilder:$6,mathmlBuilder:X6});Xt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var Uk={};function gf(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=n,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<t.length;++l)Uk[t[l]]=o;a&&($3[e]=a),s&&(X3[e]=s)}var Fk={};function Ae(n,e){Fk[n]=e}function M7(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var _w=n=>{var e=n.parser.settings;if(!e.displayMode)throw new zt("{"+n.envName+"} can be used only in display mode.")};function W6(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function lh(n,e,t){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:d,leqno:h}=e;if(n.gullet.beginGroup(),u||n.gullet.macros.set("\\cr","\\\\\\relax"),!s){var p=n.gullet.expandMacroAsText("\\arraystretch");if(p==null)s=1;else if(s=parseFloat(p),!s||s<0)throw new zt("Invalid \\arraystretch: "+p)}n.gullet.beginGroup();var g=[],x=[g],A=[],b=[],_=l!=null?[]:void 0;function M(){l&&n.gullet.macros.set("\\@eqnsw","1",!0)}function E(){_&&(n.gullet.macros.get("\\df@tag")?(_.push(n.subparse([new cf("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):_.push(!!l&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(M(),b.push(M7(n));;){var C=n.parseExpression(!1,u?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),C={type:"ordgroup",mode:n.mode,body:C},t&&(C={type:"styling",mode:n.mode,style:t,body:[C]}),g.push(C);var T=n.fetch().text;if(T==="&"){if(d&&g.length===d){if(u||o)throw new zt("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(T==="\\end"){E(),g.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(x.length>1||!c)&&x.pop(),b.length<x.length+1&&b.push([]);break}else if(T==="\\\\"){n.consume();var B=void 0;n.gullet.future().text!==" "&&(B=n.parseSizeGroup(!0)),A.push(B?B.value:null),E(),b.push(M7(n)),g=[],x.push(g),M()}else throw new zt("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:i,arraystretch:s,body:x,cols:a,rowGaps:A,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:o,tags:_,leqno:h}}function Y6(n){return n.slice(0,1)==="d"?"display":"text"}var xf=function(e,t){var r,i,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,h=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var p=t.havingStyle(yn.SCRIPT).sizeMultiplier;h=.2778*(p/t.sizeMultiplier)}var g=e.colSeparationType==="CD"?Li({number:3,unit:"ex"},t):12*d,x=3*d,A=e.arraystretch*g,b=.7*A,_=.3*A,M=0;function E(ue){for(var xe=0;xe<ue.length;++xe)xe>0&&(M+=.25),u.push({pos:M,isDashed:ue[xe]})}for(E(s[0]),r=0;r<e.body.length;++r){var C=e.body[r],T=b,B=_;o<C.length&&(o=C.length);var z=new Array(C.length);for(i=0;i<C.length;++i){var R=Cr(C[i],t);B<R.depth&&(B=R.depth),T<R.height&&(T=R.height),z[i]=R}var O=e.rowGaps[r],U=0;O&&(U=Li(O,t),U>0&&(U+=_,B<U&&(B=U),U=0)),e.addJot&&(B+=x),z.height=T,z.depth=B,M+=T,z.pos=M,M+=B+U,l[r]=z,E(s[r+1])}var I=M/2+t.fontMetrics().axisHeight,q=e.cols||[],X=[],$,k,P=[];if(e.tags&&e.tags.some(ue=>ue))for(r=0;r<a;++r){var Z=l[r],H=Z.pos-I,ae=e.tags[r],W=void 0;ae===!0?W=ct.makeSpan(["eqn-num"],[],t):ae===!1?W=ct.makeSpan([],[],t):W=ct.makeSpan([],La(ae,t,!0),t),W.depth=Z.depth,W.height=Z.height,P.push({type:"elem",elem:W,shift:H})}for(i=0,k=0;i<o||k<q.length;++i,++k){for(var K=q[k]||{},Q=!0;K.type==="separator";){if(Q||($=ct.makeSpan(["arraycolsep"],[]),$.style.width=It(t.fontMetrics().doubleRuleSep),X.push($)),K.separator==="|"||K.separator===":"){var te=K.separator==="|"?"solid":"dashed",le=ct.makeSpan(["vertical-separator"],[],t);le.style.height=It(M),le.style.borderRightWidth=It(c),le.style.borderRightStyle=te,le.style.margin="0 "+It(-c/2);var de=M-I;de&&(le.style.verticalAlign=It(-de)),X.push(le)}else throw new zt("Invalid separator type: "+K.separator);k++,K=q[k]||{},Q=!1}if(!(i>=o)){var ce=void 0;(i>0||e.hskipBeforeAndAfter)&&(ce=Tn.deflt(K.pregap,h),ce!==0&&($=ct.makeSpan(["arraycolsep"],[]),$.style.width=It(ce),X.push($)));var be=[];for(r=0;r<a;++r){var Te=l[r],Oe=Te[i];if(Oe){var Fe=Te.pos-I;Oe.depth=Te.depth,Oe.height=Te.height,be.push({type:"elem",elem:Oe,shift:Fe})}}be=ct.makeVList({positionType:"individualShift",children:be},t),be=ct.makeSpan(["col-align-"+(K.align||"c")],[be]),X.push(be),(i<o-1||e.hskipBeforeAndAfter)&&(ce=Tn.deflt(K.postgap,h),ce!==0&&($=ct.makeSpan(["arraycolsep"],[]),$.style.width=It(ce),X.push($)))}}if(l=ct.makeSpan(["mtable"],X),u.length>0){for(var Se=ct.makeLineSpan("hline",t,c),Ve=ct.makeLineSpan("hdashline",t,c),ve=[{type:"elem",elem:l,shift:0}];u.length>0;){var fe=u.pop(),he=fe.pos-I;fe.isDashed?ve.push({type:"elem",elem:Ve,shift:he}):ve.push({type:"elem",elem:Se,shift:he})}l=ct.makeVList({positionType:"individualShift",children:ve},t)}if(P.length===0)return ct.makeSpan(["mord"],[l],t);var Be=ct.makeVList({positionType:"individualShift",children:P},t);return Be=ct.makeSpan(["tag"],[Be],t),ct.makeFragment([l,Be])},Gee={c:"center ",l:"left ",r:"right "},yf=function(e,t){for(var r=[],i=new Bt.MathNode("mtd",[],["mtr-glue"]),a=new Bt.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new Bt.MathNode("mtd",[di(o[u],t)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),r.push(new Bt.MathNode("mtr",l))}var c=new Bt.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",It(d));var h="",p="";if(e.cols&&e.cols.length>0){var g=e.cols,x="",A=!1,b=0,_=g.length;g[0].type==="separator"&&(h+="top ",b=1),g[g.length-1].type==="separator"&&(h+="bottom ",_-=1);for(var M=b;M<_;M++)g[M].type==="align"?(p+=Gee[g[M].align],A&&(x+="none "),A=!0):g[M].type==="separator"&&A&&(x+=g[M].separator==="|"?"solid ":"dashed ",A=!1);c.setAttribute("columnalign",p.trim()),/[sd]/.test(x)&&c.setAttribute("columnlines",x.trim())}if(e.colSeparationType==="align"){for(var E=e.cols||[],C="",T=1;T<E.length;T++)C+=T%2?"0em ":"1em ";c.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var B="",z=e.hLinesBeforeRow;h+=z[0].length>0?"left ":"",h+=z[z.length-1].length>0?"right ":"";for(var R=1;R<z.length-1;R++)B+=z[R].length===0?"none ":z[R][0]?"dashed ":"solid ";return/[sd]/.test(B)&&c.setAttribute("rowlines",B.trim()),h!==""&&(c=new Bt.MathNode("menclose",[c]),c.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(c=new Bt.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},Lk=function(e,t){e.envName.indexOf("ed")===-1&&_w(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=lh(e.parser,{cols:r,addJot:!0,autoTag:a?void 0:W6(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var c="",d=0;d<t[0].body.length;d++){var h=nr(t[0].body[d],"textord");c+=h.text}o=Number(c),l=o*2}var p=!l;s.body.forEach(function(b){for(var _=1;_<b.length;_+=2){var M=nr(b[_],"styling"),E=nr(M.body[0],"ordgroup");E.body.unshift(u)}if(p)l<b.length&&(l=b.length);else{var C=b.length/2;if(o<C)throw new zt("Too many math in a row: "+("expected "+o+", but got "+C),b[0])}});for(var g=0;g<l;++g){var x="r",A=0;g%2===1?x="l":g>0&&p&&(A=1),r[g]={type:"align",align:x,pregap:A,postgap:0}}return s.colSeparationType=p?"align":"alignat",s};gf({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=ww(e[0]),r=t?[e[0]]:nr(e[0],"ordgroup").body,i=r.map(function(s){var o=H6(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new zt("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return lh(n.parser,a,Y6(n.envName))},htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var i=n.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),t=i.fetch().text,"lcr".indexOf(t)===-1)throw new zt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:t}]}}var a=lh(n.parser,r,Y6(n.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=lh(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=ww(e[0]),r=t?[e[0]]:nr(e[0],"ordgroup").body,i=r.map(function(s){var o=H6(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new zt("Unknown column alignment: "+l,s)});if(i.length>1)throw new zt("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=lh(n.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new zt("{subarray} can contain only one column");return a},htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=lh(n.parser,e,Y6(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Lk,htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){Tn.contains(["gather","gather*"],n.envName)&&_w(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:W6(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return lh(n.parser,e,"display")},htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Lk,htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){_w(n);var e={autoTag:W6(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return lh(n.parser,e,"display")},htmlBuilder:xf,mathmlBuilder:yf});gf({type:"array",names:["CD"],props:{numArgs:0},handler(n){return _w(n),Ree(n.parser)},htmlBuilder:xf,mathmlBuilder:yf});Ae("\\nonumber","\\gdef\\@eqnsw{0}");Ae("\\notag","\\nonumber");Xt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new zt(n.funcName+" valid only within array environment")}});var _7=Uk;Xt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];if(i.type!=="ordgroup")throw new zt("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=nr(i.body[s],"textord").text;if(r==="\\begin"){if(!_7.hasOwnProperty(a))throw new zt("No such environment: "+a,i);var o=_7[a],{args:l,optArgs:u}=t.parseArguments("\\begin{"+a+"}",o),c={mode:t.mode,envName:a,parser:t},d=o.handler(c,l,u);t.expect("\\end",!1);var h=t.nextToken,p=nr(t.parseFunction(),"environment");if(p.name!==a)throw new zt("Mismatch: \\begin{"+a+"} matched by \\end{"+p.name+"}",h);return d}return{type:"environment",mode:t.mode,name:a,nameGroup:i}}});var kk=(n,e)=>{var t=n.font,r=e.withFont(t);return Cr(n.body,r)},Ik=(n,e)=>{var t=n.font,r=e.withFont(t);return di(n.body,r)},E7={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Xt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=W3(e[0]),a=r;return a in E7&&(a=E7[a]),{type:"font",mode:t.mode,font:a.slice(1),body:i}},htmlBuilder:kk,mathmlBuilder:Ik});Xt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,r=e[0],i=Tn.isCharacterBox(r);return{type:"mclass",mode:t.mode,mclass:Aw(r),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Xt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,breakOnTokenText:i}=n,{mode:a}=t,s=t.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:t.mode,body:s}}},htmlBuilder:kk,mathmlBuilder:Ik});var Pk=(n,e)=>{var t=e;return n==="display"?t=t.id>=yn.SCRIPT.id?t.text():yn.DISPLAY:n==="text"&&t.size===yn.DISPLAY.size?t=yn.TEXT:n==="script"?t=yn.SCRIPT:n==="scriptscript"&&(t=yn.SCRIPTSCRIPT),t},Z6=(n,e)=>{var t=Pk(n.size,e.style),r=t.fracNum(),i=t.fracDen(),a;a=e.havingStyle(r);var s=Cr(n.numer,a,e);if(n.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(i);var u=Cr(n.denom,a,e),c,d,h;n.hasBarLine?(n.barSize?(d=Li(n.barSize,e),c=ct.makeLineSpan("frac-line",e,d)):c=ct.makeLineSpan("frac-line",e),d=c.height,h=c.height):(c=null,d=0,h=e.fontMetrics().defaultRuleThickness);var p,g,x;t.size===yn.DISPLAY.size||n.size==="display"?(p=e.fontMetrics().num1,d>0?g=3*h:g=7*h,x=e.fontMetrics().denom1):(d>0?(p=e.fontMetrics().num2,g=h):(p=e.fontMetrics().num3,g=3*h),x=e.fontMetrics().denom2);var A;if(c){var _=e.fontMetrics().axisHeight;p-s.depth-(_+.5*d)<g&&(p+=g-(p-s.depth-(_+.5*d))),_-.5*d-(u.height-x)<g&&(x+=g-(_-.5*d-(u.height-x)));var M=-(_-.5*d);A=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:x},{type:"elem",elem:c,shift:M},{type:"elem",elem:s,shift:-p}]},e)}else{var b=p-s.depth-(u.height-x);b<g&&(p+=.5*(g-b),x+=.5*(g-b)),A=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:x},{type:"elem",elem:s,shift:-p}]},e)}a=e.havingStyle(t),A.height*=a.sizeMultiplier/e.sizeMultiplier,A.depth*=a.sizeMultiplier/e.sizeMultiplier;var E;t.size===yn.DISPLAY.size?E=e.fontMetrics().delim1:t.size===yn.SCRIPTSCRIPT.size?E=e.havingStyle(yn.SCRIPT).fontMetrics().delim2:E=e.fontMetrics().delim2;var C,T;return n.leftDelim==null?C=Ay(e,["mopen"]):C=Ed.customSizedDelim(n.leftDelim,E,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?T=ct.makeSpan([]):n.rightDelim==null?T=Ay(e,["mclose"]):T=Ed.customSizedDelim(n.rightDelim,E,!0,e.havingStyle(t),n.mode,["mclose"]),ct.makeSpan(["mord"].concat(a.sizingClasses(e)),[C,ct.makeSpan(["mfrac"],[A]),T],e)},K6=(n,e)=>{var t=new Bt.MathNode("mfrac",[di(n.numer,e),di(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var r=Li(n.barSize,e);t.setAttribute("linethickness",It(r))}var i=Pk(n.size,e.style);if(i.size!==e.style.size){t=new Bt.MathNode("mstyle",[t]);var a=i.size===yn.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",a),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var s=[];if(n.leftDelim!=null){var o=new Bt.MathNode("mo",[new Bt.TextNode(n.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(t),n.rightDelim!=null){var l=new Bt.MathNode("mo",[new Bt.TextNode(n.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return j6(s)}return t};Xt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],a=e[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:Z6,mathmlBuilder:K6});Xt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],a=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Xt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:r}=n,i;switch(t){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var N7=["display","text","script","scriptscript"],T7=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Xt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,r=e[4],i=e[5],a=W3(e[0]),s=a.type==="atom"&&a.family==="open"?T7(a.text):null,o=W3(e[1]),l=o.type==="atom"&&o.family==="close"?T7(o.text):null,u=nr(e[2],"size"),c,d=null;u.isBlank?c=!0:(d=u.value,c=d.number>0);var h="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var g=nr(p.body[0],"textord");h=N7[Number(g.text)]}}else p=nr(p,"textord"),h=N7[Number(p.text)];return{type:"genfrac",mode:t.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:d,leftDelim:s,rightDelim:l,size:h}},htmlBuilder:Z6,mathmlBuilder:K6});Xt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:r,token:i}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:nr(e[0],"size").value,token:i}}});Xt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],a=wJ(nr(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:t.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Z6,mathmlBuilder:K6});var jk=(n,e)=>{var t=e.style,r,i;n.type==="supsub"?(r=n.sup?Cr(n.sup,e.havingStyle(t.sup()),e):Cr(n.sub,e.havingStyle(t.sub()),e),i=nr(n.base,"horizBrace")):i=nr(n,"horizBrace");var a=Cr(i.base,e.havingBaseStyle(yn.DISPLAY)),s=zd.svgSpan(i,e),o;if(i.isOver?(o=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=ct.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=ct.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=ct.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return ct.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},$ee=(n,e)=>{var t=zd.mathMLnode(n.label);return new Bt.MathNode(n.isOver?"mover":"munder",[di(n.base,e),t])};Xt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"horizBrace",mode:t.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:jk,mathmlBuilder:$ee});Xt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[1],i=nr(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:t.mode,href:i,body:la(r)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=La(n.body,e,!1);return ct.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=th(n.body,e);return t instanceof lu||(t=new lu("mrow",[t])),t.setAttribute("href",n.href),t}});Xt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=nr(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:r}))return t.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:t.mode,font:"\\texttt",body:i};return{type:"href",mode:t.mode,href:r,body:la(o)}}});Xt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:la(e[0])}},htmlBuilder(n,e){var t=La(n.body,e,!1);return ct.makeFragment(t)},mathmlBuilder(n,e){return new Bt.MathNode("mrow",il(n.body,e))}});Xt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,token:i}=n,a=nr(e[0],"raw").string,s=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length!==2)throw new zt("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(o)?{type:"html",mode:t.mode,attributes:l,body:la(s)}:t.formatUnsupportedCmd(r)},htmlBuilder:(n,e)=>{var t=La(n.body,e,!1),r=["enclosing"];n.attributes.class&&r.push(...n.attributes.class.trim().split(/\s+/));var i=ct.makeSpan(r,t,e);for(var a in n.attributes)a!=="class"&&n.attributes.hasOwnProperty(a)&&i.setAttribute(a,n.attributes[a]);return i},mathmlBuilder:(n,e)=>th(n.body,e)});Xt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:la(e[0]),mathml:la(e[1])}},htmlBuilder:(n,e)=>{var t=La(n.html,e,!1);return ct.makeFragment(t)},mathmlBuilder:(n,e)=>th(n.mathml,e)});var WA=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new zt("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!sk(r))throw new zt("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Xt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:r}=n,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(t[0])for(var l=nr(t[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":o=h;break;case"width":i=WA(h);break;case"height":a=WA(h);break;case"totalheight":s=WA(h);break;default:throw new zt("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var p=nr(e[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=Li(n.height,e),r=0;n.totalheight.number>0&&(r=Li(n.totalheight,e)-t);var i=0;n.width.number>0&&(i=Li(n.width,e));var a={height:It(t+r)};i>0&&(a.width=It(i)),r>0&&(a.verticalAlign=It(-r));var s=new $J(n.src,n.alt,a);return s.height=t,s.depth=r,s},mathmlBuilder:(n,e)=>{var t=new Bt.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var r=Li(n.height,e),i=0;if(n.totalheight.number>0&&(i=Li(n.totalheight,e)-r,t.setAttribute("valign",It(-i))),t.setAttribute("height",It(r+i)),n.width.number>0){var a=Li(n.width,e);t.setAttribute("width",It(a))}return t.setAttribute("src",n.src),t}});Xt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=nr(e[0],"size");if(t.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:i.value}},htmlBuilder(n,e){return ct.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=Li(n.dimension,e);return new Bt.SpaceNode(t)}});Xt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"lap",mode:t.mode,alignment:r.slice(5),body:i}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=ct.makeSpan([],[Cr(n.body,e)]),t=ct.makeSpan(["inner"],[t],e)):t=ct.makeSpan(["inner"],[Cr(n.body,e)]);var r=ct.makeSpan(["fix"],[]),i=ct.makeSpan([n.alignment],[t,r],e),a=ct.makeSpan(["strut"]);return a.style.height=It(i.height+i.depth),i.depth&&(a.style.verticalAlign=It(-i.depth)),i.children.unshift(a),i=ct.makeSpan(["thinbox"],[i],e),ct.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(n,e)=>{var t=new Bt.MathNode("mpadded",[di(n.body,e)]);if(n.alignment!=="rlap"){var r=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",r+"width")}return t.setAttribute("width","0px"),t}});Xt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:r}=n,i=r.mode;r.switchMode("math");var a=t==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});Xt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new zt("Mismatched "+n.funcName)}});var C7=(n,e)=>{switch(e.style.size){case yn.DISPLAY.size:return n.display;case yn.TEXT.size:return n.text;case yn.SCRIPT.size:return n.script;case yn.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};Xt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:la(e[0]),text:la(e[1]),script:la(e[2]),scriptscript:la(e[3])}},htmlBuilder:(n,e)=>{var t=C7(n,e),r=La(t,e,!1);return ct.makeFragment(r)},mathmlBuilder:(n,e)=>{var t=C7(n,e);return th(t,e)}});var Vk=(n,e,t,r,i,a,s)=>{n=ct.makeSpan([],[n]);var o=t&&Tn.isCharacterBox(t),l,u;if(e){var c=Cr(e,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(t){var d=Cr(t,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var h;if(u&&l){var p=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+n.depth+s;h=ct.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:It(-a)},{type:"kern",size:l.kern},{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:It(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=n.height-s;h=ct.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:It(-a)},{type:"kern",size:l.kern},{type:"elem",elem:n}]},r)}else if(u){var x=n.depth+s;h=ct.makeVList({positionType:"bottom",positionData:x,children:[{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:It(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return n;var A=[h];if(l&&a!==0&&!o){var b=ct.makeSpan(["mspace"],[],r);b.style.marginRight=It(a),A.unshift(b)}return ct.makeSpan(["mop","op-limits"],A,r)},Hk=["\\smallint"],C1=(n,e)=>{var t,r,i=!1,a;n.type==="supsub"?(t=n.sup,r=n.sub,a=nr(n.base,"op"),i=!0):a=nr(n,"op");var s=e.style,o=!1;s.size===yn.DISPLAY.size&&a.symbol&&!Tn.contains(Hk,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(c=a.name.slice(1),a.name=c==="oiint"?"\\iint":"\\iiint"),l=ct.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var d=l.italic,h=ct.staticSvg(c+"Size"+(o?"2":"1"),e);l=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},e),a.name="\\"+c,l.classes.unshift("mop"),l.italic=d}}else if(a.body){var p=La(a.body,e,!0);p.length===1&&p[0]instanceof vu?(l=p[0],l.classes[0]="mop"):l=ct.makeSpan(["mop"],p,e)}else{for(var g=[],x=1;x<a.name.length;x++)g.push(ct.mathsym(a.name[x],a.mode,e));l=ct.makeSpan(["mop"],g,e)}var A=0,b=0;return(l instanceof vu||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(A=(l.height-l.depth)/2-e.fontMetrics().axisHeight,b=l.italic),i?Vk(l,t,r,e,s,b,A):(A&&(l.style.position="relative",l.style.top=It(A)),l)},t2=(n,e)=>{var t;if(n.symbol)t=new lu("mo",[gu(n.name,n.mode)]),Tn.contains(Hk,n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new lu("mo",il(n.body,e));else{t=new lu("mi",[new ey(n.name.slice(1))]);var r=new lu("mo",[gu("","text")]);n.parentIsSupSub?t=new lu("mrow",[t,r]):t=gk([t,r])}return t},Xee={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Xt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=r;return i.length===1&&(i=Xee[i]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:C1,mathmlBuilder:t2});Xt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:la(r)}},htmlBuilder:C1,mathmlBuilder:t2});var Wee={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Xt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:C1,mathmlBuilder:t2});Xt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:C1,mathmlBuilder:t2});Xt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n,r=t;return r.length===1&&(r=Wee[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:C1,mathmlBuilder:t2});var qk=(n,e)=>{var t,r,i=!1,a;n.type==="supsub"?(t=n.sup,r=n.sub,a=nr(n.base,"operatorname"),i=!0):a=nr(n,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=La(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof vu&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=ct.makeSpan(["mop"],l,e)}else s=ct.makeSpan(["mop"],[],e);return i?Vk(s,t,r,e,e.style,0,0):s},Yee=(n,e)=>{for(var t=il(n.body,e.withFont("mathrm")),r=!0,i=0;i<t.length;i++){var a=t[i];if(!(a instanceof Bt.SpaceNode))if(a instanceof Bt.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Bt.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=t.map(c=>c.toText()).join("");t=[new Bt.TextNode(o)]}var l=new Bt.MathNode("mi",t);l.setAttribute("mathvariant","normal");var u=new Bt.MathNode("mo",[gu("","text")]);return n.parentIsSupSub?new Bt.MathNode("mrow",[l,u]):Bt.newDocumentFragment([l,u])};Xt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"operatorname",mode:t.mode,body:la(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:qk,mathmlBuilder:Yee});Ae("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Jm({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?ct.makeFragment(La(n.body,e,!1)):ct.makeSpan(["mord"],La(n.body,e,!0),e)},mathmlBuilder(n,e){return th(n.body,e,!0)}});Xt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,r=e[0];return{type:"overline",mode:t.mode,body:r}},htmlBuilder(n,e){var t=Cr(n.body,e.havingCrampedStyle()),r=ct.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ct.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(n,e){var t=new Bt.MathNode("mo",[new Bt.TextNode("")]);t.setAttribute("stretchy","true");var r=new Bt.MathNode("mover",[di(n.body,e),t]);return r.setAttribute("accent","true"),r}});Xt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"phantom",mode:t.mode,body:la(r)}},htmlBuilder:(n,e)=>{var t=La(n.body,e.withPhantom(),!1);return ct.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=il(n.body,e);return new Bt.MathNode("mphantom",t)}});Xt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"hphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=ct.makeSpan([],[Cr(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var r=0;r<t.children.length;r++)t.children[r].height=0,t.children[r].depth=0;return t=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),ct.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=il(la(n.body),e),r=new Bt.MathNode("mphantom",t),i=new Bt.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Xt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"vphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=ct.makeSpan(["inner"],[Cr(n.body,e.withPhantom())]),r=ct.makeSpan(["fix"],[]);return ct.makeSpan(["mord","rlap"],[t,r],e)},mathmlBuilder:(n,e)=>{var t=il(la(n.body),e),r=new Bt.MathNode("mphantom",t),i=new Bt.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Xt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,r=nr(e[0],"size").value,i=e[1];return{type:"raisebox",mode:t.mode,dy:r,body:i}},htmlBuilder(n,e){var t=Cr(n.body,e),r=Li(n.dy,e);return ct.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new Bt.MathNode("mpadded",[di(n.body,e)]),r=n.dy.number+n.dy.unit;return t.setAttribute("voffset",r),t}});Xt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});Xt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(n,e,t){var{parser:r}=n,i=t[0],a=nr(e[0],"size"),s=nr(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&nr(i,"size").value,width:a.value,height:s.value}},htmlBuilder(n,e){var t=ct.makeSpan(["mord","rule"],[],e),r=Li(n.width,e),i=Li(n.height,e),a=n.shift?Li(n.shift,e):0;return t.style.borderRightWidth=It(r),t.style.borderTopWidth=It(i),t.style.bottom=It(a),t.width=r,t.height=i+a,t.depth=-a,t.maxFontSize=i*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=Li(n.width,e),r=Li(n.height,e),i=n.shift?Li(n.shift,e):0,a=e.color&&e.getColor()||"black",s=new Bt.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",It(t)),s.setAttribute("height",It(r));var o=new Bt.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",It(i)):(o.setAttribute("height",It(i)),o.setAttribute("depth",It(-i))),o.setAttribute("voffset",It(i)),o}});function Gk(n,e,t){for(var r=La(n,e,!1),i=e.sizeMultiplier/t.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,e.sizingClasses(t)):r[a].classes[s+1]==="reset-size"+e.size&&(r[a].classes[s+1]="reset-size"+t.size),r[a].height*=i,r[a].depth*=i}return ct.makeFragment(r)}var D7=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Zee=(n,e)=>{var t=e.havingSize(n.size);return Gk(n.body,t,e)};Xt({type:"sizing",names:D7,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:r,parser:i}=n,a=i.parseExpression(!1,t);return{type:"sizing",mode:i.mode,size:D7.indexOf(r)+1,body:a}},htmlBuilder:Zee,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),r=il(n.body,t),i=new Bt.MathNode("mstyle",r);return i.setAttribute("mathsize",It(t.sizeMultiplier)),i}});Xt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:r}=n,i=!1,a=!1,s=t[0]&&nr(t[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:a}},htmlBuilder:(n,e)=>{var t=ct.makeSpan([],[Cr(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].depth=0;var a=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return ct.makeSpan(["mord"],[a],e)},mathmlBuilder:(n,e)=>{var t=new Bt.MathNode("mpadded",[di(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});Xt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r}=n,i=t[0],a=e[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(n,e){var t=Cr(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=ct.wrapFragment(t,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,a=i;e.style.id<yn.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,o=t.height+t.depth+s+i,{span:l,ruleWidth:u,advanceWidth:c}=Ed.sqrtImage(o,e),d=l.height-u;d>t.height+t.depth+s&&(s=(s+d-t.height-t.depth)/2);var h=l.height-t.height-s-u;t.style.paddingLeft=It(c);var p=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(n.index){var g=e.havingStyle(yn.SCRIPTSCRIPT),x=Cr(n.index,g,e),A=.6*(p.height-p.depth),b=ct.makeVList({positionType:"shift",positionData:-A,children:[{type:"elem",elem:x}]},e),_=ct.makeSpan(["root"],[b]);return ct.makeSpan(["mord","sqrt"],[_,p],e)}else return ct.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(n,e){var{body:t,index:r}=n;return r?new Bt.MathNode("mroot",[di(t,e),di(r,e)]):new Bt.MathNode("msqrt",[di(t,e)])}});var R7={display:yn.DISPLAY,text:yn.TEXT,script:yn.SCRIPT,scriptscript:yn.SCRIPTSCRIPT};Xt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:r,parser:i}=n,a=i.parseExpression(!0,t),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(n,e){var t=R7[n.style],r=e.havingStyle(t).withFont("");return Gk(n.body,r,e)},mathmlBuilder(n,e){var t=R7[n.style],r=e.havingStyle(t),i=il(n.body,r),a=new Bt.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[n.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var Kee=function(e,t){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(t.style.size===yn.DISPLAY.size||r.alwaysHandleSupSub);return i?C1:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(t.style.size===yn.DISPLAY.size||r.limits);return a?qk:null}else{if(r.type==="accent")return Tn.isCharacterBox(r.base)?q6:null;if(r.type==="horizBrace"){var s=!e.sub;return s===r.isOver?jk:null}else return null}else return null};Jm({type:"supsub",htmlBuilder(n,e){var t=Kee(n,e);if(t)return t(n,e);var{base:r,sup:i,sub:a}=n,s=Cr(r,e),o,l,u=e.fontMetrics(),c=0,d=0,h=r&&Tn.isCharacterBox(r);if(i){var p=e.havingStyle(e.style.sup());o=Cr(i,p,e),h||(c=s.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(a){var g=e.havingStyle(e.style.sub());l=Cr(a,g,e),h||(d=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/e.sizeMultiplier)}var x;e.style===yn.DISPLAY?x=u.sup1:e.style.cramped?x=u.sup3:x=u.sup2;var A=e.sizeMultiplier,b=It(.5/u.ptPerEm/A),_=null;if(l){var M=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(s instanceof vu||M)&&(_=It(-s.italic))}var E;if(o&&l){c=Math.max(c,x,o.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var C=u.defaultRuleThickness,T=4*C;if(c-o.depth-(l.height-d)<T){d=T-(c-o.depth)+l.height;var B=.8*u.xHeight-(c-o.depth);B>0&&(c+=B,d-=B)}var z=[{type:"elem",elem:l,shift:d,marginRight:b,marginLeft:_},{type:"elem",elem:o,shift:-c,marginRight:b}];E=ct.makeVList({positionType:"individualShift",children:z},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var R=[{type:"elem",elem:l,marginLeft:_,marginRight:b}];E=ct.makeVList({positionType:"shift",positionData:d,children:R},e)}else if(o)c=Math.max(c,x,o.depth+.25*u.xHeight),E=ct.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:b}]},e);else throw new Error("supsub must have either sup or sub.");var O=sE(s,"right")||"mord";return ct.makeSpan([O],[s,ct.makeSpan(["msupsub"],[E])],e)},mathmlBuilder(n,e){var t=!1,r,i;n.base&&n.base.type==="horizBrace"&&(i=!!n.sup,i===n.base.isOver&&(t=!0,r=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var a=[di(n.base,e)];n.sub&&a.push(di(n.sub,e)),n.sup&&a.push(di(n.sup,e));var s;if(t)s=r?"mover":"munder";else if(n.sub)if(n.sup){var u=n.base;u&&u.type==="op"&&u.limits&&e.style===yn.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===yn.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=n.base;l&&l.type==="op"&&l.limits&&(e.style===yn.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===yn.DISPLAY)?s="munder":s="msub"}else{var o=n.base;o&&o.type==="op"&&o.limits&&(e.style===yn.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===yn.DISPLAY)?s="mover":s="msup"}return new Bt.MathNode(s,a)}});Jm({type:"atom",htmlBuilder(n,e){return ct.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new Bt.MathNode("mo",[gu(n.text,n.mode)]);if(n.family==="bin"){var r=V6(n,e);r==="bold-italic"&&t.setAttribute("mathvariant",r)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var $k={mi:"italic",mn:"normal",mtext:"normal"};Jm({type:"mathord",htmlBuilder(n,e){return ct.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new Bt.MathNode("mi",[gu(n.text,n.mode,e)]),r=V6(n,e)||"italic";return r!==$k[t.type]&&t.setAttribute("mathvariant",r),t}});Jm({type:"textord",htmlBuilder(n,e){return ct.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=gu(n.text,n.mode,e),r=V6(n,e)||"normal",i;return n.mode==="text"?i=new Bt.MathNode("mtext",[t]):/[0-9]/.test(n.text)?i=new Bt.MathNode("mn",[t]):n.text==="\\prime"?i=new Bt.MathNode("mo",[t]):i=new Bt.MathNode("mi",[t]),r!==$k[i.type]&&i.setAttribute("mathvariant",r),i}});var YA={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},ZA={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Jm({type:"spacing",htmlBuilder(n,e){if(ZA.hasOwnProperty(n.text)){var t=ZA[n.text].className||"";if(n.mode==="text"){var r=ct.makeOrd(n,e,"textord");return r.classes.push(t),r}else return ct.makeSpan(["mspace",t],[ct.mathsym(n.text,n.mode,e)],e)}else{if(YA.hasOwnProperty(n.text))return ct.makeSpan(["mspace",YA[n.text]],[],e);throw new zt('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(ZA.hasOwnProperty(n.text))t=new Bt.MathNode("mtext",[new Bt.TextNode("")]);else{if(YA.hasOwnProperty(n.text))return new Bt.MathNode("mspace");throw new zt('Unknown type of space "'+n.text+'"')}return t}});var B7=()=>{var n=new Bt.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};Jm({type:"tag",mathmlBuilder(n,e){var t=new Bt.MathNode("mtable",[new Bt.MathNode("mtr",[B7(),new Bt.MathNode("mtd",[th(n.body,e)]),B7(),new Bt.MathNode("mtd",[th(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var O7={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},z7={"\\textbf":"textbf","\\textmd":"textmd"},Qee={"\\textit":"textit","\\textup":"textup"},U7=(n,e)=>{var t=n.font;return t?O7[t]?e.withTextFontFamily(O7[t]):z7[t]?e.withTextFontWeight(z7[t]):e.withTextFontShape(Qee[t]):e};Xt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"text",mode:t.mode,body:la(i),font:r}},htmlBuilder(n,e){var t=U7(n,e),r=La(n.body,t,!0);return ct.makeSpan(["mord","text"],r,t)},mathmlBuilder(n,e){var t=U7(n,e);return th(n.body,t)}});Xt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Cr(n.body,e),r=ct.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=ct.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:t}]},e);return ct.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(n,e){var t=new Bt.MathNode("mo",[new Bt.TextNode("")]);t.setAttribute("stretchy","true");var r=new Bt.MathNode("munder",[di(n.body,e),t]);return r.setAttribute("accentunder","true"),r}});Xt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Cr(n.body,e),r=e.fontMetrics().axisHeight,i=.5*(t.height-r-(t.depth+r));return ct.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new Bt.MathNode("mpadded",[di(n.body,e)],["vcenter"])}});Xt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new zt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=F7(n),r=[],i=e.havingStyle(e.style.text()),a=0;a<t.length;a++){var s=t[a];s==="~"&&(s="\\textasciitilde"),r.push(ct.makeSymbol(s,"Typewriter-Regular",n.mode,i,["mord","texttt"]))}return ct.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ct.tryCombineChars(r),i)},mathmlBuilder(n,e){var t=new Bt.TextNode(F7(n)),r=new Bt.MathNode("mtext",[t]);return r.setAttribute("mathvariant","monospace"),r}});var F7=n=>n.body.replace(/ /g,n.star?"":""),X0=pk,Xk=`[ \r
	]`,Jee="\\\\[a-zA-Z@]+",ete="\\\\[^\uD800-\uDFFF]",tte="("+Jee+")"+Xk+"*",nte=`\\\\(
|[ \r	]+
?)[ \r	]*`,cE="[-]",rte=new RegExp(cE+"+$"),ite="("+Xk+"+)|"+(nte+"|")+"([!-\\[\\]---]"+(cE+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(cE+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+tte)+("|"+ete+")");class L7{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(ite,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new cf("EOF",new El(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new zt("Unexpected character: '"+e[t]+"'",new cf(e[t],new El(this,t,t+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new cf(i,new El(this,t,this.tokenRegex.lastIndex))}}class ate{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new zt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var ste=Fk;Ae("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});Ae("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});Ae("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});Ae("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});Ae("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});Ae("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Ae("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var k7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Ae("\\char",function(n){var e=n.popToken(),t,r="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new zt("\\char` missing argument");r=e.text.charCodeAt(0)}else t=10;if(t){if(r=k7[e.text],r==null||r>=t)throw new zt("Invalid base-"+t+" digit "+e.text);for(var i;(i=k7[n.future().text])!=null&&i<t;)r*=t,r+=i,n.popToken()}return"\\@char{"+r+"}"});var Q6=(n,e,t)=>{var r=n.consumeArg().tokens;if(r.length!==1)throw new zt("\\newcommand's first argument must be a macro name");var i=r[0].text,a=n.isDefined(i);if(a&&!e)throw new zt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!t)throw new zt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=n.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=n.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=n.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new zt("Invalid number of arguments: "+o);s=parseInt(o),r=n.consumeArg().tokens}return n.macros.set(i,{tokens:r,numArgs:s}),""};Ae("\\newcommand",n=>Q6(n,!1,!0));Ae("\\renewcommand",n=>Q6(n,!0,!1));Ae("\\providecommand",n=>Q6(n,!0,!0));Ae("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});Ae("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});Ae("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),X0[t],pi.math[t],pi.text[t]),""});Ae("\\bgroup","{");Ae("\\egroup","}");Ae("~","\\nobreakspace");Ae("\\lq","`");Ae("\\rq","'");Ae("\\aa","\\r a");Ae("\\AA","\\r A");Ae("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");Ae("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Ae("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");Ae("","\\mathscr{B}");Ae("","\\mathscr{E}");Ae("","\\mathscr{F}");Ae("","\\mathscr{H}");Ae("","\\mathscr{I}");Ae("","\\mathscr{L}");Ae("","\\mathscr{M}");Ae("","\\mathscr{R}");Ae("","\\mathfrak{C}");Ae("","\\mathfrak{H}");Ae("","\\mathfrak{Z}");Ae("\\Bbbk","\\Bbb{k}");Ae("","\\cdotp");Ae("\\llap","\\mathllap{\\textrm{#1}}");Ae("\\rlap","\\mathrlap{\\textrm{#1}}");Ae("\\clap","\\mathclap{\\textrm{#1}}");Ae("\\mathstrut","\\vphantom{(}");Ae("\\underbar","\\underline{\\text{#1}}");Ae("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Ae("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");Ae("\\ne","\\neq");Ae("","\\neq");Ae("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");Ae("","\\notin");Ae("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");Ae("","\\perp");Ae("","\\mathclose{!\\mkern-0.8mu!}");Ae("","\\notni");Ae("","\\ulcorner");Ae("","\\urcorner");Ae("","\\llcorner");Ae("","\\lrcorner");Ae("","\\copyright");Ae("","\\textregistered");Ae("","\\textregistered");Ae("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Ae("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Ae("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Ae("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Ae("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");Ae("","\\vdots");Ae("\\varGamma","\\mathit{\\Gamma}");Ae("\\varDelta","\\mathit{\\Delta}");Ae("\\varTheta","\\mathit{\\Theta}");Ae("\\varLambda","\\mathit{\\Lambda}");Ae("\\varXi","\\mathit{\\Xi}");Ae("\\varPi","\\mathit{\\Pi}");Ae("\\varSigma","\\mathit{\\Sigma}");Ae("\\varUpsilon","\\mathit{\\Upsilon}");Ae("\\varPhi","\\mathit{\\Phi}");Ae("\\varPsi","\\mathit{\\Psi}");Ae("\\varOmega","\\mathit{\\Omega}");Ae("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Ae("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Ae("\\boxed","\\fbox{$\\displaystyle{#1}$}");Ae("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Ae("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Ae("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var I7={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Ae("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in I7?e=I7[t]:(t.slice(0,4)==="\\not"||t in pi.math&&Tn.contains(["bin","rel"],pi.math[t].group))&&(e="\\dotsb"),e});var J6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Ae("\\dotso",function(n){var e=n.future().text;return e in J6?"\\ldots\\,":"\\ldots"});Ae("\\dotsc",function(n){var e=n.future().text;return e in J6&&e!==","?"\\ldots\\,":"\\ldots"});Ae("\\cdots",function(n){var e=n.future().text;return e in J6?"\\@cdots\\,":"\\@cdots"});Ae("\\dotsb","\\cdots");Ae("\\dotsm","\\cdots");Ae("\\dotsi","\\!\\cdots");Ae("\\dotsx","\\ldots\\,");Ae("\\DOTSI","\\relax");Ae("\\DOTSB","\\relax");Ae("\\DOTSX","\\relax");Ae("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Ae("\\,","\\tmspace+{3mu}{.1667em}");Ae("\\thinspace","\\,");Ae("\\>","\\mskip{4mu}");Ae("\\:","\\tmspace+{4mu}{.2222em}");Ae("\\medspace","\\:");Ae("\\;","\\tmspace+{5mu}{.2777em}");Ae("\\thickspace","\\;");Ae("\\!","\\tmspace-{3mu}{.1667em}");Ae("\\negthinspace","\\!");Ae("\\negmedspace","\\tmspace-{4mu}{.2222em}");Ae("\\negthickspace","\\tmspace-{5mu}{.277em}");Ae("\\enspace","\\kern.5em ");Ae("\\enskip","\\hskip.5em\\relax");Ae("\\quad","\\hskip1em\\relax");Ae("\\qquad","\\hskip2em\\relax");Ae("\\tag","\\@ifstar\\tag@literal\\tag@paren");Ae("\\tag@paren","\\tag@literal{({#1})}");Ae("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new zt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Ae("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Ae("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Ae("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Ae("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Ae("\\newline","\\\\\\relax");Ae("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Wk=It(af["Main-Regular"][84][1]-.7*af["Main-Regular"][65][1]);Ae("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Wk+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Ae("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Wk+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Ae("\\hspace","\\@ifstar\\@hspacer\\@hspace");Ae("\\@hspace","\\hskip #1\\relax");Ae("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Ae("\\ordinarycolon",":");Ae("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Ae("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Ae("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Ae("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Ae("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Ae("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Ae("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Ae("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Ae("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Ae("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Ae("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Ae("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Ae("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Ae("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Ae("","\\dblcolon");Ae("","\\eqcolon");Ae("","\\coloneqq");Ae("","\\eqqcolon");Ae("","\\Coloneqq");Ae("\\ratio","\\vcentcolon");Ae("\\coloncolon","\\dblcolon");Ae("\\colonequals","\\coloneqq");Ae("\\coloncolonequals","\\Coloneqq");Ae("\\equalscolon","\\eqqcolon");Ae("\\equalscoloncolon","\\Eqqcolon");Ae("\\colonminus","\\coloneq");Ae("\\coloncolonminus","\\Coloneq");Ae("\\minuscolon","\\eqcolon");Ae("\\minuscoloncolon","\\Eqcolon");Ae("\\coloncolonapprox","\\Colonapprox");Ae("\\coloncolonsim","\\Colonsim");Ae("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");Ae("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Ae("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Ae("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Ae("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Ae("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Ae("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Ae("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Ae("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Ae("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");Ae("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");Ae("\\ngeqq","\\html@mathml{\\@ngeqq}{}");Ae("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");Ae("\\nleqq","\\html@mathml{\\@nleqq}{}");Ae("\\nleqslant","\\html@mathml{\\@nleqslant}{}");Ae("\\nshortmid","\\html@mathml{\\@nshortmid}{}");Ae("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");Ae("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");Ae("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");Ae("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");Ae("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");Ae("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");Ae("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");Ae("\\imath","\\html@mathml{\\@imath}{}");Ae("\\jmath","\\html@mathml{\\@jmath}{}");Ae("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ae("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");Ae("","\\llbracket");Ae("","\\rrbracket");Ae("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ae("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");Ae("","\\lBrace");Ae("","\\rBrace");Ae("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");Ae("","\\minuso");Ae("\\darr","\\downarrow");Ae("\\dArr","\\Downarrow");Ae("\\Darr","\\Downarrow");Ae("\\lang","\\langle");Ae("\\rang","\\rangle");Ae("\\uarr","\\uparrow");Ae("\\uArr","\\Uparrow");Ae("\\Uarr","\\Uparrow");Ae("\\N","\\mathbb{N}");Ae("\\R","\\mathbb{R}");Ae("\\Z","\\mathbb{Z}");Ae("\\alef","\\aleph");Ae("\\alefsym","\\aleph");Ae("\\Alpha","\\mathrm{A}");Ae("\\Beta","\\mathrm{B}");Ae("\\bull","\\bullet");Ae("\\Chi","\\mathrm{X}");Ae("\\clubs","\\clubsuit");Ae("\\cnums","\\mathbb{C}");Ae("\\Complex","\\mathbb{C}");Ae("\\Dagger","\\ddagger");Ae("\\diamonds","\\diamondsuit");Ae("\\empty","\\emptyset");Ae("\\Epsilon","\\mathrm{E}");Ae("\\Eta","\\mathrm{H}");Ae("\\exist","\\exists");Ae("\\harr","\\leftrightarrow");Ae("\\hArr","\\Leftrightarrow");Ae("\\Harr","\\Leftrightarrow");Ae("\\hearts","\\heartsuit");Ae("\\image","\\Im");Ae("\\infin","\\infty");Ae("\\Iota","\\mathrm{I}");Ae("\\isin","\\in");Ae("\\Kappa","\\mathrm{K}");Ae("\\larr","\\leftarrow");Ae("\\lArr","\\Leftarrow");Ae("\\Larr","\\Leftarrow");Ae("\\lrarr","\\leftrightarrow");Ae("\\lrArr","\\Leftrightarrow");Ae("\\Lrarr","\\Leftrightarrow");Ae("\\Mu","\\mathrm{M}");Ae("\\natnums","\\mathbb{N}");Ae("\\Nu","\\mathrm{N}");Ae("\\Omicron","\\mathrm{O}");Ae("\\plusmn","\\pm");Ae("\\rarr","\\rightarrow");Ae("\\rArr","\\Rightarrow");Ae("\\Rarr","\\Rightarrow");Ae("\\real","\\Re");Ae("\\reals","\\mathbb{R}");Ae("\\Reals","\\mathbb{R}");Ae("\\Rho","\\mathrm{P}");Ae("\\sdot","\\cdot");Ae("\\sect","\\S");Ae("\\spades","\\spadesuit");Ae("\\sub","\\subset");Ae("\\sube","\\subseteq");Ae("\\supe","\\supseteq");Ae("\\Tau","\\mathrm{T}");Ae("\\thetasym","\\vartheta");Ae("\\weierp","\\wp");Ae("\\Zeta","\\mathrm{Z}");Ae("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Ae("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Ae("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Ae("\\bra","\\mathinner{\\langle{#1}|}");Ae("\\ket","\\mathinner{|{#1}\\rangle}");Ae("\\braket","\\mathinner{\\langle{#1}\\rangle}");Ae("\\Bra","\\left\\langle#1\\right|");Ae("\\Ket","\\left|#1\\right\\rangle");var Yk=n=>e=>{var t=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>h=>{n&&(h.macros.set("|",s),i.length&&h.macros.set("\\|",o));var p=d;if(!d&&i.length){var g=h.future();g.text==="|"&&(h.popToken(),p=!0)}return{tokens:p?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...a,...u,...t]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};Ae("\\bra@ket",Yk(!1));Ae("\\bra@set",Yk(!0));Ae("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Ae("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Ae("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Ae("\\angln","{\\angl n}");Ae("\\blue","\\textcolor{##6495ed}{#1}");Ae("\\orange","\\textcolor{##ffa500}{#1}");Ae("\\pink","\\textcolor{##ff00af}{#1}");Ae("\\red","\\textcolor{##df0030}{#1}");Ae("\\green","\\textcolor{##28ae7b}{#1}");Ae("\\gray","\\textcolor{gray}{#1}");Ae("\\purple","\\textcolor{##9d38bd}{#1}");Ae("\\blueA","\\textcolor{##ccfaff}{#1}");Ae("\\blueB","\\textcolor{##80f6ff}{#1}");Ae("\\blueC","\\textcolor{##63d9ea}{#1}");Ae("\\blueD","\\textcolor{##11accd}{#1}");Ae("\\blueE","\\textcolor{##0c7f99}{#1}");Ae("\\tealA","\\textcolor{##94fff5}{#1}");Ae("\\tealB","\\textcolor{##26edd5}{#1}");Ae("\\tealC","\\textcolor{##01d1c1}{#1}");Ae("\\tealD","\\textcolor{##01a995}{#1}");Ae("\\tealE","\\textcolor{##208170}{#1}");Ae("\\greenA","\\textcolor{##b6ffb0}{#1}");Ae("\\greenB","\\textcolor{##8af281}{#1}");Ae("\\greenC","\\textcolor{##74cf70}{#1}");Ae("\\greenD","\\textcolor{##1fab54}{#1}");Ae("\\greenE","\\textcolor{##0d923f}{#1}");Ae("\\goldA","\\textcolor{##ffd0a9}{#1}");Ae("\\goldB","\\textcolor{##ffbb71}{#1}");Ae("\\goldC","\\textcolor{##ff9c39}{#1}");Ae("\\goldD","\\textcolor{##e07d10}{#1}");Ae("\\goldE","\\textcolor{##a75a05}{#1}");Ae("\\redA","\\textcolor{##fca9a9}{#1}");Ae("\\redB","\\textcolor{##ff8482}{#1}");Ae("\\redC","\\textcolor{##f9685d}{#1}");Ae("\\redD","\\textcolor{##e84d39}{#1}");Ae("\\redE","\\textcolor{##bc2612}{#1}");Ae("\\maroonA","\\textcolor{##ffbde0}{#1}");Ae("\\maroonB","\\textcolor{##ff92c6}{#1}");Ae("\\maroonC","\\textcolor{##ed5fa6}{#1}");Ae("\\maroonD","\\textcolor{##ca337c}{#1}");Ae("\\maroonE","\\textcolor{##9e034e}{#1}");Ae("\\purpleA","\\textcolor{##ddd7ff}{#1}");Ae("\\purpleB","\\textcolor{##c6b9fc}{#1}");Ae("\\purpleC","\\textcolor{##aa87ff}{#1}");Ae("\\purpleD","\\textcolor{##7854ab}{#1}");Ae("\\purpleE","\\textcolor{##543b78}{#1}");Ae("\\mintA","\\textcolor{##f5f9e8}{#1}");Ae("\\mintB","\\textcolor{##edf2df}{#1}");Ae("\\mintC","\\textcolor{##e0e5cc}{#1}");Ae("\\grayA","\\textcolor{##f6f7f7}{#1}");Ae("\\grayB","\\textcolor{##f0f1f2}{#1}");Ae("\\grayC","\\textcolor{##e3e5e6}{#1}");Ae("\\grayD","\\textcolor{##d6d8da}{#1}");Ae("\\grayE","\\textcolor{##babec2}{#1}");Ae("\\grayF","\\textcolor{##888d93}{#1}");Ae("\\grayG","\\textcolor{##626569}{#1}");Ae("\\grayH","\\textcolor{##3b3e40}{#1}");Ae("\\grayI","\\textcolor{##21242c}{#1}");Ae("\\kaBlue","\\textcolor{##314453}{#1}");Ae("\\kaGreen","\\textcolor{##71B307}{#1}");var Zk={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class ote{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new ate(ste,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new L7(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:t,end:r}=this.consumeArg());return this.pushToken(new cf("EOF",r.loc)),this.pushTokens(i),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),t.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new zt("Extra }",a)}else if(a.text==="EOF")throw new zt("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",a);if(e&&r)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:a}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new zt("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new zt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(t&&t[o+1]).tokens);return s}expandOnce(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new zt("Undefined control sequence: "+r);return this.pushToken(t),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new zt("Too many expansions: infinite loop or need to increase maxExpand setting");var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new zt("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new zt("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new cf(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new L7(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:a};return c}return i}isDefined(e){return this.macros.has(e)||X0.hasOwnProperty(e)||pi.math.hasOwnProperty(e)||pi.text.hasOwnProperty(e)||Zk.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:X0.hasOwnProperty(e)&&!X0[e].primitive}}var P7=/^[]/,$b=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),KA={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},j7={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let Kk=class fE{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ote(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new zt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new cf("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(fE.endOfExpression.indexOf(i.text)!==-1||t&&i.text===t||e&&X0[i.text]&&X0[i.text].infix)break;var a=this.parseAtom(t);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(t!==-1)throw new zt("only one infix operator per group",e[i].token);t=i,r=e[i].replaceWith}if(t!==-1&&r){var a,s,o=e.slice(0,t),l=e.slice(t+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,e[t],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new zt("Expected group after '"+r+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:t},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var t=this.parseGroup("atom",e);if(this.mode==="text")return t;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(t&&t.type==="op"){var s=a.text==="\\limits";t.limits=s,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=a.text==="\\limits");else throw new zt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new zt("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new zt("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new zt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if($b[a.text]){var u=$b[a.text],c=P7.test(a.text);for(this.consume();;){var d=this.fetch().text;if(!$b[d]||P7.test(d)!==c)break;this.consume(),u+=$b[d]}var h=new fE(u,this.settings).parse();c?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:t,sup:r,sub:i}:t}parseFunction(e,t){var r=this.fetch(),i=r.text,a=X0[i];if(!a)return null;if(this.consume(),t&&t!=="atom"&&!a.allowedInArgument)throw new zt("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if(this.mode==="text"&&!a.allowedInText)throw new zt("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new zt("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,e)}callFunction(e,t,r,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},o=X0[e];if(o&&o.handler)return o.handler(s,t,r);throw new zt("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=t.argTypes&&t.argTypes[s],l=s<t.numOptionalArgs;(t.primitive&&o==null||t.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new zt("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new zt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new zt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new zt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,t){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new zt("Invalid "+t+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new zt("Invalid color: '"+t.text+"'",t);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new zt("Invalid size: '"+t.text+"'",t);var a={number:+(i[1]+i[2]),unit:i[3]};if(!sk(a))throw new zt("Invalid unit: '"+a.unit+"'",t);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return t&&this.switchMode(i),s}parseGroup(e,t){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:El.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(t,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!Zk.hasOwnProperty(i)){if(this.settings.throwOnError)throw new zt("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var i=e[r],a=i.text;a==="-"&&e[r+1].text==="-"&&(r+1<t&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:El.range(i,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:El.range(i,e[r+1]),text:"--"}),t-=1)),(a==="'"||a==="`")&&e[r+1].text===a&&(e.splice(r,2,{type:"textord",mode:"text",loc:El.range(i,e[r+1]),text:a+a}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new zt(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}j7.hasOwnProperty(t[0])&&!pi[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=j7[t[0]]+t.slice(1));var a=rte.exec(t);a&&(t=t.substring(0,a.index),t==="i"?t="":t==="j"&&(t=""));var s;if(pi[this.mode][t]){this.settings.strict&&this.mode==="math"&&aE.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=pi[this.mode][t].group,l=El.range(e),u;if(YJ.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:t}}else u={type:o,mode:this.mode,loc:l,text:t};s=u}else if(t.charCodeAt(0)>=128)this.settings.strict&&(ak(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:El.range(e),text:t};else return null;if(this.consume(),a)for(var d=0;d<a[0].length;d++){var h=a[0][d];if(!KA[h])throw new zt("Unknown accent ' "+h+"'",e);var p=KA[h][this.mode]||KA[h].text;if(!p)throw new zt("Accent "+h+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:El.range(e),label:p,isStretchy:!1,isShifty:!0,base:s}}return s}};Kk.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var eN=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Kk(e,t);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new zt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new cf("\\df@tag")])}]}return i},Qk=function(e,t,r){t.textContent="";var i=tN(e,r).toNode();t.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Qk=function(){throw new zt("KaTeX doesn't work in quirks mode.")});var lte=function(e,t){var r=tN(e,t).toMarkup();return r},ute=function(e,t){var r=new F6(t);return eN(e,r)},Jk=function(e,t,r){if(r.throwOnError||!(e instanceof zt))throw e;var i=ct.makeSpan(["katex-error"],[new vu(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},tN=function(e,t){var r=new F6(t);try{var i=eN(e,r);return xee(i,e,r)}catch(a){return Jk(a,e,r)}},cte=function(e,t){var r=new F6(t);try{var i=eN(e,r);return yee(i,e,r)}catch(a){return Jk(a,e,r)}},fte={version:"0.16.9",render:Qk,renderToString:lte,ParseError:zt,SETTINGS_SCHEMA:v3,__parse:ute,__renderToDomTree:tN,__renderToHTMLTree:cte,__setFontMetrics:VJ,__defineSymbol:Y,__defineFunction:Xt,__defineMacro:Ae,__domTree:{Span:e2,Anchor:I6,SymbolNode:vu,SvgNode:Bd,PathNode:eh,LineNode:iE}};const Dn=({expression:n,inline:e=!1,className:t="",color:r})=>{const i=Re.useRef(null);return Re.useEffect(()=>{if(i.current)try{const a=fte.renderToString(n,{throwOnError:!1,displayMode:!e,output:"html",trust:!0,strict:!1});i.current.innerHTML=a}catch(a){console.error("KaTeX render error:",a),i.current.textContent=n}},[n,e]),S.jsx("div",{ref:i,className:`math-renderer ${e?"inline-block":"block my-2"} ${t}`,style:{color:r}})},V7=()=>{const[n,e]=Re.useState(3),[t,r]=Re.useState(3),[i,a]=Re.useState(null),[s,o]=Re.useState(null),[l,u]=Re.useState(null),c=Array(n).fill(0).map((b,_)=>Array(t).fill(0).map((M,E)=>_*t+E+1)),d=n===t,h=n===1,p=t===1,g=n*t,A=(()=>{if(l){const{r:b,c:_}=l,M=b===_;return{title:`Element a_{${b+1}${_+1}}`,desc:`This element is located at Row ${b+1} and Column ${_+1}.`,math:`a_{${b+1},${_+1}} \\in \\mathbb{R}`,extra:M?"This element lies on the Main Diagonal (i=j).":"Off-diagonal element (ij)."}}return d?{title:"Square Matrix",desc:"A matrix with equal number of rows and columns (n = m). Only square matrices have determinants, eigenvalues, and inverses.",math:"A \\in \\mathbb{R}^{n \\times n}"}:h?{title:"Row Vector",desc:"A matrix with a single row. Often represents a coordinate or a linear equation.",math:"v \\in \\mathbb{R}^{1 \\times m}"}:p?{title:"Column Vector",desc:"A matrix with a single column. Standard representation for vectors in linear systems Ax=b.",math:"v \\in \\mathbb{R}^{n \\times 1}"}:{title:"Rectangular Matrix",desc:"A general system of numbers where rows  columns. It represents a linear transformation between spaces of different dimensions.",math:"A \\in \\mathbb{R}^{n \\times m}"}})();return S.jsxs("div",{className:"space-y-6 pb-20",children:[S.jsx("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end border-b border-white/5 pb-4 gap-4",children:S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-2 tracking-tight",children:"Matrix Anatomy"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl font-light text-sm md:text-base",children:["Understanding the structural properties of linear arrays. Indices ",S.jsx("span",{className:"font-mono text-cyan-400",children:"i"})," (row) and ",S.jsx("span",{className:"font-mono text-purple-400",children:"j"})," (column) define the address of every element."]})]})}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[S.jsxs("div",{className:"md:col-span-4 space-y-6",children:[S.jsxs("div",{className:"glass-panel p-6 rounded-3xl relative overflow-hidden group",children:[S.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:S.jsx(gF,{size:80})}),S.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[S.jsx(gd,{size:14,className:"text-cyan-400"})," Dimensions Setup"]}),S.jsxs("div",{className:"space-y-6 z-10 relative",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsxs("label",{className:"text-[10px] text-slate-300 font-bold uppercase tracking-wider flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-500"})," Rows (i)"]}),S.jsx("span",{className:"text-xl font-mono text-cyan-400 font-bold",children:n})]}),S.jsx("input",{type:"range",min:"1",max:"6",value:n,onChange:b=>e(parseInt(b.target.value)),className:"w-full h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-cyan-500 hover:accent-cyan-400 transition-all"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsxs("label",{className:"text-[10px] text-slate-300 font-bold uppercase tracking-wider flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"})," Columns (j)"]}),S.jsx("span",{className:"text-xl font-mono text-purple-400 font-bold",children:t})]}),S.jsx("input",{type:"range",min:"1",max:"6",value:t,onChange:b=>r(parseInt(b.target.value)),className:"w-full h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-purple-500 hover:accent-purple-400 transition-all"})]})]})]}),S.jsxs(Yt.div,{layout:!0,className:"glass-panel p-6 rounded-3xl border-l-2 border-l-emerald-500 bg-slate-900/60",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx(cw,{size:16,className:"text-emerald-400"}),S.jsx("h3",{className:"text-xs font-bold text-emerald-400 uppercase tracking-widest",children:"Concept Guide"})]}),S.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:A.title}),S.jsx("div",{className:"mb-4 bg-slate-950/50 p-3 rounded-lg border border-white/5",children:S.jsx(Dn,{expression:A.math,className:"text-lg text-center",color:"#fbbf24"})}),S.jsx("p",{className:"text-sm text-slate-400 leading-relaxed font-light",children:A.desc}),A.extra&&S.jsx("div",{className:"mt-3 text-xs text-emerald-300/80 italic border-t border-emerald-500/10 pt-2",children:A.extra})]})]}),S.jsxs("div",{className:"md:col-span-8 flex flex-col gap-6",children:[S.jsxs("div",{className:"glass-panel p-0 rounded-3xl relative flex flex-col items-center justify-center min-h-[400px] bg-slate-900/40",children:[S.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),S.jsxs("div",{className:"absolute top-4 left-4 flex gap-4 text-[10px] font-mono uppercase tracking-widest opacity-60",children:[S.jsxs("div",{className:"flex items-center gap-1 text-cyan-400",children:[S.jsx("div",{className:"w-3 h-0.5 bg-cyan-400"})," Row Index"]}),S.jsxs("div",{className:"flex items-center gap-1 text-purple-400",children:[S.jsx("div",{className:"h-3 w-0.5 bg-purple-400"})," Col Index"]})]}),S.jsxs("div",{className:"relative z-10 w-full overflow-x-auto flex flex-col items-center justify-center py-8 px-4",onMouseLeave:()=>u(null),children:[S.jsx(Jo,{data:c,label:`Matrix A [${n}${t}]`,color:"orange",highlightRow:i,highlightCol:s}),S.jsx("div",{className:"absolute inset-0 grid gap-2 pointer-events-none",style:{gridTemplateColumns:`repeat(${t}, minmax(min-content, 1fr))`,width:"fit-content",margin:"auto"}})]}),S.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:S.jsxs("div",{className:"bg-slate-950/90 backdrop-blur-xl rounded-2xl border border-white/10 p-4 flex justify-between items-center shadow-2xl",children:[i!==null?S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"p-2 bg-cyan-500/10 rounded-lg text-cyan-400",children:S.jsx(j8,{size:18})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] font-bold uppercase text-cyan-500 tracking-wider",children:"Row Scan"}),S.jsxs("div",{className:"text-white text-sm",children:["Inspecting Row ",S.jsx("span",{className:"font-mono text-cyan-400",children:i+1})," (index i=",i+1,")"]})]})]}):s!==null?S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400",children:S.jsx(U3,{size:18,className:"rotate-90"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] font-bold uppercase text-purple-500 tracking-wider",children:"Column Scan"}),S.jsxs("div",{className:"text-white text-sm",children:["Inspecting Column ",S.jsx("span",{className:"font-mono text-purple-400",children:s+1})," (index j=",s+1,")"]})]})]}):S.jsxs("div",{className:"flex items-center gap-4 opacity-50",children:[S.jsx("div",{className:"p-2 bg-slate-800 rounded-lg text-slate-400",children:S.jsx(n6,{size:18})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] font-bold uppercase text-slate-500 tracking-wider",children:"Inspector Ready"}),S.jsx("div",{className:"text-slate-400 text-sm",children:"Hover over controls to analyze structure"})]})]}),S.jsxs("div",{className:"hidden sm:flex items-center gap-6 text-[10px] font-mono text-slate-500 uppercase tracking-widest border-l border-white/10 pl-6",children:[S.jsxs("div",{children:[S.jsx("span",{className:"block text-slate-600 mb-0.5",children:"Total Elements"}),S.jsx("span",{className:"text-white text-lg",children:g})]}),S.jsxs("div",{children:[S.jsx("span",{className:"block text-slate-600 mb-0.5",children:"Shape"}),S.jsx("span",{className:`text-lg ${d?"text-emerald-400":"text-slate-300"}`,children:d?"Square":"Rect"})]})]})]})})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("button",{onMouseEnter:()=>a(1),onMouseLeave:()=>a(null),className:"p-4 bg-slate-800/40 hover:bg-slate-800 rounded-2xl border border-slate-700/50 hover:border-cyan-500/50 transition-all group flex items-start gap-3",children:[S.jsx("div",{className:"mt-1",children:S.jsx(j8,{size:16,className:"text-cyan-500"})}),S.jsxs("div",{className:"text-left",children:[S.jsx("div",{className:"text-xs font-bold text-white mb-1 group-hover:text-cyan-400",children:"Scan Rows"}),S.jsx("p",{className:"text-[10px] text-slate-400 leading-snug",children:"Rows represent individual equations in linear systems."})]})]}),S.jsxs("button",{onMouseEnter:()=>o(1),onMouseLeave:()=>o(null),className:"p-4 bg-slate-800/40 hover:bg-slate-800 rounded-2xl border border-slate-700/50 hover:border-purple-500/50 transition-all group flex items-start gap-3",children:[S.jsx("div",{className:"mt-1",children:S.jsx(U3,{size:16,className:"text-purple-500 rotate-90"})}),S.jsxs("div",{className:"text-left",children:[S.jsx("div",{className:"text-xs font-bold text-white mb-1 group-hover:text-purple-400",children:"Scan Columns"}),S.jsx("p",{className:"text-[10px] text-slate-400 leading-snug",children:"Columns often represent variable coefficients (x, y, z)."})]})]})]})]})]}),S.jsx(cc,{context:"matrix_basics"})]})},q0=(n,e,t=0)=>Array(n).fill(0).map(()=>Array(e).fill(t)),dte=(n,e)=>n.length!==e.length||n[0].length!==e[0].length?null:n.map((t,r)=>t.map((i,a)=>i+e[r][a])),hte=(n,e)=>n.length!==e.length||n[0].length!==e[0].length?null:n.map((t,r)=>t.map((i,a)=>i-e[r][a])),mte=(n,e)=>n.map(t=>t.map(r=>r*e)),pte=(n,e)=>{const t=n.length,r=n[0].length,i=e.length,a=e[0].length;if(r!==i)return null;const s=q0(t,a);for(let o=0;o<t;o++)for(let l=0;l<a;l++){let u=0;for(let c=0;c<r;c++)u+=n[o][c]*e[c][l];s[o][l]=u}return s},ff=n=>{if(n.length!==n[0].length)return null;const e=n.length;if(e===1)return n[0][0];if(e===2)return n[0][0]*n[1][1]-n[0][1]*n[1][0];let t=0;for(let r=0;r<e;r++)t+=Math.pow(-1,r)*n[0][r]*ff(eI(n,0,r));return t},eI=(n,e,t)=>n.filter((r,i)=>i!==e).map(r=>r.filter((i,a)=>a!==t)),H7=(n,e,t)=>n.map((r,i)=>{const a=[...r];return a[e]=t[i],a}),tI=n=>{if(n.length!==n[0].length)return null;let e=0;for(let t=0;t<n.length;t++)e+=n[t][t];return e},vte=n=>{if(n.length!==2||n[0].length!==2)return null;const e=tI(n),t=ff(n);if(e===null||t===null)return null;const r=e*e-4*t;if(r<0)return null;const i=Math.sqrt(r);return{l1:(e+i)/2,l2:(e-i)/2}},du=n=>Math.round(n*100)/100;function hu(n,e){const[t,r]=Re.useState(()=>{try{if(typeof window>"u")return e;const i=window.localStorage.getItem(n);return i?JSON.parse(i):e}catch(i){return console.warn(`Error reading localStorage key "${n}":`,i),e}});return Re.useEffect(()=>{try{typeof window<"u"&&window.localStorage.setItem(n,JSON.stringify(t))}catch(i){console.warn(`Error writing localStorage key "${n}":`,i)}},[n,t]),[t,r]}const gte=()=>{const[n,e]=hu("ops_type",ga.ADD),[t,r]=hu("ops_matA",q0(2,2,1)),[i,a]=hu("ops_matB",q0(2,2,2)),[s]=hu("ops_scalar",2),[o,l]=Re.useState(null),[u,c]=Re.useState(!1);Re.useEffect(()=>{switch(n){case ga.ADD:l(dte(t,i));break;case ga.SUBTRACT:l(hte(t,i));break;case ga.MULTIPLY:l(pte(t,i));break;case ga.SCALAR:l(mte(t,s));break}},[t,i,n,s]);const d=(p,g)=>{r(q0(p,g,1)),n!==ga.MULTIPLY?a(q0(p,g,2)):a(q0(g,p,2))},h=()=>{if(!o)return null;if(n===ga.MULTIPLY){const p=t[0],g=i.map(b=>b[0]),x=p.map((b,_)=>`(${b}  ${g[_]})`).join(" + "),A=p.reduce((b,_,M)=>b+_*g[M],0);return S.jsxs("div",{className:"space-y-2",children:[S.jsx("div",{className:"text-sm font-bold text-purple-300",children:"Dot Product Logic (Row  Column)"}),S.jsxs("div",{className:"font-mono text-xs text-slate-300",children:["c",S.jsx("sub",{className:"opacity-50",children:"1,1"})," = (Row 1 of A)  (Col 1 of B)"]}),S.jsxs("div",{className:"p-3 bg-slate-950 rounded border border-purple-500/20 font-mono text-xs text-cyan-400",children:[x," = ",A]}),S.jsx("div",{className:"text-[10px] text-slate-500",children:"Each element c_ij is the sum of products of the i-th row of A and j-th column of B."})]})}return n===ga.ADD?S.jsxs("div",{className:"space-y-2",children:[S.jsx("div",{className:"text-sm font-bold text-cyan-300",children:"Element-wise Addition"}),S.jsxs("div",{className:"font-mono text-xs text-slate-300",children:["c",S.jsx("sub",{className:"opacity-50",children:"i,j"})," = a",S.jsx("sub",{className:"opacity-50",children:"i,j"})," + b",S.jsx("sub",{className:"opacity-50",children:"i,j"})]}),S.jsxs("div",{className:"p-3 bg-slate-950 rounded border border-cyan-500/20 font-mono text-xs text-cyan-400",children:[t[0][0]," + ",i[0][0]," = ",o[0][0]," ",S.jsx("span",{className:"text-slate-600 ml-2",children:"(example for pos 1,1)"})]})]}):null};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end border-b border-white/10 pb-6 gap-6",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-black text-white mb-2 tracking-tight",children:"Matrix Arithmetic"}),S.jsx("p",{className:"text-slate-400 max-w-2xl font-light text-base",children:"Real-time computation engine with deep logic inspection."})]}),S.jsx("div",{className:"bg-slate-900/80 p-1.5 rounded-xl border border-white/10 flex gap-1 shadow-2xl backdrop-blur-md",children:[{type:ga.ADD,icon:G8,label:"Add"},{type:ga.SUBTRACT,icon:q8,label:"Sub"},{type:ga.MULTIPLY,icon:B_,label:"Mult"},{type:ga.SCALAR,icon:H8,label:"Scale"}].map(p=>S.jsxs("button",{onClick:()=>e(p.type),className:`
                        px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider flex items-center gap-2 transition-all
                        ${n===p.type?"bg-cyan-600 text-white shadow-lg shadow-cyan-900/50 scale-105":"text-slate-400 hover:text-white hover:bg-white/5"}
                    `,children:[S.jsx(p.icon,{size:14,strokeWidth:3}),S.jsx("span",{className:"hidden md:inline",children:p.label})]},p.type))})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[S.jsxs("div",{className:"glass-panel p-6 rounded-3xl",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-300 uppercase tracking-widest mb-6 flex items-center gap-2",children:[S.jsx(JX,{size:16,className:"text-purple-400"})," Quick Size"]}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs("button",{onClick:()=>d(2,2),className:"w-full py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-slate-300 hover:bg-slate-800 hover:border-slate-500 transition-all text-xs font-bold uppercase tracking-widest flex justify-between px-4 group",children:[S.jsx("span",{children:"Square"}),S.jsx("span",{className:"text-cyan-400 font-mono group-hover:text-cyan-300",children:"2  2"})]}),S.jsxs("button",{onClick:()=>d(3,3),className:"w-full py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-slate-300 hover:bg-slate-800 hover:border-slate-500 transition-all text-xs font-bold uppercase tracking-widest flex justify-between px-4 group",children:[S.jsx("span",{children:"Square"}),S.jsx("span",{className:"text-purple-400 font-mono group-hover:text-purple-300",children:"3  3"})]})]})]}),S.jsxs("button",{onClick:()=>c(!u),className:`w-full p-4 rounded-2xl border transition-all flex items-center gap-3 ${u?"bg-indigo-600/20 border-indigo-500 text-indigo-300":"bg-slate-900/50 border-slate-700 text-slate-400"}`,children:[S.jsx(z3,{size:20}),S.jsxs("div",{className:"text-left",children:[S.jsx("div",{className:"text-xs font-bold uppercase tracking-wider",children:"Learning Mode"}),S.jsx("div",{className:"text-[10px] opacity-70",children:"Show step-by-step logic"})]})]}),S.jsx(Eo,{children:u&&o&&S.jsx(Yt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"glass-panel p-5 rounded-2xl border-l-2 border-l-purple-500 overflow-hidden",children:h()})})]}),S.jsx("div",{className:"lg:col-span-9",children:S.jsxs("div",{className:"glass-panel p-8 rounded-3xl min-h-[500px] flex flex-col items-center justify-center relative overflow-hidden bg-slate-900/40",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"}),S.jsx("div",{className:"absolute top-1/2 left-4 right-4 h-1 bg-slate-800 -translate-y-1/2 hidden xl:block rounded-full"}),S.jsxs("div",{className:"relative z-10 flex flex-col xl:flex-row items-center gap-8 md:gap-12 w-full justify-center",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 text-[10px] font-bold uppercase tracking-widest text-slate-500 bg-slate-900 px-2 py-1 rounded border border-slate-800",children:"Operand A"}),S.jsx(Jo,{data:t,onChange:r,editable:!0,color:"blue"}),u&&n===ga.MULTIPLY&&S.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center text-[9px] text-blue-400 font-bold uppercase tracking-wider",children:"Use Rows"})]}),S.jsx("div",{className:"relative z-10",children:S.jsxs(Yt.div,{initial:{scale:.5,rotate:-180,opacity:0},animate:{scale:1,rotate:0,opacity:1},className:"w-14 h-14 rounded-2xl bg-slate-900 border border-slate-700 flex items-center justify-center text-white shadow-2xl shadow-black/50",children:[n===ga.ADD&&S.jsx(G8,{size:24,className:"text-cyan-400",strokeWidth:3}),n===ga.SUBTRACT&&S.jsx(q8,{size:24,className:"text-pink-400",strokeWidth:3}),n===ga.MULTIPLY&&S.jsx(B_,{size:24,className:"text-purple-400",strokeWidth:3}),n===ga.SCALAR&&S.jsx(H8,{size:24,className:"text-emerald-400",strokeWidth:3})]},n)}),n!==ga.SCALAR?S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 text-[10px] font-bold uppercase tracking-widest text-slate-500 bg-slate-900 px-2 py-1 rounded border border-slate-800",children:"Operand B"}),S.jsx(Jo,{data:i,onChange:a,editable:!0,color:"purple"}),u&&n===ga.MULTIPLY&&S.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center text-[9px] text-purple-400 font-bold uppercase tracking-wider",children:"Use Columns"})]}):S.jsxs("div",{className:"flex flex-col items-center justify-center w-32 h-32 rounded-2xl border-2 border-dashed border-slate-700 bg-slate-900/50",children:[S.jsx("span",{className:"text-4xl font-mono font-bold text-emerald-400",children:s}),S.jsx("span",{className:"text-[10px] text-emerald-500/50 uppercase tracking-widest mt-2 font-bold",children:"Scalar"})]}),S.jsx(ic,{className:"text-slate-600 hidden xl:block",size:32,strokeWidth:1.5}),S.jsx("div",{className:"xl:hidden text-slate-600 rotate-90",children:S.jsx(ic,{size:24})}),S.jsx(Eo,{mode:"wait",children:S.jsxs(Yt.div,{initial:{scale:.9,opacity:0,x:20},animate:{scale:1,opacity:1,x:0},exit:{scale:.9,opacity:0},className:"relative",children:[S.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 text-[10px] font-bold uppercase tracking-widest text-emerald-500 bg-emerald-900/20 border border-emerald-500/30 px-3 py-1 rounded shadow-lg shadow-emerald-900/20",children:"Result"}),o?S.jsx(Jo,{data:o,color:"green"}):S.jsx("div",{className:"w-40 h-40 flex items-center justify-center border-2 border-dashed border-red-500/30 rounded-2xl bg-red-500/5 text-red-400 text-xs font-bold uppercase tracking-wider text-center p-4",children:"Dimension Mismatch"})]},JSON.stringify(o))})]})]})})]}),S.jsx(cc,{context:"matrix_ops"})]})},xte=()=>{const[n,e]=hu("det_matrix",[[5,3,-1],[2,0,4],[-3,6,2]]),[t,r]=Re.useState(null),i=Re.useMemo(()=>ff(n),[n]),a=n.length===3&&n[0].length===3,s=(o,l,u)=>{var d;return!a||!u?!1:(d={main1:["0-0","1-1","2-2"],main2:["0-1","1-2","2-0"],main3:["0-2","1-0","2-1"],anti1:["0-2","1-1","2-0"],anti2:["0-0","1-2","2-1"],anti3:["0-1","1-0","2-2"]}[u])==null?void 0:d.includes(`${o}-${l}`)};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end border-b border-white/10 pb-6 gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Determinant Analysis"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl font-light",children:["The geometric scaling factor of a linear transformation. ",S.jsx("br",{}),S.jsx("span",{className:"text-cyan-400",children:"det(A) = 0"})," implies dimension loss (singular matrix)."]})]}),S.jsxs("div",{className:`px-4 py-2 rounded-lg border text-xs font-mono uppercase tracking-wider flex items-center gap-2 ${i===0?"bg-pink-500/10 border-pink-500/20 text-pink-400":"bg-emerald-500/10 border-emerald-500/20 text-emerald-400"}`,children:[S.jsx(Vd,{size:14}),"Status: ",i===0?"Singular":"Invertible"]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsx("div",{className:"lg:col-span-7 space-y-6",children:S.jsxs("div",{className:"glass-panel p-8 rounded-[32px] relative overflow-hidden bg-slate-900/60 min-h-[450px] flex flex-col items-center justify-center",children:[S.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.05) 1px, transparent 0)",backgroundSize:"30px 30px"}}),S.jsxs("div",{className:"relative z-10 w-full flex flex-col items-center",children:[S.jsxs("div",{className:"mb-6 flex items-center gap-2 text-slate-500 text-xs font-bold uppercase tracking-widest",children:[S.jsx(A1,{size:14})," Matrix A Input"]}),S.jsxs("div",{className:"relative p-6",children:[a&&t&&S.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",style:{transform:"scale(1.1)"}}),S.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${n[0].length}, minmax(min-content, 1fr))`},children:n.map((o,l)=>o.map((u,c)=>{const d=s(l,c,t),h=t==null?void 0:t.startsWith("main");return S.jsx("div",{className:"relative",children:S.jsx("input",{className:`
                                                        w-14 h-14 text-center font-mono text-lg rounded-xl transition-all duration-300 outline-none
                                                        border border-transparent
                                                        ${d?h?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50 scale-110 shadow-[0_0_15px_rgba(16,185,129,0.3)]":"bg-pink-500/20 text-pink-300 border-pink-500/50 scale-110 shadow-[0_0_15px_rgba(236,72,153,0.3)]":"bg-slate-800/60 text-slate-300 hover:bg-slate-800"}
                                                    `,value:u,onChange:p=>{const g=parseFloat(p.target.value);if(!isNaN(g)||p.target.value===""||p.target.value==="-"){const x=[...n];x[l][c]=isNaN(g)?0:g,e(x)}}})},`${l}-${c}`)}))})]}),a?S.jsxs("div",{className:"mt-8 w-full max-w-md bg-slate-950/50 p-4 rounded-2xl border border-white/5 backdrop-blur-sm",children:[S.jsx("div",{className:"text-center text-[10px] text-slate-500 font-bold uppercase tracking-widest mb-3",children:"Sarrus Rule Visualizer"}),S.jsxs("div",{className:"flex justify-between items-center gap-4",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"text-[10px] text-emerald-400 font-bold flex items-center gap-1",children:[S.jsx(MX,{size:10})," Positive Diagonals"]}),S.jsx("div",{className:"flex gap-1",children:["main1","main2","main3"].map((o,l)=>S.jsxs("button",{onMouseEnter:()=>r(o),onMouseLeave:()=>r(null),className:"w-8 h-8 rounded bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 text-xs font-mono hover:bg-emerald-500 hover:text-white transition-colors",children:["D",l+1]},o))})]}),S.jsx("div",{className:"text-slate-600 font-light text-2xl",children:"-"}),S.jsxs("div",{className:"space-y-1 text-right",children:[S.jsxs("div",{className:"text-[10px] text-pink-400 font-bold flex items-center justify-end gap-1",children:["Negative Diagonals ",S.jsx(EX,{size:10})]}),S.jsx("div",{className:"flex gap-1 justify-end",children:["anti1","anti2","anti3"].map((o,l)=>S.jsxs("button",{onMouseEnter:()=>r(o),onMouseLeave:()=>r(null),className:"w-8 h-8 rounded bg-pink-500/10 border border-pink-500/30 text-pink-400 text-xs font-mono hover:bg-pink-500 hover:text-white transition-colors",children:["A",l+1]},o))})]})]})]}):S.jsx("div",{className:"mt-8 text-slate-500 text-xs italic",children:"Sarrus visualization available for 3x3 matrices."})]})]})}),S.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[S.jsxs("div",{className:"glass-panel p-8 rounded-[32px] flex flex-col items-center justify-center relative overflow-hidden min-h-[250px] border-t-4 border-t-purple-500",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-500/5 to-transparent pointer-events-none"}),S.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Computed Determinant"}),S.jsx(Yt.div,{initial:{scale:.5,opacity:0,filter:"blur(10px)"},animate:{scale:1,opacity:1,filter:"blur(0px)"},className:"relative z-10",children:S.jsx("div",{className:"text-7xl font-mono font-bold text-white drop-shadow-[0_0_30px_rgba(168,85,247,0.4)]",children:i!==null?du(i):"Err"})},i),S.jsx("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:i===0?S.jsx("span",{className:"px-3 py-1 rounded-full bg-pink-500/20 text-pink-300 text-xs font-bold border border-pink-500/30",children:"Volume Collapsed (Singular)"}):S.jsx("span",{className:"px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-300 text-xs font-bold border border-emerald-500/30",children:"Volume Preserved (Invertible)"})})]}),S.jsxs("div",{className:"grid gap-4",children:[S.jsxs("div",{className:"bg-slate-900/50 p-5 rounded-2xl border border-white/5 hover:border-cyan-500/30 transition-colors group",children:[S.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[S.jsx(oc,{size:16,className:"text-cyan-400 group-hover:scale-110 transition-transform"}),"Geometric Interpretation"]}),S.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["The determinant represents the ",S.jsx("strong",{className:"text-cyan-400",children:"signed volume"})," of the parallelepiped formed by the column vectors of the matrix."]})]}),S.jsxs("div",{className:"bg-slate-900/50 p-5 rounded-2xl border border-white/5 hover:border-purple-500/30 transition-colors group",children:[S.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[S.jsx(vF,{size:16,className:"text-purple-400 group-hover:scale-110 transition-transform"}),"Laplace Expansion"]}),S.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["Recursive method: ",S.jsx("span",{className:"font-mono text-purple-300",children:"det(A) =  (-1)  a  M"}),". Useful for matrices larger than 3x3."]})]})]})]})]}),S.jsx(cc,{context:"determinant"})]})},yte=()=>{const[n,e]=Re.useState([[2,1,1],[3,2,1],[2,1,2]]),t=Re.useMemo(()=>ff(n),[n]),r=Re.useMemo(()=>t?n.map((s,o)=>s.map((l,u)=>{const c=ff(eI(n,o,u))||0;return((o+u)%2===0?1:-1)*c})):null,[n,t]),i=Re.useMemo(()=>r?r[0].map((s,o)=>r.map(l=>l[o])):null,[r]),a=Re.useMemo(()=>!i||!t?null:i.map(s=>s.map(o=>o/t)),[i,t]);return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end border-b border-white/10 pb-6 gap-6",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Inversion Factory"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl font-light",children:["Visualizing the 4-stage pipeline to transform ",S.jsx("span",{className:"font-mono text-cyan-400",children:"A"})," into ",S.jsx("span",{className:"font-mono text-cyan-400",children:"A"}),"."]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>e([[2,1,1],[3,2,1],[2,1,2]]),className:"px-3 py-1.5 bg-slate-800 rounded text-xs text-slate-300 hover:text-white transition-colors",children:"Example 1"}),S.jsx("button",{onClick:()=>e([[1,2,3],[0,1,4],[5,6,0]]),className:"px-3 py-1.5 bg-slate-800 rounded text-xs text-slate-300 hover:text-white transition-colors",children:"Example 2"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 relative",children:[S.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 w-full h-1 bg-gradient-to-r from-slate-800 via-cyan-900 to-purple-900 -translate-y-1/2 z-0 rounded-full"}),S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-panel p-5 rounded-2xl relative z-10 flex flex-col gap-4 border-t-4 border-t-slate-500",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest bg-slate-950 px-2 py-1 rounded",children:"Stage 1: Input"}),S.jsxs("div",{className:`text-xs font-bold px-2 py-1 rounded flex items-center gap-1 ${t?"text-emerald-400 bg-emerald-500/10":"text-pink-400 bg-pink-500/10"}`,children:[t?S.jsx(Wy,{size:12}):S.jsx(pw,{size:12})," Det: ",t!==null?du(t):"-"]})]}),S.jsx("div",{className:"flex-1 flex items-center justify-center",children:S.jsx(Jo,{data:n,onChange:e,editable:!0,color:"blue",label:""})})]}),S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`glass-panel p-5 rounded-2xl relative z-10 flex flex-col gap-4 border-t-4 ${t?"border-t-cyan-500":"border-t-slate-800 opacity-50"}`,children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest bg-slate-950 px-2 py-1 rounded",children:"Stage 2: Cofactors"}),S.jsx(A1,{size:14,className:"text-cyan-500"})]}),S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center gap-2",children:r?S.jsxs(S.Fragment,{children:[S.jsx(Jo,{data:r,color:"cyan",label:""}),S.jsx("p",{className:"text-[9px] text-slate-500 text-center",children:"Applied (+ - +) checkerboard to Minors."})]}):S.jsx("div",{className:"text-xs text-slate-500 italic",children:"Waiting for valid input..."})})]}),S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:`glass-panel p-5 rounded-2xl relative z-10 flex flex-col gap-4 border-t-4 ${t?"border-t-purple-500":"border-t-slate-800 opacity-50"}`,children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest bg-slate-950 px-2 py-1 rounded",children:"Stage 3: Adjugate"}),S.jsx(kX,{size:14,className:"text-purple-500"})]}),S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center gap-2",children:i?S.jsxs(S.Fragment,{children:[S.jsx(Jo,{data:i,color:"purple",label:""}),S.jsx("p",{className:"text-[9px] text-slate-500 text-center",children:"Transposed rows to columns."})]}):S.jsx("div",{className:"text-xs text-slate-500 italic",children:"..."})})]}),S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:`glass-panel p-5 rounded-2xl relative z-10 flex flex-col gap-4 border-t-4 ${t?"border-t-emerald-500":"border-t-slate-800 opacity-50"}`,children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest bg-slate-950 px-2 py-1 rounded",children:"Stage 4: Output"}),S.jsx(Z$,{size:14,className:"text-emerald-500"})]}),S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center gap-2",children:a?S.jsxs(S.Fragment,{children:[S.jsx(Jo,{data:a.map(s=>s.map(o=>parseFloat(o.toFixed(2)))),color:"green",label:""}),S.jsxs("p",{className:"text-[9px] text-slate-500 text-center",children:["Divided Adjugate by Det (",du(t),")."]})]}):S.jsx("div",{className:"p-4 border border-dashed border-pink-500/30 bg-pink-500/5 rounded-lg text-pink-400 text-xs text-center",children:"Cannot invert singular matrix."})})]})]}),S.jsxs("div",{className:"mt-8 bg-slate-900/50 p-6 rounded-2xl border border-white/5 flex flex-col md:flex-row items-center justify-center gap-6",children:[S.jsx("div",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Master Formula"}),S.jsxs("div",{className:"px-6 py-3 bg-slate-950 rounded-xl border border-slate-800 text-xl font-mono text-white shadow-inner",children:["A = ",S.jsx("span",{className:"text-emerald-400",children:"1/det(A)"}),"  ",S.jsx("span",{className:"text-purple-400",children:"adj(A)"})]}),S.jsx("p",{className:"text-xs text-slate-500 max-w-md text-center md:text-left",children:"The adjugate matrix adj(A) is the transpose of the cofactor matrix. This formula works for any square non-singular matrix."})]}),S.jsx(cc,{context:"inverse"})]})},bte=({module:n})=>{const[e,t]=Re.useState(null),r=p=>{t(e===p?null:p)},i=[{category:"Definitions & Dimensions",items:[{id:"m_1",text:"1. What is a matrix?",options:["A) Any sequence of numbers","B) A rectangular array of numbers arranged in rows and columns","C) A graph of a function"],correctAnswer:"B",solutionSteps:["A matrix is defined as a rectangular array of numbers (or symbols/expressions) arranged in rows and columns."]},{id:"m_2",text:"2. The dimension of matrix Anm means:",options:["A) n columns and m rows","B) n rows and m columns","C) m rows and n columns"],correctAnswer:"B",solutionSteps:["Convention: Rows  Columns (n  m)."]},{id:"m_3",text:"3. A square matrix is a matrix in which:",options:["A) n  m","B) all elements are zeros","C) n = m"],correctAnswer:"C",solutionSteps:["Square implies equal sides, so number of rows (n) equals number of columns (m)."]},{id:"m_4",text:"4. The identity matrix is:",options:["A) a matrix with ones on the main diagonal and zeros elsewhere","B) a matrix with all elements equal to 1","C) the zero matrix"],correctAnswer:"A",solutionSteps:["Identity matrix I has 1s on diagonal, 0s elsewhere. AI = IA = A."]},{id:"m_6",text:"6. A diagonal matrix is:",options:["A) non-zero elements only on the main diagonal","B) ones on the diagonal","C) zeros in the columns"],correctAnswer:"A",solutionSteps:["A diagonal matrix has entries outside the main diagonal equal to zero."]}]},{category:"Operations & Properties",items:[{id:"m_7",text:"7. To add two matrices, they must have:",options:["A) the same number of rows","B) the same number of columns","C) identical dimensions"],correctAnswer:"C",solutionSteps:["Matrix addition is element-wise, so dimensions (rows and columns) must match."]},{id:"m_8",text:"8. The transposition of a matrix means:",options:["A) reversing the order of columns","B) swapping rows and columns","C) squaring the matrix"],correctAnswer:"B",solutionSteps:["Transpose A^T swaps indices ij to ji, effectively turning rows into columns."]},{id:"m_10",text:"10. The product A(nm) * B(pq) exists when:",options:["A) n = q","B) m = p","C) n = p"],correctAnswer:"B",solutionSteps:["Inner dimensions must match. (nm) * (mq) yields (nq)."]},{id:"m_12",text:"12. The transposition rule of a matrix product is:",options:["A) (AB)^T = A^T B^T","B) (AB)^T = B^T A^T","C) (AB)^T = AB"],correctAnswer:"B",solutionSteps:["The transpose of a product is the product of transposes in reverse order."]},{id:"m_14",text:"14. A symmetric matrix satisfies:",options:["A) A = -A^T","B) A = A^T","C) A^T = 0"],correctAnswer:"B",solutionSteps:["Symmetry means the matrix is equal to its transpose."]}]},{category:"Determinants & Inverse",items:[{id:"m_17",text:"17. A matrix is singular when:",options:["A) detA  0","B) detA = 0","C) A^-1 exists"],correctAnswer:"B",solutionSteps:["A singular matrix has a determinant of zero and no inverse."]},{id:"m_18",text:"18. For a 22 matrix, |A| equals:",options:["A) a+b+c+d","B) ad - bc","C) ab - cd"],correctAnswer:"B",solutionSteps:["Standard formula for 2x2 determinant."]},{id:"m_25",text:"25. The inverse matrix exists only when:",options:["A) detA  0","B) detA = 0","C) A is rectangular"],correctAnswer:"A",solutionSteps:["A non-zero determinant is required to calculate the inverse (1/detA)."]},{id:"m_28",text:"28. The product of determinants satisfies:",options:["A) det(AB) = detA + detB","B) det(AB) = detA * detB","C) det(AB) = 0"],correctAnswer:"B",solutionSteps:["The determinant of a product is the product of the determinants."]}]},{category:"Systems of Equations",items:[{id:"m_31",text:"31. The matrix form of a system of equations is:",options:["A) A + X = B","B) A * X = B","C) X = A + B"],correctAnswer:"B",solutionSteps:["Coefficient Matrix (A) * Variable Vector (X) = Constant Vector (B)."]},{id:"m_33",text:"33. A Cramer's system has a solution when:",options:["A) detA = 0","B) detA  0","C) A is rectangular"],correctAnswer:"B",solutionSteps:["Cramer's rule requires dividing by the main determinant W (detA), so it must be non-zero."]},{id:"m_36",text:"36. If W=0 and at least one Wi0, the system:",options:["A) is inconsistent (no solution)","B) has one solution","C) has many solutions"],correctAnswer:"A",solutionSteps:["This represents a contradiction (0 * x = non-zero), so no solution exists."]}]}],a=[{category:"Fundamentals",items:[{id:"s_1",text:"1. A number sequence is:",options:["A) a real function of two variables","B) an assignment of one real number to each natural number","C) an arbitrary set"],correctAnswer:"B",solutionSteps:["A sequence is essentially a function f: N -> R."]},{id:"s_3",text:"3. A sequence that has a finite limit is called:",options:["A) divergent","B) convergent","C) monotonic"],correctAnswer:"B",solutionSteps:["Convergence is defined as approaching a finite limit g."]},{id:"s_8",text:"8. An arithmetic sequence satisfies:",options:["A) a_{n+1} = a_n + r","B) a_{n+1} = a_n * q","C) a_{n+1} = a_n^2 + r"],correctAnswer:"A",solutionSteps:["Terms change by adding a constant difference r."]},{id:"s_9",text:"9. A geometric sequence satisfies:",options:["A) a_{n+1} = a_n + q","B) a_{n+1} = a_n * q","C) a_{n+1} = a_n / q"],correctAnswer:"B",solutionSteps:["Terms change by multiplying by a constant ratio q."]}]},{category:"Limits & Properties",items:[{id:"s_13",text:"13. The number e (Euler's number) is the limit of:",options:["A) (1 + 1/n)^n","B) 1/n","C) sqrt(n)"],correctAnswer:"A",solutionSteps:["Standard definition of e."]},{id:"s_14",text:"14. The sequence a_n = q^n converges to zero when:",options:["A) |q| > 1","B) -1 < q < 1","C) q = 1"],correctAnswer:"B",solutionSteps:["Geometric sequence converges to 0 if the absolute value of the ratio is less than 1."]},{id:"s_15",text:"15. The theorem of three sequences (Squeeze Theorem) states that:",options:["A) if a_n <= b_n <= c_n and lim a_n = lim c_n = g, then lim b_n = g","B) if a_n = b_n + c_n...","C) if a_n > b_n..."],correctAnswer:"A",solutionSteps:["If a sequence is squeezed between two others converging to the same limit, it must also converge to that limit."]}]}],s=[{category:"Domain & Properties",items:[{id:"f_15",text:"15. The domain of ln(x) is:",options:["A) (-, )","B) (0, )","C) (1, )"],correctAnswer:"B",solutionSteps:["Logarithm is only defined for positive numbers."]},{id:"f_42",text:"42. The function 1/x is undefined for:",options:["A) x = 1","B) x < 0","C) x = 0"],correctAnswer:"C",solutionSteps:["Division by zero is undefined."]},{id:"f_46",text:"46. The function e^x is:",options:["A) A parabola","B) Decreasing","C) Increasing on its entire domain"],correctAnswer:"C",solutionSteps:["Exponential functions with base > 1 are strictly increasing."]}]},{category:"Limits & Asymptotes",items:[{id:"f_12",text:"12. A vertical asymptote means:",options:["A) The limit equals 0","B) The limit exists","C) The limit tends to  or -"],correctAnswer:"C",solutionSteps:["Function grows unbounded near the asymptote."]},{id:"f_34",text:"34. A function is continuous at a point when:",options:["A) It has no asymptotes","B) It is differentiable","C) The limit equals the function value"],correctAnswer:"C",solutionSteps:["Definition of continuity: lim(x->c) f(x) = f(c)."]},{id:"f_39",text:"39. A horizontal asymptote exists when:",options:["A) The derivative changes sign","B) There is a square in denominator","C) The limit at  is finite"],correctAnswer:"C",solutionSteps:["If lim(x->inf) f(x) = L, then y=L is a horizontal asymptote."]}]}],o=[{category:"Basic Rules",items:[{id:"d_1",text:"1. The derivative of a constant function equals:",options:["A) A positive constant","B) The same constant","C) 0"],correctAnswer:"C",solutionSteps:["Rate of change of a constant is zero."]},{id:"d_2",text:"2. The derivative of x^a (for a  R) equals:",options:["A) x^{a+1}","B) ax^{a+1}","C) ax^{a-1}"],correctAnswer:"C",solutionSteps:["Power Rule: nx^{n-1}."]},{id:"d_8",text:"8. The derivative of a multiplication is:",options:["A) f'g + fg'","B) f'g' - fg'","C) f'g + fg'"],correctAnswer:"A",solutionSteps:["Product Rule: (uv)' = u'v + uv'."]},{id:"d_10",text:"10. The derivative of the composition f(g(x)) is:",options:["A) f(x)g(x)","B) f'g + fg'","C) f'(g(x))g'(x)"],correctAnswer:"C",solutionSteps:["Chain Rule: Outer derivative times inner derivative."]}]},{category:"Analysis & Geometry",items:[{id:"d_5",text:"5. A necessary condition for a local extremum is:",options:["A) f(x)=0","B) The function is increasing","C) f'(x)=0"],correctAnswer:"C",solutionSteps:["Fermat's Theorem: If f has a local extremum and is differentiable, f'(x)=0."]},{id:"d_6",text:"6. If f'(x) > 0, the function is:",options:["A) Constant","B) Decreasing","C) Increasing"],correctAnswer:"C",solutionSteps:["Positive derivative implies growth."]},{id:"d_33",text:"33. The derivative describes:",options:["A) The area under the graph","B) The limit of a function","C) The rate of change"],correctAnswer:"C",solutionSteps:["Instantaneous rate of change or slope."]}]}],l=[{category:"Indefinite Integrals",items:[{id:"i_1",text:"1. An antiderivative of the function f(x) is a function:",options:["A) continuous","B) whose derivative equals f(x)","C) increasing"],correctAnswer:"B",solutionSteps:["F'(x) = f(x)."]},{id:"i_3",text:"3. The integral  x^a dx for a1 equals:",options:["A) ln|x|+C","B) x^{a+1}+C","C) 1/(a+1) * x^{a+1} + C"],correctAnswer:"C",solutionSteps:["Power Rule for integration."]},{id:"i_4",text:"4. The integral  1/x dx equals:",options:["A) 1/x + C","B) ln|x| + C","C) x + C"],correctAnswer:"B",solutionSteps:["Special case of power rule where n=-1."]},{id:"i_20",text:"20. Integration by parts is based on the formula:",options:["A) (uv)'=u'v'","B) d(uv)=udv+vdu","C) (u+v)'=u'v'"],correctAnswer:"B",solutionSteps:["Derived from the product rule of differentiation."]}]},{category:"Definite Integrals",items:[{id:"i_35",text:"35. A definite integral is a number:",options:["A) always positive","B) dependent on constant C","C) dependent on limits of integration"],correctAnswer:"C",solutionSteps:["It evaluates to a value determined by the function and the interval [a, b]."]},{id:"i_36",text:"36. If F'(x)=f(x), then _a^b f(x)dx equals:",options:["A) F(a)-F(b)","B) F(b)-F(a)","C) C"],correctAnswer:"B",solutionSteps:["Newton-Leibniz formula (Fundamental Theorem of Calculus)."]},{id:"i_37",text:"37. The area under the graph of a positive function:",options:["A) is equal to the definite integral","B) is indefinite","C) has no interpretation"],correctAnswer:"A",solutionSteps:["Geometric interpretation of the definite integral."]}]}],u=[{category:"Differential Equations",items:[{id:"de_62",text:"62. A first-order differential equation is:",options:["A) an algebraic equation","B) an equation containing a first derivative","C) a quadratic equation"],correctAnswer:"B",solutionSteps:["Order is determined by the highest derivative present."]},{id:"de_65",text:"65. The equation y'=2y is:",options:["A) linear/separable","B) separable","C) second-order"],correctAnswer:"B",solutionSteps:["Can be written as dy/y = 2dx."]},{id:"de_66",text:"66. The method of separation of variables consists of:",options:["A) changing variable","B) separating y and x onto opposite sides","C) integration by parts"],correctAnswer:"B",solutionSteps:["Group all y terms with dy and x terms with dx."]},{id:"de_69",text:"69. The Malthus model describes:",options:["A) limited growth","B) exponential population growth","C) decline"],correctAnswer:"B",solutionSteps:["Unconstrained growth proportional to population size (y' = ky)."]},{id:"de_71",text:"71. The Verhulst model accounts for:",options:["A) reproduction only","B) limited environmental resources","C) mortality only"],correctAnswer:"B",solutionSteps:["Logistic growth model that introduces a carrying capacity K."]}]}],d=(()=>{switch(n){case hn.MATRIX:return i;case hn.SEQUENCES:return a;case hn.FUNCTIONS:return s;case hn.LIMITS:return s.filter(p=>p.category.includes("Limits"));case hn.DERIVATIVES:return o;case hn.INTEGRALS:return l;case hn.DIFF_EQ:return u;default:return[...i,...a]}})(),h=n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase().replace("_"," "):"General";return S.jsxs("div",{className:"space-y-12 pb-20",children:[S.jsxs("header",{children:[S.jsxs("h2",{className:"text-4xl font-bold text-white mb-4",children:[h," Homework"]}),S.jsx("p",{className:"text-slate-400",children:"Practice problems from the lecture material. Click to reveal step-by-step solutions."})]}),d.length===0?S.jsx("div",{className:"p-8 text-center border border-slate-800 rounded-xl bg-slate-900/50",children:S.jsx("p",{className:"text-slate-500",children:"No exercises available for this specific module view."})}):S.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:d.map((p,g)=>S.jsxs("div",{className:"space-y-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-cyan-400 border-b border-slate-800 pb-2",children:p.category}),S.jsx("div",{className:"space-y-4",children:p.items.map(x=>{const A=e===x.id;return S.jsxs(Yt.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},className:`group relative rounded-xl border transition-all duration-300 overflow-hidden
                                                ${A?"bg-slate-800 border-cyan-500/50 shadow-lg shadow-cyan-900/20":"bg-slate-800/40 border-slate-700 hover:bg-slate-800/60 hover:border-slate-600"}`,children:[S.jsxs("div",{className:"p-5 cursor-pointer flex justify-between items-start gap-4",onClick:()=>r(x.id),children:[S.jsx("div",{className:"flex-1",children:S.jsxs("div",{className:"text-slate-200 text-sm leading-relaxed",children:[S.jsx("p",{className:"mb-3 font-medium text-base",children:x.text}),x.options&&S.jsx("div",{className:"grid gap-2 pl-2",children:x.options.map((b,_)=>S.jsx("div",{className:`text-slate-400 text-xs ${A&&b.startsWith(x.correctAnswer||"")?"text-emerald-400 font-bold":""}`,children:b},_))})]})}),S.jsx("div",{className:"text-slate-500 hover:text-cyan-400 transition-colors",children:A?S.jsx(B$,{}):S.jsx(N$,{})})]}),S.jsx(Eo,{children:A&&S.jsx(Yt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"border-t border-slate-700 bg-slate-900/50",children:S.jsxs("div",{className:"p-5 space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 font-bold text-xs uppercase tracking-widest",children:[S.jsx(M1,{size:14})," Correct Answer: ",x.correctAnswer]}),S.jsx("div",{className:"space-y-3 pl-4 border-l-2 border-slate-600/50",children:x.solutionSteps.map((b,_)=>S.jsx("div",{className:"text-sm text-slate-300",children:S.jsx(Dn,{expression:b,inline:!0})},_))})]})})})]},x.id)})})]},g))})]})},Xb=[{id:"arithmetic",name:"Arithmetic Sequence",formula:"a_n = a_1 + (n-1)d",desc:"A sequence with a constant difference between consecutive terms. It represents linear growth or decay.",analogy:"Like walking up a staircase. Each step rises by the exact same height (d), regardless of how high you are.",breakdown:[{term:"a_1",meaning:"Starting Position",color:"text-cyan-400"},{term:"(n-1)",meaning:"Number of steps taken",color:"text-purple-400"},{term:"d",meaning:"Step Size (Common Difference)",color:"text-emerald-400"}],type:"EXPLICIT",params:[{key:"a1",label:"Start (a)",min:-10,max:10,step:1,default:0},{key:"d",label:"Difference (d)",min:-5,max:5,step:.5,default:1}],generate:(n,e)=>e.a1+(n-1)*e.d},{id:"geometric",name:"Geometric Sequence",formula:"a_n = a_1 \\cdot r^{n-1}",desc:"A sequence where each term is multiplied by a constant ratio. Represents exponential growth or decay.",analogy:"Like a colony of bacteria doubling every hour, or a bouncing ball reaching half its previous height.",breakdown:[{term:"a_1",meaning:"Initial Amount",color:"text-cyan-400"},{term:"r",meaning:"Growth Multiplier (Ratio)",color:"text-pink-400"},{term:"n-1",meaning:"Time steps elapsed",color:"text-slate-400"}],type:"EXPLICIT",params:[{key:"a1",label:"Start (a)",min:1,max:10,step:1,default:2},{key:"r",label:"Ratio (r)",min:-2,max:2,step:.1,default:.8}],generate:(n,e)=>e.a1*Math.pow(e.r,n-1)},{id:"fibonacci",name:"Fibonacci (Recursive)",formula:"F_n = F_{n-1} + F_{n-2}",desc:"Each term is the sum of the two preceding ones. Famous for appearing in nature (sunflowers, shells).",analogy:"Like adding the last two generations of rabbits to determine the current population size.",breakdown:[{term:"F_{n-1}",meaning:"Previous Term",color:"text-cyan-400"},{term:"F_{n-2}",meaning:"Term before previous",color:"text-purple-400"}],type:"RECURSIVE",params:[{key:"f0",label:"First (F)",min:0,max:5,step:1,default:0},{key:"f1",label:"Second (F)",min:1,max:5,step:1,default:1}],generate:(n,e)=>{if(n===1)return e.f0;if(n===2)return e.f1;let t=e.f0,r=e.f1;for(let i=3;i<=n;i++){let a=t+r;t=r,r=a}return r}},{id:"alternating",name:"Harmonic Alternating",formula:"a_n = \\frac{(-1)^{n+1}}{n}",desc:"A sequence that oscillates between positive and negative values while shrinking towards zero.",analogy:"Like a pendulum swinging back and forth, but with friction causing each swing to be shorter than the last.",breakdown:[{term:"(-1)^{n+1}",meaning:"Sign Flipper",color:"text-yellow-400"},{term:"1/n",meaning:"Damping Factor",color:"text-emerald-400"}],type:"EXPLICIT",params:[],generate:(n,e)=>Math.pow(-1,n+1)/n}],Ste=()=>{const[n,e]=Re.useState("arithmetic"),t=Xb.find(g=>g.id===n)||Xb[0],[r,i]=Re.useState(()=>{const g={};return Xb.forEach(x=>x.params.forEach(A=>g[`${x.id}_${A.key}`]=A.default)),g}),a=(g,x)=>{i(A=>({...A,[`${n}_${g}`]:x}))},s=g=>r[`${n}_${g}`]??0,o=20,l=Array.from({length:o},(g,x)=>{const A=x+1,b={};return t.params.forEach(_=>b[_.key]=s(_.key)),{n:A,val:t.generate(A,b)}}),u=Math.max(...l.map(g=>g.val),.1),c=Math.min(...l.map(g=>g.val),0),d=u-c||1,h=d*.1,p=g=>300-(g-(c-h))/(d+2*h)*300;return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Sequence Archetypes"}),S.jsx("p",{className:"text-slate-400 max-w-3xl font-light",children:"Explore the behavior of discrete mathematical patterns. Configure parameters to observe convergence, divergence, and oscillation."})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsx("div",{className:"lg:col-span-4 space-y-4",children:Xb.map(g=>S.jsxs("button",{onClick:()=>e(g.id),className:`w-full text-left p-4 rounded-xl border transition-all duration-300 group relative overflow-hidden
                            ${n===g.id?"bg-slate-800 border-cyan-500/50 shadow-lg shadow-cyan-900/20":"bg-slate-900/40 border-slate-700 hover:bg-slate-800 hover:border-slate-600"}
                        `,children:[n===g.id&&S.jsx(Yt.div,{layoutId:"activeSeqGlow",className:"absolute inset-0 bg-cyan-500/5"}),S.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest mb-1 block ${n===g.id?"text-cyan-400":"text-slate-500"}`,children:g.type}),S.jsx("h3",{className:`font-bold text-base ${n===g.id?"text-white":"text-slate-300"}`,children:g.name})]}),n===g.id&&S.jsx(ic,{size:18,className:"text-cyan-400"})]})]},g.id))}),S.jsx("div",{className:"lg:col-span-8",children:S.jsx(Eo,{mode:"wait",children:S.jsxs(Yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"glass-panel p-8 rounded-[32px] border-l-4 border-l-cyan-500 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 relative z-10",children:[S.jsxs("div",{className:"bg-slate-950/80 p-6 rounded-2xl border border-white/5 shadow-inner",children:[S.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-4",children:"General Formula"}),S.jsx(Dn,{expression:t.formula,className:"text-2xl text-white mb-6 text-center"}),S.jsx("div",{className:"space-y-3",children:t.breakdown.map((g,x)=>S.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/50 p-2 rounded border border-slate-800/50",children:[S.jsx("div",{className:`font-mono font-bold text-xs ${g.color} min-w-[40px] text-center`,children:S.jsx(Dn,{expression:g.term,inline:!0})}),S.jsx("p",{className:"text-xs text-slate-400",children:g.meaning})]},x))})]}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("div",{className:"bg-amber-500/5 p-5 rounded-xl border border-amber-500/20 mb-4",children:[S.jsxs("h4",{className:"text-xs font-bold text-amber-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[S.jsx(M1,{size:14})," Intuition"]}),S.jsxs("p",{className:"text-sm text-amber-100/80 italic leading-relaxed",children:['"',t.analogy,'"']})]}),S.jsx("p",{className:"text-sm text-slate-400 leading-relaxed font-light",children:t.desc})]})]}),S.jsxs("div",{className:"bg-slate-900/40 rounded-2xl border border-white/5 p-6 relative",children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[S.jsxs("h4",{className:"text-xs font-bold text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(Vd,{size:16})," Interactive Lab"]}),t.params.length>0&&S.jsx("div",{className:"flex flex-wrap gap-4 bg-slate-950/50 p-2 rounded-xl border border-white/5",children:t.params.map(g=>S.jsxs("div",{className:"flex items-center gap-3 px-2",children:[S.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:g.label}),S.jsx("input",{type:"number",step:g.step,value:s(g.key),onChange:x=>a(g.key,parseFloat(x.target.value)),className:"w-16 bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white text-center focus:border-cyan-500 outline-none"})]},g.key))})]}),S.jsxs("div",{className:"relative h-[300px] w-full border-l border-b border-slate-700 ml-2",children:[S.jsx("div",{className:"absolute inset-0 flex items-end justify-between px-2"}),c<0&&u>0&&S.jsx("div",{className:"absolute w-full h-px bg-slate-600 border-t border-dashed border-slate-500 opacity-50",style:{top:p(0)}}),S.jsxs("svg",{className:"absolute inset-0 w-full h-full overflow-visible",children:[S.jsx("defs",{children:S.jsxs("linearGradient",{id:"seqGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[S.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.4"}),S.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:"0.8"})]})}),S.jsx(Yt.polyline,{points:l.map((g,x)=>`${x/(o-1)*100}%,${p(g.val)}`).join(" "),fill:"none",stroke:"url(#seqGradient)",strokeWidth:"2",strokeDasharray:"4 4",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1}}),l.map((g,x)=>{const A=x/(o-1)*100;return S.jsx(Yt.circle,{initial:{scale:0},animate:{scale:1,cx:`${A}%`,cy:p(g.val)},transition:{delay:x*.05,type:"spring"},r:4,className:"fill-cyan-400 stroke-slate-900 stroke-2 hover:r-6 hover:fill-white cursor-pointer",children:S.jsxs("title",{children:["n=",g.n,", a_n=",g.val.toFixed(2)]})},x)})]})]}),S.jsxs("div",{className:"flex justify-between mt-2 px-2 text-[10px] font-mono text-slate-500",children:[S.jsx("span",{children:"n=1"}),S.jsxs("span",{children:["n=",o]})]})]})]},n)})})]}),S.jsx(cc,{context:"sequences"})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const D1="170",Am={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},nI=0,dE=1,rI=2,wte=3,iI=0,Ew=1,ny=2,ec=3,Ud=0,Vs=1,Qa=2,Nd=0,km=1,Y3=2,hE=3,mE=4,aI=5,G0=100,sI=101,oI=102,lI=103,uI=104,cI=200,fI=201,dI=202,hI=203,Z3=204,K3=205,mI=206,pI=207,vI=208,gI=209,xI=210,yI=211,bI=212,SI=213,wI=214,Q3=0,J3=1,eS=2,Gm=3,tS=4,nS=5,rS=6,iS=7,n2=0,AI=1,MI=2,df=0,_I=1,EI=2,NI=3,nN=4,TI=5,CI=6,DI=7,pE="attached",RI="detached",Nw=300,Fd=301,nh=302,My=303,_y=304,R1=306,Ey=1e3,mu=1001,Ny=1002,gs=1003,rN=1004,Ate=1004,$v=1005,Mte=1005,ua=1006,ry=1007,_te=1007,sf=1008,Ete=1008,lc=1009,iN=1010,aN=1011,u1=1012,Tw=1013,Ld=1014,el=1015,B1=1016,Cw=1017,Dw=1018,$m=1020,sN=35902,oN=1021,lN=1022,js=1023,uN=1024,cN=1025,Im=1026,Xm=1027,Rw=1028,r2=1029,fN=1030,Bw=1031,Nte=1032,Ow=1033,iy=33776,ay=33777,sy=33778,oy=33779,aS=35840,sS=35841,oS=35842,lS=35843,uS=36196,cS=37492,fS=37496,dS=37808,hS=37809,mS=37810,pS=37811,vS=37812,gS=37813,xS=37814,yS=37815,bS=37816,SS=37817,wS=37818,AS=37819,MS=37820,_S=37821,ly=36492,ES=36494,NS=36495,dN=36283,TS=36284,CS=36285,DS=36286,BI=2200,OI=2201,zI=2202,Ty=2300,RS=2301,x3=2302,Rm=2400,Bm=2401,Cy=2402,zw=2500,hN=2501,Tte=0,Cte=1,Dte=2,UI=3200,mN=3201,Rte=3202,Bte=3203,uh=0,FI=1,xd="",ks="srgb",ch="srgb-linear",i2="linear",Gr="srgb",Ote=0,_m=7680,zte=7681,Ute=7682,Fte=7683,Lte=34055,kte=34056,Ite=5386,Pte=512,jte=513,Vte=514,Hte=515,qte=516,Gte=517,$te=518,vE=519,LI=512,kI=513,II=514,pN=515,PI=516,jI=517,VI=518,HI=519,Dy=35044,Xte=35048,Wte=35040,Yte=35045,Zte=35049,Kte=35041,Qte=35046,Jte=35050,ene=35042,tne="100",gE="300 es",of=2e3,Ry=2001;let bf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const zs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let q7=1234567;const Pm=Math.PI/180,c1=180/Math.PI;function Tl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(zs[n&255]+zs[n>>8&255]+zs[n>>16&255]+zs[n>>24&255]+"-"+zs[e&255]+zs[e>>8&255]+"-"+zs[e>>16&15|64]+zs[e>>24&255]+"-"+zs[t&63|128]+zs[t>>8&255]+"-"+zs[t>>16&255]+zs[t>>24&255]+zs[r&255]+zs[r>>8&255]+zs[r>>16&255]+zs[r>>24&255]).toLowerCase()}function Ki(n,e,t){return Math.max(e,Math.min(t,n))}function vN(n,e){return(n%e+e)%e}function nne(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function rne(n,e,t){return n!==e?(t-n)/(e-n):0}function uy(n,e,t){return(1-t)*n+t*e}function ine(n,e,t,r){return uy(n,e,1-Math.exp(-t*r))}function ane(n,e=1){return e-Math.abs(vN(n,e*2)-e)}function sne(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function one(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function lne(n,e){return n+Math.floor(Math.random()*(e-n+1))}function une(n,e){return n+Math.random()*(e-n)}function cne(n){return n*(.5-Math.random())}function fne(n){n!==void 0&&(q7=n);let e=q7+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dne(n){return n*Pm}function hne(n){return n*c1}function mne(n){return(n&n-1)===0&&n!==0}function pne(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function vne(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function gne(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),u=a((e+r)/2),c=s((e+r)/2),d=a((e-r)/2),h=s((e-r)/2),p=a((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":n.set(o*c,l*d,l*h,o*u);break;case"YZY":n.set(l*h,o*c,l*d,o*u);break;case"ZXZ":n.set(l*d,l*h,o*c,o*u);break;case"XZX":n.set(o*c,l*g,l*p,o*u);break;case"YXY":n.set(l*p,o*c,l*g,o*u);break;case"ZYZ":n.set(l*g,l*p,o*c,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function yo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function $n(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Uw={DEG2RAD:Pm,RAD2DEG:c1,generateUUID:Tl,clamp:Ki,euclideanModulo:vN,mapLinear:nne,inverseLerp:rne,lerp:uy,damp:ine,pingpong:ane,smoothstep:sne,smootherstep:one,randInt:lne,randFloat:une,randFloatSpread:cne,seededRandom:fne,degToRad:dne,radToDeg:hne,isPowerOfTwo:mne,ceilPowerOfTwo:pne,floorPowerOfTwo:vne,setQuaternionFromProperEuler:gne,normalize:$n,denormalize:yo};class bt{constructor(e=0,t=0){bt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ki(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kn{constructor(e,t,r,i,a,s,o,l,u){kn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,u)}set(e,t,r,i,a,s,o,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=a,c[5]=l,c[6]=r,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],u=r[1],c=r[4],d=r[7],h=r[2],p=r[5],g=r[8],x=i[0],A=i[3],b=i[6],_=i[1],M=i[4],E=i[7],C=i[2],T=i[5],B=i[8];return a[0]=s*x+o*_+l*C,a[3]=s*A+o*M+l*T,a[6]=s*b+o*E+l*B,a[1]=u*x+c*_+d*C,a[4]=u*A+c*M+d*T,a[7]=u*b+c*E+d*B,a[2]=h*x+p*_+g*C,a[5]=h*A+p*M+g*T,a[8]=h*b+p*E+g*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t*s*c-t*o*u-r*a*c+r*o*l+i*a*u-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],d=c*s-o*u,h=o*l-c*a,p=u*a-s*l,g=t*d+r*h+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=d*x,e[1]=(i*u-c*r)*x,e[2]=(o*r-i*s)*x,e[3]=h*x,e[4]=(c*t-i*l)*x,e[5]=(i*a-o*t)*x,e[6]=p*x,e[7]=(r*l-u*t)*x,e[8]=(s*t-r*a)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*s+u*o)+s+e,-i*u,i*l,-i*(-u*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(QA.makeScale(e,t)),this}rotate(e){return this.premultiply(QA.makeRotation(-e)),this}translate(e,t){return this.premultiply(QA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const QA=new kn;function qI(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const xne={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Xv(n,e){return new xne[n](e)}function By(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function GI(){const n=By("canvas");return n.style.display="block",n}const G7={};function qx(n){n in G7||(G7[n]=!0,console.warn(n))}function yne(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}function bne(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Sne(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const gr={enabled:!0,workingColorSpace:ch,spaces:{},convert:function(n,e,t){return this.enabled===!1||e===t||!e||!t||(this.spaces[e].transfer===Gr&&(n.r=Td(n.r),n.g=Td(n.g),n.b=Td(n.b)),this.spaces[e].primaries!==this.spaces[t].primaries&&(n.applyMatrix3(this.spaces[e].toXYZ),n.applyMatrix3(this.spaces[t].fromXYZ)),this.spaces[t].transfer===Gr&&(n.r=n1(n.r),n.g=n1(n.g),n.b=n1(n.b))),n},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)},getPrimaries:function(n){return this.spaces[n].primaries},getTransfer:function(n){return n===xd?i2:this.spaces[n].transfer},getLuminanceCoefficients:function(n,e=this.workingColorSpace){return n.fromArray(this.spaces[e].luminanceCoefficients)},define:function(n){Object.assign(this.spaces,n)},_getMatrix:function(n,e,t){return n.copy(this.spaces[e].toXYZ).multiply(this.spaces[t].fromXYZ)},_getDrawingBufferColorSpace:function(n){return this.spaces[n].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(n=this.workingColorSpace){return this.spaces[n].workingColorSpaceConfig.unpackColorSpace}};function Td(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function n1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const $7=[.64,.33,.3,.6,.15,.06],X7=[.2126,.7152,.0722],W7=[.3127,.329],Y7=new kn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Z7=new kn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);gr.define({[ch]:{primaries:$7,whitePoint:W7,transfer:i2,toXYZ:Y7,fromXYZ:Z7,luminanceCoefficients:X7,workingColorSpaceConfig:{unpackColorSpace:ks},outputColorSpaceConfig:{drawingBufferColorSpace:ks}},[ks]:{primaries:$7,whitePoint:W7,transfer:Gr,toXYZ:Y7,fromXYZ:Z7,luminanceCoefficients:X7,outputColorSpaceConfig:{drawingBufferColorSpace:ks}}});let mv;class $I{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{mv===void 0&&(mv=By("canvas")),mv.width=e.width,mv.height=e.height;const r=mv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=mv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=By("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=Td(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Td(t[r]/255)*255):t[r]=Td(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let wne=0;class Om{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:wne++}),this.uuid=Tl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(JA(i[s].image)):a.push(JA(i[s]))}else a=JA(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function JA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?$I.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ane=0;class Pi extends bf{constructor(e=Pi.DEFAULT_IMAGE,t=Pi.DEFAULT_MAPPING,r=mu,i=mu,a=ua,s=sf,o=js,l=lc,u=Pi.DEFAULT_ANISOTROPY,c=xd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ane++}),this.uuid=Tl(),this.name="",this.source=new Om(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new bt(0,0),this.repeat=new bt(1,1),this.center=new bt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Nw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ey:e.x=e.x-Math.floor(e.x);break;case mu:e.x=e.x<0?0:1;break;case Ny:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ey:e.y=e.y-Math.floor(e.y);break;case mu:e.y=e.y<0?0:1;break;case Ny:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Pi.DEFAULT_IMAGE=null;Pi.DEFAULT_MAPPING=Nw;Pi.DEFAULT_ANISOTROPY=1;class er{constructor(e=0,t=0,r=0,i=1){er.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,u=l[0],c=l[4],d=l[8],h=l[1],p=l[5],g=l[9],x=l[2],A=l[6],b=l[10];if(Math.abs(c-h)<.01&&Math.abs(d-x)<.01&&Math.abs(g-A)<.01){if(Math.abs(c+h)<.1&&Math.abs(d+x)<.1&&Math.abs(g+A)<.1&&Math.abs(u+p+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(u+1)/2,E=(p+1)/2,C=(b+1)/2,T=(c+h)/4,B=(d+x)/4,z=(g+A)/4;return M>E&&M>C?M<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(M),i=T/r,a=B/r):E>C?E<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(E),r=T/i,a=z/i):C<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(C),r=B/a,i=z/a),this.set(r,i,a,t),this}let _=Math.sqrt((A-g)*(A-g)+(d-x)*(d-x)+(h-c)*(h-c));return Math.abs(_)<.001&&(_=1),this.x=(A-g)/_,this.y=(d-x)/_,this.z=(h-c)/_,this.w=Math.acos((u+p+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class XI extends bf{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new er(0,0,e,t),this.scissorTest=!1,this.viewport=new er(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ua,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new Pi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Om(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class uc extends XI{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Fw extends Pi{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=gs,this.minFilter=gs,this.wrapR=mu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Mne extends uc{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Fw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class gN extends Pi{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=gs,this.minFilter=gs,this.wrapR=mu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _ne extends uc{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new gN(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class xs{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3];const h=a[s+0],p=a[s+1],g=a[s+2],x=a[s+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d;return}if(o===1){e[t+0]=h,e[t+1]=p,e[t+2]=g,e[t+3]=x;return}if(d!==x||l!==h||u!==p||c!==g){let A=1-o;const b=l*h+u*p+c*g+d*x,_=b>=0?1:-1,M=1-b*b;if(M>Number.EPSILON){const C=Math.sqrt(M),T=Math.atan2(C,b*_);A=Math.sin(A*T)/C,o=Math.sin(o*T)/C}const E=o*_;if(l=l*A+h*E,u=u*A+p*E,c=c*A+g*E,d=d*A+x*E,A===1-o){const C=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=C,u*=C,c*=C,d*=C}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=a[s],h=a[s+1],p=a[s+2],g=a[s+3];return e[t]=o*g+c*d+l*p-u*h,e[t+1]=l*g+c*h+u*d-o*p,e[t+2]=u*g+c*p+o*h-l*d,e[t+3]=c*g-o*d-l*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,u=o(r/2),c=o(i/2),d=o(a/2),h=l(r/2),p=l(i/2),g=l(a/2);switch(s){case"XYZ":this._x=h*c*d+u*p*g,this._y=u*p*d-h*c*g,this._z=u*c*g+h*p*d,this._w=u*c*d-h*p*g;break;case"YXZ":this._x=h*c*d+u*p*g,this._y=u*p*d-h*c*g,this._z=u*c*g-h*p*d,this._w=u*c*d+h*p*g;break;case"ZXY":this._x=h*c*d-u*p*g,this._y=u*p*d+h*c*g,this._z=u*c*g+h*p*d,this._w=u*c*d-h*p*g;break;case"ZYX":this._x=h*c*d-u*p*g,this._y=u*p*d+h*c*g,this._z=u*c*g-h*p*d,this._w=u*c*d+h*p*g;break;case"YZX":this._x=h*c*d+u*p*g,this._y=u*p*d+h*c*g,this._z=u*c*g-h*p*d,this._w=u*c*d-h*p*g;break;case"XZY":this._x=h*c*d-u*p*g,this._y=u*p*d-h*c*g,this._z=u*c*g+h*p*d,this._w=u*c*d+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],u=t[2],c=t[6],d=t[10],h=r+o+d;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(c-l)*p,this._y=(a-u)*p,this._z=(s-i)*p}else if(r>o&&r>d){const p=2*Math.sqrt(1+r-o-d);this._w=(c-l)/p,this._x=.25*p,this._y=(i+s)/p,this._z=(a+u)/p}else if(o>d){const p=2*Math.sqrt(1+o-r-d);this._w=(a-u)/p,this._x=(i+s)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+d-r-o);this._w=(s-i)/p,this._x=(a+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ki(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+s*o+i*u-a*l,this._y=i*c+s*l+a*o-r*u,this._z=a*c+s*u+r*l-i*o,this._w=s*c-r*o-i*l-a*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const p=1-t;return this._w=p*s+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*a+t*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,o),d=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=s*d+this._w*h,this._x=r*d+this._x*h,this._y=i*d+this._y*h,this._z=a*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ce{constructor(e=0,t=0,r=0){Ce.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(K7.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(K7.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,u=2*(s*i-o*r),c=2*(o*t-a*i),d=2*(a*r-s*t);return this.x=t+l*u+s*d-o*c,this.y=r+l*c+o*u-a*d,this.z=i+l*d+a*c-s*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return eM.copy(this).projectOnVector(e),this.sub(eM)}reflect(e){return this.sub(eM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ki(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const eM=new Ce,K7=new xs;class ba{constructor(e=new Ce(1/0,1/0,1/0),t=new Ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Zu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Zu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Zu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Zu):Zu.fromBufferAttribute(a,s),Zu.applyMatrix4(e.matrixWorld),this.expandByPoint(Zu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Wb.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Wb.copy(r.boundingBox)),Wb.applyMatrix4(e.matrixWorld),this.union(Wb)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Zu),Zu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ax),Yb.subVectors(this.max,Ax),pv.subVectors(e.a,Ax),vv.subVectors(e.b,Ax),gv.subVectors(e.c,Ax),z0.subVectors(vv,pv),U0.subVectors(gv,vv),lm.subVectors(pv,gv);let t=[0,-z0.z,z0.y,0,-U0.z,U0.y,0,-lm.z,lm.y,z0.z,0,-z0.x,U0.z,0,-U0.x,lm.z,0,-lm.x,-z0.y,z0.x,0,-U0.y,U0.x,0,-lm.y,lm.x,0];return!tM(t,pv,vv,gv,Yb)||(t=[1,0,0,0,1,0,0,0,1],!tM(t,pv,vv,gv,Yb))?!1:(Zb.crossVectors(z0,U0),t=[Zb.x,Zb.y,Zb.z],tM(t,pv,vv,gv,Yb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Zu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(od[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),od[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),od[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),od[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),od[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),od[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),od[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),od[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(od),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const od=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],Zu=new Ce,Wb=new ba,pv=new Ce,vv=new Ce,gv=new Ce,z0=new Ce,U0=new Ce,lm=new Ce,Ax=new Ce,Yb=new Ce,Zb=new Ce,um=new Ce;function tM(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){um.fromArray(n,a);const o=i.x*Math.abs(um.x)+i.y*Math.abs(um.y)+i.z*Math.abs(um.z),l=e.dot(um),u=t.dot(um),c=r.dot(um);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>o)return!1}return!0}const Ene=new ba,Mx=new Ce,nM=new Ce;class Ua{constructor(e=new Ce,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Ene.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mx.subVectors(e,this.center);const t=Mx.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Mx,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(nM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mx.copy(e.center).add(nM)),this.expandByPoint(Mx.copy(e.center).sub(nM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ld=new Ce,rM=new Ce,Kb=new Ce,F0=new Ce,iM=new Ce,Qb=new Ce,aM=new Ce;class ep{constructor(e=new Ce,t=new Ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ld)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ld.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ld.copy(this.origin).addScaledVector(this.direction,t),ld.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){rM.copy(e).add(t).multiplyScalar(.5),Kb.copy(t).sub(e).normalize(),F0.copy(this.origin).sub(rM);const a=e.distanceTo(t)*.5,s=-this.direction.dot(Kb),o=F0.dot(this.direction),l=-F0.dot(Kb),u=F0.lengthSq(),c=Math.abs(1-s*s);let d,h,p,g;if(c>0)if(d=s*l-o,h=s*o-l,g=a*c,d>=0)if(h>=-g)if(h<=g){const x=1/c;d*=x,h*=x,p=d*(d+s*h+2*o)+h*(s*d+h+2*l)+u}else h=a,d=Math.max(0,-(s*h+o)),p=-d*d+h*(h+2*l)+u;else h=-a,d=Math.max(0,-(s*h+o)),p=-d*d+h*(h+2*l)+u;else h<=-g?(d=Math.max(0,-(-s*a+o)),h=d>0?-a:Math.min(Math.max(-a,-l),a),p=-d*d+h*(h+2*l)+u):h<=g?(d=0,h=Math.min(Math.max(-a,-l),a),p=h*(h+2*l)+u):(d=Math.max(0,-(s*a+o)),h=d>0?a:Math.min(Math.max(-a,-l),a),p=-d*d+h*(h+2*l)+u);else h=s>0?-a:a,d=Math.max(0,-(s*h+o)),p=-d*d+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(rM).addScaledVector(Kb,h),p}intersectSphere(e,t){ld.subVectors(e.center,this.origin);const r=ld.dot(this.direction),i=ld.dot(ld)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),d>=0?(o=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(o=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ld)!==null}intersectTriangle(e,t,r,i,a){iM.subVectors(t,e),Qb.subVectors(r,e),aM.crossVectors(iM,Qb);let s=this.direction.dot(aM),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;F0.subVectors(this.origin,e);const l=o*this.direction.dot(Qb.crossVectors(F0,Qb));if(l<0)return null;const u=o*this.direction.dot(iM.cross(F0));if(u<0||l+u>s)return null;const c=-o*F0.dot(aM);return c<0?null:this.at(c/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Mn{constructor(e,t,r,i,a,s,o,l,u,c,d,h,p,g,x,A){Mn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,u,c,d,h,p,g,x,A)}set(e,t,r,i,a,s,o,l,u,c,d,h,p,g,x,A){const b=this.elements;return b[0]=e,b[4]=t,b[8]=r,b[12]=i,b[1]=a,b[5]=s,b[9]=o,b[13]=l,b[2]=u,b[6]=c,b[10]=d,b[14]=h,b[3]=p,b[7]=g,b[11]=x,b[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/xv.setFromMatrixColumn(e,0).length(),a=1/xv.setFromMatrixColumn(e,1).length(),s=1/xv.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const h=s*c,p=s*d,g=o*c,x=o*d;t[0]=l*c,t[4]=-l*d,t[8]=u,t[1]=p+g*u,t[5]=h-x*u,t[9]=-o*l,t[2]=x-h*u,t[6]=g+p*u,t[10]=s*l}else if(e.order==="YXZ"){const h=l*c,p=l*d,g=u*c,x=u*d;t[0]=h+x*o,t[4]=g*o-p,t[8]=s*u,t[1]=s*d,t[5]=s*c,t[9]=-o,t[2]=p*o-g,t[6]=x+h*o,t[10]=s*l}else if(e.order==="ZXY"){const h=l*c,p=l*d,g=u*c,x=u*d;t[0]=h-x*o,t[4]=-s*d,t[8]=g+p*o,t[1]=p+g*o,t[5]=s*c,t[9]=x-h*o,t[2]=-s*u,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const h=s*c,p=s*d,g=o*c,x=o*d;t[0]=l*c,t[4]=g*u-p,t[8]=h*u+x,t[1]=l*d,t[5]=x*u+h,t[9]=p*u-g,t[2]=-u,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const h=s*l,p=s*u,g=o*l,x=o*u;t[0]=l*c,t[4]=x-h*d,t[8]=g*d+p,t[1]=d,t[5]=s*c,t[9]=-o*c,t[2]=-u*c,t[6]=p*d+g,t[10]=h-x*d}else if(e.order==="XZY"){const h=s*l,p=s*u,g=o*l,x=o*u;t[0]=l*c,t[4]=-d,t[8]=u*c,t[1]=h*d+x,t[5]=s*c,t[9]=p*d-g,t[2]=g*d-p,t[6]=o*c,t[10]=x*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Nne,e,Tne)}lookAt(e,t,r){const i=this.elements;return Ml.subVectors(e,t),Ml.lengthSq()===0&&(Ml.z=1),Ml.normalize(),L0.crossVectors(r,Ml),L0.lengthSq()===0&&(Math.abs(r.z)===1?Ml.x+=1e-4:Ml.z+=1e-4,Ml.normalize(),L0.crossVectors(r,Ml)),L0.normalize(),Jb.crossVectors(Ml,L0),i[0]=L0.x,i[4]=Jb.x,i[8]=Ml.x,i[1]=L0.y,i[5]=Jb.y,i[9]=Ml.y,i[2]=L0.z,i[6]=Jb.z,i[10]=Ml.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],u=r[12],c=r[1],d=r[5],h=r[9],p=r[13],g=r[2],x=r[6],A=r[10],b=r[14],_=r[3],M=r[7],E=r[11],C=r[15],T=i[0],B=i[4],z=i[8],R=i[12],O=i[1],U=i[5],I=i[9],q=i[13],X=i[2],$=i[6],k=i[10],P=i[14],Z=i[3],H=i[7],ae=i[11],W=i[15];return a[0]=s*T+o*O+l*X+u*Z,a[4]=s*B+o*U+l*$+u*H,a[8]=s*z+o*I+l*k+u*ae,a[12]=s*R+o*q+l*P+u*W,a[1]=c*T+d*O+h*X+p*Z,a[5]=c*B+d*U+h*$+p*H,a[9]=c*z+d*I+h*k+p*ae,a[13]=c*R+d*q+h*P+p*W,a[2]=g*T+x*O+A*X+b*Z,a[6]=g*B+x*U+A*$+b*H,a[10]=g*z+x*I+A*k+b*ae,a[14]=g*R+x*q+A*P+b*W,a[3]=_*T+M*O+E*X+C*Z,a[7]=_*B+M*U+E*$+C*H,a[11]=_*z+M*I+E*k+C*ae,a[15]=_*R+M*q+E*P+C*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],u=e[13],c=e[2],d=e[6],h=e[10],p=e[14],g=e[3],x=e[7],A=e[11],b=e[15];return g*(+a*l*d-i*u*d-a*o*h+r*u*h+i*o*p-r*l*p)+x*(+t*l*p-t*u*h+a*s*h-i*s*p+i*u*c-a*l*c)+A*(+t*u*d-t*o*p-a*s*d+r*s*p+a*o*c-r*u*c)+b*(-i*o*c-t*l*d+t*o*h+i*s*d-r*s*h+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],d=e[9],h=e[10],p=e[11],g=e[12],x=e[13],A=e[14],b=e[15],_=d*A*u-x*h*u+x*l*p-o*A*p-d*l*b+o*h*b,M=g*h*u-c*A*u-g*l*p+s*A*p+c*l*b-s*h*b,E=c*x*u-g*d*u+g*o*p-s*x*p-c*o*b+s*d*b,C=g*d*l-c*x*l-g*o*h+s*x*h+c*o*A-s*d*A,T=t*_+r*M+i*E+a*C;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/T;return e[0]=_*B,e[1]=(x*h*a-d*A*a-x*i*p+r*A*p+d*i*b-r*h*b)*B,e[2]=(o*A*a-x*l*a+x*i*u-r*A*u-o*i*b+r*l*b)*B,e[3]=(d*l*a-o*h*a-d*i*u+r*h*u+o*i*p-r*l*p)*B,e[4]=M*B,e[5]=(c*A*a-g*h*a+g*i*p-t*A*p-c*i*b+t*h*b)*B,e[6]=(g*l*a-s*A*a-g*i*u+t*A*u+s*i*b-t*l*b)*B,e[7]=(s*h*a-c*l*a+c*i*u-t*h*u-s*i*p+t*l*p)*B,e[8]=E*B,e[9]=(g*d*a-c*x*a-g*r*p+t*x*p+c*r*b-t*d*b)*B,e[10]=(s*x*a-g*o*a+g*r*u-t*x*u-s*r*b+t*o*b)*B,e[11]=(c*o*a-s*d*a-c*r*u+t*d*u+s*r*p-t*o*p)*B,e[12]=C*B,e[13]=(c*x*i-g*d*i+g*r*h-t*x*h-c*r*A+t*d*A)*B,e[14]=(g*o*i-s*x*i-g*r*l+t*x*l+s*r*A-t*o*A)*B,e[15]=(s*d*i-c*o*i+c*r*l-t*d*l-s*r*h+t*o*h)*B,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,u=a*s,c=a*o;return this.set(u*s+r,u*o-i*l,u*l+i*o,0,u*o+i*l,c*o+r,c*l-i*s,0,u*l-i*o,c*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,u=a+a,c=s+s,d=o+o,h=a*u,p=a*c,g=a*d,x=s*c,A=s*d,b=o*d,_=l*u,M=l*c,E=l*d,C=r.x,T=r.y,B=r.z;return i[0]=(1-(x+b))*C,i[1]=(p+E)*C,i[2]=(g-M)*C,i[3]=0,i[4]=(p-E)*T,i[5]=(1-(h+b))*T,i[6]=(A+_)*T,i[7]=0,i[8]=(g+M)*B,i[9]=(A-_)*B,i[10]=(1-(h+x))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=xv.set(i[0],i[1],i[2]).length();const s=xv.set(i[4],i[5],i[6]).length(),o=xv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ku.copy(this);const u=1/a,c=1/s,d=1/o;return Ku.elements[0]*=u,Ku.elements[1]*=u,Ku.elements[2]*=u,Ku.elements[4]*=c,Ku.elements[5]*=c,Ku.elements[6]*=c,Ku.elements[8]*=d,Ku.elements[9]*=d,Ku.elements[10]*=d,t.setFromRotationMatrix(Ku),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s,o=of){const l=this.elements,u=2*a/(t-e),c=2*a/(r-i),d=(t+e)/(t-e),h=(r+i)/(r-i);let p,g;if(o===of)p=-(s+a)/(s-a),g=-2*s*a/(s-a);else if(o===Ry)p=-s/(s-a),g=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,a,s,o=of){const l=this.elements,u=1/(t-e),c=1/(r-i),d=1/(s-a),h=(t+e)*u,p=(r+i)*c;let g,x;if(o===of)g=(s+a)*d,x=-2*d;else if(o===Ry)g=a*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=x,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const xv=new Ce,Ku=new Mn,Nne=new Ce(0,0,0),Tne=new Ce(1,1,1),L0=new Ce,Jb=new Ce,Ml=new Ce,Q7=new Mn,J7=new xs;class Dl{constructor(e=0,t=0,r=0,i=Dl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(Ki(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ki(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Ki(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Ki(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Ki(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-Ki(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return Q7.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Q7,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return J7.setFromEuler(this),this.setFromQuaternion(J7,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Dl.DEFAULT_ORDER="XYZ";class f1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Cne=0;const eD=new Ce,yv=new xs,ud=new Mn,e4=new Ce,_x=new Ce,Dne=new Ce,Rne=new xs,tD=new Ce(1,0,0),nD=new Ce(0,1,0),rD=new Ce(0,0,1),iD={type:"added"},Bne={type:"removed"},bv={type:"childadded",child:null},sM={type:"childremoved",child:null};class Dr extends bf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Cne++}),this.uuid=Tl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Dr.DEFAULT_UP.clone();const e=new Ce,t=new Dl,r=new xs,i=new Ce(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Mn},normalMatrix:{value:new kn}}),this.matrix=new Mn,this.matrixWorld=new Mn,this.matrixAutoUpdate=Dr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Dr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new f1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return yv.setFromAxisAngle(e,t),this.quaternion.multiply(yv),this}rotateOnWorldAxis(e,t){return yv.setFromAxisAngle(e,t),this.quaternion.premultiply(yv),this}rotateX(e){return this.rotateOnAxis(tD,e)}rotateY(e){return this.rotateOnAxis(nD,e)}rotateZ(e){return this.rotateOnAxis(rD,e)}translateOnAxis(e,t){return eD.copy(e).applyQuaternion(this.quaternion),this.position.add(eD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(tD,e)}translateY(e){return this.translateOnAxis(nD,e)}translateZ(e){return this.translateOnAxis(rD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ud.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?e4.copy(e):e4.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),_x.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ud.lookAt(_x,e4,this.up):ud.lookAt(e4,_x,this.up),this.quaternion.setFromRotationMatrix(ud),i&&(ud.extractRotation(i.matrixWorld),yv.setFromRotationMatrix(ud),this.quaternion.premultiply(yv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(iD),bv.child=e,this.dispatchEvent(bv),bv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Bne),sM.child=e,this.dispatchEvent(sM),sM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ud.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ud.multiply(e.parent.matrixWorld)),e.applyMatrix4(ud),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(iD),bv.child=e,this.dispatchEvent(bv),bv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_x,e,Dne),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_x,Rne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),d=s(e.shapes),h=s(e.skeletons),p=s(e.animations),g=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Dr.DEFAULT_UP=new Ce(0,1,0);Dr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Dr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qu=new Ce,cd=new Ce,oM=new Ce,fd=new Ce,Sv=new Ce,wv=new Ce,aD=new Ce,lM=new Ce,uM=new Ce,cM=new Ce,fM=new er,dM=new er,hM=new er;class Qo{constructor(e=new Ce,t=new Ce,r=new Ce){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Qu.subVectors(e,t),i.cross(Qu);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Qu.subVectors(i,t),cd.subVectors(r,t),oM.subVectors(e,t);const s=Qu.dot(Qu),o=Qu.dot(cd),l=Qu.dot(oM),u=cd.dot(cd),c=cd.dot(oM),d=s*u-o*o;if(d===0)return a.set(0,0,0),null;const h=1/d,p=(u*l-o*c)*h,g=(s*c-o*l)*h;return a.set(1-p-g,g,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,fd)===null?!1:fd.x>=0&&fd.y>=0&&fd.x+fd.y<=1}static getInterpolation(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,fd)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,fd.x),l.addScaledVector(s,fd.y),l.addScaledVector(o,fd.z),l)}static getInterpolatedAttribute(e,t,r,i,a,s){return fM.setScalar(0),dM.setScalar(0),hM.setScalar(0),fM.fromBufferAttribute(e,t),dM.fromBufferAttribute(e,r),hM.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(fM,a.x),s.addScaledVector(dM,a.y),s.addScaledVector(hM,a.z),s}static isFrontFacing(e,t,r,i){return Qu.subVectors(r,t),cd.subVectors(e,t),Qu.cross(cd).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qu.subVectors(this.c,this.b),cd.subVectors(this.a,this.b),Qu.cross(cd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return Qo.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return Qo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;Sv.subVectors(i,r),wv.subVectors(a,r),lM.subVectors(e,r);const l=Sv.dot(lM),u=wv.dot(lM);if(l<=0&&u<=0)return t.copy(r);uM.subVectors(e,i);const c=Sv.dot(uM),d=wv.dot(uM);if(c>=0&&d<=c)return t.copy(i);const h=l*d-c*u;if(h<=0&&l>=0&&c<=0)return s=l/(l-c),t.copy(r).addScaledVector(Sv,s);cM.subVectors(e,a);const p=Sv.dot(cM),g=wv.dot(cM);if(g>=0&&p<=g)return t.copy(a);const x=p*u-l*g;if(x<=0&&u>=0&&g<=0)return o=u/(u-g),t.copy(r).addScaledVector(wv,o);const A=c*g-p*d;if(A<=0&&d-c>=0&&p-g>=0)return aD.subVectors(a,i),o=(d-c)/(d-c+(p-g)),t.copy(i).addScaledVector(aD,o);const b=1/(A+x+h);return s=x*b,o=h*b,t.copy(r).addScaledVector(Sv,s).addScaledVector(wv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const WI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},k0={h:0,s:0,l:0},t4={h:0,s:0,l:0};function mM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class jt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ks){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=gr.workingColorSpace){return this.r=e,this.g=t,this.b=r,gr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=gr.workingColorSpace){if(e=vN(e,1),t=Ki(t,0,1),r=Ki(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=mM(s,a,e+1/3),this.g=mM(s,a,e),this.b=mM(s,a,e-1/3)}return gr.toWorkingColorSpace(this,i),this}setStyle(e,t=ks){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ks){const r=WI[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Td(e.r),this.g=Td(e.g),this.b=Td(e.b),this}copyLinearToSRGB(e){return this.r=n1(e.r),this.g=n1(e.g),this.b=n1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ks){return gr.fromWorkingColorSpace(Us.copy(this),e),Math.round(Ki(Us.r*255,0,255))*65536+Math.round(Ki(Us.g*255,0,255))*256+Math.round(Ki(Us.b*255,0,255))}getHexString(e=ks){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=gr.workingColorSpace){gr.fromWorkingColorSpace(Us.copy(this),t);const r=Us.r,i=Us.g,a=Us.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,u;const c=(o+s)/2;if(o===s)l=0,u=0;else{const d=s-o;switch(u=c<=.5?d/(s+o):d/(2-s-o),s){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=gr.workingColorSpace){return gr.fromWorkingColorSpace(Us.copy(this),t),e.r=Us.r,e.g=Us.g,e.b=Us.b,e}getStyle(e=ks){gr.fromWorkingColorSpace(Us.copy(this),e);const t=Us.r,r=Us.g,i=Us.b;return e!==ks?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(k0),this.setHSL(k0.h+e,k0.s+t,k0.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(k0),e.getHSL(t4);const r=uy(k0.h,t4.h,t),i=uy(k0.s,t4.s,t),a=uy(k0.l,t4.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Us=new jt;jt.NAMES=WI;let One=0;class Gs extends bf{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:One++}),this.uuid=Tl(),this.name="",this.blending=km,this.side=Ud,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Z3,this.blendDst=K3,this.blendEquation=G0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new jt(0,0,0),this.blendAlpha=0,this.depthFunc=Gm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_m,this.stencilZFail=_m,this.stencilZPass=_m,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==km&&(r.blending=this.blending),this.side!==Ud&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Z3&&(r.blendSrc=this.blendSrc),this.blendDst!==K3&&(r.blendDst=this.blendDst),this.blendEquation!==G0&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Gm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==vE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==_m&&(r.stencilFail=this.stencilFail),this.stencilZFail!==_m&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==_m&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class qd extends Gs{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Dl,this.combine=n2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yd=zne();function zne(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function Yo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ki(n,-65504,65504),yd.floatView[0]=n;const e=yd.uint32View[0],t=e>>23&511;return yd.baseTable[t]+((e&8388607)>>yd.shiftTable[t])}function Gx(n){const e=n>>10;return yd.uint32View[0]=yd.mantissaTable[yd.offsetTable[e]+(n&1023)]+yd.exponentTable[e],yd.floatView[0]}const Une={toHalfFloat:Yo,fromHalfFloat:Gx},va=new Ce,n4=new bt;class Yr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Dy,this.updateRanges=[],this.gpuType=el,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)n4.fromBufferAttribute(this,t),n4.applyMatrix3(e),this.setXY(t,n4.x,n4.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)va.fromBufferAttribute(this,t),va.applyMatrix3(e),this.setXYZ(t,va.x,va.y,va.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)va.fromBufferAttribute(this,t),va.applyMatrix4(e),this.setXYZ(t,va.x,va.y,va.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)va.fromBufferAttribute(this,t),va.applyNormalMatrix(e),this.setXYZ(t,va.x,va.y,va.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)va.fromBufferAttribute(this,t),va.transformDirection(e),this.setXYZ(t,va.x,va.y,va.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=yo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=$n(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yo(t,this.array)),t}setX(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yo(t,this.array)),t}setY(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yo(t,this.array)),t}setW(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),i=$n(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),i=$n(i,this.array),a=$n(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Dy&&(e.usage=this.usage),e}}class Fne extends Yr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Lne extends Yr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class kne extends Yr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Ine extends Yr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class xN extends Yr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Pne extends Yr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class yN extends Yr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class jne extends Yr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Gx(this.array[e*this.itemSize]);return this.normalized&&(t=yo(t,this.array)),t}setX(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize]=Yo(t),this}getY(e){let t=Gx(this.array[e*this.itemSize+1]);return this.normalized&&(t=yo(t,this.array)),t}setY(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+1]=Yo(t),this}getZ(e){let t=Gx(this.array[e*this.itemSize+2]);return this.normalized&&(t=yo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+2]=Yo(t),this}getW(e){let t=Gx(this.array[e*this.itemSize+3]);return this.normalized&&(t=yo(t,this.array)),t}setW(e,t){return this.normalized&&(t=$n(t,this.array)),this.array[e*this.itemSize+3]=Yo(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array)),this.array[e+0]=Yo(t),this.array[e+1]=Yo(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),i=$n(i,this.array)),this.array[e+0]=Yo(t),this.array[e+1]=Yo(r),this.array[e+2]=Yo(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),i=$n(i,this.array),a=$n(a,this.array)),this.array[e+0]=Yo(t),this.array[e+1]=Yo(r),this.array[e+2]=Yo(i),this.array[e+3]=Yo(a),this}}class an extends Yr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Vne=0;const nu=new Mn,pM=new Dr,Av=new Ce,_l=new ba,Ex=new ba,Ka=new Ce;class Yn extends bf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vne++}),this.uuid=Tl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qI(e)?yN:xN)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new kn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return nu.makeRotationFromQuaternion(e),this.applyMatrix4(nu),this}rotateX(e){return nu.makeRotationX(e),this.applyMatrix4(nu),this}rotateY(e){return nu.makeRotationY(e),this.applyMatrix4(nu),this}rotateZ(e){return nu.makeRotationZ(e),this.applyMatrix4(nu),this}translate(e,t,r){return nu.makeTranslation(e,t,r),this.applyMatrix4(nu),this}scale(e,t,r){return nu.makeScale(e,t,r),this.applyMatrix4(nu),this}lookAt(e){return pM.lookAt(e),pM.updateMatrix(),this.applyMatrix4(pM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Av).negate(),this.translate(Av.x,Av.y,Av.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new an(r,3))}else{for(let r=0,i=t.count;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ba);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];_l.setFromBufferAttribute(a),this.morphTargetsRelative?(Ka.addVectors(this.boundingBox.min,_l.min),this.boundingBox.expandByPoint(Ka),Ka.addVectors(this.boundingBox.max,_l.max),this.boundingBox.expandByPoint(Ka)):(this.boundingBox.expandByPoint(_l.min),this.boundingBox.expandByPoint(_l.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ce,1/0);return}if(e){const r=this.boundingSphere.center;if(_l.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];Ex.setFromBufferAttribute(o),this.morphTargetsRelative?(Ka.addVectors(_l.min,Ex.min),_l.expandByPoint(Ka),Ka.addVectors(_l.max,Ex.max),_l.expandByPoint(Ka)):(_l.expandByPoint(Ex.min),_l.expandByPoint(Ex.max))}_l.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Ka.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Ka));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let u=0,c=o.count;u<c;u++)Ka.fromBufferAttribute(o,u),l&&(Av.fromBufferAttribute(e,u),Ka.add(Av)),i=Math.max(i,r.distanceToSquared(Ka))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yr(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let z=0;z<r.count;z++)o[z]=new Ce,l[z]=new Ce;const u=new Ce,c=new Ce,d=new Ce,h=new bt,p=new bt,g=new bt,x=new Ce,A=new Ce;function b(z,R,O){u.fromBufferAttribute(r,z),c.fromBufferAttribute(r,R),d.fromBufferAttribute(r,O),h.fromBufferAttribute(a,z),p.fromBufferAttribute(a,R),g.fromBufferAttribute(a,O),c.sub(u),d.sub(u),p.sub(h),g.sub(h);const U=1/(p.x*g.y-g.x*p.y);isFinite(U)&&(x.copy(c).multiplyScalar(g.y).addScaledVector(d,-p.y).multiplyScalar(U),A.copy(d).multiplyScalar(p.x).addScaledVector(c,-g.x).multiplyScalar(U),o[z].add(x),o[R].add(x),o[O].add(x),l[z].add(A),l[R].add(A),l[O].add(A))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let z=0,R=_.length;z<R;++z){const O=_[z],U=O.start,I=O.count;for(let q=U,X=U+I;q<X;q+=3)b(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const M=new Ce,E=new Ce,C=new Ce,T=new Ce;function B(z){C.fromBufferAttribute(i,z),T.copy(C);const R=o[z];M.copy(R),M.sub(C.multiplyScalar(C.dot(R))).normalize(),E.crossVectors(T,R);const U=E.dot(l[z])<0?-1:1;s.setXYZW(z,M.x,M.y,M.z,U)}for(let z=0,R=_.length;z<R;++z){const O=_[z],U=O.start,I=O.count;for(let q=U,X=U+I;q<X;q+=3)B(e.getX(q+0)),B(e.getX(q+1)),B(e.getX(q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Yr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const i=new Ce,a=new Ce,s=new Ce,o=new Ce,l=new Ce,u=new Ce,c=new Ce,d=new Ce;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),x=e.getX(h+1),A=e.getX(h+2);i.fromBufferAttribute(t,g),a.fromBufferAttribute(t,x),s.fromBufferAttribute(t,A),c.subVectors(s,a),d.subVectors(i,a),c.cross(d),o.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,A),o.add(c),l.add(c),u.add(c),r.setXYZ(g,o.x,o.y,o.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(A,u.x,u.y,u.z)}else for(let h=0,p=t.count;h<p;h+=3)i.fromBufferAttribute(t,h+0),a.fromBufferAttribute(t,h+1),s.fromBufferAttribute(t,h+2),c.subVectors(s,a),d.subVectors(i,a),c.cross(d),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ka.fromBufferAttribute(e,t),Ka.normalize(),e.setXYZ(t,Ka.x,Ka.y,Ka.z)}toNonIndexed(){function e(o,l){const u=o.array,c=o.itemSize,d=o.normalized,h=new u.constructor(l.length*c);let p=0,g=0;for(let x=0,A=l.length;x<A;x++){o.isInterleavedBufferAttribute?p=l[x]*o.data.stride+o.offset:p=l[x]*c;for(let b=0;b<c;b++)h[g++]=u[p++]}return new Yr(h,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Yn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);t.setAttribute(o,u)}const a=this.morphAttributes;for(const o in a){const l=[],u=a[o];for(let c=0,d=u.length;c<d;c++){const h=u[c],p=e(h,r);l.push(p)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const u=s[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,h=u.length;d<h;d++){const p=u[d];c.push(p.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const a=e.morphAttributes;for(const u in a){const c=[],d=a[u];for(let h=0,p=d.length;h<p;h++)c.push(d[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const d=s[u];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const sD=new Mn,cm=new ep,r4=new Ua,oD=new Ce,i4=new Ce,a4=new Ce,s4=new Ce,vM=new Ce,o4=new Ce,lD=new Ce,l4=new Ce;class Ni extends Dr{constructor(e=new Yn,t=new qd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){o4.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=o[l],d=a[l];c!==0&&(vM.fromBufferAttribute(d,e),s?o4.addScaledVector(vM,c):o4.addScaledVector(vM.sub(t),c))}t.add(o4)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),r4.copy(r.boundingSphere),r4.applyMatrix4(a),cm.copy(e.ray).recast(e.near),!(r4.containsPoint(cm.origin)===!1&&(cm.intersectSphere(r4,oD)===null||cm.origin.distanceToSquared(oD)>(e.far-e.near)**2))&&(sD.copy(a).invert(),cm.copy(e.ray).applyMatrix4(sD),!(r.boundingBox!==null&&cm.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,cm)))}_computeIntersections(e,t,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,d=a.attributes.normal,h=a.groups,p=a.drawRange;if(o!==null)if(Array.isArray(s))for(let g=0,x=h.length;g<x;g++){const A=h[g],b=s[A.materialIndex],_=Math.max(A.start,p.start),M=Math.min(o.count,Math.min(A.start+A.count,p.start+p.count));for(let E=_,C=M;E<C;E+=3){const T=o.getX(E),B=o.getX(E+1),z=o.getX(E+2);i=u4(this,b,e,r,u,c,d,T,B,z),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const g=Math.max(0,p.start),x=Math.min(o.count,p.start+p.count);for(let A=g,b=x;A<b;A+=3){const _=o.getX(A),M=o.getX(A+1),E=o.getX(A+2);i=u4(this,s,e,r,u,c,d,_,M,E),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,x=h.length;g<x;g++){const A=h[g],b=s[A.materialIndex],_=Math.max(A.start,p.start),M=Math.min(l.count,Math.min(A.start+A.count,p.start+p.count));for(let E=_,C=M;E<C;E+=3){const T=E,B=E+1,z=E+2;i=u4(this,b,e,r,u,c,d,T,B,z),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const g=Math.max(0,p.start),x=Math.min(l.count,p.start+p.count);for(let A=g,b=x;A<b;A+=3){const _=A,M=A+1,E=A+2;i=u4(this,s,e,r,u,c,d,_,M,E),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}}}function Hne(n,e,t,r,i,a,s,o){let l;if(e.side===Vs?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===Ud,o),l===null)return null;l4.copy(o),l4.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(l4);return u<t.near||u>t.far?null:{distance:u,point:l4.clone(),object:n}}function u4(n,e,t,r,i,a,s,o,l,u){n.getVertexPosition(o,i4),n.getVertexPosition(l,a4),n.getVertexPosition(u,s4);const c=Hne(n,e,t,r,i4,a4,s4,lD);if(c){const d=new Ce;Qo.getBarycoord(lD,i4,a4,s4,d),i&&(c.uv=Qo.getInterpolatedAttribute(i,o,l,u,d,new bt)),a&&(c.uv1=Qo.getInterpolatedAttribute(a,o,l,u,d,new bt)),s&&(c.normal=Qo.getInterpolatedAttribute(s,o,l,u,d,new Ce),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const h={a:o,b:l,c:u,normal:new Ce,materialIndex:0};Qo.getNormal(i4,a4,s4,h.normal),c.face=h,c.barycoord=d}return c}class tp extends Yn{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],u=[],c=[],d=[];let h=0,p=0;g("z","y","x",-1,-1,r,t,e,s,a,0),g("z","y","x",1,-1,r,t,-e,s,a,1),g("x","z","y",1,1,e,r,t,i,s,2),g("x","z","y",1,-1,e,r,-t,i,s,3),g("x","y","z",1,-1,e,t,r,i,a,4),g("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new an(u,3)),this.setAttribute("normal",new an(c,3)),this.setAttribute("uv",new an(d,2));function g(x,A,b,_,M,E,C,T,B,z,R){const O=E/B,U=C/z,I=E/2,q=C/2,X=T/2,$=B+1,k=z+1;let P=0,Z=0;const H=new Ce;for(let ae=0;ae<k;ae++){const W=ae*U-q;for(let K=0;K<$;K++){const Q=K*O-I;H[x]=Q*_,H[A]=W*M,H[b]=X,u.push(H.x,H.y,H.z),H[x]=0,H[A]=0,H[b]=T>0?1:-1,c.push(H.x,H.y,H.z),d.push(K/B),d.push(1-ae/z),P+=1}}for(let ae=0;ae<z;ae++)for(let W=0;W<B;W++){const K=h+W+$*ae,Q=h+W+$*(ae+1),te=h+(W+1)+$*(ae+1),le=h+(W+1)+$*ae;l.push(K,Q,le),l.push(Q,te,le),Z+=6}o.addGroup(p,Z,R),p+=Z,h+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function d1(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function xo(n){const e={};for(let t=0;t<n.length;t++){const r=d1(n[t]);for(const i in r)e[i]=r[i]}return e}function qne(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function YI(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:gr.workingColorSpace}const h1={clone:d1,merge:xo};var Gne=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$ne=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class nl extends Gs{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Gne,this.fragmentShader=$ne,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=d1(e.uniforms),this.uniformsGroups=qne(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Lw extends Dr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Mn,this.projectionMatrix=new Mn,this.projectionMatrixInverse=new Mn,this.coordinateSystem=of}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const I0=new Ce,uD=new bt,cD=new bt;class oa extends Lw{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=c1*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Pm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return c1*2*Math.atan(Math.tan(Pm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){I0.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(I0.x,I0.y).multiplyScalar(-e/I0.z),I0.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(I0.x,I0.y).multiplyScalar(-e/I0.z)}getViewSize(e,t){return this.getViewBounds(e,uD,cD),t.subVectors(cD,uD)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Pm*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/u,i*=s.width/l,r*=s.height/u}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Mv=-90,_v=1;class ZI extends Dr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new oa(Mv,_v,e,t);i.layers=this.layers,this.add(i);const a=new oa(Mv,_v,e,t);a.layers=this.layers,this.add(a);const s=new oa(Mv,_v,e,t);s.layers=this.layers,this.add(s);const o=new oa(Mv,_v,e,t);o.layers=this.layers,this.add(o);const l=new oa(Mv,_v,e,t);l.layers=this.layers,this.add(l);const u=new oa(Mv,_v,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,s,o,l]=t;for(const u of t)this.remove(u);if(e===of)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ry)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,u,c]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(t,c),e.setRenderTarget(d,h,p),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class a2 extends Pi{constructor(e,t,r,i,a,s,o,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:Fd,super(e,t,r,i,a,s,o,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class KI extends uc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new a2(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ua}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new tp(5,5,5),a=new nl({name:"CubemapFromEquirect",uniforms:d1(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Vs,blending:Nd});a.uniforms.tEquirect.value=t;const s=new Ni(i,a),o=t.minFilter;return t.minFilter===sf&&(t.minFilter=ua),new ZI(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}}const gM=new Ce,Xne=new Ce,Wne=new kn;class nf{constructor(e=new Ce(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=gM.subVectors(r,t).cross(Xne.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(gM),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Wne.getNormalMatrix(e),i=this.coplanarPoint(gM).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const fm=new Ua,c4=new Ce;class s2{constructor(e=new nf,t=new nf,r=new nf,i=new nf,a=new nf,s=new nf){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=of){const r=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],d=i[6],h=i[7],p=i[8],g=i[9],x=i[10],A=i[11],b=i[12],_=i[13],M=i[14],E=i[15];if(r[0].setComponents(l-a,h-u,A-p,E-b).normalize(),r[1].setComponents(l+a,h+u,A+p,E+b).normalize(),r[2].setComponents(l+s,h+c,A+g,E+_).normalize(),r[3].setComponents(l-s,h-c,A-g,E-_).normalize(),r[4].setComponents(l-o,h-d,A-x,E-M).normalize(),t===of)r[5].setComponents(l+o,h+d,A+x,E+M).normalize();else if(t===Ry)r[5].setComponents(o,d,x,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),fm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),fm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(fm)}intersectsSprite(e){return fm.center.set(0,0,0),fm.radius=.7071067811865476,fm.applyMatrix4(e.matrixWorld),this.intersectsSphere(fm)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(c4.x=i.normal.x>0?e.max.x:e.min.x,c4.y=i.normal.y>0?e.max.y:e.min.y,c4.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(c4)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function QI(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function Yne(n){const e=new WeakMap;function t(o,l){const u=o.array,c=o.usage,d=u.byteLength,h=n.createBuffer();n.bindBuffer(l,h),n.bufferData(l,u,c),o.onUploadCallback();let p;if(u instanceof Float32Array)p=n.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?p=n.HALF_FLOAT:p=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=n.SHORT;else if(u instanceof Uint32Array)p=n.UNSIGNED_INT;else if(u instanceof Int32Array)p=n.INT;else if(u instanceof Int8Array)p=n.BYTE;else if(u instanceof Uint8Array)p=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,u){const c=l.array,d=l.updateRanges;if(n.bindBuffer(u,o),d.length===0)n.bufferSubData(u,0,c);else{d.sort((p,g)=>p.start-g.start);let h=0;for(let p=1;p<d.length;p++){const g=d[h],x=d[p];x.start<=g.start+g.count+1?g.count=Math.max(g.count,x.start+x.count-g.start):(++h,d[h]=x)}d.length=h+1;for(let p=0,g=d.length;p<g;p++){const x=d[p];n.bufferSubData(u,x.start*c.BYTES_PER_ELEMENT,c,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const c=e.get(o);(!c||c.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,o,l),u.version=o.version}}return{get:i,remove:a,update:s}}class fc extends Yn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),u=o+1,c=l+1,d=e/o,h=t/l,p=[],g=[],x=[],A=[];for(let b=0;b<c;b++){const _=b*h-s;for(let M=0;M<u;M++){const E=M*d-a;g.push(E,-_,0),x.push(0,0,1),A.push(M/o),A.push(1-b/l)}}for(let b=0;b<l;b++)for(let _=0;_<o;_++){const M=_+u*b,E=_+u*(b+1),C=_+1+u*(b+1),T=_+1+u*b;p.push(M,E,T),p.push(E,C,T)}this.setIndex(p),this.setAttribute("position",new an(g,3)),this.setAttribute("normal",new an(x,3)),this.setAttribute("uv",new an(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fc(e.width,e.height,e.widthSegments,e.heightSegments)}}var Zne=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Kne=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Qne=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Jne=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ere=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,tre=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nre=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rre=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ire=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,are=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,sre=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ore=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lre=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ure=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,cre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fre=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,dre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mre=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,pre=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,vre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,gre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,xre=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,yre=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Sre=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,wre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Are=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Mre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_re=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ere="gl_FragColor = linearToOutputTexel( gl_FragColor );",Nre=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Tre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Cre=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Dre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Rre=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Bre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ore=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,zre=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ure=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Fre=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Lre=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kre=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ire=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Pre=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jre=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Vre=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Hre=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qre=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Gre=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,$re=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Xre=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Wre=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Yre=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Zre=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Kre=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Qre=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Jre=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,eie=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tie=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,nie=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rie=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,iie=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aie=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sie=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,oie=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lie=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,uie=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,cie=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,fie=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,die=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hie=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,mie=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,pie=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vie=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gie=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,xie=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,yie=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,bie=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Sie=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,wie=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Aie=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Mie=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,_ie=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Eie=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Nie=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Tie=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Cie=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Die=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Rie=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Bie=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Oie=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,zie=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Uie=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Fie=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Lie=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kie=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Iie=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Pie=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jie=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Vie=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Hie=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,qie=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Gie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$ie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Xie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Wie=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Yie=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zie=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Kie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Qie=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Jie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,rae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,iae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,aae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,sae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,cae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,gae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Mae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_ae=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Eae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Nae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Tae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Gn={alphahash_fragment:Zne,alphahash_pars_fragment:Kne,alphamap_fragment:Qne,alphamap_pars_fragment:Jne,alphatest_fragment:ere,alphatest_pars_fragment:tre,aomap_fragment:nre,aomap_pars_fragment:rre,batching_pars_vertex:ire,batching_vertex:are,begin_vertex:sre,beginnormal_vertex:ore,bsdfs:lre,iridescence_fragment:ure,bumpmap_pars_fragment:cre,clipping_planes_fragment:fre,clipping_planes_pars_fragment:dre,clipping_planes_pars_vertex:hre,clipping_planes_vertex:mre,color_fragment:pre,color_pars_fragment:vre,color_pars_vertex:gre,color_vertex:xre,common:yre,cube_uv_reflection_fragment:bre,defaultnormal_vertex:Sre,displacementmap_pars_vertex:wre,displacementmap_vertex:Are,emissivemap_fragment:Mre,emissivemap_pars_fragment:_re,colorspace_fragment:Ere,colorspace_pars_fragment:Nre,envmap_fragment:Tre,envmap_common_pars_fragment:Cre,envmap_pars_fragment:Dre,envmap_pars_vertex:Rre,envmap_physical_pars_fragment:Vre,envmap_vertex:Bre,fog_vertex:Ore,fog_pars_vertex:zre,fog_fragment:Ure,fog_pars_fragment:Fre,gradientmap_pars_fragment:Lre,lightmap_pars_fragment:kre,lights_lambert_fragment:Ire,lights_lambert_pars_fragment:Pre,lights_pars_begin:jre,lights_toon_fragment:Hre,lights_toon_pars_fragment:qre,lights_phong_fragment:Gre,lights_phong_pars_fragment:$re,lights_physical_fragment:Xre,lights_physical_pars_fragment:Wre,lights_fragment_begin:Yre,lights_fragment_maps:Zre,lights_fragment_end:Kre,logdepthbuf_fragment:Qre,logdepthbuf_pars_fragment:Jre,logdepthbuf_pars_vertex:eie,logdepthbuf_vertex:tie,map_fragment:nie,map_pars_fragment:rie,map_particle_fragment:iie,map_particle_pars_fragment:aie,metalnessmap_fragment:sie,metalnessmap_pars_fragment:oie,morphinstance_vertex:lie,morphcolor_vertex:uie,morphnormal_vertex:cie,morphtarget_pars_vertex:fie,morphtarget_vertex:die,normal_fragment_begin:hie,normal_fragment_maps:mie,normal_pars_fragment:pie,normal_pars_vertex:vie,normal_vertex:gie,normalmap_pars_fragment:xie,clearcoat_normal_fragment_begin:yie,clearcoat_normal_fragment_maps:bie,clearcoat_pars_fragment:Sie,iridescence_pars_fragment:wie,opaque_fragment:Aie,packing:Mie,premultiplied_alpha_fragment:_ie,project_vertex:Eie,dithering_fragment:Nie,dithering_pars_fragment:Tie,roughnessmap_fragment:Cie,roughnessmap_pars_fragment:Die,shadowmap_pars_fragment:Rie,shadowmap_pars_vertex:Bie,shadowmap_vertex:Oie,shadowmask_pars_fragment:zie,skinbase_vertex:Uie,skinning_pars_vertex:Fie,skinning_vertex:Lie,skinnormal_vertex:kie,specularmap_fragment:Iie,specularmap_pars_fragment:Pie,tonemapping_fragment:jie,tonemapping_pars_fragment:Vie,transmission_fragment:Hie,transmission_pars_fragment:qie,uv_pars_fragment:Gie,uv_pars_vertex:$ie,uv_vertex:Xie,worldpos_vertex:Wie,background_vert:Yie,background_frag:Zie,backgroundCube_vert:Kie,backgroundCube_frag:Qie,cube_vert:Jie,cube_frag:eae,depth_vert:tae,depth_frag:nae,distanceRGBA_vert:rae,distanceRGBA_frag:iae,equirect_vert:aae,equirect_frag:sae,linedashed_vert:oae,linedashed_frag:lae,meshbasic_vert:uae,meshbasic_frag:cae,meshlambert_vert:fae,meshlambert_frag:dae,meshmatcap_vert:hae,meshmatcap_frag:mae,meshnormal_vert:pae,meshnormal_frag:vae,meshphong_vert:gae,meshphong_frag:xae,meshphysical_vert:yae,meshphysical_frag:bae,meshtoon_vert:Sae,meshtoon_frag:wae,points_vert:Aae,points_frag:Mae,shadow_vert:_ae,shadow_frag:Eae,sprite_vert:Nae,sprite_frag:Tae},Pt={common:{diffuse:{value:new jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kn}},envmap:{envMap:{value:null},envMapRotation:{value:new kn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kn},normalScale:{value:new bt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0},uvTransform:{value:new kn}},sprite:{diffuse:{value:new jt(16777215)},opacity:{value:1},center:{value:new bt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}}},nc={basic:{uniforms:xo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Gn.meshbasic_vert,fragmentShader:Gn.meshbasic_frag},lambert:{uniforms:xo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new jt(0)}}]),vertexShader:Gn.meshlambert_vert,fragmentShader:Gn.meshlambert_frag},phong:{uniforms:xo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new jt(0)},specular:{value:new jt(1118481)},shininess:{value:30}}]),vertexShader:Gn.meshphong_vert,fragmentShader:Gn.meshphong_frag},standard:{uniforms:xo([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag},toon:{uniforms:xo([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new jt(0)}}]),vertexShader:Gn.meshtoon_vert,fragmentShader:Gn.meshtoon_frag},matcap:{uniforms:xo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Gn.meshmatcap_vert,fragmentShader:Gn.meshmatcap_frag},points:{uniforms:xo([Pt.points,Pt.fog]),vertexShader:Gn.points_vert,fragmentShader:Gn.points_frag},dashed:{uniforms:xo([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gn.linedashed_vert,fragmentShader:Gn.linedashed_frag},depth:{uniforms:xo([Pt.common,Pt.displacementmap]),vertexShader:Gn.depth_vert,fragmentShader:Gn.depth_frag},normal:{uniforms:xo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Gn.meshnormal_vert,fragmentShader:Gn.meshnormal_frag},sprite:{uniforms:xo([Pt.sprite,Pt.fog]),vertexShader:Gn.sprite_vert,fragmentShader:Gn.sprite_frag},background:{uniforms:{uvTransform:{value:new kn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Gn.background_vert,fragmentShader:Gn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new kn}},vertexShader:Gn.backgroundCube_vert,fragmentShader:Gn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gn.cube_vert,fragmentShader:Gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gn.equirect_vert,fragmentShader:Gn.equirect_frag},distanceRGBA:{uniforms:xo([Pt.common,Pt.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gn.distanceRGBA_vert,fragmentShader:Gn.distanceRGBA_frag},shadow:{uniforms:xo([Pt.lights,Pt.fog,{color:{value:new jt(0)},opacity:{value:1}}]),vertexShader:Gn.shadow_vert,fragmentShader:Gn.shadow_frag}};nc.physical={uniforms:xo([nc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kn},clearcoatNormalScale:{value:new bt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kn},sheen:{value:0},sheenColor:{value:new jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kn},transmissionSamplerSize:{value:new bt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kn},attenuationDistance:{value:0},attenuationColor:{value:new jt(0)},specularColor:{value:new jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kn},anisotropyVector:{value:new bt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kn}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag};const f4={r:0,b:0,g:0},dm=new Dl,Cae=new Mn;function Dae(n,e,t,r,i,a,s){const o=new jt(0);let l=a===!0?0:1,u,c,d=null,h=0,p=null;function g(_){let M=_.isScene===!0?_.background:null;return M&&M.isTexture&&(M=(_.backgroundBlurriness>0?t:e).get(M)),M}function x(_){let M=!1;const E=g(_);E===null?b(o,l):E&&E.isColor&&(b(E,1),M=!0);const C=n.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,s):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(_,M){const E=g(M);E&&(E.isCubeTexture||E.mapping===R1)?(c===void 0&&(c=new Ni(new tp(1,1,1),new nl({name:"BackgroundCubeMaterial",uniforms:d1(nc.backgroundCube.uniforms),vertexShader:nc.backgroundCube.vertexShader,fragmentShader:nc.backgroundCube.fragmentShader,side:Vs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,T,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),dm.copy(M.backgroundRotation),dm.x*=-1,dm.y*=-1,dm.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(dm.y*=-1,dm.z*=-1),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Cae.makeRotationFromEuler(dm)),c.material.toneMapped=gr.getTransfer(E.colorSpace)!==Gr,(d!==E||h!==E.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,d=E,h=E.version,p=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new Ni(new fc(2,2),new nl({name:"BackgroundMaterial",uniforms:d1(nc.background.uniforms),vertexShader:nc.background.vertexShader,fragmentShader:nc.background.fragmentShader,side:Ud,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=gr.getTransfer(E.colorSpace)!==Gr,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(d!==E||h!==E.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,d=E,h=E.version,p=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function b(_,M){_.getRGB(f4,YI(n)),r.buffers.color.setClear(f4.r,f4.g,f4.b,M,s)}return{getClearColor:function(){return o},setClearColor:function(_,M=1){o.set(_),l=M,b(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,b(o,l)},render:x,addToRenderList:A}}function Rae(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=h(null);let a=i,s=!1;function o(O,U,I,q,X){let $=!1;const k=d(q,I,U);a!==k&&(a=k,u(a.object)),$=p(O,q,I,X),$&&g(O,q,I,X),X!==null&&e.update(X,n.ELEMENT_ARRAY_BUFFER),($||s)&&(s=!1,E(O,U,I,q),X!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return n.createVertexArray()}function u(O){return n.bindVertexArray(O)}function c(O){return n.deleteVertexArray(O)}function d(O,U,I){const q=I.wireframe===!0;let X=r[O.id];X===void 0&&(X={},r[O.id]=X);let $=X[U.id];$===void 0&&($={},X[U.id]=$);let k=$[q];return k===void 0&&(k=h(l()),$[q]=k),k}function h(O){const U=[],I=[],q=[];for(let X=0;X<t;X++)U[X]=0,I[X]=0,q[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:I,attributeDivisors:q,object:O,attributes:{},index:null}}function p(O,U,I,q){const X=a.attributes,$=U.attributes;let k=0;const P=I.getAttributes();for(const Z in P)if(P[Z].location>=0){const ae=X[Z];let W=$[Z];if(W===void 0&&(Z==="instanceMatrix"&&O.instanceMatrix&&(W=O.instanceMatrix),Z==="instanceColor"&&O.instanceColor&&(W=O.instanceColor)),ae===void 0||ae.attribute!==W||W&&ae.data!==W.data)return!0;k++}return a.attributesNum!==k||a.index!==q}function g(O,U,I,q){const X={},$=U.attributes;let k=0;const P=I.getAttributes();for(const Z in P)if(P[Z].location>=0){let ae=$[Z];ae===void 0&&(Z==="instanceMatrix"&&O.instanceMatrix&&(ae=O.instanceMatrix),Z==="instanceColor"&&O.instanceColor&&(ae=O.instanceColor));const W={};W.attribute=ae,ae&&ae.data&&(W.data=ae.data),X[Z]=W,k++}a.attributes=X,a.attributesNum=k,a.index=q}function x(){const O=a.newAttributes;for(let U=0,I=O.length;U<I;U++)O[U]=0}function A(O){b(O,0)}function b(O,U){const I=a.newAttributes,q=a.enabledAttributes,X=a.attributeDivisors;I[O]=1,q[O]===0&&(n.enableVertexAttribArray(O),q[O]=1),X[O]!==U&&(n.vertexAttribDivisor(O,U),X[O]=U)}function _(){const O=a.newAttributes,U=a.enabledAttributes;for(let I=0,q=U.length;I<q;I++)U[I]!==O[I]&&(n.disableVertexAttribArray(I),U[I]=0)}function M(O,U,I,q,X,$,k){k===!0?n.vertexAttribIPointer(O,U,I,X,$):n.vertexAttribPointer(O,U,I,q,X,$)}function E(O,U,I,q){x();const X=q.attributes,$=I.getAttributes(),k=U.defaultAttributeValues;for(const P in $){const Z=$[P];if(Z.location>=0){let H=X[P];if(H===void 0&&(P==="instanceMatrix"&&O.instanceMatrix&&(H=O.instanceMatrix),P==="instanceColor"&&O.instanceColor&&(H=O.instanceColor)),H!==void 0){const ae=H.normalized,W=H.itemSize,K=e.get(H);if(K===void 0)continue;const Q=K.buffer,te=K.type,le=K.bytesPerElement,de=te===n.INT||te===n.UNSIGNED_INT||H.gpuType===Tw;if(H.isInterleavedBufferAttribute){const ce=H.data,be=ce.stride,Te=H.offset;if(ce.isInstancedInterleavedBuffer){for(let Oe=0;Oe<Z.locationSize;Oe++)b(Z.location+Oe,ce.meshPerAttribute);O.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Oe=0;Oe<Z.locationSize;Oe++)A(Z.location+Oe);n.bindBuffer(n.ARRAY_BUFFER,Q);for(let Oe=0;Oe<Z.locationSize;Oe++)M(Z.location+Oe,W/Z.locationSize,te,ae,be*le,(Te+W/Z.locationSize*Oe)*le,de)}else{if(H.isInstancedBufferAttribute){for(let ce=0;ce<Z.locationSize;ce++)b(Z.location+ce,H.meshPerAttribute);O.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let ce=0;ce<Z.locationSize;ce++)A(Z.location+ce);n.bindBuffer(n.ARRAY_BUFFER,Q);for(let ce=0;ce<Z.locationSize;ce++)M(Z.location+ce,W/Z.locationSize,te,ae,W*le,W/Z.locationSize*ce*le,de)}}else if(k!==void 0){const ae=k[P];if(ae!==void 0)switch(ae.length){case 2:n.vertexAttrib2fv(Z.location,ae);break;case 3:n.vertexAttrib3fv(Z.location,ae);break;case 4:n.vertexAttrib4fv(Z.location,ae);break;default:n.vertexAttrib1fv(Z.location,ae)}}}}_()}function C(){z();for(const O in r){const U=r[O];for(const I in U){const q=U[I];for(const X in q)c(q[X].object),delete q[X];delete U[I]}delete r[O]}}function T(O){if(r[O.id]===void 0)return;const U=r[O.id];for(const I in U){const q=U[I];for(const X in q)c(q[X].object),delete q[X];delete U[I]}delete r[O.id]}function B(O){for(const U in r){const I=r[U];if(I[O.id]===void 0)continue;const q=I[O.id];for(const X in q)c(q[X].object),delete q[X];delete I[O.id]}}function z(){R(),s=!0,a!==i&&(a=i,u(a.object))}function R(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:z,resetDefaultState:R,dispose:C,releaseStatesOfGeometry:T,releaseStatesOfProgram:B,initAttributes:x,enableAttribute:A,disableUnusedAttributes:_}}function Bae(n,e,t){let r;function i(u){r=u}function a(u,c){n.drawArrays(r,u,c),t.update(c,r,1)}function s(u,c,d){d!==0&&(n.drawArraysInstanced(r,u,c,d),t.update(c,r,d))}function o(u,c,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,d);let p=0;for(let g=0;g<d;g++)p+=c[g];t.update(p,r,1)}function l(u,c,d,h){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<u.length;g++)s(u[g],c[g],h[g]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,c,0,h,0,d);let g=0;for(let x=0;x<d;x++)g+=c[x]*h[x];t.update(g,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Oae(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(B){return!(B!==js&&r.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(B){const z=B===B1&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==lc&&r.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==el&&!z)}function l(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const d=t.logarithmicDepthBuffer===!0,h=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),M=n.getParameter(n.MAX_VARYING_VECTORS),E=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),C=g>0,T=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:d,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:x,maxCubemapSize:A,maxAttributes:b,maxVertexUniforms:_,maxVaryings:M,maxFragmentUniforms:E,vertexTextures:C,maxSamples:T}}function zae(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new nf,o=new kn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const p=d.length!==0||h||r!==0||i;return i=h,r=d.length,p},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,h){t=c(d,h,0)},this.setState=function(d,h,p){const g=d.clippingPlanes,x=d.clipIntersection,A=d.clipShadows,b=n.get(d);if(!i||g===null||g.length===0||a&&!A)a?c(null):u();else{const _=a?0:r,M=_*4;let E=b.clippingState||null;l.value=E,E=c(g,h,M,p);for(let C=0;C!==M;++C)E[C]=t[C];b.clippingState=E,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,h,p,g){const x=d!==null?d.length:0;let A=null;if(x!==0){if(A=l.value,g!==!0||A===null){const b=p+x*4,_=h.matrixWorldInverse;o.getNormalMatrix(_),(A===null||A.length<b)&&(A=new Float32Array(b));for(let M=0,E=p;M!==x;++M,E+=4)s.copy(d[M]).applyMatrix4(_,o),s.normal.toArray(A,E),A[E+3]=s.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,A}}function Uae(n){let e=new WeakMap;function t(s,o){return o===My?s.mapping=Fd:o===_y&&(s.mapping=nh),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===My||o===_y)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new KI(l.height);return u.fromEquirectangularTexture(n,s),e.set(s,u),s.addEventListener("dispose",i),t(u.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class Z0 extends Lw{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,s=a+u*this.view.width,o-=c*this.view.offsetY,l=o-c*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Wv=4,fD=[.125,.215,.35,.446,.526,.582],Tm=20,xM=new Z0,dD=new jt;let yM=null,bM=0,SM=0,wM=!1;const Em=(1+Math.sqrt(5))/2,Ev=1/Em,hD=[new Ce(-Em,Ev,0),new Ce(Em,Ev,0),new Ce(-Ev,0,Em),new Ce(Ev,0,Em),new Ce(0,Em,-Ev),new Ce(0,Em,Ev),new Ce(-1,1,-1),new Ce(1,1,-1),new Ce(-1,1,1),new Ce(1,1,1)];class xE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){yM=this._renderer.getRenderTarget(),bM=this._renderer.getActiveCubeFace(),SM=this._renderer.getActiveMipmapLevel(),wM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=vD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=pD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(yM,bM,SM),this._renderer.xr.enabled=wM,e.scissorTest=!1,d4(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Fd||e.mapping===nh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),yM=this._renderer.getRenderTarget(),bM=this._renderer.getActiveCubeFace(),SM=this._renderer.getActiveMipmapLevel(),wM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:ua,minFilter:ua,generateMipmaps:!1,type:B1,format:js,colorSpace:ch,depthBuffer:!1},i=mD(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=mD(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Fae(a)),this._blurMaterial=Lae(a,e,t)}return i}_compileMaterial(e){const t=new Ni(this._lodPlanes[0],e);this._renderer.compile(t,xM)}_sceneToCubeUV(e,t,r,i){const o=new oa(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,h=c.toneMapping;c.getClearColor(dD),c.toneMapping=df,c.autoClear=!1;const p=new qd({name:"PMREM.Background",side:Vs,depthWrite:!1,depthTest:!1}),g=new Ni(new tp,p);let x=!1;const A=e.background;A?A.isColor&&(p.color.copy(A),e.background=null,x=!0):(p.color.copy(dD),x=!0);for(let b=0;b<6;b++){const _=b%3;_===0?(o.up.set(0,l[b],0),o.lookAt(u[b],0,0)):_===1?(o.up.set(0,0,l[b]),o.lookAt(0,u[b],0)):(o.up.set(0,l[b],0),o.lookAt(0,0,u[b]));const M=this._cubeSize;d4(i,_*M,b>2?M:0,M,M),c.setRenderTarget(i),x&&c.render(g,o),c.render(e,o)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=d,e.background=A}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Fd||e.mapping===nh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=vD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=pD());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Ni(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;d4(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,xM)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=hD[(i-a-1)%hD.length];this._blur(e,a-1,a,s,o)}t.autoClear=r}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new Ni(this._lodPlanes[i],u),h=u.uniforms,p=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*p):2*Math.PI/(2*Tm-1),x=a/g,A=isFinite(a)?1+Math.floor(c*x):Tm;A>Tm&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Tm}`);const b=[];let _=0;for(let B=0;B<Tm;++B){const z=B/x,R=Math.exp(-z*z/2);b.push(R),B===0?_+=R:B<A&&(_+=2*R)}for(let B=0;B<b.length;B++)b[B]=b[B]/_;h.envMap.value=e.texture,h.samples.value=A,h.weights.value=b,h.latitudinal.value=s==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:M}=this;h.dTheta.value=g,h.mipInt.value=M-r;const E=this._sizeLods[i],C=3*E*(i>M-Wv?i-M+Wv:0),T=4*(this._cubeSize-E);d4(t,C,T,3*E,2*E),l.setRenderTarget(t),l.render(d,xM)}}function Fae(n){const e=[],t=[],r=[];let i=n;const a=n-Wv+1+fD.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>n-Wv?l=fD[s-n+Wv-1]:s===0&&(l=0),r.push(l);const u=1/(o-2),c=-u,d=1+u,h=[c,c,d,c,d,d,c,c,d,d,c,d],p=6,g=6,x=3,A=2,b=1,_=new Float32Array(x*g*p),M=new Float32Array(A*g*p),E=new Float32Array(b*g*p);for(let T=0;T<p;T++){const B=T%3*2/3-1,z=T>2?0:-1,R=[B,z,0,B+2/3,z,0,B+2/3,z+1,0,B,z,0,B+2/3,z+1,0,B,z+1,0];_.set(R,x*g*T),M.set(h,A*g*T);const O=[T,T,T,T,T,T];E.set(O,b*g*T)}const C=new Yn;C.setAttribute("position",new Yr(_,x)),C.setAttribute("uv",new Yr(M,A)),C.setAttribute("faceIndex",new Yr(E,b)),e.push(C),i>Wv&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function mD(n,e,t){const r=new uc(n,e,t);return r.texture.mapping=R1,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function d4(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Lae(n,e,t){const r=new Float32Array(Tm),i=new Ce(0,1,0);return new nl({name:"SphericalGaussianBlur",defines:{n:Tm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:bN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Nd,depthTest:!1,depthWrite:!1})}function pD(){return new nl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:bN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Nd,depthTest:!1,depthWrite:!1})}function vD(){return new nl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:bN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Nd,depthTest:!1,depthWrite:!1})}function bN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kae(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===My||l===_y,c=l===Fd||l===nh;if(u||c){let d=e.get(o);const h=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return t===null&&(t=new xE(n)),d=u?t.fromEquirectangular(o,d):t.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const p=o.image;return u&&p&&p.height>0||c&&p&&i(p)?(t===null&&(t=new xE(n)),d=u?t.fromEquirectangular(o):t.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",a),d.texture):null}}}return o}function i(o){let l=0;const u=6;for(let c=0;c<u;c++)o[c]!==void 0&&l++;return l===u}function a(o){const l=o.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function Iae(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&qx("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Pae(n,e,t,r){const i={},a=new WeakMap;function s(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const x=h.morphAttributes[g];for(let A=0,b=x.length;A<b;A++)e.remove(x[A])}h.removeEventListener("dispose",s),delete i[h.id];const p=a.get(h);p&&(e.remove(p),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function o(d,h){return i[h.id]===!0||(h.addEventListener("dispose",s),i[h.id]=!0,t.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],n.ARRAY_BUFFER);const p=d.morphAttributes;for(const g in p){const x=p[g];for(let A=0,b=x.length;A<b;A++)e.update(x[A],n.ARRAY_BUFFER)}}function u(d){const h=[],p=d.index,g=d.attributes.position;let x=0;if(p!==null){const _=p.array;x=p.version;for(let M=0,E=_.length;M<E;M+=3){const C=_[M+0],T=_[M+1],B=_[M+2];h.push(C,T,T,B,B,C)}}else if(g!==void 0){const _=g.array;x=g.version;for(let M=0,E=_.length/3-1;M<E;M+=3){const C=M+0,T=M+1,B=M+2;h.push(C,T,T,B,B,C)}}else return;const A=new(qI(h)?yN:xN)(h,1);A.version=x;const b=a.get(d);b&&e.remove(b),a.set(d,A)}function c(d){const h=a.get(d);if(h){const p=d.index;p!==null&&h.version<p.version&&u(d)}else u(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:c}}function jae(n,e,t){let r;function i(h){r=h}let a,s;function o(h){a=h.type,s=h.bytesPerElement}function l(h,p){n.drawElements(r,p,a,h*s),t.update(p,r,1)}function u(h,p,g){g!==0&&(n.drawElementsInstanced(r,p,a,h*s,g),t.update(p,r,g))}function c(h,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,a,h,0,g);let A=0;for(let b=0;b<g;b++)A+=p[b];t.update(A,r,1)}function d(h,p,g,x){if(g===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let b=0;b<h.length;b++)u(h[b]/s,p[b],x[b]);else{A.multiDrawElementsInstancedWEBGL(r,p,0,a,h,0,x,0,g);let b=0;for(let _=0;_<g;_++)b+=p[_]*x[_];t.update(b,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=d}function Vae(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Hae(n,e,t){const r=new WeakMap,i=new er;function a(s,o,l){const u=s.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=c!==void 0?c.length:0;let h=r.get(o);if(h===void 0||h.count!==d){let O=function(){z.dispose(),r.delete(o),o.removeEventListener("dispose",O)};var p=O;h!==void 0&&h.texture.dispose();const g=o.morphAttributes.position!==void 0,x=o.morphAttributes.normal!==void 0,A=o.morphAttributes.color!==void 0,b=o.morphAttributes.position||[],_=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let E=0;g===!0&&(E=1),x===!0&&(E=2),A===!0&&(E=3);let C=o.attributes.position.count*E,T=1;C>e.maxTextureSize&&(T=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const B=new Float32Array(C*T*4*d),z=new Fw(B,C,T,d);z.type=el,z.needsUpdate=!0;const R=E*4;for(let U=0;U<d;U++){const I=b[U],q=_[U],X=M[U],$=C*T*4*U;for(let k=0;k<I.count;k++){const P=k*R;g===!0&&(i.fromBufferAttribute(I,k),B[$+P+0]=i.x,B[$+P+1]=i.y,B[$+P+2]=i.z,B[$+P+3]=0),x===!0&&(i.fromBufferAttribute(q,k),B[$+P+4]=i.x,B[$+P+5]=i.y,B[$+P+6]=i.z,B[$+P+7]=0),A===!0&&(i.fromBufferAttribute(X,k),B[$+P+8]=i.x,B[$+P+9]=i.y,B[$+P+10]=i.z,B[$+P+11]=X.itemSize===4?i.w:1)}}h={count:d,texture:z,size:new bt(C,T)},r.set(o,h),o.addEventListener("dispose",O)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let g=0;for(let A=0;A<u.length;A++)g+=u[A];const x=o.morphTargetsRelative?1:1-g;l.getUniforms().setValue(n,"morphTargetBaseInfluence",x),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:a}}function qae(n,e,t,r){let i=new WeakMap;function a(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return d}function s(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:a,dispose:s}}class SN extends Pi{constructor(e,t,r,i,a,s,o,l,u,c=Im){if(c!==Im&&c!==Xm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Im&&(r=Ld),r===void 0&&c===Xm&&(r=$m),super(null,i,a,s,o,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:gs,this.minFilter=l!==void 0?l:gs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const JI=new Pi,gD=new SN(1,1),eP=new Fw,tP=new gN,nP=new a2,xD=[],yD=[],bD=new Float32Array(16),SD=new Float32Array(9),wD=new Float32Array(4);function O1(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=xD[i];if(a===void 0&&(a=new Float32Array(i),xD[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function ka(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ia(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function kw(n,e){let t=yD[e];t===void 0&&(t=new Int32Array(e),yD[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Gae(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function $ae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ka(t,e))return;n.uniform2fv(this.addr,e),Ia(t,e)}}function Xae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ka(t,e))return;n.uniform3fv(this.addr,e),Ia(t,e)}}function Wae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ka(t,e))return;n.uniform4fv(this.addr,e),Ia(t,e)}}function Yae(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ka(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ia(t,e)}else{if(ka(t,r))return;wD.set(r),n.uniformMatrix2fv(this.addr,!1,wD),Ia(t,r)}}function Zae(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ka(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ia(t,e)}else{if(ka(t,r))return;SD.set(r),n.uniformMatrix3fv(this.addr,!1,SD),Ia(t,r)}}function Kae(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ka(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ia(t,e)}else{if(ka(t,r))return;bD.set(r),n.uniformMatrix4fv(this.addr,!1,bD),Ia(t,r)}}function Qae(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Jae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ka(t,e))return;n.uniform2iv(this.addr,e),Ia(t,e)}}function ese(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ka(t,e))return;n.uniform3iv(this.addr,e),Ia(t,e)}}function tse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ka(t,e))return;n.uniform4iv(this.addr,e),Ia(t,e)}}function nse(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function rse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ka(t,e))return;n.uniform2uiv(this.addr,e),Ia(t,e)}}function ise(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ka(t,e))return;n.uniform3uiv(this.addr,e),Ia(t,e)}}function ase(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ka(t,e))return;n.uniform4uiv(this.addr,e),Ia(t,e)}}function sse(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(gD.compareFunction=pN,a=gD):a=JI,t.setTexture2D(e||a,i)}function ose(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||tP,i)}function lse(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||nP,i)}function use(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||eP,i)}function cse(n){switch(n){case 5126:return Gae;case 35664:return $ae;case 35665:return Xae;case 35666:return Wae;case 35674:return Yae;case 35675:return Zae;case 35676:return Kae;case 5124:case 35670:return Qae;case 35667:case 35671:return Jae;case 35668:case 35672:return ese;case 35669:case 35673:return tse;case 5125:return nse;case 36294:return rse;case 36295:return ise;case 36296:return ase;case 35678:case 36198:case 36298:case 36306:case 35682:return sse;case 35679:case 36299:case 36307:return ose;case 35680:case 36300:case 36308:case 36293:return lse;case 36289:case 36303:case 36311:case 36292:return use}}function fse(n,e){n.uniform1fv(this.addr,e)}function dse(n,e){const t=O1(e,this.size,2);n.uniform2fv(this.addr,t)}function hse(n,e){const t=O1(e,this.size,3);n.uniform3fv(this.addr,t)}function mse(n,e){const t=O1(e,this.size,4);n.uniform4fv(this.addr,t)}function pse(n,e){const t=O1(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function vse(n,e){const t=O1(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function gse(n,e){const t=O1(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function xse(n,e){n.uniform1iv(this.addr,e)}function yse(n,e){n.uniform2iv(this.addr,e)}function bse(n,e){n.uniform3iv(this.addr,e)}function Sse(n,e){n.uniform4iv(this.addr,e)}function wse(n,e){n.uniform1uiv(this.addr,e)}function Ase(n,e){n.uniform2uiv(this.addr,e)}function Mse(n,e){n.uniform3uiv(this.addr,e)}function _se(n,e){n.uniform4uiv(this.addr,e)}function Ese(n,e,t){const r=this.cache,i=e.length,a=kw(t,i);ka(r,a)||(n.uniform1iv(this.addr,a),Ia(r,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||JI,a[s])}function Nse(n,e,t){const r=this.cache,i=e.length,a=kw(t,i);ka(r,a)||(n.uniform1iv(this.addr,a),Ia(r,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||tP,a[s])}function Tse(n,e,t){const r=this.cache,i=e.length,a=kw(t,i);ka(r,a)||(n.uniform1iv(this.addr,a),Ia(r,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||nP,a[s])}function Cse(n,e,t){const r=this.cache,i=e.length,a=kw(t,i);ka(r,a)||(n.uniform1iv(this.addr,a),Ia(r,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||eP,a[s])}function Dse(n){switch(n){case 5126:return fse;case 35664:return dse;case 35665:return hse;case 35666:return mse;case 35674:return pse;case 35675:return vse;case 35676:return gse;case 5124:case 35670:return xse;case 35667:case 35671:return yse;case 35668:case 35672:return bse;case 35669:case 35673:return Sse;case 5125:return wse;case 36294:return Ase;case 36295:return Mse;case 36296:return _se;case 35678:case 36198:case 36298:case 36306:case 35682:return Ese;case 35679:case 36299:case 36307:return Nse;case 35680:case 36300:case 36308:case 36293:return Tse;case 36289:case 36303:case 36311:case 36292:return Cse}}class Rse{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=cse(t.type)}}class Bse{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Dse(t.type)}}class Ose{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}}const AM=/(\w+)(\])?(\[|\.)?/g;function AD(n,e){n.seq.push(e),n.map[e.id]=e}function zse(n,e,t){const r=n.name,i=r.length;for(AM.lastIndex=0;;){const a=AM.exec(r),s=AM.lastIndex;let o=a[1];const l=a[2]==="]",u=a[3];if(l&&(o=o|0),u===void 0||u==="["&&s+2===i){AD(t,u===void 0?new Rse(o,n,e):new Bse(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new Ose(o),AD(t,d)),t=d}}}class y3{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);zse(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function MD(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Use=37297;let Fse=0;function Lse(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}const _D=new kn;function kse(n){gr._getMatrix(_D,gr.workingColorSpace,n);const e=`mat3( ${_D.elements.map(t=>t.toFixed(4))} )`;switch(gr.getTransfer(n)){case i2:return[e,"LinearTransferOETF"];case Gr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function ED(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+Lse(n.getShaderSource(e),s)}else return i}function Ise(n,e){const t=kse(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Pse(n,e){let t;switch(e){case _I:t="Linear";break;case EI:t="Reinhard";break;case NI:t="Cineon";break;case nN:t="ACESFilmic";break;case CI:t="AgX";break;case DI:t="Neutral";break;case TI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const h4=new Ce;function jse(){gr.getLuminanceCoefficients(h4);const n=h4.x.toFixed(4),e=h4.y.toFixed(4),t=h4.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Vse(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($x).join(`
`)}function Hse(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function qse(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function $x(n){return n!==""}function ND(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function TD(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Gse=/^[ \t]*#include +<([\w\d./]+)>/gm;function yE(n){return n.replace(Gse,Xse)}const $se=new Map;function Xse(n,e){let t=Gn[e];if(t===void 0){const r=$se.get(e);if(r!==void 0)t=Gn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return yE(t)}const Wse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CD(n){return n.replace(Wse,Yse)}function Yse(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function DD(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Zse(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Ew?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ny?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ec&&(e="SHADOWMAP_TYPE_VSM"),e}function Kse(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Fd:case nh:e="ENVMAP_TYPE_CUBE";break;case R1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Qse(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case nh:e="ENVMAP_MODE_REFRACTION";break}return e}function Jse(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case n2:e="ENVMAP_BLENDING_MULTIPLY";break;case AI:e="ENVMAP_BLENDING_MIX";break;case MI:e="ENVMAP_BLENDING_ADD";break}return e}function eoe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function toe(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=Zse(t),u=Kse(t),c=Qse(t),d=Jse(t),h=eoe(t),p=Vse(t),g=Hse(a),x=i.createProgram();let A,b,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter($x).join(`
`),A.length>0&&(A+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter($x).join(`
`),b.length>0&&(b+=`
`)):(A=[DD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($x).join(`
`),b=[DD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==df?"#define TONE_MAPPING":"",t.toneMapping!==df?Gn.tonemapping_pars_fragment:"",t.toneMapping!==df?Pse("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Gn.colorspace_pars_fragment,Ise("linearToOutputTexel",t.outputColorSpace),jse(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter($x).join(`
`)),s=yE(s),s=ND(s,t),s=TD(s,t),o=yE(o),o=ND(o,t),o=TD(o,t),s=CD(s),o=CD(o),t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,A=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,b=["#define varying in",t.glslVersion===gE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===gE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const M=_+A+s,E=_+b+o,C=MD(i,i.VERTEX_SHADER,M),T=MD(i,i.FRAGMENT_SHADER,E);i.attachShader(x,C),i.attachShader(x,T),t.index0AttributeName!==void 0?i.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function B(U){if(n.debug.checkShaderErrors){const I=i.getProgramInfoLog(x).trim(),q=i.getShaderInfoLog(C).trim(),X=i.getShaderInfoLog(T).trim();let $=!0,k=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,x,C,T);else{const P=ED(i,C,"vertex"),Z=ED(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+U.name+`
Material Type: `+U.type+`

Program Info Log: `+I+`
`+P+`
`+Z)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(q===""||X==="")&&(k=!1);k&&(U.diagnostics={runnable:$,programLog:I,vertexShader:{log:q,prefix:A},fragmentShader:{log:X,prefix:b}})}i.deleteShader(C),i.deleteShader(T),z=new y3(i,x),R=qse(i,x)}let z;this.getUniforms=function(){return z===void 0&&B(this),z};let R;this.getAttributes=function(){return R===void 0&&B(this),R};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(x,Use)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Fse++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=C,this.fragmentShader=T,this}let noe=0;class roe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new ioe(e),t.set(e,r)),r}}class ioe{constructor(e){this.id=noe++,this.code=e,this.usedTimes=0}}function aoe(n,e,t,r,i,a,s){const o=new f1,l=new roe,u=new Set,c=[],d=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return u.add(R),R===0?"uv":`uv${R}`}function A(R,O,U,I,q){const X=I.fog,$=q.geometry,k=R.isMeshStandardMaterial?I.environment:null,P=(R.isMeshStandardMaterial?t:e).get(R.envMap||k),Z=P&&P.mapping===R1?P.image.height:null,H=g[R.type];R.precision!==null&&(p=i.getMaxPrecision(R.precision),p!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",p,"instead."));const ae=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,W=ae!==void 0?ae.length:0;let K=0;$.morphAttributes.position!==void 0&&(K=1),$.morphAttributes.normal!==void 0&&(K=2),$.morphAttributes.color!==void 0&&(K=3);let Q,te,le,de;if(H){const Wt=nc[H];Q=Wt.vertexShader,te=Wt.fragmentShader}else Q=R.vertexShader,te=R.fragmentShader,l.update(R),le=l.getVertexShaderID(R),de=l.getFragmentShaderID(R);const ce=n.getRenderTarget(),be=n.state.buffers.depth.getReversed(),Te=q.isInstancedMesh===!0,Oe=q.isBatchedMesh===!0,Fe=!!R.map,Se=!!R.matcap,Ve=!!P,ve=!!R.aoMap,fe=!!R.lightMap,he=!!R.bumpMap,Be=!!R.normalMap,ue=!!R.displacementMap,xe=!!R.emissiveMap,we=!!R.metalnessMap,ie=!!R.roughnessMap,re=R.anisotropy>0,ee=R.clearcoat>0,oe=R.dispersion>0,ge=R.iridescence>0,De=R.sheen>0,Le=R.transmission>0,Ue=re&&!!R.anisotropyMap,He=ee&&!!R.clearcoatMap,et=ee&&!!R.clearcoatNormalMap,Xe=ee&&!!R.clearcoatRoughnessMap,We=ge&&!!R.iridescenceMap,st=ge&&!!R.iridescenceThicknessMap,lt=De&&!!R.sheenColorMap,Ke=De&&!!R.sheenRoughnessMap,ze=!!R.specularMap,G=!!R.specularColorMap,Ne=!!R.specularIntensityMap,me=Le&&!!R.transmissionMap,Pe=Le&&!!R.thicknessMap,$e=!!R.gradientMap,tt=!!R.alphaMap,xt=R.alphaTest>0,wt=!!R.alphaHash,kt=!!R.extensions;let Jt=df;R.toneMapped&&(ce===null||ce.isXRRenderTarget===!0)&&(Jt=n.toneMapping);const Ht={shaderID:H,shaderType:R.type,shaderName:R.name,vertexShader:Q,fragmentShader:te,defines:R.defines,customVertexShaderID:le,customFragmentShaderID:de,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:p,batching:Oe,batchingColor:Oe&&q._colorsTexture!==null,instancing:Te,instancingColor:Te&&q.instanceColor!==null,instancingMorph:Te&&q.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:ce===null?n.outputColorSpace:ce.isXRRenderTarget===!0?ce.texture.colorSpace:ch,alphaToCoverage:!!R.alphaToCoverage,map:Fe,matcap:Se,envMap:Ve,envMapMode:Ve&&P.mapping,envMapCubeUVHeight:Z,aoMap:ve,lightMap:fe,bumpMap:he,normalMap:Be,displacementMap:h&&ue,emissiveMap:xe,normalMapObjectSpace:Be&&R.normalMapType===FI,normalMapTangentSpace:Be&&R.normalMapType===uh,metalnessMap:we,roughnessMap:ie,anisotropy:re,anisotropyMap:Ue,clearcoat:ee,clearcoatMap:He,clearcoatNormalMap:et,clearcoatRoughnessMap:Xe,dispersion:oe,iridescence:ge,iridescenceMap:We,iridescenceThicknessMap:st,sheen:De,sheenColorMap:lt,sheenRoughnessMap:Ke,specularMap:ze,specularColorMap:G,specularIntensityMap:Ne,transmission:Le,transmissionMap:me,thicknessMap:Pe,gradientMap:$e,opaque:R.transparent===!1&&R.blending===km&&R.alphaToCoverage===!1,alphaMap:tt,alphaTest:xt,alphaHash:wt,combine:R.combine,mapUv:Fe&&x(R.map.channel),aoMapUv:ve&&x(R.aoMap.channel),lightMapUv:fe&&x(R.lightMap.channel),bumpMapUv:he&&x(R.bumpMap.channel),normalMapUv:Be&&x(R.normalMap.channel),displacementMapUv:ue&&x(R.displacementMap.channel),emissiveMapUv:xe&&x(R.emissiveMap.channel),metalnessMapUv:we&&x(R.metalnessMap.channel),roughnessMapUv:ie&&x(R.roughnessMap.channel),anisotropyMapUv:Ue&&x(R.anisotropyMap.channel),clearcoatMapUv:He&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:et&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xe&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:We&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:st&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:lt&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&x(R.sheenRoughnessMap.channel),specularMapUv:ze&&x(R.specularMap.channel),specularColorMapUv:G&&x(R.specularColorMap.channel),specularIntensityMapUv:Ne&&x(R.specularIntensityMap.channel),transmissionMapUv:me&&x(R.transmissionMap.channel),thicknessMapUv:Pe&&x(R.thicknessMap.channel),alphaMapUv:tt&&x(R.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(Be||re),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!$.attributes.uv&&(Fe||tt),fog:!!X,useFog:R.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:be,skinning:q.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:K,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:Jt,decodeVideoTexture:Fe&&R.map.isVideoTexture===!0&&gr.getTransfer(R.map.colorSpace)===Gr,decodeVideoTextureEmissive:xe&&R.emissiveMap.isVideoTexture===!0&&gr.getTransfer(R.emissiveMap.colorSpace)===Gr,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Qa,flipSided:R.side===Vs,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:kt&&R.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(kt&&R.extensions.multiDraw===!0||Oe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return Ht.vertexUv1s=u.has(1),Ht.vertexUv2s=u.has(2),Ht.vertexUv3s=u.has(3),u.clear(),Ht}function b(R){const O=[];if(R.shaderID?O.push(R.shaderID):(O.push(R.customVertexShaderID),O.push(R.customFragmentShaderID)),R.defines!==void 0)for(const U in R.defines)O.push(U),O.push(R.defines[U]);return R.isRawShaderMaterial===!1&&(_(O,R),M(O,R),O.push(n.outputColorSpace)),O.push(R.customProgramCacheKey),O.join()}function _(R,O){R.push(O.precision),R.push(O.outputColorSpace),R.push(O.envMapMode),R.push(O.envMapCubeUVHeight),R.push(O.mapUv),R.push(O.alphaMapUv),R.push(O.lightMapUv),R.push(O.aoMapUv),R.push(O.bumpMapUv),R.push(O.normalMapUv),R.push(O.displacementMapUv),R.push(O.emissiveMapUv),R.push(O.metalnessMapUv),R.push(O.roughnessMapUv),R.push(O.anisotropyMapUv),R.push(O.clearcoatMapUv),R.push(O.clearcoatNormalMapUv),R.push(O.clearcoatRoughnessMapUv),R.push(O.iridescenceMapUv),R.push(O.iridescenceThicknessMapUv),R.push(O.sheenColorMapUv),R.push(O.sheenRoughnessMapUv),R.push(O.specularMapUv),R.push(O.specularColorMapUv),R.push(O.specularIntensityMapUv),R.push(O.transmissionMapUv),R.push(O.thicknessMapUv),R.push(O.combine),R.push(O.fogExp2),R.push(O.sizeAttenuation),R.push(O.morphTargetsCount),R.push(O.morphAttributeCount),R.push(O.numDirLights),R.push(O.numPointLights),R.push(O.numSpotLights),R.push(O.numSpotLightMaps),R.push(O.numHemiLights),R.push(O.numRectAreaLights),R.push(O.numDirLightShadows),R.push(O.numPointLightShadows),R.push(O.numSpotLightShadows),R.push(O.numSpotLightShadowsWithMaps),R.push(O.numLightProbes),R.push(O.shadowMapType),R.push(O.toneMapping),R.push(O.numClippingPlanes),R.push(O.numClipIntersection),R.push(O.depthPacking)}function M(R,O){o.disableAll(),O.supportsVertexTextures&&o.enable(0),O.instancing&&o.enable(1),O.instancingColor&&o.enable(2),O.instancingMorph&&o.enable(3),O.matcap&&o.enable(4),O.envMap&&o.enable(5),O.normalMapObjectSpace&&o.enable(6),O.normalMapTangentSpace&&o.enable(7),O.clearcoat&&o.enable(8),O.iridescence&&o.enable(9),O.alphaTest&&o.enable(10),O.vertexColors&&o.enable(11),O.vertexAlphas&&o.enable(12),O.vertexUv1s&&o.enable(13),O.vertexUv2s&&o.enable(14),O.vertexUv3s&&o.enable(15),O.vertexTangents&&o.enable(16),O.anisotropy&&o.enable(17),O.alphaHash&&o.enable(18),O.batching&&o.enable(19),O.dispersion&&o.enable(20),O.batchingColor&&o.enable(21),R.push(o.mask),o.disableAll(),O.fog&&o.enable(0),O.useFog&&o.enable(1),O.flatShading&&o.enable(2),O.logarithmicDepthBuffer&&o.enable(3),O.reverseDepthBuffer&&o.enable(4),O.skinning&&o.enable(5),O.morphTargets&&o.enable(6),O.morphNormals&&o.enable(7),O.morphColors&&o.enable(8),O.premultipliedAlpha&&o.enable(9),O.shadowMapEnabled&&o.enable(10),O.doubleSided&&o.enable(11),O.flipSided&&o.enable(12),O.useDepthPacking&&o.enable(13),O.dithering&&o.enable(14),O.transmission&&o.enable(15),O.sheen&&o.enable(16),O.opaque&&o.enable(17),O.pointsUvs&&o.enable(18),O.decodeVideoTexture&&o.enable(19),O.decodeVideoTextureEmissive&&o.enable(20),O.alphaToCoverage&&o.enable(21),R.push(o.mask)}function E(R){const O=g[R.type];let U;if(O){const I=nc[O];U=h1.clone(I.uniforms)}else U=R.uniforms;return U}function C(R,O){let U;for(let I=0,q=c.length;I<q;I++){const X=c[I];if(X.cacheKey===O){U=X,++U.usedTimes;break}}return U===void 0&&(U=new toe(n,O,R,a),c.push(U)),U}function T(R){if(--R.usedTimes===0){const O=c.indexOf(R);c[O]=c[c.length-1],c.pop(),R.destroy()}}function B(R){l.remove(R)}function z(){l.dispose()}return{getParameters:A,getProgramCacheKey:b,getUniforms:E,acquireProgram:C,releaseProgram:T,releaseShaderCache:B,programs:c,dispose:z}}function soe(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function r(s){n.delete(s)}function i(s,o,l){n.get(s)[o]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function ooe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function RD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function BD(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(d,h,p,g,x,A){let b=n[e];return b===void 0?(b={id:d.id,object:d,geometry:h,material:p,groupOrder:g,renderOrder:d.renderOrder,z:x,group:A},n[e]=b):(b.id=d.id,b.object=d,b.geometry=h,b.material=p,b.groupOrder=g,b.renderOrder=d.renderOrder,b.z=x,b.group=A),e++,b}function o(d,h,p,g,x,A){const b=s(d,h,p,g,x,A);p.transmission>0?r.push(b):p.transparent===!0?i.push(b):t.push(b)}function l(d,h,p,g,x,A){const b=s(d,h,p,g,x,A);p.transmission>0?r.unshift(b):p.transparent===!0?i.unshift(b):t.unshift(b)}function u(d,h){t.length>1&&t.sort(d||ooe),r.length>1&&r.sort(h||RD),i.length>1&&i.sort(h||RD)}function c(){for(let d=e,h=n.length;d<h;d++){const p=n[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:c,sort:u}}function loe(){let n=new WeakMap;function e(r,i){const a=n.get(r);let s;return a===void 0?(s=new BD,n.set(r,[s])):i>=a.length?(s=new BD,a.push(s)):s=a[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function uoe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ce,color:new jt};break;case"SpotLight":t={position:new Ce,direction:new Ce,color:new jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ce,color:new jt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ce,skyColor:new jt,groundColor:new jt};break;case"RectAreaLight":t={color:new jt,position:new Ce,halfWidth:new Ce,halfHeight:new Ce};break}return n[e.id]=t,t}}}function coe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let foe=0;function doe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function hoe(n){const e=new uoe,t=coe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new Ce);const i=new Ce,a=new Mn,s=new Mn;function o(u){let c=0,d=0,h=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let p=0,g=0,x=0,A=0,b=0,_=0,M=0,E=0,C=0,T=0,B=0;u.sort(doe);for(let R=0,O=u.length;R<O;R++){const U=u[R],I=U.color,q=U.intensity,X=U.distance,$=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)c+=I.r*q,d+=I.g*q,h+=I.b*q;else if(U.isLightProbe){for(let k=0;k<9;k++)r.probe[k].addScaledVector(U.sh.coefficients[k],q);B++}else if(U.isDirectionalLight){const k=e.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity),U.castShadow){const P=U.shadow,Z=t.get(U);Z.shadowIntensity=P.intensity,Z.shadowBias=P.bias,Z.shadowNormalBias=P.normalBias,Z.shadowRadius=P.radius,Z.shadowMapSize=P.mapSize,r.directionalShadow[p]=Z,r.directionalShadowMap[p]=$,r.directionalShadowMatrix[p]=U.shadow.matrix,_++}r.directional[p]=k,p++}else if(U.isSpotLight){const k=e.get(U);k.position.setFromMatrixPosition(U.matrixWorld),k.color.copy(I).multiplyScalar(q),k.distance=X,k.coneCos=Math.cos(U.angle),k.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),k.decay=U.decay,r.spot[x]=k;const P=U.shadow;if(U.map&&(r.spotLightMap[C]=U.map,C++,P.updateMatrices(U),U.castShadow&&T++),r.spotLightMatrix[x]=P.matrix,U.castShadow){const Z=t.get(U);Z.shadowIntensity=P.intensity,Z.shadowBias=P.bias,Z.shadowNormalBias=P.normalBias,Z.shadowRadius=P.radius,Z.shadowMapSize=P.mapSize,r.spotShadow[x]=Z,r.spotShadowMap[x]=$,E++}x++}else if(U.isRectAreaLight){const k=e.get(U);k.color.copy(I).multiplyScalar(q),k.halfWidth.set(U.width*.5,0,0),k.halfHeight.set(0,U.height*.5,0),r.rectArea[A]=k,A++}else if(U.isPointLight){const k=e.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity),k.distance=U.distance,k.decay=U.decay,U.castShadow){const P=U.shadow,Z=t.get(U);Z.shadowIntensity=P.intensity,Z.shadowBias=P.bias,Z.shadowNormalBias=P.normalBias,Z.shadowRadius=P.radius,Z.shadowMapSize=P.mapSize,Z.shadowCameraNear=P.camera.near,Z.shadowCameraFar=P.camera.far,r.pointShadow[g]=Z,r.pointShadowMap[g]=$,r.pointShadowMatrix[g]=U.shadow.matrix,M++}r.point[g]=k,g++}else if(U.isHemisphereLight){const k=e.get(U);k.skyColor.copy(U.color).multiplyScalar(q),k.groundColor.copy(U.groundColor).multiplyScalar(q),r.hemi[b]=k,b++}}A>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Pt.LTC_FLOAT_1,r.rectAreaLTC2=Pt.LTC_FLOAT_2):(r.rectAreaLTC1=Pt.LTC_HALF_1,r.rectAreaLTC2=Pt.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=d,r.ambient[2]=h;const z=r.hash;(z.directionalLength!==p||z.pointLength!==g||z.spotLength!==x||z.rectAreaLength!==A||z.hemiLength!==b||z.numDirectionalShadows!==_||z.numPointShadows!==M||z.numSpotShadows!==E||z.numSpotMaps!==C||z.numLightProbes!==B)&&(r.directional.length=p,r.spot.length=x,r.rectArea.length=A,r.point.length=g,r.hemi.length=b,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=E+C-T,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=T,r.numLightProbes=B,z.directionalLength=p,z.pointLength=g,z.spotLength=x,z.rectAreaLength=A,z.hemiLength=b,z.numDirectionalShadows=_,z.numPointShadows=M,z.numSpotShadows=E,z.numSpotMaps=C,z.numLightProbes=B,r.version=foe++)}function l(u,c){let d=0,h=0,p=0,g=0,x=0;const A=c.matrixWorldInverse;for(let b=0,_=u.length;b<_;b++){const M=u[b];if(M.isDirectionalLight){const E=r.directional[d];E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(A),d++}else if(M.isSpotLight){const E=r.spot[p];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(A),E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(A),p++}else if(M.isRectAreaLight){const E=r.rectArea[g];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(A),s.identity(),a.copy(M.matrixWorld),a.premultiply(A),s.extractRotation(a),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(s),E.halfHeight.applyMatrix4(s),g++}else if(M.isPointLight){const E=r.point[h];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(A),h++}else if(M.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(A),x++}}}return{setup:o,setupView:l,state:r}}function OD(n){const e=new hoe(n),t=[],r=[];function i(c){u.camera=c,t.length=0,r.length=0}function a(c){t.push(c)}function s(c){r.push(c)}function o(){e.setup(t)}function l(c){e.setupView(t,c)}const u={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function moe(n){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new OD(n),e.set(i,[o])):a>=s.length?(o=new OD(n),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:t,dispose:r}}class Iw extends Gs{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=UI,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Pw extends Gs{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const poe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,voe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function goe(n,e,t){let r=new s2;const i=new bt,a=new bt,s=new er,o=new Iw({depthPacking:mN}),l=new Pw,u={},c=t.maxTextureSize,d={[Ud]:Vs,[Vs]:Ud,[Qa]:Qa},h=new nl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new bt},radius:{value:4}},vertexShader:poe,fragmentShader:voe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new Yn;g.setAttribute("position",new Yr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ni(g,h),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ew;let b=this.type;this.render=function(T,B,z){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||T.length===0)return;const R=n.getRenderTarget(),O=n.getActiveCubeFace(),U=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Nd),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const q=b!==ec&&this.type===ec,X=b===ec&&this.type!==ec;for(let $=0,k=T.length;$<k;$++){const P=T[$],Z=P.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;i.copy(Z.mapSize);const H=Z.getFrameExtents();if(i.multiply(H),a.copy(Z.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/H.x),i.x=a.x*H.x,Z.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/H.y),i.y=a.y*H.y,Z.mapSize.y=a.y)),Z.map===null||q===!0||X===!0){const W=this.type!==ec?{minFilter:gs,magFilter:gs}:{};Z.map!==null&&Z.map.dispose(),Z.map=new uc(i.x,i.y,W),Z.map.texture.name=P.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const ae=Z.getViewportCount();for(let W=0;W<ae;W++){const K=Z.getViewport(W);s.set(a.x*K.x,a.y*K.y,a.x*K.z,a.y*K.w),I.viewport(s),Z.updateMatrices(P,W),r=Z.getFrustum(),E(B,z,Z.camera,P,this.type)}Z.isPointLightShadow!==!0&&this.type===ec&&_(Z,z),Z.needsUpdate=!1}b=this.type,A.needsUpdate=!1,n.setRenderTarget(R,O,U)};function _(T,B){const z=e.update(x);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new uc(i.x,i.y)),h.uniforms.shadow_pass.value=T.map.texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(B,null,z,h,x,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(B,null,z,p,x,null)}function M(T,B,z,R){let O=null;const U=z.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(U!==void 0)O=U;else if(O=z.isPointLight===!0?l:o,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0){const I=O.uuid,q=B.uuid;let X=u[I];X===void 0&&(X={},u[I]=X);let $=X[q];$===void 0&&($=O.clone(),X[q]=$,B.addEventListener("dispose",C)),O=$}if(O.visible=B.visible,O.wireframe=B.wireframe,R===ec?O.side=B.shadowSide!==null?B.shadowSide:B.side:O.side=B.shadowSide!==null?B.shadowSide:d[B.side],O.alphaMap=B.alphaMap,O.alphaTest=B.alphaTest,O.map=B.map,O.clipShadows=B.clipShadows,O.clippingPlanes=B.clippingPlanes,O.clipIntersection=B.clipIntersection,O.displacementMap=B.displacementMap,O.displacementScale=B.displacementScale,O.displacementBias=B.displacementBias,O.wireframeLinewidth=B.wireframeLinewidth,O.linewidth=B.linewidth,z.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const I=n.properties.get(O);I.light=z}return O}function E(T,B,z,R,O){if(T.visible===!1)return;if(T.layers.test(B.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&O===ec)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,T.matrixWorld);const q=e.update(T),X=T.material;if(Array.isArray(X)){const $=q.groups;for(let k=0,P=$.length;k<P;k++){const Z=$[k],H=X[Z.materialIndex];if(H&&H.visible){const ae=M(T,H,R,O);T.onBeforeShadow(n,T,B,z,q,ae,Z),n.renderBufferDirect(z,null,q,ae,T,Z),T.onAfterShadow(n,T,B,z,q,ae,Z)}}}else if(X.visible){const $=M(T,X,R,O);T.onBeforeShadow(n,T,B,z,q,$,null),n.renderBufferDirect(z,null,q,$,T,null),T.onAfterShadow(n,T,B,z,q,$,null)}}const I=T.children;for(let q=0,X=I.length;q<X;q++)E(I[q],B,z,R,O)}function C(T){T.target.removeEventListener("dispose",C);for(const z in u){const R=u[z],O=T.target.uuid;O in R&&(R[O].dispose(),delete R[O])}}}const xoe={[Q3]:J3,[eS]:rS,[tS]:iS,[Gm]:nS,[J3]:Q3,[rS]:eS,[iS]:tS,[nS]:Gm};function yoe(n,e){function t(){let me=!1;const Pe=new er;let $e=null;const tt=new er(0,0,0,0);return{setMask:function(xt){$e!==xt&&!me&&(n.colorMask(xt,xt,xt,xt),$e=xt)},setLocked:function(xt){me=xt},setClear:function(xt,wt,kt,Jt,Ht){Ht===!0&&(xt*=Jt,wt*=Jt,kt*=Jt),Pe.set(xt,wt,kt,Jt),tt.equals(Pe)===!1&&(n.clearColor(xt,wt,kt,Jt),tt.copy(Pe))},reset:function(){me=!1,$e=null,tt.set(-1,0,0,0)}}}function r(){let me=!1,Pe=!1,$e=null,tt=null,xt=null;return{setReversed:function(wt){if(Pe!==wt){const kt=e.get("EXT_clip_control");Pe?kt.clipControlEXT(kt.LOWER_LEFT_EXT,kt.ZERO_TO_ONE_EXT):kt.clipControlEXT(kt.LOWER_LEFT_EXT,kt.NEGATIVE_ONE_TO_ONE_EXT);const Jt=xt;xt=null,this.setClear(Jt)}Pe=wt},getReversed:function(){return Pe},setTest:function(wt){wt?ce(n.DEPTH_TEST):be(n.DEPTH_TEST)},setMask:function(wt){$e!==wt&&!me&&(n.depthMask(wt),$e=wt)},setFunc:function(wt){if(Pe&&(wt=xoe[wt]),tt!==wt){switch(wt){case Q3:n.depthFunc(n.NEVER);break;case J3:n.depthFunc(n.ALWAYS);break;case eS:n.depthFunc(n.LESS);break;case Gm:n.depthFunc(n.LEQUAL);break;case tS:n.depthFunc(n.EQUAL);break;case nS:n.depthFunc(n.GEQUAL);break;case rS:n.depthFunc(n.GREATER);break;case iS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}tt=wt}},setLocked:function(wt){me=wt},setClear:function(wt){xt!==wt&&(Pe&&(wt=1-wt),n.clearDepth(wt),xt=wt)},reset:function(){me=!1,$e=null,tt=null,xt=null,Pe=!1}}}function i(){let me=!1,Pe=null,$e=null,tt=null,xt=null,wt=null,kt=null,Jt=null,Ht=null;return{setTest:function(Wt){me||(Wt?ce(n.STENCIL_TEST):be(n.STENCIL_TEST))},setMask:function(Wt){Pe!==Wt&&!me&&(n.stencilMask(Wt),Pe=Wt)},setFunc:function(Wt,Fn,ar){($e!==Wt||tt!==Fn||xt!==ar)&&(n.stencilFunc(Wt,Fn,ar),$e=Wt,tt=Fn,xt=ar)},setOp:function(Wt,Fn,ar){(wt!==Wt||kt!==Fn||Jt!==ar)&&(n.stencilOp(Wt,Fn,ar),wt=Wt,kt=Fn,Jt=ar)},setLocked:function(Wt){me=Wt},setClear:function(Wt){Ht!==Wt&&(n.clearStencil(Wt),Ht=Wt)},reset:function(){me=!1,Pe=null,$e=null,tt=null,xt=null,wt=null,kt=null,Jt=null,Ht=null}}}const a=new t,s=new r,o=new i,l=new WeakMap,u=new WeakMap;let c={},d={},h=new WeakMap,p=[],g=null,x=!1,A=null,b=null,_=null,M=null,E=null,C=null,T=null,B=new jt(0,0,0),z=0,R=!1,O=null,U=null,I=null,q=null,X=null;const $=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,P=0;const Z=n.getParameter(n.VERSION);Z.indexOf("WebGL")!==-1?(P=parseFloat(/^WebGL (\d)/.exec(Z)[1]),k=P>=1):Z.indexOf("OpenGL ES")!==-1&&(P=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),k=P>=2);let H=null,ae={};const W=n.getParameter(n.SCISSOR_BOX),K=n.getParameter(n.VIEWPORT),Q=new er().fromArray(W),te=new er().fromArray(K);function le(me,Pe,$e,tt){const xt=new Uint8Array(4),wt=n.createTexture();n.bindTexture(me,wt),n.texParameteri(me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let kt=0;kt<$e;kt++)me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY?n.texImage3D(Pe,0,n.RGBA,1,1,tt,0,n.RGBA,n.UNSIGNED_BYTE,xt):n.texImage2D(Pe+kt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,xt);return wt}const de={};de[n.TEXTURE_2D]=le(n.TEXTURE_2D,n.TEXTURE_2D,1),de[n.TEXTURE_CUBE_MAP]=le(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[n.TEXTURE_2D_ARRAY]=le(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),de[n.TEXTURE_3D]=le(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ce(n.DEPTH_TEST),s.setFunc(Gm),he(!1),Be(dE),ce(n.CULL_FACE),ve(Nd);function ce(me){c[me]!==!0&&(n.enable(me),c[me]=!0)}function be(me){c[me]!==!1&&(n.disable(me),c[me]=!1)}function Te(me,Pe){return d[me]!==Pe?(n.bindFramebuffer(me,Pe),d[me]=Pe,me===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=Pe),me===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=Pe),!0):!1}function Oe(me,Pe){let $e=p,tt=!1;if(me){$e=h.get(Pe),$e===void 0&&($e=[],h.set(Pe,$e));const xt=me.textures;if($e.length!==xt.length||$e[0]!==n.COLOR_ATTACHMENT0){for(let wt=0,kt=xt.length;wt<kt;wt++)$e[wt]=n.COLOR_ATTACHMENT0+wt;$e.length=xt.length,tt=!0}}else $e[0]!==n.BACK&&($e[0]=n.BACK,tt=!0);tt&&n.drawBuffers($e)}function Fe(me){return g!==me?(n.useProgram(me),g=me,!0):!1}const Se={[G0]:n.FUNC_ADD,[sI]:n.FUNC_SUBTRACT,[oI]:n.FUNC_REVERSE_SUBTRACT};Se[lI]=n.MIN,Se[uI]=n.MAX;const Ve={[cI]:n.ZERO,[fI]:n.ONE,[dI]:n.SRC_COLOR,[Z3]:n.SRC_ALPHA,[xI]:n.SRC_ALPHA_SATURATE,[vI]:n.DST_COLOR,[mI]:n.DST_ALPHA,[hI]:n.ONE_MINUS_SRC_COLOR,[K3]:n.ONE_MINUS_SRC_ALPHA,[gI]:n.ONE_MINUS_DST_COLOR,[pI]:n.ONE_MINUS_DST_ALPHA,[yI]:n.CONSTANT_COLOR,[bI]:n.ONE_MINUS_CONSTANT_COLOR,[SI]:n.CONSTANT_ALPHA,[wI]:n.ONE_MINUS_CONSTANT_ALPHA};function ve(me,Pe,$e,tt,xt,wt,kt,Jt,Ht,Wt){if(me===Nd){x===!0&&(be(n.BLEND),x=!1);return}if(x===!1&&(ce(n.BLEND),x=!0),me!==aI){if(me!==A||Wt!==R){if((b!==G0||E!==G0)&&(n.blendEquation(n.FUNC_ADD),b=G0,E=G0),Wt)switch(me){case km:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Y3:n.blendFunc(n.ONE,n.ONE);break;case hE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case mE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case km:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Y3:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case hE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case mE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}_=null,M=null,C=null,T=null,B.set(0,0,0),z=0,A=me,R=Wt}return}xt=xt||Pe,wt=wt||$e,kt=kt||tt,(Pe!==b||xt!==E)&&(n.blendEquationSeparate(Se[Pe],Se[xt]),b=Pe,E=xt),($e!==_||tt!==M||wt!==C||kt!==T)&&(n.blendFuncSeparate(Ve[$e],Ve[tt],Ve[wt],Ve[kt]),_=$e,M=tt,C=wt,T=kt),(Jt.equals(B)===!1||Ht!==z)&&(n.blendColor(Jt.r,Jt.g,Jt.b,Ht),B.copy(Jt),z=Ht),A=me,R=!1}function fe(me,Pe){me.side===Qa?be(n.CULL_FACE):ce(n.CULL_FACE);let $e=me.side===Vs;Pe&&($e=!$e),he($e),me.blending===km&&me.transparent===!1?ve(Nd):ve(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),s.setFunc(me.depthFunc),s.setTest(me.depthTest),s.setMask(me.depthWrite),a.setMask(me.colorWrite);const tt=me.stencilWrite;o.setTest(tt),tt&&(o.setMask(me.stencilWriteMask),o.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),o.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),xe(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?ce(n.SAMPLE_ALPHA_TO_COVERAGE):be(n.SAMPLE_ALPHA_TO_COVERAGE)}function he(me){O!==me&&(me?n.frontFace(n.CW):n.frontFace(n.CCW),O=me)}function Be(me){me!==nI?(ce(n.CULL_FACE),me!==U&&(me===dE?n.cullFace(n.BACK):me===rI?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):be(n.CULL_FACE),U=me}function ue(me){me!==I&&(k&&n.lineWidth(me),I=me)}function xe(me,Pe,$e){me?(ce(n.POLYGON_OFFSET_FILL),(q!==Pe||X!==$e)&&(n.polygonOffset(Pe,$e),q=Pe,X=$e)):be(n.POLYGON_OFFSET_FILL)}function we(me){me?ce(n.SCISSOR_TEST):be(n.SCISSOR_TEST)}function ie(me){me===void 0&&(me=n.TEXTURE0+$-1),H!==me&&(n.activeTexture(me),H=me)}function re(me,Pe,$e){$e===void 0&&(H===null?$e=n.TEXTURE0+$-1:$e=H);let tt=ae[$e];tt===void 0&&(tt={type:void 0,texture:void 0},ae[$e]=tt),(tt.type!==me||tt.texture!==Pe)&&(H!==$e&&(n.activeTexture($e),H=$e),n.bindTexture(me,Pe||de[me]),tt.type=me,tt.texture=Pe)}function ee(){const me=ae[H];me!==void 0&&me.type!==void 0&&(n.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function oe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function ge(){try{n.compressedTexImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function De(){try{n.texSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Le(){try{n.texSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function He(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function et(){try{n.texStorage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Xe(){try{n.texStorage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function We(){try{n.texImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function st(){try{n.texImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function lt(me){Q.equals(me)===!1&&(n.scissor(me.x,me.y,me.z,me.w),Q.copy(me))}function Ke(me){te.equals(me)===!1&&(n.viewport(me.x,me.y,me.z,me.w),te.copy(me))}function ze(me,Pe){let $e=u.get(Pe);$e===void 0&&($e=new WeakMap,u.set(Pe,$e));let tt=$e.get(me);tt===void 0&&(tt=n.getUniformBlockIndex(Pe,me.name),$e.set(me,tt))}function G(me,Pe){const tt=u.get(Pe).get(me);l.get(Pe)!==tt&&(n.uniformBlockBinding(Pe,tt,me.__bindingPointIndex),l.set(Pe,tt))}function Ne(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},H=null,ae={},d={},h=new WeakMap,p=[],g=null,x=!1,A=null,b=null,_=null,M=null,E=null,C=null,T=null,B=new jt(0,0,0),z=0,R=!1,O=null,U=null,I=null,q=null,X=null,Q.set(0,0,n.canvas.width,n.canvas.height),te.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:ce,disable:be,bindFramebuffer:Te,drawBuffers:Oe,useProgram:Fe,setBlending:ve,setMaterial:fe,setFlipSided:he,setCullFace:Be,setLineWidth:ue,setPolygonOffset:xe,setScissorTest:we,activeTexture:ie,bindTexture:re,unbindTexture:ee,compressedTexImage2D:oe,compressedTexImage3D:ge,texImage2D:We,texImage3D:st,updateUBOMapping:ze,uniformBlockBinding:G,texStorage2D:et,texStorage3D:Xe,texSubImage2D:De,texSubImage3D:Le,compressedTexSubImage2D:Ue,compressedTexSubImage3D:He,scissor:lt,viewport:Ke,reset:Ne}}function boe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Soe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function woe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function bE(n,e,t,r){const i=Aoe(r);switch(t){case oN:return n*e;case uN:return n*e;case cN:return n*e*2;case Rw:return n*e/i.components*i.byteLength;case r2:return n*e/i.components*i.byteLength;case fN:return n*e*2/i.components*i.byteLength;case Bw:return n*e*2/i.components*i.byteLength;case lN:return n*e*3/i.components*i.byteLength;case js:return n*e*4/i.components*i.byteLength;case Ow:return n*e*4/i.components*i.byteLength;case iy:case ay:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case sy:case oy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case sS:case lS:return Math.max(n,16)*Math.max(e,8)/4;case aS:case oS:return Math.max(n,8)*Math.max(e,8)/2;case uS:case cS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case fS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case dS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case hS:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case mS:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case pS:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case vS:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case gS:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case xS:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case yS:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case bS:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case SS:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case wS:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case AS:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case MS:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case _S:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case ly:case ES:case NS:return Math.ceil(n/4)*Math.ceil(e/4)*16;case dN:case TS:return Math.ceil(n/4)*Math.ceil(e/4)*8;case CS:case DS:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Aoe(n){switch(n){case lc:case iN:return{byteLength:1,components:1};case u1:case aN:case B1:return{byteLength:2,components:1};case Cw:case Dw:return{byteLength:2,components:4};case Ld:case Tw:case el:return{byteLength:4,components:1};case sN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const Moe={contain:boe,cover:Soe,fill:woe,getByteLength:bE};function _oe(n,e,t,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new bt,c=new WeakMap;let d;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(ie,re){return p?new OffscreenCanvas(ie,re):By("canvas")}function x(ie,re,ee){let oe=1;const ge=we(ie);if((ge.width>ee||ge.height>ee)&&(oe=ee/Math.max(ge.width,ge.height)),oe<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const De=Math.floor(oe*ge.width),Le=Math.floor(oe*ge.height);d===void 0&&(d=g(De,Le));const Ue=re?g(De,Le):d;return Ue.width=De,Ue.height=Le,Ue.getContext("2d").drawImage(ie,0,0,De,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ge.width+"x"+ge.height+") to ("+De+"x"+Le+")."),Ue}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ge.width+"x"+ge.height+")."),ie;return ie}function A(ie){return ie.generateMipmaps}function b(ie){n.generateMipmap(ie)}function _(ie){return ie.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?n.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function M(ie,re,ee,oe,ge=!1){if(ie!==null){if(n[ie]!==void 0)return n[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let De=re;if(re===n.RED&&(ee===n.FLOAT&&(De=n.R32F),ee===n.HALF_FLOAT&&(De=n.R16F),ee===n.UNSIGNED_BYTE&&(De=n.R8)),re===n.RED_INTEGER&&(ee===n.UNSIGNED_BYTE&&(De=n.R8UI),ee===n.UNSIGNED_SHORT&&(De=n.R16UI),ee===n.UNSIGNED_INT&&(De=n.R32UI),ee===n.BYTE&&(De=n.R8I),ee===n.SHORT&&(De=n.R16I),ee===n.INT&&(De=n.R32I)),re===n.RG&&(ee===n.FLOAT&&(De=n.RG32F),ee===n.HALF_FLOAT&&(De=n.RG16F),ee===n.UNSIGNED_BYTE&&(De=n.RG8)),re===n.RG_INTEGER&&(ee===n.UNSIGNED_BYTE&&(De=n.RG8UI),ee===n.UNSIGNED_SHORT&&(De=n.RG16UI),ee===n.UNSIGNED_INT&&(De=n.RG32UI),ee===n.BYTE&&(De=n.RG8I),ee===n.SHORT&&(De=n.RG16I),ee===n.INT&&(De=n.RG32I)),re===n.RGB_INTEGER&&(ee===n.UNSIGNED_BYTE&&(De=n.RGB8UI),ee===n.UNSIGNED_SHORT&&(De=n.RGB16UI),ee===n.UNSIGNED_INT&&(De=n.RGB32UI),ee===n.BYTE&&(De=n.RGB8I),ee===n.SHORT&&(De=n.RGB16I),ee===n.INT&&(De=n.RGB32I)),re===n.RGBA_INTEGER&&(ee===n.UNSIGNED_BYTE&&(De=n.RGBA8UI),ee===n.UNSIGNED_SHORT&&(De=n.RGBA16UI),ee===n.UNSIGNED_INT&&(De=n.RGBA32UI),ee===n.BYTE&&(De=n.RGBA8I),ee===n.SHORT&&(De=n.RGBA16I),ee===n.INT&&(De=n.RGBA32I)),re===n.RGB&&ee===n.UNSIGNED_INT_5_9_9_9_REV&&(De=n.RGB9_E5),re===n.RGBA){const Le=ge?i2:gr.getTransfer(oe);ee===n.FLOAT&&(De=n.RGBA32F),ee===n.HALF_FLOAT&&(De=n.RGBA16F),ee===n.UNSIGNED_BYTE&&(De=Le===Gr?n.SRGB8_ALPHA8:n.RGBA8),ee===n.UNSIGNED_SHORT_4_4_4_4&&(De=n.RGBA4),ee===n.UNSIGNED_SHORT_5_5_5_1&&(De=n.RGB5_A1)}return(De===n.R16F||De===n.R32F||De===n.RG16F||De===n.RG32F||De===n.RGBA16F||De===n.RGBA32F)&&e.get("EXT_color_buffer_float"),De}function E(ie,re){let ee;return ie?re===null||re===Ld||re===$m?ee=n.DEPTH24_STENCIL8:re===el?ee=n.DEPTH32F_STENCIL8:re===u1&&(ee=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):re===null||re===Ld||re===$m?ee=n.DEPTH_COMPONENT24:re===el?ee=n.DEPTH_COMPONENT32F:re===u1&&(ee=n.DEPTH_COMPONENT16),ee}function C(ie,re){return A(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==gs&&ie.minFilter!==ua?Math.log2(Math.max(re.width,re.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?re.mipmaps.length:1}function T(ie){const re=ie.target;re.removeEventListener("dispose",T),z(re),re.isVideoTexture&&c.delete(re)}function B(ie){const re=ie.target;re.removeEventListener("dispose",B),O(re)}function z(ie){const re=r.get(ie);if(re.__webglInit===void 0)return;const ee=ie.source,oe=h.get(ee);if(oe){const ge=oe[re.__cacheKey];ge.usedTimes--,ge.usedTimes===0&&R(ie),Object.keys(oe).length===0&&h.delete(ee)}r.remove(ie)}function R(ie){const re=r.get(ie);n.deleteTexture(re.__webglTexture);const ee=ie.source,oe=h.get(ee);delete oe[re.__cacheKey],s.memory.textures--}function O(ie){const re=r.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),r.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++){if(Array.isArray(re.__webglFramebuffer[oe]))for(let ge=0;ge<re.__webglFramebuffer[oe].length;ge++)n.deleteFramebuffer(re.__webglFramebuffer[oe][ge]);else n.deleteFramebuffer(re.__webglFramebuffer[oe]);re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer[oe])}else{if(Array.isArray(re.__webglFramebuffer))for(let oe=0;oe<re.__webglFramebuffer.length;oe++)n.deleteFramebuffer(re.__webglFramebuffer[oe]);else n.deleteFramebuffer(re.__webglFramebuffer);if(re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&n.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let oe=0;oe<re.__webglColorRenderbuffer.length;oe++)re.__webglColorRenderbuffer[oe]&&n.deleteRenderbuffer(re.__webglColorRenderbuffer[oe]);re.__webglDepthRenderbuffer&&n.deleteRenderbuffer(re.__webglDepthRenderbuffer)}const ee=ie.textures;for(let oe=0,ge=ee.length;oe<ge;oe++){const De=r.get(ee[oe]);De.__webglTexture&&(n.deleteTexture(De.__webglTexture),s.memory.textures--),r.remove(ee[oe])}r.remove(ie)}let U=0;function I(){U=0}function q(){const ie=U;return ie>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+i.maxTextures),U+=1,ie}function X(ie){const re=[];return re.push(ie.wrapS),re.push(ie.wrapT),re.push(ie.wrapR||0),re.push(ie.magFilter),re.push(ie.minFilter),re.push(ie.anisotropy),re.push(ie.internalFormat),re.push(ie.format),re.push(ie.type),re.push(ie.generateMipmaps),re.push(ie.premultiplyAlpha),re.push(ie.flipY),re.push(ie.unpackAlignment),re.push(ie.colorSpace),re.join()}function $(ie,re){const ee=r.get(ie);if(ie.isVideoTexture&&ue(ie),ie.isRenderTargetTexture===!1&&ie.version>0&&ee.__version!==ie.version){const oe=ie.image;if(oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{te(ee,ie,re);return}}t.bindTexture(n.TEXTURE_2D,ee.__webglTexture,n.TEXTURE0+re)}function k(ie,re){const ee=r.get(ie);if(ie.version>0&&ee.__version!==ie.version){te(ee,ie,re);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ee.__webglTexture,n.TEXTURE0+re)}function P(ie,re){const ee=r.get(ie);if(ie.version>0&&ee.__version!==ie.version){te(ee,ie,re);return}t.bindTexture(n.TEXTURE_3D,ee.__webglTexture,n.TEXTURE0+re)}function Z(ie,re){const ee=r.get(ie);if(ie.version>0&&ee.__version!==ie.version){le(ee,ie,re);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+re)}const H={[Ey]:n.REPEAT,[mu]:n.CLAMP_TO_EDGE,[Ny]:n.MIRRORED_REPEAT},ae={[gs]:n.NEAREST,[rN]:n.NEAREST_MIPMAP_NEAREST,[$v]:n.NEAREST_MIPMAP_LINEAR,[ua]:n.LINEAR,[ry]:n.LINEAR_MIPMAP_NEAREST,[sf]:n.LINEAR_MIPMAP_LINEAR},W={[LI]:n.NEVER,[HI]:n.ALWAYS,[kI]:n.LESS,[pN]:n.LEQUAL,[II]:n.EQUAL,[VI]:n.GEQUAL,[PI]:n.GREATER,[jI]:n.NOTEQUAL};function K(ie,re){if(re.type===el&&e.has("OES_texture_float_linear")===!1&&(re.magFilter===ua||re.magFilter===ry||re.magFilter===$v||re.magFilter===sf||re.minFilter===ua||re.minFilter===ry||re.minFilter===$v||re.minFilter===sf)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ie,n.TEXTURE_WRAP_S,H[re.wrapS]),n.texParameteri(ie,n.TEXTURE_WRAP_T,H[re.wrapT]),(ie===n.TEXTURE_3D||ie===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ie,n.TEXTURE_WRAP_R,H[re.wrapR]),n.texParameteri(ie,n.TEXTURE_MAG_FILTER,ae[re.magFilter]),n.texParameteri(ie,n.TEXTURE_MIN_FILTER,ae[re.minFilter]),re.compareFunction&&(n.texParameteri(ie,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ie,n.TEXTURE_COMPARE_FUNC,W[re.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(re.magFilter===gs||re.minFilter!==$v&&re.minFilter!==sf||re.type===el&&e.has("OES_texture_float_linear")===!1)return;if(re.anisotropy>1||r.get(re).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ie,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(re.anisotropy,i.getMaxAnisotropy())),r.get(re).__currentAnisotropy=re.anisotropy}}}function Q(ie,re){let ee=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,re.addEventListener("dispose",T));const oe=re.source;let ge=h.get(oe);ge===void 0&&(ge={},h.set(oe,ge));const De=X(re);if(De!==ie.__cacheKey){ge[De]===void 0&&(ge[De]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,ee=!0),ge[De].usedTimes++;const Le=ge[ie.__cacheKey];Le!==void 0&&(ge[ie.__cacheKey].usedTimes--,Le.usedTimes===0&&R(re)),ie.__cacheKey=De,ie.__webglTexture=ge[De].texture}return ee}function te(ie,re,ee){let oe=n.TEXTURE_2D;(re.isDataArrayTexture||re.isCompressedArrayTexture)&&(oe=n.TEXTURE_2D_ARRAY),re.isData3DTexture&&(oe=n.TEXTURE_3D);const ge=Q(ie,re),De=re.source;t.bindTexture(oe,ie.__webglTexture,n.TEXTURE0+ee);const Le=r.get(De);if(De.version!==Le.__version||ge===!0){t.activeTexture(n.TEXTURE0+ee);const Ue=gr.getPrimaries(gr.workingColorSpace),He=re.colorSpace===xd?null:gr.getPrimaries(re.colorSpace),et=re.colorSpace===xd||Ue===He?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,re.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,re.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);let Xe=x(re.image,!1,i.maxTextureSize);Xe=xe(re,Xe);const We=a.convert(re.format,re.colorSpace),st=a.convert(re.type);let lt=M(re.internalFormat,We,st,re.colorSpace,re.isVideoTexture);K(oe,re);let Ke;const ze=re.mipmaps,G=re.isVideoTexture!==!0,Ne=Le.__version===void 0||ge===!0,me=De.dataReady,Pe=C(re,Xe);if(re.isDepthTexture)lt=E(re.format===Xm,re.type),Ne&&(G?t.texStorage2D(n.TEXTURE_2D,1,lt,Xe.width,Xe.height):t.texImage2D(n.TEXTURE_2D,0,lt,Xe.width,Xe.height,0,We,st,null));else if(re.isDataTexture)if(ze.length>0){G&&Ne&&t.texStorage2D(n.TEXTURE_2D,Pe,lt,ze[0].width,ze[0].height);for(let $e=0,tt=ze.length;$e<tt;$e++)Ke=ze[$e],G?me&&t.texSubImage2D(n.TEXTURE_2D,$e,0,0,Ke.width,Ke.height,We,st,Ke.data):t.texImage2D(n.TEXTURE_2D,$e,lt,Ke.width,Ke.height,0,We,st,Ke.data);re.generateMipmaps=!1}else G?(Ne&&t.texStorage2D(n.TEXTURE_2D,Pe,lt,Xe.width,Xe.height),me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Xe.width,Xe.height,We,st,Xe.data)):t.texImage2D(n.TEXTURE_2D,0,lt,Xe.width,Xe.height,0,We,st,Xe.data);else if(re.isCompressedTexture)if(re.isCompressedArrayTexture){G&&Ne&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Pe,lt,ze[0].width,ze[0].height,Xe.depth);for(let $e=0,tt=ze.length;$e<tt;$e++)if(Ke=ze[$e],re.format!==js)if(We!==null)if(G){if(me)if(re.layerUpdates.size>0){const xt=bE(Ke.width,Ke.height,re.format,re.type);for(const wt of re.layerUpdates){const kt=Ke.data.subarray(wt*xt/Ke.data.BYTES_PER_ELEMENT,(wt+1)*xt/Ke.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,wt,Ke.width,Ke.height,1,We,kt)}re.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,Ke.width,Ke.height,Xe.depth,We,Ke.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,$e,lt,Ke.width,Ke.height,Xe.depth,0,Ke.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else G?me&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,Ke.width,Ke.height,Xe.depth,We,st,Ke.data):t.texImage3D(n.TEXTURE_2D_ARRAY,$e,lt,Ke.width,Ke.height,Xe.depth,0,We,st,Ke.data)}else{G&&Ne&&t.texStorage2D(n.TEXTURE_2D,Pe,lt,ze[0].width,ze[0].height);for(let $e=0,tt=ze.length;$e<tt;$e++)Ke=ze[$e],re.format!==js?We!==null?G?me&&t.compressedTexSubImage2D(n.TEXTURE_2D,$e,0,0,Ke.width,Ke.height,We,Ke.data):t.compressedTexImage2D(n.TEXTURE_2D,$e,lt,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):G?me&&t.texSubImage2D(n.TEXTURE_2D,$e,0,0,Ke.width,Ke.height,We,st,Ke.data):t.texImage2D(n.TEXTURE_2D,$e,lt,Ke.width,Ke.height,0,We,st,Ke.data)}else if(re.isDataArrayTexture)if(G){if(Ne&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Pe,lt,Xe.width,Xe.height,Xe.depth),me)if(re.layerUpdates.size>0){const $e=bE(Xe.width,Xe.height,re.format,re.type);for(const tt of re.layerUpdates){const xt=Xe.data.subarray(tt*$e/Xe.data.BYTES_PER_ELEMENT,(tt+1)*$e/Xe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,tt,Xe.width,Xe.height,1,We,st,xt)}re.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,We,st,Xe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,lt,Xe.width,Xe.height,Xe.depth,0,We,st,Xe.data);else if(re.isData3DTexture)G?(Ne&&t.texStorage3D(n.TEXTURE_3D,Pe,lt,Xe.width,Xe.height,Xe.depth),me&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,We,st,Xe.data)):t.texImage3D(n.TEXTURE_3D,0,lt,Xe.width,Xe.height,Xe.depth,0,We,st,Xe.data);else if(re.isFramebufferTexture){if(Ne)if(G)t.texStorage2D(n.TEXTURE_2D,Pe,lt,Xe.width,Xe.height);else{let $e=Xe.width,tt=Xe.height;for(let xt=0;xt<Pe;xt++)t.texImage2D(n.TEXTURE_2D,xt,lt,$e,tt,0,We,st,null),$e>>=1,tt>>=1}}else if(ze.length>0){if(G&&Ne){const $e=we(ze[0]);t.texStorage2D(n.TEXTURE_2D,Pe,lt,$e.width,$e.height)}for(let $e=0,tt=ze.length;$e<tt;$e++)Ke=ze[$e],G?me&&t.texSubImage2D(n.TEXTURE_2D,$e,0,0,We,st,Ke):t.texImage2D(n.TEXTURE_2D,$e,lt,We,st,Ke);re.generateMipmaps=!1}else if(G){if(Ne){const $e=we(Xe);t.texStorage2D(n.TEXTURE_2D,Pe,lt,$e.width,$e.height)}me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,We,st,Xe)}else t.texImage2D(n.TEXTURE_2D,0,lt,We,st,Xe);A(re)&&b(oe),Le.__version=De.version,re.onUpdate&&re.onUpdate(re)}ie.__version=re.version}function le(ie,re,ee){if(re.image.length!==6)return;const oe=Q(ie,re),ge=re.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+ee);const De=r.get(ge);if(ge.version!==De.__version||oe===!0){t.activeTexture(n.TEXTURE0+ee);const Le=gr.getPrimaries(gr.workingColorSpace),Ue=re.colorSpace===xd?null:gr.getPrimaries(re.colorSpace),He=re.colorSpace===xd||Le===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,re.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,re.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);const et=re.isCompressedTexture||re.image[0].isCompressedTexture,Xe=re.image[0]&&re.image[0].isDataTexture,We=[];for(let tt=0;tt<6;tt++)!et&&!Xe?We[tt]=x(re.image[tt],!0,i.maxCubemapSize):We[tt]=Xe?re.image[tt].image:re.image[tt],We[tt]=xe(re,We[tt]);const st=We[0],lt=a.convert(re.format,re.colorSpace),Ke=a.convert(re.type),ze=M(re.internalFormat,lt,Ke,re.colorSpace),G=re.isVideoTexture!==!0,Ne=De.__version===void 0||oe===!0,me=ge.dataReady;let Pe=C(re,st);K(n.TEXTURE_CUBE_MAP,re);let $e;if(et){G&&Ne&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Pe,ze,st.width,st.height);for(let tt=0;tt<6;tt++){$e=We[tt].mipmaps;for(let xt=0;xt<$e.length;xt++){const wt=$e[xt];re.format!==js?lt!==null?G?me&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt,0,0,wt.width,wt.height,lt,wt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt,ze,wt.width,wt.height,0,wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):G?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt,0,0,wt.width,wt.height,lt,Ke,wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt,ze,wt.width,wt.height,0,lt,Ke,wt.data)}}}else{if($e=re.mipmaps,G&&Ne){$e.length>0&&Pe++;const tt=we(We[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Pe,ze,tt.width,tt.height)}for(let tt=0;tt<6;tt++)if(Xe){G?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,We[tt].width,We[tt].height,lt,Ke,We[tt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,ze,We[tt].width,We[tt].height,0,lt,Ke,We[tt].data);for(let xt=0;xt<$e.length;xt++){const kt=$e[xt].image[tt].image;G?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt+1,0,0,kt.width,kt.height,lt,Ke,kt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt+1,ze,kt.width,kt.height,0,lt,Ke,kt.data)}}else{G?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,lt,Ke,We[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,ze,lt,Ke,We[tt]);for(let xt=0;xt<$e.length;xt++){const wt=$e[xt];G?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt+1,0,0,lt,Ke,wt.image[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,xt+1,ze,lt,Ke,wt.image[tt])}}}A(re)&&b(n.TEXTURE_CUBE_MAP),De.__version=ge.version,re.onUpdate&&re.onUpdate(re)}ie.__version=re.version}function de(ie,re,ee,oe,ge,De){const Le=a.convert(ee.format,ee.colorSpace),Ue=a.convert(ee.type),He=M(ee.internalFormat,Le,Ue,ee.colorSpace),et=r.get(re),Xe=r.get(ee);if(Xe.__renderTarget=re,!et.__hasExternalTextures){const We=Math.max(1,re.width>>De),st=Math.max(1,re.height>>De);ge===n.TEXTURE_3D||ge===n.TEXTURE_2D_ARRAY?t.texImage3D(ge,De,He,We,st,re.depth,0,Le,Ue,null):t.texImage2D(ge,De,He,We,st,0,Le,Ue,null)}t.bindFramebuffer(n.FRAMEBUFFER,ie),Be(re)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,oe,ge,Xe.__webglTexture,0,he(re)):(ge===n.TEXTURE_2D||ge>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ge<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,oe,ge,Xe.__webglTexture,De),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ce(ie,re,ee){if(n.bindRenderbuffer(n.RENDERBUFFER,ie),re.depthBuffer){const oe=re.depthTexture,ge=oe&&oe.isDepthTexture?oe.type:null,De=E(re.stencilBuffer,ge),Le=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=he(re);Be(re)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ue,De,re.width,re.height):ee?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,De,re.width,re.height):n.renderbufferStorage(n.RENDERBUFFER,De,re.width,re.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Le,n.RENDERBUFFER,ie)}else{const oe=re.textures;for(let ge=0;ge<oe.length;ge++){const De=oe[ge],Le=a.convert(De.format,De.colorSpace),Ue=a.convert(De.type),He=M(De.internalFormat,Le,Ue,De.colorSpace),et=he(re);ee&&Be(re)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,et,He,re.width,re.height):Be(re)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,et,He,re.width,re.height):n.renderbufferStorage(n.RENDERBUFFER,He,re.width,re.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function be(ie,re){if(re&&re.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ie),!(re.depthTexture&&re.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const oe=r.get(re.depthTexture);oe.__renderTarget=re,(!oe.__webglTexture||re.depthTexture.image.width!==re.width||re.depthTexture.image.height!==re.height)&&(re.depthTexture.image.width=re.width,re.depthTexture.image.height=re.height,re.depthTexture.needsUpdate=!0),$(re.depthTexture,0);const ge=oe.__webglTexture,De=he(re);if(re.depthTexture.format===Im)Be(re)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0,De):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0);else if(re.depthTexture.format===Xm)Be(re)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0,De):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0);else throw new Error("Unknown depthTexture format")}function Te(ie){const re=r.get(ie),ee=ie.isWebGLCubeRenderTarget===!0;if(re.__boundDepthTexture!==ie.depthTexture){const oe=ie.depthTexture;if(re.__depthDisposeCallback&&re.__depthDisposeCallback(),oe){const ge=()=>{delete re.__boundDepthTexture,delete re.__depthDisposeCallback,oe.removeEventListener("dispose",ge)};oe.addEventListener("dispose",ge),re.__depthDisposeCallback=ge}re.__boundDepthTexture=oe}if(ie.depthTexture&&!re.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");be(re.__webglFramebuffer,ie)}else if(ee){re.__webglDepthbuffer=[];for(let oe=0;oe<6;oe++)if(t.bindFramebuffer(n.FRAMEBUFFER,re.__webglFramebuffer[oe]),re.__webglDepthbuffer[oe]===void 0)re.__webglDepthbuffer[oe]=n.createRenderbuffer(),ce(re.__webglDepthbuffer[oe],ie,!1);else{const ge=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,De=re.__webglDepthbuffer[oe];n.bindRenderbuffer(n.RENDERBUFFER,De),n.framebufferRenderbuffer(n.FRAMEBUFFER,ge,n.RENDERBUFFER,De)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,re.__webglFramebuffer),re.__webglDepthbuffer===void 0)re.__webglDepthbuffer=n.createRenderbuffer(),ce(re.__webglDepthbuffer,ie,!1);else{const oe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ge=re.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ge),n.framebufferRenderbuffer(n.FRAMEBUFFER,oe,n.RENDERBUFFER,ge)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Oe(ie,re,ee){const oe=r.get(ie);re!==void 0&&de(oe.__webglFramebuffer,ie,ie.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ee!==void 0&&Te(ie)}function Fe(ie){const re=ie.texture,ee=r.get(ie),oe=r.get(re);ie.addEventListener("dispose",B);const ge=ie.textures,De=ie.isWebGLCubeRenderTarget===!0,Le=ge.length>1;if(Le||(oe.__webglTexture===void 0&&(oe.__webglTexture=n.createTexture()),oe.__version=re.version,s.memory.textures++),De){ee.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(re.mipmaps&&re.mipmaps.length>0){ee.__webglFramebuffer[Ue]=[];for(let He=0;He<re.mipmaps.length;He++)ee.__webglFramebuffer[Ue][He]=n.createFramebuffer()}else ee.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(re.mipmaps&&re.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Ue=0;Ue<re.mipmaps.length;Ue++)ee.__webglFramebuffer[Ue]=n.createFramebuffer()}else ee.__webglFramebuffer=n.createFramebuffer();if(Le)for(let Ue=0,He=ge.length;Ue<He;Ue++){const et=r.get(ge[Ue]);et.__webglTexture===void 0&&(et.__webglTexture=n.createTexture(),s.memory.textures++)}if(ie.samples>0&&Be(ie)===!1){ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let Ue=0;Ue<ge.length;Ue++){const He=ge[Ue];ee.__webglColorRenderbuffer[Ue]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ue]);const et=a.convert(He.format,He.colorSpace),Xe=a.convert(He.type),We=M(He.internalFormat,et,Xe,He.colorSpace,ie.isXRRenderTarget===!0),st=he(ie);n.renderbufferStorageMultisample(n.RENDERBUFFER,st,We,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ue])}n.bindRenderbuffer(n.RENDERBUFFER,null),ie.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),ce(ee.__webglDepthRenderbuffer,ie,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(De){t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture),K(n.TEXTURE_CUBE_MAP,re);for(let Ue=0;Ue<6;Ue++)if(re.mipmaps&&re.mipmaps.length>0)for(let He=0;He<re.mipmaps.length;He++)de(ee.__webglFramebuffer[Ue][He],ie,re,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,He);else de(ee.__webglFramebuffer[Ue],ie,re,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);A(re)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Le){for(let Ue=0,He=ge.length;Ue<He;Ue++){const et=ge[Ue],Xe=r.get(et);t.bindTexture(n.TEXTURE_2D,Xe.__webglTexture),K(n.TEXTURE_2D,et),de(ee.__webglFramebuffer,ie,et,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,0),A(et)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(Ue=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ue,oe.__webglTexture),K(Ue,re),re.mipmaps&&re.mipmaps.length>0)for(let He=0;He<re.mipmaps.length;He++)de(ee.__webglFramebuffer[He],ie,re,n.COLOR_ATTACHMENT0,Ue,He);else de(ee.__webglFramebuffer,ie,re,n.COLOR_ATTACHMENT0,Ue,0);A(re)&&b(Ue),t.unbindTexture()}ie.depthBuffer&&Te(ie)}function Se(ie){const re=ie.textures;for(let ee=0,oe=re.length;ee<oe;ee++){const ge=re[ee];if(A(ge)){const De=_(ie),Le=r.get(ge).__webglTexture;t.bindTexture(De,Le),b(De),t.unbindTexture()}}}const Ve=[],ve=[];function fe(ie){if(ie.samples>0){if(Be(ie)===!1){const re=ie.textures,ee=ie.width,oe=ie.height;let ge=n.COLOR_BUFFER_BIT;const De=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=r.get(ie),Ue=re.length>1;if(Ue)for(let He=0;He<re.length;He++)t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Le.__webglFramebuffer);for(let He=0;He<re.length;He++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(ge|=n.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(ge|=n.STENCIL_BUFFER_BIT)),Ue){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Le.__webglColorRenderbuffer[He]);const et=r.get(re[He]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,et,0)}n.blitFramebuffer(0,0,ee,oe,0,0,ee,oe,ge,n.NEAREST),l===!0&&(Ve.length=0,ve.length=0,Ve.push(n.COLOR_ATTACHMENT0+He),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(Ve.push(De),ve.push(De),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ve)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ve))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ue)for(let He=0;He<re.length;He++){t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,Le.__webglColorRenderbuffer[He]);const et=r.get(re[He]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Le.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,et,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Le.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const re=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[re])}}}function he(ie){return Math.min(i.maxSamples,ie.samples)}function Be(ie){const re=r.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&re.__useRenderToTexture!==!1}function ue(ie){const re=s.render.frame;c.get(ie)!==re&&(c.set(ie,re),ie.update())}function xe(ie,re){const ee=ie.colorSpace,oe=ie.format,ge=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||ee!==ch&&ee!==xd&&(gr.getTransfer(ee)===Gr?(oe!==js||ge!==lc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),re}function we(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(u.width=ie.naturalWidth||ie.width,u.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(u.width=ie.displayWidth,u.height=ie.displayHeight):(u.width=ie.width,u.height=ie.height),u}this.allocateTextureUnit=q,this.resetTextureUnits=I,this.setTexture2D=$,this.setTexture2DArray=k,this.setTexture3D=P,this.setTextureCube=Z,this.rebindTextures=Oe,this.setupRenderTarget=Fe,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=fe,this.setupDepthRenderbuffer=Te,this.setupFrameBufferTexture=de,this.useMultisampledRTT=Be}function rP(n,e){function t(r,i=xd){let a;const s=gr.getTransfer(i);if(r===lc)return n.UNSIGNED_BYTE;if(r===Cw)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Dw)return n.UNSIGNED_SHORT_5_5_5_1;if(r===sN)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===iN)return n.BYTE;if(r===aN)return n.SHORT;if(r===u1)return n.UNSIGNED_SHORT;if(r===Tw)return n.INT;if(r===Ld)return n.UNSIGNED_INT;if(r===el)return n.FLOAT;if(r===B1)return n.HALF_FLOAT;if(r===oN)return n.ALPHA;if(r===lN)return n.RGB;if(r===js)return n.RGBA;if(r===uN)return n.LUMINANCE;if(r===cN)return n.LUMINANCE_ALPHA;if(r===Im)return n.DEPTH_COMPONENT;if(r===Xm)return n.DEPTH_STENCIL;if(r===Rw)return n.RED;if(r===r2)return n.RED_INTEGER;if(r===fN)return n.RG;if(r===Bw)return n.RG_INTEGER;if(r===Ow)return n.RGBA_INTEGER;if(r===iy||r===ay||r===sy||r===oy)if(s===Gr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===iy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===ay)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===sy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===oy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===iy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===ay)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===sy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===oy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===aS||r===sS||r===oS||r===lS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===aS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===sS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===oS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===lS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===uS||r===cS||r===fS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===uS||r===cS)return s===Gr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===fS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===dS||r===hS||r===mS||r===pS||r===vS||r===gS||r===xS||r===yS||r===bS||r===SS||r===wS||r===AS||r===MS||r===_S)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===dS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===hS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===mS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===pS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===vS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===gS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===xS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===yS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===bS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===SS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===wS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===AS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===MS)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===_S)return s===Gr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===ly||r===ES||r===NS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===ly)return s===Gr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===ES)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===NS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===dN||r===TS||r===CS||r===DS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===ly)return a.COMPRESSED_RED_RGTC1_EXT;if(r===TS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===CS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===DS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===$m?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}class iP extends oa{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Yv extends Dr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Eoe={type:"move"};class MM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Yv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Yv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Yv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const x of e.hand.values()){const A=t.getJointPose(x,r),b=this._getHandJoint(u,x);A!==null&&(b.matrix.fromArray(A.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=A.radius),b.visible=A!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],h=c.position.distanceTo(d.position),p=.02,g=.005;u.inputState.pinching&&h>p+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=p-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Eoe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Yv;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const Noe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Toe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Coe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Pi,a=e.properties.get(i);a.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new nl({vertexShader:Noe,fragmentShader:Toe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ni(new fc(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Doe extends bf{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,u=null,c=null,d=null,h=null,p=null,g=null;const x=new Coe,A=t.getContextAttributes();let b=null,_=null;const M=[],E=[],C=new bt;let T=null;const B=new oa;B.viewport=new er;const z=new oa;z.viewport=new er;const R=[B,z],O=new iP;let U=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let le=M[te];return le===void 0&&(le=new MM,M[te]=le),le.getTargetRaySpace()},this.getControllerGrip=function(te){let le=M[te];return le===void 0&&(le=new MM,M[te]=le),le.getGripSpace()},this.getHand=function(te){let le=M[te];return le===void 0&&(le=new MM,M[te]=le),le.getHandSpace()};function q(te){const le=E.indexOf(te.inputSource);if(le===-1)return;const de=M[le];de!==void 0&&(de.update(te.inputSource,te.frame,u||s),de.dispatchEvent({type:te.type,data:te.inputSource}))}function X(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",X),i.removeEventListener("inputsourceschange",$);for(let te=0;te<M.length;te++){const le=E[te];le!==null&&(E[te]=null,M[te].disconnect(le))}U=null,I=null,x.reset(),e.setRenderTarget(b),p=null,h=null,d=null,i=null,_=null,Q.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){a=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){o=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(te){u=te},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(te){if(i=te,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",X),i.addEventListener("inputsourceschange",$),A.xrCompatible!==!0&&await t.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(C),i.renderState.layers===void 0){const le={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:a};p=new XRWebGLLayer(i,t,le),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),_=new uc(p.framebufferWidth,p.framebufferHeight,{format:js,type:lc,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil})}else{let le=null,de=null,ce=null;A.depth&&(ce=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,le=A.stencil?Xm:Im,de=A.stencil?$m:Ld);const be={colorFormat:t.RGBA8,depthFormat:ce,scaleFactor:a};d=new XRWebGLBinding(i,t),h=d.createProjectionLayer(be),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new uc(h.textureWidth,h.textureHeight,{format:js,type:lc,depthTexture:new SN(h.textureWidth,h.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,le),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await i.requestReferenceSpace(o),Q.setContext(i),Q.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function $(te){for(let le=0;le<te.removed.length;le++){const de=te.removed[le],ce=E.indexOf(de);ce>=0&&(E[ce]=null,M[ce].disconnect(de))}for(let le=0;le<te.added.length;le++){const de=te.added[le];let ce=E.indexOf(de);if(ce===-1){for(let Te=0;Te<M.length;Te++)if(Te>=E.length){E.push(de),ce=Te;break}else if(E[Te]===null){E[Te]=de,ce=Te;break}if(ce===-1)break}const be=M[ce];be&&be.connect(de)}}const k=new Ce,P=new Ce;function Z(te,le,de){k.setFromMatrixPosition(le.matrixWorld),P.setFromMatrixPosition(de.matrixWorld);const ce=k.distanceTo(P),be=le.projectionMatrix.elements,Te=de.projectionMatrix.elements,Oe=be[14]/(be[10]-1),Fe=be[14]/(be[10]+1),Se=(be[9]+1)/be[5],Ve=(be[9]-1)/be[5],ve=(be[8]-1)/be[0],fe=(Te[8]+1)/Te[0],he=Oe*ve,Be=Oe*fe,ue=ce/(-ve+fe),xe=ue*-ve;if(le.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(xe),te.translateZ(ue),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert(),be[10]===-1)te.projectionMatrix.copy(le.projectionMatrix),te.projectionMatrixInverse.copy(le.projectionMatrixInverse);else{const we=Oe+ue,ie=Fe+ue,re=he-xe,ee=Be+(ce-xe),oe=Se*Fe/ie*we,ge=Ve*Fe/ie*we;te.projectionMatrix.makePerspective(re,ee,oe,ge,we,ie),te.projectionMatrixInverse.copy(te.projectionMatrix).invert()}}function H(te,le){le===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(le.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(i===null)return;let le=te.near,de=te.far;x.texture!==null&&(x.depthNear>0&&(le=x.depthNear),x.depthFar>0&&(de=x.depthFar)),O.near=z.near=B.near=le,O.far=z.far=B.far=de,(U!==O.near||I!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),U=O.near,I=O.far),B.layers.mask=te.layers.mask|2,z.layers.mask=te.layers.mask|4,O.layers.mask=B.layers.mask|z.layers.mask;const ce=te.parent,be=O.cameras;H(O,ce);for(let Te=0;Te<be.length;Te++)H(be[Te],ce);be.length===2?Z(O,B,z):O.projectionMatrix.copy(B.projectionMatrix),ae(te,O,ce)};function ae(te,le,de){de===null?te.matrix.copy(le.matrixWorld):(te.matrix.copy(de.matrixWorld),te.matrix.invert(),te.matrix.multiply(le.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0),te.projectionMatrix.copy(le.projectionMatrix),te.projectionMatrixInverse.copy(le.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=c1*2*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(te){l=te,h!==null&&(h.fixedFoveation=te),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=te)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(O)};let W=null;function K(te,le){if(c=le.getViewerPose(u||s),g=le,c!==null){const de=c.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let ce=!1;de.length!==O.cameras.length&&(O.cameras.length=0,ce=!0);for(let Te=0;Te<de.length;Te++){const Oe=de[Te];let Fe=null;if(p!==null)Fe=p.getViewport(Oe);else{const Ve=d.getViewSubImage(h,Oe);Fe=Ve.viewport,Te===0&&(e.setRenderTargetTextures(_,Ve.colorTexture,h.ignoreDepthValues?void 0:Ve.depthStencilTexture),e.setRenderTarget(_))}let Se=R[Te];Se===void 0&&(Se=new oa,Se.layers.enable(Te),Se.viewport=new er,R[Te]=Se),Se.matrix.fromArray(Oe.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(Oe.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(Fe.x,Fe.y,Fe.width,Fe.height),Te===0&&(O.matrix.copy(Se.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),ce===!0&&O.cameras.push(Se)}const be=i.enabledFeatures;if(be&&be.includes("depth-sensing")){const Te=d.getDepthInformation(de[0]);Te&&Te.isValid&&Te.texture&&x.init(e,Te,i.renderState)}}for(let de=0;de<M.length;de++){const ce=E[de],be=M[de];ce!==null&&be!==void 0&&be.update(ce,le,u||s)}W&&W(te,le),le.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:le}),g=null}const Q=new QI;Q.setAnimationLoop(K),this.setAnimationLoop=function(te){W=te},this.dispose=function(){}}}const hm=new Dl,Roe=new Mn;function Boe(n,e){function t(A,b){A.matrixAutoUpdate===!0&&A.updateMatrix(),b.value.copy(A.matrix)}function r(A,b){b.color.getRGB(A.fogColor.value,YI(n)),b.isFog?(A.fogNear.value=b.near,A.fogFar.value=b.far):b.isFogExp2&&(A.fogDensity.value=b.density)}function i(A,b,_,M,E){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(A,b):b.isMeshToonMaterial?(a(A,b),d(A,b)):b.isMeshPhongMaterial?(a(A,b),c(A,b)):b.isMeshStandardMaterial?(a(A,b),h(A,b),b.isMeshPhysicalMaterial&&p(A,b,E)):b.isMeshMatcapMaterial?(a(A,b),g(A,b)):b.isMeshDepthMaterial?a(A,b):b.isMeshDistanceMaterial?(a(A,b),x(A,b)):b.isMeshNormalMaterial?a(A,b):b.isLineBasicMaterial?(s(A,b),b.isLineDashedMaterial&&o(A,b)):b.isPointsMaterial?l(A,b,_,M):b.isSpriteMaterial?u(A,b):b.isShadowMaterial?(A.color.value.copy(b.color),A.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(A,b){A.opacity.value=b.opacity,b.color&&A.diffuse.value.copy(b.color),b.emissive&&A.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(A.map.value=b.map,t(b.map,A.mapTransform)),b.alphaMap&&(A.alphaMap.value=b.alphaMap,t(b.alphaMap,A.alphaMapTransform)),b.bumpMap&&(A.bumpMap.value=b.bumpMap,t(b.bumpMap,A.bumpMapTransform),A.bumpScale.value=b.bumpScale,b.side===Vs&&(A.bumpScale.value*=-1)),b.normalMap&&(A.normalMap.value=b.normalMap,t(b.normalMap,A.normalMapTransform),A.normalScale.value.copy(b.normalScale),b.side===Vs&&A.normalScale.value.negate()),b.displacementMap&&(A.displacementMap.value=b.displacementMap,t(b.displacementMap,A.displacementMapTransform),A.displacementScale.value=b.displacementScale,A.displacementBias.value=b.displacementBias),b.emissiveMap&&(A.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,A.emissiveMapTransform)),b.specularMap&&(A.specularMap.value=b.specularMap,t(b.specularMap,A.specularMapTransform)),b.alphaTest>0&&(A.alphaTest.value=b.alphaTest);const _=e.get(b),M=_.envMap,E=_.envMapRotation;M&&(A.envMap.value=M,hm.copy(E),hm.x*=-1,hm.y*=-1,hm.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(hm.y*=-1,hm.z*=-1),A.envMapRotation.value.setFromMatrix4(Roe.makeRotationFromEuler(hm)),A.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=b.reflectivity,A.ior.value=b.ior,A.refractionRatio.value=b.refractionRatio),b.lightMap&&(A.lightMap.value=b.lightMap,A.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,A.lightMapTransform)),b.aoMap&&(A.aoMap.value=b.aoMap,A.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,A.aoMapTransform))}function s(A,b){A.diffuse.value.copy(b.color),A.opacity.value=b.opacity,b.map&&(A.map.value=b.map,t(b.map,A.mapTransform))}function o(A,b){A.dashSize.value=b.dashSize,A.totalSize.value=b.dashSize+b.gapSize,A.scale.value=b.scale}function l(A,b,_,M){A.diffuse.value.copy(b.color),A.opacity.value=b.opacity,A.size.value=b.size*_,A.scale.value=M*.5,b.map&&(A.map.value=b.map,t(b.map,A.uvTransform)),b.alphaMap&&(A.alphaMap.value=b.alphaMap,t(b.alphaMap,A.alphaMapTransform)),b.alphaTest>0&&(A.alphaTest.value=b.alphaTest)}function u(A,b){A.diffuse.value.copy(b.color),A.opacity.value=b.opacity,A.rotation.value=b.rotation,b.map&&(A.map.value=b.map,t(b.map,A.mapTransform)),b.alphaMap&&(A.alphaMap.value=b.alphaMap,t(b.alphaMap,A.alphaMapTransform)),b.alphaTest>0&&(A.alphaTest.value=b.alphaTest)}function c(A,b){A.specular.value.copy(b.specular),A.shininess.value=Math.max(b.shininess,1e-4)}function d(A,b){b.gradientMap&&(A.gradientMap.value=b.gradientMap)}function h(A,b){A.metalness.value=b.metalness,b.metalnessMap&&(A.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,A.metalnessMapTransform)),A.roughness.value=b.roughness,b.roughnessMap&&(A.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,A.roughnessMapTransform)),b.envMap&&(A.envMapIntensity.value=b.envMapIntensity)}function p(A,b,_){A.ior.value=b.ior,b.sheen>0&&(A.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),A.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(A.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,A.sheenColorMapTransform)),b.sheenRoughnessMap&&(A.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,A.sheenRoughnessMapTransform))),b.clearcoat>0&&(A.clearcoat.value=b.clearcoat,A.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(A.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,A.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(A.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Vs&&A.clearcoatNormalScale.value.negate())),b.dispersion>0&&(A.dispersion.value=b.dispersion),b.iridescence>0&&(A.iridescence.value=b.iridescence,A.iridescenceIOR.value=b.iridescenceIOR,A.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(A.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,A.iridescenceMapTransform)),b.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),b.transmission>0&&(A.transmission.value=b.transmission,A.transmissionSamplerMap.value=_.texture,A.transmissionSamplerSize.value.set(_.width,_.height),b.transmissionMap&&(A.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,A.transmissionMapTransform)),A.thickness.value=b.thickness,b.thicknessMap&&(A.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=b.attenuationDistance,A.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(A.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(A.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=b.specularIntensity,A.specularColor.value.copy(b.specularColor),b.specularColorMap&&(A.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,A.specularColorMapTransform)),b.specularIntensityMap&&(A.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,A.specularIntensityMapTransform))}function g(A,b){b.matcap&&(A.matcap.value=b.matcap)}function x(A,b){const _=e.get(b).light;A.referencePosition.value.setFromMatrixPosition(_.matrixWorld),A.nearDistance.value=_.shadow.camera.near,A.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Ooe(n,e,t,r){let i={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,M){const E=M.program;r.uniformBlockBinding(_,E)}function u(_,M){let E=i[_.id];E===void 0&&(g(_),E=c(_),i[_.id]=E,_.addEventListener("dispose",A));const C=M.program;r.updateUBOMapping(_,C);const T=e.render.frame;a[_.id]!==T&&(h(_),a[_.id]=T)}function c(_){const M=d();_.__bindingPointIndex=M;const E=n.createBuffer(),C=_.__size,T=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,C,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,E),E}function d(){for(let _=0;_<o;_++)if(s.indexOf(_)===-1)return s.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const M=i[_.id],E=_.uniforms,C=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,M);for(let T=0,B=E.length;T<B;T++){const z=Array.isArray(E[T])?E[T]:[E[T]];for(let R=0,O=z.length;R<O;R++){const U=z[R];if(p(U,T,R,C)===!0){const I=U.__offset,q=Array.isArray(U.value)?U.value:[U.value];let X=0;for(let $=0;$<q.length;$++){const k=q[$],P=x(k);typeof k=="number"||typeof k=="boolean"?(U.__data[0]=k,n.bufferSubData(n.UNIFORM_BUFFER,I+X,U.__data)):k.isMatrix3?(U.__data[0]=k.elements[0],U.__data[1]=k.elements[1],U.__data[2]=k.elements[2],U.__data[3]=0,U.__data[4]=k.elements[3],U.__data[5]=k.elements[4],U.__data[6]=k.elements[5],U.__data[7]=0,U.__data[8]=k.elements[6],U.__data[9]=k.elements[7],U.__data[10]=k.elements[8],U.__data[11]=0):(k.toArray(U.__data,X),X+=P.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,I,U.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function p(_,M,E,C){const T=_.value,B=M+"_"+E;if(C[B]===void 0)return typeof T=="number"||typeof T=="boolean"?C[B]=T:C[B]=T.clone(),!0;{const z=C[B];if(typeof T=="number"||typeof T=="boolean"){if(z!==T)return C[B]=T,!0}else if(z.equals(T)===!1)return z.copy(T),!0}return!1}function g(_){const M=_.uniforms;let E=0;const C=16;for(let B=0,z=M.length;B<z;B++){const R=Array.isArray(M[B])?M[B]:[M[B]];for(let O=0,U=R.length;O<U;O++){const I=R[O],q=Array.isArray(I.value)?I.value:[I.value];for(let X=0,$=q.length;X<$;X++){const k=q[X],P=x(k),Z=E%C,H=Z%P.boundary,ae=Z+H;E+=H,ae!==0&&C-ae<P.storage&&(E+=C-ae),I.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=E,E+=P.storage}}}const T=E%C;return T>0&&(E+=C-T),_.__size=E,_.__cache={},this}function x(_){const M={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(M.boundary=4,M.storage=4):_.isVector2?(M.boundary=8,M.storage=8):_.isVector3||_.isColor?(M.boundary=16,M.storage=12):_.isVector4?(M.boundary=16,M.storage=16):_.isMatrix3?(M.boundary=48,M.storage=48):_.isMatrix4?(M.boundary=64,M.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),M}function A(_){const M=_.target;M.removeEventListener("dispose",A);const E=s.indexOf(M.__bindingPointIndex);s.splice(E,1),n.deleteBuffer(i[M.id]),delete i[M.id],delete a[M.id]}function b(){for(const _ in i)n.deleteBuffer(i[_]);s=[],i={},a={}}return{bind:l,update:u,dispose:b}}class aP{constructor(e={}){const{canvas:t=GI(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=s;const g=new Uint32Array(4),x=new Int32Array(4);let A=null,b=null;const _=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ks,this.toneMapping=df,this.toneMappingExposure=1;const E=this;let C=!1,T=0,B=0,z=null,R=-1,O=null;const U=new er,I=new er;let q=null;const X=new jt(0);let $=0,k=t.width,P=t.height,Z=1,H=null,ae=null;const W=new er(0,0,k,P),K=new er(0,0,k,P);let Q=!1;const te=new s2;let le=!1,de=!1;const ce=new Mn,be=new Mn,Te=new Ce,Oe=new er,Fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Se=!1;function Ve(){return z===null?Z:1}let ve=r;function fe(_e,Je){return t.getContext(_e,Je)}try{const _e={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${D1}`),t.addEventListener("webglcontextlost",tt,!1),t.addEventListener("webglcontextrestored",xt,!1),t.addEventListener("webglcontextcreationerror",wt,!1),ve===null){const Je="webgl2";if(ve=fe(Je,_e),ve===null)throw fe(Je)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(_e){throw console.error("THREE.WebGLRenderer: "+_e.message),_e}let he,Be,ue,xe,we,ie,re,ee,oe,ge,De,Le,Ue,He,et,Xe,We,st,lt,Ke,ze,G,Ne,me;function Pe(){he=new Iae(ve),he.init(),G=new rP(ve,he),Be=new Oae(ve,he,e,G),ue=new yoe(ve,he),Be.reverseDepthBuffer&&h&&ue.buffers.depth.setReversed(!0),xe=new Vae(ve),we=new soe,ie=new _oe(ve,he,ue,we,Be,G,xe),re=new Uae(E),ee=new kae(E),oe=new Yne(ve),Ne=new Rae(ve,oe),ge=new Pae(ve,oe,xe,Ne),De=new qae(ve,ge,oe,xe),lt=new Hae(ve,Be,ie),Xe=new zae(we),Le=new aoe(E,re,ee,he,Be,Ne,Xe),Ue=new Boe(E,we),He=new loe,et=new moe(he),st=new Dae(E,re,ee,ue,De,p,l),We=new goe(E,De,Be),me=new Ooe(ve,xe,Be,ue),Ke=new Bae(ve,he,xe),ze=new jae(ve,he,xe),xe.programs=Le.programs,E.capabilities=Be,E.extensions=he,E.properties=we,E.renderLists=He,E.shadowMap=We,E.state=ue,E.info=xe}Pe();const $e=new Doe(E,ve);this.xr=$e,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const _e=he.get("WEBGL_lose_context");_e&&_e.loseContext()},this.forceContextRestore=function(){const _e=he.get("WEBGL_lose_context");_e&&_e.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(_e){_e!==void 0&&(Z=_e,this.setSize(k,P,!1))},this.getSize=function(_e){return _e.set(k,P)},this.setSize=function(_e,Je,dt=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=_e,P=Je,t.width=Math.floor(_e*Z),t.height=Math.floor(Je*Z),dt===!0&&(t.style.width=_e+"px",t.style.height=Je+"px"),this.setViewport(0,0,_e,Je)},this.getDrawingBufferSize=function(_e){return _e.set(k*Z,P*Z).floor()},this.setDrawingBufferSize=function(_e,Je,dt){k=_e,P=Je,Z=dt,t.width=Math.floor(_e*dt),t.height=Math.floor(Je*dt),this.setViewport(0,0,_e,Je)},this.getCurrentViewport=function(_e){return _e.copy(U)},this.getViewport=function(_e){return _e.copy(W)},this.setViewport=function(_e,Je,dt,at){_e.isVector4?W.set(_e.x,_e.y,_e.z,_e.w):W.set(_e,Je,dt,at),ue.viewport(U.copy(W).multiplyScalar(Z).round())},this.getScissor=function(_e){return _e.copy(K)},this.setScissor=function(_e,Je,dt,at){_e.isVector4?K.set(_e.x,_e.y,_e.z,_e.w):K.set(_e,Je,dt,at),ue.scissor(I.copy(K).multiplyScalar(Z).round())},this.getScissorTest=function(){return Q},this.setScissorTest=function(_e){ue.setScissorTest(Q=_e)},this.setOpaqueSort=function(_e){H=_e},this.setTransparentSort=function(_e){ae=_e},this.getClearColor=function(_e){return _e.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function(_e=!0,Je=!0,dt=!0){let at=0;if(_e){let Ye=!1;if(z!==null){const Et=z.texture.format;Ye=Et===Ow||Et===Bw||Et===r2}if(Ye){const Et=z.texture.type,ot=Et===lc||Et===Ld||Et===u1||Et===$m||Et===Cw||Et===Dw,Tt=st.getClearColor(),qt=st.getClearAlpha(),tn=Tt.r,nn=Tt.g,Gt=Tt.b;ot?(g[0]=tn,g[1]=nn,g[2]=Gt,g[3]=qt,ve.clearBufferuiv(ve.COLOR,0,g)):(x[0]=tn,x[1]=nn,x[2]=Gt,x[3]=qt,ve.clearBufferiv(ve.COLOR,0,x))}else at|=ve.COLOR_BUFFER_BIT}Je&&(at|=ve.DEPTH_BUFFER_BIT),dt&&(at|=ve.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ve.clear(at)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",tt,!1),t.removeEventListener("webglcontextrestored",xt,!1),t.removeEventListener("webglcontextcreationerror",wt,!1),He.dispose(),et.dispose(),we.dispose(),re.dispose(),ee.dispose(),De.dispose(),Ne.dispose(),me.dispose(),Le.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Ir),$e.removeEventListener("sessionend",Di),vi.stop()};function tt(_e){_e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function xt(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const _e=xe.autoReset,Je=We.enabled,dt=We.autoUpdate,at=We.needsUpdate,Ye=We.type;Pe(),xe.autoReset=_e,We.enabled=Je,We.autoUpdate=dt,We.needsUpdate=at,We.type=Ye}function wt(_e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",_e.statusMessage)}function kt(_e){const Je=_e.target;Je.removeEventListener("dispose",kt),Jt(Je)}function Jt(_e){Ht(_e),we.remove(_e)}function Ht(_e){const Je=we.get(_e).programs;Je!==void 0&&(Je.forEach(function(dt){Le.releaseProgram(dt)}),_e.isShaderMaterial&&Le.releaseShaderCache(_e))}this.renderBufferDirect=function(_e,Je,dt,at,Ye,Et){Je===null&&(Je=Fe);const ot=Ye.isMesh&&Ye.matrixWorld.determinant()<0,Tt=zl(_e,Je,dt,at,Ye);ue.setMaterial(at,ot);let qt=dt.index,tn=1;if(at.wireframe===!0){if(qt=ge.getWireframeAttribute(dt),qt===void 0)return;tn=2}const nn=dt.drawRange,Gt=dt.attributes.position;let Kn=nn.start*tn,ur=(nn.start+nn.count)*tn;Et!==null&&(Kn=Math.max(Kn,Et.start*tn),ur=Math.min(ur,(Et.start+Et.count)*tn)),qt!==null?(Kn=Math.max(Kn,0),ur=Math.min(ur,qt.count)):Gt!=null&&(Kn=Math.max(Kn,0),ur=Math.min(ur,Gt.count));const dr=ur-Kn;if(dr<0||dr===1/0)return;Ne.setup(Ye,at,Tt,dt,qt);let ji,Vn=Ke;if(qt!==null&&(ji=oe.get(qt),Vn=ze,Vn.setIndex(ji)),Ye.isMesh)at.wireframe===!0?(ue.setLineWidth(at.wireframeLinewidth*Ve()),Vn.setMode(ve.LINES)):Vn.setMode(ve.TRIANGLES);else if(Ye.isLine){let Kt=at.linewidth;Kt===void 0&&(Kt=1),ue.setLineWidth(Kt*Ve()),Ye.isLineSegments?Vn.setMode(ve.LINES):Ye.isLineLoop?Vn.setMode(ve.LINE_LOOP):Vn.setMode(ve.LINE_STRIP)}else Ye.isPoints?Vn.setMode(ve.POINTS):Ye.isSprite&&Vn.setMode(ve.TRIANGLES);if(Ye.isBatchedMesh)if(Ye._multiDrawInstances!==null)Vn.renderMultiDrawInstances(Ye._multiDrawStarts,Ye._multiDrawCounts,Ye._multiDrawCount,Ye._multiDrawInstances);else if(he.get("WEBGL_multi_draw"))Vn.renderMultiDraw(Ye._multiDrawStarts,Ye._multiDrawCounts,Ye._multiDrawCount);else{const Kt=Ye._multiDrawStarts,ri=Ye._multiDrawCounts,En=Ye._multiDrawCount,Vi=qt?oe.get(qt).bytesPerElement:1,Ws=we.get(at).currentProgram.getUniforms();for(let ii=0;ii<En;ii++)Ws.setValue(ve,"_gl_DrawID",ii),Vn.render(Kt[ii]/Vi,ri[ii])}else if(Ye.isInstancedMesh)Vn.renderInstances(Kn,dr,Ye.count);else if(dt.isInstancedBufferGeometry){const Kt=dt._maxInstanceCount!==void 0?dt._maxInstanceCount:1/0,ri=Math.min(dt.instanceCount,Kt);Vn.renderInstances(Kn,dr,ri)}else Vn.render(Kn,dr)};function Wt(_e,Je,dt){_e.transparent===!0&&_e.side===Qa&&_e.forceSinglePass===!1?(_e.side=Vs,_e.needsUpdate=!0,mn(_e,Je,dt),_e.side=Ud,_e.needsUpdate=!0,mn(_e,Je,dt),_e.side=Qa):mn(_e,Je,dt)}this.compile=function(_e,Je,dt=null){dt===null&&(dt=_e),b=et.get(dt),b.init(Je),M.push(b),dt.traverseVisible(function(Ye){Ye.isLight&&Ye.layers.test(Je.layers)&&(b.pushLight(Ye),Ye.castShadow&&b.pushShadow(Ye))}),_e!==dt&&_e.traverseVisible(function(Ye){Ye.isLight&&Ye.layers.test(Je.layers)&&(b.pushLight(Ye),Ye.castShadow&&b.pushShadow(Ye))}),b.setupLights();const at=new Set;return _e.traverse(function(Ye){if(!(Ye.isMesh||Ye.isPoints||Ye.isLine||Ye.isSprite))return;const Et=Ye.material;if(Et)if(Array.isArray(Et))for(let ot=0;ot<Et.length;ot++){const Tt=Et[ot];Wt(Tt,dt,Ye),at.add(Tt)}else Wt(Et,dt,Ye),at.add(Et)}),M.pop(),b=null,at},this.compileAsync=function(_e,Je,dt=null){const at=this.compile(_e,Je,dt);return new Promise(Ye=>{function Et(){if(at.forEach(function(ot){we.get(ot).currentProgram.isReady()&&at.delete(ot)}),at.size===0){Ye(_e);return}setTimeout(Et,10)}he.get("KHR_parallel_shader_compile")!==null?Et():setTimeout(Et,10)})};let Fn=null;function ar(_e){Fn&&Fn(_e)}function Ir(){vi.stop()}function Di(){vi.start()}const vi=new QI;vi.setAnimationLoop(ar),typeof self<"u"&&vi.setContext(self),this.setAnimationLoop=function(_e){Fn=_e,$e.setAnimationLoop(_e),_e===null?vi.stop():vi.start()},$e.addEventListener("sessionstart",Ir),$e.addEventListener("sessionend",Di),this.render=function(_e,Je){if(Je!==void 0&&Je.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Je.parent===null&&Je.matrixWorldAutoUpdate===!0&&Je.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(Je),Je=$e.getCamera()),_e.isScene===!0&&_e.onBeforeRender(E,_e,Je,z),b=et.get(_e,M.length),b.init(Je),M.push(b),be.multiplyMatrices(Je.projectionMatrix,Je.matrixWorldInverse),te.setFromProjectionMatrix(be),de=this.localClippingEnabled,le=Xe.init(this.clippingPlanes,de),A=He.get(_e,_.length),A.init(),_.push(A),$e.enabled===!0&&$e.isPresenting===!0){const Et=E.xr.getDepthSensingMesh();Et!==null&&Kr(Et,Je,-1/0,E.sortObjects)}Kr(_e,Je,0,E.sortObjects),A.finish(),E.sortObjects===!0&&A.sort(H,ae),Se=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,Se&&st.addToRenderList(A,_e),this.info.render.frame++,le===!0&&Xe.beginShadows();const dt=b.state.shadowsArray;We.render(dt,_e,Je),le===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset();const at=A.opaque,Ye=A.transmissive;if(b.setupLights(),Je.isArrayCamera){const Et=Je.cameras;if(Ye.length>0)for(let ot=0,Tt=Et.length;ot<Tt;ot++){const qt=Et[ot];yi(at,Ye,_e,qt)}Se&&st.render(_e);for(let ot=0,Tt=Et.length;ot<Tt;ot++){const qt=Et[ot];ca(A,_e,qt,qt.viewport)}}else Ye.length>0&&yi(at,Ye,_e,Je),Se&&st.render(_e),ca(A,_e,Je);z!==null&&(ie.updateMultisampleRenderTarget(z),ie.updateRenderTargetMipmap(z)),_e.isScene===!0&&_e.onAfterRender(E,_e,Je),Ne.resetDefaultState(),R=-1,O=null,M.pop(),M.length>0?(b=M[M.length-1],le===!0&&Xe.setGlobalState(E.clippingPlanes,b.state.camera)):b=null,_.pop(),_.length>0?A=_[_.length-1]:A=null};function Kr(_e,Je,dt,at){if(_e.visible===!1)return;if(_e.layers.test(Je.layers)){if(_e.isGroup)dt=_e.renderOrder;else if(_e.isLOD)_e.autoUpdate===!0&&_e.update(Je);else if(_e.isLight)b.pushLight(_e),_e.castShadow&&b.pushShadow(_e);else if(_e.isSprite){if(!_e.frustumCulled||te.intersectsSprite(_e)){at&&Oe.setFromMatrixPosition(_e.matrixWorld).applyMatrix4(be);const ot=De.update(_e),Tt=_e.material;Tt.visible&&A.push(_e,ot,Tt,dt,Oe.z,null)}}else if((_e.isMesh||_e.isLine||_e.isPoints)&&(!_e.frustumCulled||te.intersectsObject(_e))){const ot=De.update(_e),Tt=_e.material;if(at&&(_e.boundingSphere!==void 0?(_e.boundingSphere===null&&_e.computeBoundingSphere(),Oe.copy(_e.boundingSphere.center)):(ot.boundingSphere===null&&ot.computeBoundingSphere(),Oe.copy(ot.boundingSphere.center)),Oe.applyMatrix4(_e.matrixWorld).applyMatrix4(be)),Array.isArray(Tt)){const qt=ot.groups;for(let tn=0,nn=qt.length;tn<nn;tn++){const Gt=qt[tn],Kn=Tt[Gt.materialIndex];Kn&&Kn.visible&&A.push(_e,ot,Kn,dt,Oe.z,Gt)}}else Tt.visible&&A.push(_e,ot,Tt,dt,Oe.z,null)}}const Et=_e.children;for(let ot=0,Tt=Et.length;ot<Tt;ot++)Kr(Et[ot],Je,dt,at)}function ca(_e,Je,dt,at){const Ye=_e.opaque,Et=_e.transmissive,ot=_e.transparent;b.setupLightsView(dt),le===!0&&Xe.setGlobalState(E.clippingPlanes,dt),at&&ue.viewport(U.copy(at)),Ye.length>0&&Hr(Ye,Je,dt),Et.length>0&&Hr(Et,Je,dt),ot.length>0&&Hr(ot,Je,dt),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function yi(_e,Je,dt,at){if((dt.isScene===!0?dt.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[at.id]===void 0&&(b.state.transmissionRenderTarget[at.id]=new uc(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")||he.has("EXT_color_buffer_float")?B1:lc,minFilter:sf,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:gr.workingColorSpace}));const Et=b.state.transmissionRenderTarget[at.id],ot=at.viewport||U;Et.setSize(ot.z,ot.w);const Tt=E.getRenderTarget();E.setRenderTarget(Et),E.getClearColor(X),$=E.getClearAlpha(),$<1&&E.setClearColor(16777215,.5),E.clear(),Se&&st.render(dt);const qt=E.toneMapping;E.toneMapping=df;const tn=at.viewport;if(at.viewport!==void 0&&(at.viewport=void 0),b.setupLightsView(at),le===!0&&Xe.setGlobalState(E.clippingPlanes,at),Hr(_e,dt,at),ie.updateMultisampleRenderTarget(Et),ie.updateRenderTargetMipmap(Et),he.has("WEBGL_multisampled_render_to_texture")===!1){let nn=!1;for(let Gt=0,Kn=Je.length;Gt<Kn;Gt++){const ur=Je[Gt],dr=ur.object,ji=ur.geometry,Vn=ur.material,Kt=ur.group;if(Vn.side===Qa&&dr.layers.test(at.layers)){const ri=Vn.side;Vn.side=Vs,Vn.needsUpdate=!0,_r(dr,dt,at,ji,Vn,Kt),Vn.side=ri,Vn.needsUpdate=!0,nn=!0}}nn===!0&&(ie.updateMultisampleRenderTarget(Et),ie.updateRenderTargetMipmap(Et))}E.setRenderTarget(Tt),E.setClearColor(X,$),tn!==void 0&&(at.viewport=tn),E.toneMapping=qt}function Hr(_e,Je,dt){const at=Je.isScene===!0?Je.overrideMaterial:null;for(let Ye=0,Et=_e.length;Ye<Et;Ye++){const ot=_e[Ye],Tt=ot.object,qt=ot.geometry,tn=at===null?ot.material:at,nn=ot.group;Tt.layers.test(dt.layers)&&_r(Tt,Je,dt,qt,tn,nn)}}function _r(_e,Je,dt,at,Ye,Et){_e.onBeforeRender(E,Je,dt,at,Ye,Et),_e.modelViewMatrix.multiplyMatrices(dt.matrixWorldInverse,_e.matrixWorld),_e.normalMatrix.getNormalMatrix(_e.modelViewMatrix),Ye.onBeforeRender(E,Je,dt,at,_e,Et),Ye.transparent===!0&&Ye.side===Qa&&Ye.forceSinglePass===!1?(Ye.side=Vs,Ye.needsUpdate=!0,E.renderBufferDirect(dt,Je,at,Ye,_e,Et),Ye.side=Ud,Ye.needsUpdate=!0,E.renderBufferDirect(dt,Je,at,Ye,_e,Et),Ye.side=Qa):E.renderBufferDirect(dt,Je,at,Ye,_e,Et),_e.onAfterRender(E,Je,dt,at,Ye,Et)}function mn(_e,Je,dt){Je.isScene!==!0&&(Je=Fe);const at=we.get(_e),Ye=b.state.lights,Et=b.state.shadowsArray,ot=Ye.state.version,Tt=Le.getParameters(_e,Ye.state,Et,Je,dt),qt=Le.getProgramCacheKey(Tt);let tn=at.programs;at.environment=_e.isMeshStandardMaterial?Je.environment:null,at.fog=Je.fog,at.envMap=(_e.isMeshStandardMaterial?ee:re).get(_e.envMap||at.environment),at.envMapRotation=at.environment!==null&&_e.envMap===null?Je.environmentRotation:_e.envMapRotation,tn===void 0&&(_e.addEventListener("dispose",kt),tn=new Map,at.programs=tn);let nn=tn.get(qt);if(nn!==void 0){if(at.currentProgram===nn&&at.lightsStateVersion===ot)return wa(_e,Tt),nn}else Tt.uniforms=Le.getUniforms(_e),_e.onBeforeCompile(Tt,E),nn=Le.acquireProgram(Tt,qt),tn.set(qt,nn),at.uniforms=Tt.uniforms;const Gt=at.uniforms;return(!_e.isShaderMaterial&&!_e.isRawShaderMaterial||_e.clipping===!0)&&(Gt.clippingPlanes=Xe.uniform),wa(_e,Tt),at.needsLights=Ul(_e),at.lightsStateVersion=ot,at.needsLights&&(Gt.ambientLightColor.value=Ye.state.ambient,Gt.lightProbe.value=Ye.state.probe,Gt.directionalLights.value=Ye.state.directional,Gt.directionalLightShadows.value=Ye.state.directionalShadow,Gt.spotLights.value=Ye.state.spot,Gt.spotLightShadows.value=Ye.state.spotShadow,Gt.rectAreaLights.value=Ye.state.rectArea,Gt.ltc_1.value=Ye.state.rectAreaLTC1,Gt.ltc_2.value=Ye.state.rectAreaLTC2,Gt.pointLights.value=Ye.state.point,Gt.pointLightShadows.value=Ye.state.pointShadow,Gt.hemisphereLights.value=Ye.state.hemi,Gt.directionalShadowMap.value=Ye.state.directionalShadowMap,Gt.directionalShadowMatrix.value=Ye.state.directionalShadowMatrix,Gt.spotShadowMap.value=Ye.state.spotShadowMap,Gt.spotLightMatrix.value=Ye.state.spotLightMatrix,Gt.spotLightMap.value=Ye.state.spotLightMap,Gt.pointShadowMap.value=Ye.state.pointShadowMap,Gt.pointShadowMatrix.value=Ye.state.pointShadowMatrix),at.currentProgram=nn,at.uniformsList=null,nn}function hi(_e){if(_e.uniformsList===null){const Je=_e.currentProgram.getUniforms();_e.uniformsList=y3.seqWithValue(Je.seq,_e.uniforms)}return _e.uniformsList}function wa(_e,Je){const dt=we.get(_e);dt.outputColorSpace=Je.outputColorSpace,dt.batching=Je.batching,dt.batchingColor=Je.batchingColor,dt.instancing=Je.instancing,dt.instancingColor=Je.instancingColor,dt.instancingMorph=Je.instancingMorph,dt.skinning=Je.skinning,dt.morphTargets=Je.morphTargets,dt.morphNormals=Je.morphNormals,dt.morphColors=Je.morphColors,dt.morphTargetsCount=Je.morphTargetsCount,dt.numClippingPlanes=Je.numClippingPlanes,dt.numIntersection=Je.numClipIntersection,dt.vertexAlphas=Je.vertexAlphas,dt.vertexTangents=Je.vertexTangents,dt.toneMapping=Je.toneMapping}function zl(_e,Je,dt,at,Ye){Je.isScene!==!0&&(Je=Fe),ie.resetTextureUnits();const Et=Je.fog,ot=at.isMeshStandardMaterial?Je.environment:null,Tt=z===null?E.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:ch,qt=(at.isMeshStandardMaterial?ee:re).get(at.envMap||ot),tn=at.vertexColors===!0&&!!dt.attributes.color&&dt.attributes.color.itemSize===4,nn=!!dt.attributes.tangent&&(!!at.normalMap||at.anisotropy>0),Gt=!!dt.morphAttributes.position,Kn=!!dt.morphAttributes.normal,ur=!!dt.morphAttributes.color;let dr=df;at.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(dr=E.toneMapping);const ji=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,Vn=ji!==void 0?ji.length:0,Kt=we.get(at),ri=b.state.lights;if(le===!0&&(de===!0||_e!==O)){const ea=_e===O&&at.id===R;Xe.setState(at,_e,ea)}let En=!1;at.version===Kt.__version?(Kt.needsLights&&Kt.lightsStateVersion!==ri.state.version||Kt.outputColorSpace!==Tt||Ye.isBatchedMesh&&Kt.batching===!1||!Ye.isBatchedMesh&&Kt.batching===!0||Ye.isBatchedMesh&&Kt.batchingColor===!0&&Ye.colorTexture===null||Ye.isBatchedMesh&&Kt.batchingColor===!1&&Ye.colorTexture!==null||Ye.isInstancedMesh&&Kt.instancing===!1||!Ye.isInstancedMesh&&Kt.instancing===!0||Ye.isSkinnedMesh&&Kt.skinning===!1||!Ye.isSkinnedMesh&&Kt.skinning===!0||Ye.isInstancedMesh&&Kt.instancingColor===!0&&Ye.instanceColor===null||Ye.isInstancedMesh&&Kt.instancingColor===!1&&Ye.instanceColor!==null||Ye.isInstancedMesh&&Kt.instancingMorph===!0&&Ye.morphTexture===null||Ye.isInstancedMesh&&Kt.instancingMorph===!1&&Ye.morphTexture!==null||Kt.envMap!==qt||at.fog===!0&&Kt.fog!==Et||Kt.numClippingPlanes!==void 0&&(Kt.numClippingPlanes!==Xe.numPlanes||Kt.numIntersection!==Xe.numIntersection)||Kt.vertexAlphas!==tn||Kt.vertexTangents!==nn||Kt.morphTargets!==Gt||Kt.morphNormals!==Kn||Kt.morphColors!==ur||Kt.toneMapping!==dr||Kt.morphTargetsCount!==Vn)&&(En=!0):(En=!0,Kt.__version=at.version);let Vi=Kt.currentProgram;En===!0&&(Vi=mn(at,Je,Ye));let Ws=!1,ii=!1,Ys=!1;const sr=Vi.getUniforms(),Aa=Kt.uniforms;if(ue.useProgram(Vi.program)&&(Ws=!0,ii=!0,Ys=!0),at.id!==R&&(R=at.id,ii=!0),Ws||O!==_e){ue.buffers.depth.getReversed()?(ce.copy(_e.projectionMatrix),bne(ce),Sne(ce),sr.setValue(ve,"projectionMatrix",ce)):sr.setValue(ve,"projectionMatrix",_e.projectionMatrix),sr.setValue(ve,"viewMatrix",_e.matrixWorldInverse);const Ma=sr.map.cameraPosition;Ma!==void 0&&Ma.setValue(ve,Te.setFromMatrixPosition(_e.matrixWorld)),Be.logarithmicDepthBuffer&&sr.setValue(ve,"logDepthBufFC",2/(Math.log(_e.far+1)/Math.LN2)),(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial)&&sr.setValue(ve,"isOrthographic",_e.isOrthographicCamera===!0),O!==_e&&(O=_e,ii=!0,Ys=!0)}if(Ye.isSkinnedMesh){sr.setOptional(ve,Ye,"bindMatrix"),sr.setOptional(ve,Ye,"bindMatrixInverse");const ea=Ye.skeleton;ea&&(ea.boneTexture===null&&ea.computeBoneTexture(),sr.setValue(ve,"boneTexture",ea.boneTexture,ie))}Ye.isBatchedMesh&&(sr.setOptional(ve,Ye,"batchingTexture"),sr.setValue(ve,"batchingTexture",Ye._matricesTexture,ie),sr.setOptional(ve,Ye,"batchingIdTexture"),sr.setValue(ve,"batchingIdTexture",Ye._indirectTexture,ie),sr.setOptional(ve,Ye,"batchingColorTexture"),Ye._colorsTexture!==null&&sr.setValue(ve,"batchingColorTexture",Ye._colorsTexture,ie));const Rr=dt.morphAttributes;if((Rr.position!==void 0||Rr.normal!==void 0||Rr.color!==void 0)&&lt.update(Ye,dt,Vi),(ii||Kt.receiveShadow!==Ye.receiveShadow)&&(Kt.receiveShadow=Ye.receiveShadow,sr.setValue(ve,"receiveShadow",Ye.receiveShadow)),at.isMeshGouraudMaterial&&at.envMap!==null&&(Aa.envMap.value=qt,Aa.flipEnvMap.value=qt.isCubeTexture&&qt.isRenderTargetTexture===!1?-1:1),at.isMeshStandardMaterial&&at.envMap===null&&Je.environment!==null&&(Aa.envMapIntensity.value=Je.environmentIntensity),ii&&(sr.setValue(ve,"toneMappingExposure",E.toneMappingExposure),Kt.needsLights&&Au(Aa,Ys),Et&&at.fog===!0&&Ue.refreshFogUniforms(Aa,Et),Ue.refreshMaterialUniforms(Aa,at,Z,P,b.state.transmissionRenderTarget[_e.id]),y3.upload(ve,hi(Kt),Aa,ie)),at.isShaderMaterial&&at.uniformsNeedUpdate===!0&&(y3.upload(ve,hi(Kt),Aa,ie),at.uniformsNeedUpdate=!1),at.isSpriteMaterial&&sr.setValue(ve,"center",Ye.center),sr.setValue(ve,"modelViewMatrix",Ye.modelViewMatrix),sr.setValue(ve,"normalMatrix",Ye.normalMatrix),sr.setValue(ve,"modelMatrix",Ye.matrixWorld),at.isShaderMaterial||at.isRawShaderMaterial){const ea=at.uniformsGroups;for(let Ma=0,ta=ea.length;Ma<ta;Ma++){const zo=ea[Ma];me.update(zo,Vi),me.bind(zo,Vi)}}return Vi}function Au(_e,Je){_e.ambientLightColor.needsUpdate=Je,_e.lightProbe.needsUpdate=Je,_e.directionalLights.needsUpdate=Je,_e.directionalLightShadows.needsUpdate=Je,_e.pointLights.needsUpdate=Je,_e.pointLightShadows.needsUpdate=Je,_e.spotLights.needsUpdate=Je,_e.spotLightShadows.needsUpdate=Je,_e.rectAreaLights.needsUpdate=Je,_e.hemisphereLights.needsUpdate=Je}function Ul(_e){return _e.isMeshLambertMaterial||_e.isMeshToonMaterial||_e.isMeshPhongMaterial||_e.isMeshStandardMaterial||_e.isShadowMaterial||_e.isShaderMaterial&&_e.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(_e,Je,dt){we.get(_e.texture).__webglTexture=Je,we.get(_e.depthTexture).__webglTexture=dt;const at=we.get(_e);at.__hasExternalTextures=!0,at.__autoAllocateDepthBuffer=dt===void 0,at.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),at.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(_e,Je){const dt=we.get(_e);dt.__webglFramebuffer=Je,dt.__useDefaultFramebuffer=Je===void 0},this.setRenderTarget=function(_e,Je=0,dt=0){z=_e,T=Je,B=dt;let at=!0,Ye=null,Et=!1,ot=!1;if(_e){const qt=we.get(_e);if(qt.__useDefaultFramebuffer!==void 0)ue.bindFramebuffer(ve.FRAMEBUFFER,null),at=!1;else if(qt.__webglFramebuffer===void 0)ie.setupRenderTarget(_e);else if(qt.__hasExternalTextures)ie.rebindTextures(_e,we.get(_e.texture).__webglTexture,we.get(_e.depthTexture).__webglTexture);else if(_e.depthBuffer){const Gt=_e.depthTexture;if(qt.__boundDepthTexture!==Gt){if(Gt!==null&&we.has(Gt)&&(_e.width!==Gt.image.width||_e.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ie.setupDepthRenderbuffer(_e)}}const tn=_e.texture;(tn.isData3DTexture||tn.isDataArrayTexture||tn.isCompressedArrayTexture)&&(ot=!0);const nn=we.get(_e).__webglFramebuffer;_e.isWebGLCubeRenderTarget?(Array.isArray(nn[Je])?Ye=nn[Je][dt]:Ye=nn[Je],Et=!0):_e.samples>0&&ie.useMultisampledRTT(_e)===!1?Ye=we.get(_e).__webglMultisampledFramebuffer:Array.isArray(nn)?Ye=nn[dt]:Ye=nn,U.copy(_e.viewport),I.copy(_e.scissor),q=_e.scissorTest}else U.copy(W).multiplyScalar(Z).floor(),I.copy(K).multiplyScalar(Z).floor(),q=Q;if(ue.bindFramebuffer(ve.FRAMEBUFFER,Ye)&&at&&ue.drawBuffers(_e,Ye),ue.viewport(U),ue.scissor(I),ue.setScissorTest(q),Et){const qt=we.get(_e.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+Je,qt.__webglTexture,dt)}else if(ot){const qt=we.get(_e.texture),tn=Je||0;ve.framebufferTextureLayer(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,qt.__webglTexture,dt||0,tn)}R=-1},this.readRenderTargetPixels=function(_e,Je,dt,at,Ye,Et,ot){if(!(_e&&_e.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Tt=we.get(_e).__webglFramebuffer;if(_e.isWebGLCubeRenderTarget&&ot!==void 0&&(Tt=Tt[ot]),Tt){ue.bindFramebuffer(ve.FRAMEBUFFER,Tt);try{const qt=_e.texture,tn=qt.format,nn=qt.type;if(!Be.textureFormatReadable(tn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Be.textureTypeReadable(nn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Je>=0&&Je<=_e.width-at&&dt>=0&&dt<=_e.height-Ye&&ve.readPixels(Je,dt,at,Ye,G.convert(tn),G.convert(nn),Et)}finally{const qt=z!==null?we.get(z).__webglFramebuffer:null;ue.bindFramebuffer(ve.FRAMEBUFFER,qt)}}},this.readRenderTargetPixelsAsync=async function(_e,Je,dt,at,Ye,Et,ot){if(!(_e&&_e.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Tt=we.get(_e).__webglFramebuffer;if(_e.isWebGLCubeRenderTarget&&ot!==void 0&&(Tt=Tt[ot]),Tt){const qt=_e.texture,tn=qt.format,nn=qt.type;if(!Be.textureFormatReadable(tn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Be.textureTypeReadable(nn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Je>=0&&Je<=_e.width-at&&dt>=0&&dt<=_e.height-Ye){ue.bindFramebuffer(ve.FRAMEBUFFER,Tt);const Gt=ve.createBuffer();ve.bindBuffer(ve.PIXEL_PACK_BUFFER,Gt),ve.bufferData(ve.PIXEL_PACK_BUFFER,Et.byteLength,ve.STREAM_READ),ve.readPixels(Je,dt,at,Ye,G.convert(tn),G.convert(nn),0);const Kn=z!==null?we.get(z).__webglFramebuffer:null;ue.bindFramebuffer(ve.FRAMEBUFFER,Kn);const ur=ve.fenceSync(ve.SYNC_GPU_COMMANDS_COMPLETE,0);return ve.flush(),await yne(ve,ur,4),ve.bindBuffer(ve.PIXEL_PACK_BUFFER,Gt),ve.getBufferSubData(ve.PIXEL_PACK_BUFFER,0,Et),ve.deleteBuffer(Gt),ve.deleteSync(ur),Et}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(_e,Je=null,dt=0){_e.isTexture!==!0&&(qx("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Je=arguments[0]||null,_e=arguments[1]);const at=Math.pow(2,-dt),Ye=Math.floor(_e.image.width*at),Et=Math.floor(_e.image.height*at),ot=Je!==null?Je.x:0,Tt=Je!==null?Je.y:0;ie.setTexture2D(_e,0),ve.copyTexSubImage2D(ve.TEXTURE_2D,dt,0,0,ot,Tt,Ye,Et),ue.unbindTexture()},this.copyTextureToTexture=function(_e,Je,dt=null,at=null,Ye=0){_e.isTexture!==!0&&(qx("WebGLRenderer: copyTextureToTexture function signature has changed."),at=arguments[0]||null,_e=arguments[1],Je=arguments[2],Ye=arguments[3]||0,dt=null);let Et,ot,Tt,qt,tn,nn,Gt,Kn,ur;const dr=_e.isCompressedTexture?_e.mipmaps[Ye]:_e.image;dt!==null?(Et=dt.max.x-dt.min.x,ot=dt.max.y-dt.min.y,Tt=dt.isBox3?dt.max.z-dt.min.z:1,qt=dt.min.x,tn=dt.min.y,nn=dt.isBox3?dt.min.z:0):(Et=dr.width,ot=dr.height,Tt=dr.depth||1,qt=0,tn=0,nn=0),at!==null?(Gt=at.x,Kn=at.y,ur=at.z):(Gt=0,Kn=0,ur=0);const ji=G.convert(Je.format),Vn=G.convert(Je.type);let Kt;Je.isData3DTexture?(ie.setTexture3D(Je,0),Kt=ve.TEXTURE_3D):Je.isDataArrayTexture||Je.isCompressedArrayTexture?(ie.setTexture2DArray(Je,0),Kt=ve.TEXTURE_2D_ARRAY):(ie.setTexture2D(Je,0),Kt=ve.TEXTURE_2D),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,Je.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Je.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,Je.unpackAlignment);const ri=ve.getParameter(ve.UNPACK_ROW_LENGTH),En=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),Vi=ve.getParameter(ve.UNPACK_SKIP_PIXELS),Ws=ve.getParameter(ve.UNPACK_SKIP_ROWS),ii=ve.getParameter(ve.UNPACK_SKIP_IMAGES);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,dr.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,dr.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,qt),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,tn),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,nn);const Ys=_e.isDataArrayTexture||_e.isData3DTexture,sr=Je.isDataArrayTexture||Je.isData3DTexture;if(_e.isRenderTargetTexture||_e.isDepthTexture){const Aa=we.get(_e),Rr=we.get(Je),ea=we.get(Aa.__renderTarget),Ma=we.get(Rr.__renderTarget);ue.bindFramebuffer(ve.READ_FRAMEBUFFER,ea.__webglFramebuffer),ue.bindFramebuffer(ve.DRAW_FRAMEBUFFER,Ma.__webglFramebuffer);for(let ta=0;ta<Tt;ta++)Ys&&ve.framebufferTextureLayer(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,we.get(_e).__webglTexture,Ye,nn+ta),_e.isDepthTexture?(sr&&ve.framebufferTextureLayer(ve.DRAW_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,we.get(Je).__webglTexture,Ye,ur+ta),ve.blitFramebuffer(qt,tn,Et,ot,Gt,Kn,Et,ot,ve.DEPTH_BUFFER_BIT,ve.NEAREST)):sr?ve.copyTexSubImage3D(Kt,Ye,Gt,Kn,ur+ta,qt,tn,Et,ot):ve.copyTexSubImage2D(Kt,Ye,Gt,Kn,ur+ta,qt,tn,Et,ot);ue.bindFramebuffer(ve.READ_FRAMEBUFFER,null),ue.bindFramebuffer(ve.DRAW_FRAMEBUFFER,null)}else sr?_e.isDataTexture||_e.isData3DTexture?ve.texSubImage3D(Kt,Ye,Gt,Kn,ur,Et,ot,Tt,ji,Vn,dr.data):Je.isCompressedArrayTexture?ve.compressedTexSubImage3D(Kt,Ye,Gt,Kn,ur,Et,ot,Tt,ji,dr.data):ve.texSubImage3D(Kt,Ye,Gt,Kn,ur,Et,ot,Tt,ji,Vn,dr):_e.isDataTexture?ve.texSubImage2D(ve.TEXTURE_2D,Ye,Gt,Kn,Et,ot,ji,Vn,dr.data):_e.isCompressedTexture?ve.compressedTexSubImage2D(ve.TEXTURE_2D,Ye,Gt,Kn,dr.width,dr.height,ji,dr.data):ve.texSubImage2D(ve.TEXTURE_2D,Ye,Gt,Kn,Et,ot,ji,Vn,dr);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,ri),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,En),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,Vi),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,Ws),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,ii),Ye===0&&Je.generateMipmaps&&ve.generateMipmap(Kt),ue.unbindTexture()},this.copyTextureToTexture3D=function(_e,Je,dt=null,at=null,Ye=0){return _e.isTexture!==!0&&(qx("WebGLRenderer: copyTextureToTexture3D function signature has changed."),dt=arguments[0]||null,at=arguments[1]||null,_e=arguments[2],Je=arguments[3],Ye=arguments[4]||0),qx('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(_e,Je,dt,at,Ye)},this.initRenderTarget=function(_e){we.get(_e).__webglFramebuffer===void 0&&ie.setupRenderTarget(_e)},this.initTexture=function(_e){_e.isCubeTexture?ie.setTextureCube(_e,0):_e.isData3DTexture?ie.setTexture3D(_e,0):_e.isDataArrayTexture||_e.isCompressedArrayTexture?ie.setTexture2DArray(_e,0):ie.setTexture2D(_e,0),ue.unbindTexture()},this.resetState=function(){T=0,B=0,z=null,ue.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return of}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=gr._getDrawingBufferColorSpace(e),t.unpackColorSpace=gr._getUnpackColorSpace()}}class jw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new jt(e),this.density=t}clone(){return new jw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Vw{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new jt(e),this.near=t,this.far=r}clone(){return new Vw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class wN extends Dr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Dl,this.environmentIntensity=1,this.environmentRotation=new Dl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Hw{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Dy,this.updateRanges=[],this.version=0,this.uuid=Tl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const go=new Ce;class Nl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)go.fromBufferAttribute(this,t),go.applyMatrix4(e),this.setXYZ(t,go.x,go.y,go.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)go.fromBufferAttribute(this,t),go.applyNormalMatrix(e),this.setXYZ(t,go.x,go.y,go.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)go.fromBufferAttribute(this,t),go.transformDirection(e),this.setXYZ(t,go.x,go.y,go.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=yo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=$n(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=$n(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),i=$n(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=$n(t,this.array),r=$n(r,this.array),i=$n(i,this.array),a=$n(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Yr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Nl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class AN extends Gs{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new jt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Nv;const Nx=new Ce,Tv=new Ce,Cv=new Ce,Dv=new bt,Tx=new bt,sP=new Mn,m4=new Ce,Cx=new Ce,p4=new Ce,zD=new bt,_M=new bt,UD=new bt;class oP extends Dr{constructor(e=new AN){if(super(),this.isSprite=!0,this.type="Sprite",Nv===void 0){Nv=new Yn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Hw(t,5);Nv.setIndex([0,1,2,0,2,3]),Nv.setAttribute("position",new Nl(r,3,0,!1)),Nv.setAttribute("uv",new Nl(r,2,3,!1))}this.geometry=Nv,this.material=e,this.center=new bt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tv.setFromMatrixScale(this.matrixWorld),sP.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Cv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tv.multiplyScalar(-Cv.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;v4(m4.set(-.5,-.5,0),Cv,s,Tv,i,a),v4(Cx.set(.5,-.5,0),Cv,s,Tv,i,a),v4(p4.set(.5,.5,0),Cv,s,Tv,i,a),zD.set(0,0),_M.set(1,0),UD.set(1,1);let o=e.ray.intersectTriangle(m4,Cx,p4,!1,Nx);if(o===null&&(v4(Cx.set(-.5,.5,0),Cv,s,Tv,i,a),_M.set(0,1),o=e.ray.intersectTriangle(m4,p4,Cx,!1,Nx),o===null))return;const l=e.ray.origin.distanceTo(Nx);l<e.near||l>e.far||t.push({distance:l,point:Nx.clone(),uv:Qo.getInterpolation(Nx,m4,Cx,p4,zD,_M,UD,new bt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function v4(n,e,t,r,i,a){Dv.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Tx.x=a*Dv.x-i*Dv.y,Tx.y=i*Dv.x+a*Dv.y):Tx.copy(Dv),n.copy(e),n.x+=Tx.x,n.y+=Tx.y,n.applyMatrix4(sP)}const g4=new Ce,FD=new Ce;class lP extends Dr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){g4.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(g4);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){g4.setFromMatrixPosition(e.matrixWorld),FD.setFromMatrixPosition(this.matrixWorld);const r=g4.distanceTo(FD)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),r>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const LD=new Ce,kD=new er,ID=new er,zoe=new Ce,PD=new Mn,x4=new Ce,EM=new Ua,jD=new Mn,NM=new ep;class uP extends Ni{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=pE,this.bindMatrix=new Mn,this.bindMatrixInverse=new Mn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ba),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,x4),this.boundingBox.expandByPoint(x4)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ua),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,x4),this.boundingSphere.expandByPoint(x4)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),EM.copy(this.boundingSphere),EM.applyMatrix4(i),e.ray.intersectsSphere(EM)!==!1&&(jD.copy(i).invert(),NM.copy(e.ray).applyMatrix4(jD),!(this.boundingBox!==null&&NM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,NM)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new er,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===pE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===RI?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;kD.fromBufferAttribute(i.attributes.skinIndex,e),ID.fromBufferAttribute(i.attributes.skinWeight,e),LD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=ID.getComponent(a);if(s!==0){const o=kD.getComponent(a);PD.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(zoe.copy(LD).applyMatrix4(PD),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class MN extends Dr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hf extends Pi{constructor(e=null,t=1,r=1,i,a,s,o,l,u=gs,c=gs,d,h){super(null,s,o,l,u,c,i,a,d,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const VD=new Mn,Uoe=new Mn;class qw{constructor(e=[],t=[]){this.uuid=Tl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Mn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Mn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:Uoe;VD.multiplyMatrices(o,t[a]),VD.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new qw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new hf(t,e,e,js,el);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new MN),this.bones.push(s),this.boneInverses.push(new Mn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class Wm extends Yr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Rv=new Mn,HD=new Mn,y4=[],qD=new ba,Foe=new Mn,Dx=new Ni,Rx=new Ua;class cP extends Ni{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Wm(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Foe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ba),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Rv),qD.copy(e.boundingBox).applyMatrix4(Rv),this.boundingBox.union(qD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ua),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Rv),Rx.copy(e.boundingSphere).applyMatrix4(Rv),this.boundingSphere.union(Rx)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,s=e*a+1;for(let o=0;o<r.length;o++)r[o]=i[s+o]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Dx.geometry=this.geometry,Dx.material=this.material,Dx.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Rx.copy(this.boundingSphere),Rx.applyMatrix4(r),e.ray.intersectsSphere(Rx)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,Rv),HD.multiplyMatrices(r,Rv),Dx.matrixWorld=HD,Dx.raycast(e,y4);for(let s=0,o=y4.length;s<o;s++){const l=y4[s];l.instanceId=a,l.object=this,t.push(l)}y4.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Wm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new hf(new Float32Array(i*this.count),i,this.count,Rw,el));const a=this.morphTexture.source.data.data;let s=0;for(let u=0;u<r.length;u++)s+=r[u];const o=this.geometry.morphTargetsRelative?1:1-s,l=i*e;a[l]=o,a.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function TM(n,e){return n-e}function Loe(n,e){return n.z-e.z}function koe(n,e){return e.z-n.z}class Ioe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const Wo=new Mn,Poe=new jt(1,1,1),CM=new s2,b4=new ba,mm=new Ua,Bx=new Ce,GD=new Ce,joe=new Ce,DM=new Ioe,Fs=new Ni,S4=[];function Voe(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let s=0;s<r;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function pm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class fP extends Ni{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,r=t*2,i){super(new Yn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new hf(t,e,e,js,el);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new hf(t,e,e,r2,Ld);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new hf(t,e,e,js,el);r.colorSpace=gr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:u}=s,c=new o.constructor(r*l),d=new Yr(c,l,u);t.setAttribute(a,d)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Yr(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ba);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Wo),this.getBoundingBoxAt(a,b4).applyMatrix4(Wo),e.union(b4)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Wo),this.getBoundingSphereAt(a,mm).applyMatrix4(Wo),e.union(mm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(TM),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;Wo.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(Poe.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?s.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(TM),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(i&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const c in r.attributes){const d=t.getAttribute(c),h=r.getAttribute(c);Voe(d,h,l);const p=d.itemSize;for(let g=d.count,x=u;g<x;g++){const A=l+g;for(let b=0;b<p;b++)h.setComponent(A,b,0)}h.needsUpdate=!0,h.addUpdateRange(l*p,u*p)}if(i){const c=o.indexStart,d=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let h=0;h<s.count;h++)a.setX(c+h,l+s.getX(h));for(let h=s.count,p=d;h<p;h++)a.setX(c+h,l);a.needsUpdate=!0,a.addUpdateRange(c,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?this:(t[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((s,o)=>o).sort((s,o)=>r[s].vertexStart-r[o].vertexStart),a=this.geometry;for(let s=0,o=r.length;s<o;s++){const l=i[s],u=r[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==t){const{indexStart:c,vertexStart:d,reservedIndexCount:h}=u,p=a.index,g=p.array,x=e-d;for(let A=c;A<c+h;A++)g[A]=g[A]+x;p.array.copyWithin(t,c,c+h),p.addUpdateRange(t,h),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:d}=u,h=a.attributes;for(const p in h){const g=h[p],{array:x,itemSize:A}=g;x.copyWithin(e*A,c*A,(c+d)*A),g.addUpdateRange(e*A,d*A)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart,this._nextIndexStart=a.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new ba,s=r.index,o=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let c=l;s&&(c=s.getX(c)),a.expandByPoint(Bx.fromBufferAttribute(o,c))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new Ua;this.getBoundingBoxAt(e,b4),b4.getCenter(a.center);const s=r.index,o=r.attributes.position;let l=0;for(let u=i.start,c=i.start+i.count;u<c;u++){let d=u;s&&(d=s.getX(d)),Bx.fromBufferAttribute(o,d),l=Math.max(l,a.center.distanceToSquared(Bx))}a.radius=Math.sqrt(l),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){const r=this._instanceInfo,i=this._matricesTexture,a=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(t.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._instanceInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:t.fromArray(i,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,a=this._instanceInfo;return e>=a.length||a[e].active===!1?this:(t.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,t){const r=this._colorsTexture.image.data,i=this._instanceInfo;return e>=i.length||i[e].active===!1?null:t.fromArray(r,e*4)}setVisibleAt(e,t){const r=this._instanceInfo;return e>=r.length||r[e].active===!1||r[e].visible===t?this:(r[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?!1:t[e].visible}setGeometryIdAt(e,t){const r=this._instanceInfo,i=this._geometryInfo;return e>=r.length||r[e].active===!1||t>=i.length||i[t].active===!1?null:(r[e].geometryIndex=t,this)}getGeometryIdAt(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?-1:t[e].geometryIndex}getGeometryRangeAt(e,t={}){if(e<0||e>=this._geometryCount)return null;const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(TM);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);pm(this._multiDrawCounts,i),pm(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),pm(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),pm(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),pm(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Yn,this._initializeGeometry(a));const s=this.geometry;a.index&&pm(a.index.array,s.index.array);for(const o in a.attributes)pm(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Fs.material=this.material,Fs.geometry.index=s.index,Fs.geometry.attributes=s.attributes,Fs.geometry.boundingBox===null&&(Fs.geometry.boundingBox=new ba),Fs.geometry.boundingSphere===null&&(Fs.geometry.boundingSphere=new Ua);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const u=r[o].geometryIndex,c=i[u];Fs.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(o,Fs.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Fs.geometry.boundingBox),this.getBoundingSphereAt(u,Fs.geometry.boundingSphere),Fs.raycast(e,S4);for(let d=0,h=S4.length;d<h;d++){const p=S4[d];p.object=this,p.batchId=o,t.push(p)}S4.length=0}Fs.material=null,Fs.geometry.index=null,Fs.geometry.attributes={},Fs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,d=this._geometryInfo,h=this.perObjectFrustumCulled,p=this._indirectTexture,g=p.image.data;h&&(Wo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),CM.setFromProjectionMatrix(Wo,e.coordinateSystem));let x=0;if(this.sortObjects){Wo.copy(this.matrixWorld).invert(),Bx.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Wo),GD.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Wo);for(let _=0,M=l.length;_<M;_++)if(l[_].visible&&l[_].active){const E=l[_].geometryIndex;this.getMatrixAt(_,Wo),this.getBoundingSphereAt(E,mm).applyMatrix4(Wo);let C=!1;if(h&&(C=!CM.intersectsSphere(mm)),!C){const T=d[E],B=joe.subVectors(mm.center,Bx).dot(GD);DM.push(T.start,T.count,B,_)}}const A=DM.list,b=this.customSort;b===null?A.sort(a.transparent?koe:Loe):b.call(this,A,r);for(let _=0,M=A.length;_<M;_++){const E=A[_];u[x]=E.start*o,c[x]=E.count,g[x]=E.index,x++}DM.reset()}else for(let A=0,b=l.length;A<b;A++)if(l[A].visible&&l[A].active){const _=l[A].geometryIndex;let M=!1;if(h&&(this.getMatrixAt(A,Wo),this.getBoundingSphereAt(_,mm).applyMatrix4(Wo),M=!CM.intersectsSphere(mm)),!M){const E=d[_];u[x]=E.start*o,c[x]=E.count,g[x]=A,x++}}p.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,s){this.onBeforeRender(e,null,i,a,s)}}class Do extends Gs{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new jt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const BS=new Ce,OS=new Ce,$D=new Mn,Ox=new ep,w4=new Ua,RM=new Ce,XD=new Ce;let rh=class extends Dr{constructor(e=new Yn,t=new Do){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)BS.fromBufferAttribute(t,i-1),OS.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=BS.distanceTo(OS);e.setAttribute("lineDistance",new an(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),w4.copy(r.boundingSphere),w4.applyMatrix4(i),w4.radius+=a,e.ray.intersectsSphere(w4)===!1)return;$D.copy(i).invert(),Ox.copy(e.ray).applyMatrix4($D);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,s.start),g=Math.min(c.count,s.start+s.count);for(let x=p,A=g-1;x<A;x+=u){const b=c.getX(x),_=c.getX(x+1),M=A4(this,e,Ox,l,b,_);M&&t.push(M)}if(this.isLineLoop){const x=c.getX(g-1),A=c.getX(p),b=A4(this,e,Ox,l,x,A);b&&t.push(b)}}else{const p=Math.max(0,s.start),g=Math.min(h.count,s.start+s.count);for(let x=p,A=g-1;x<A;x+=u){const b=A4(this,e,Ox,l,x,x+1);b&&t.push(b)}if(this.isLineLoop){const x=A4(this,e,Ox,l,g-1,p);x&&t.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}};function A4(n,e,t,r,i,a){const s=n.geometry.attributes.position;if(BS.fromBufferAttribute(s,i),OS.fromBufferAttribute(s,a),t.distanceSqToSegment(BS,OS,RM,XD)>r)return;RM.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(RM);if(!(l<e.near||l>e.far))return{distance:l,point:XD.clone().applyMatrix4(n.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:n}}const WD=new Ce,YD=new Ce;class Sf extends rh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)WD.fromBufferAttribute(t,i),YD.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+WD.distanceTo(YD);e.setAttribute("lineDistance",new an(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dP extends rh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class _N extends Gs{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new jt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ZD=new Mn,SE=new ep,M4=new Ua,_4=new Ce;class hP extends Dr{constructor(e=new Yn,t=new _N){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),M4.copy(r.boundingSphere),M4.applyMatrix4(i),M4.radius+=a,e.ray.intersectsSphere(M4)===!1)return;ZD.copy(i).invert(),SE.copy(e.ray).applyMatrix4(ZD);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,d=r.attributes.position;if(u!==null){const h=Math.max(0,s.start),p=Math.min(u.count,s.start+s.count);for(let g=h,x=p;g<x;g++){const A=u.getX(g);_4.fromBufferAttribute(d,A),KD(_4,A,l,i,e,t,this)}}else{const h=Math.max(0,s.start),p=Math.min(d.count,s.start+s.count);for(let g=h,x=p;g<x;g++)_4.fromBufferAttribute(d,g),KD(_4,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function KD(n,e,t,r,i,a,s){const o=SE.distanceSqToPoint(n);if(o<t){const l=new Ce;SE.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class Hoe extends Pi{constructor(e,t,r,i,a,s,o,l,u){super(e,t,r,i,a,s,o,l,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:ua,this.magFilter=a!==void 0?a:ua,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class qoe extends Pi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=gs,this.minFilter=gs,this.generateMipmaps=!1,this.needsUpdate=!0}}class Gw extends Pi{constructor(e,t,r,i,a,s,o,l,u,c,d,h){super(null,s,o,l,u,c,i,a,d,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Goe extends Gw{constructor(e,t,r,i,a,s){super(e,t,r,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=mu,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $oe extends Gw{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Fd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Xoe extends Pi{constructor(e,t,r,i,a,s,o,l,u){super(e,t,r,i,a,s,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class dc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const a=r.length;let s;t?s=t:s=e*r[a-1];let o=0,l=a-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=r[i]-s,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const c=r[i],h=r[i+1]-c,p=(s-c)/h;return(i+p)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=t||(s.isVector2?new bt:new Ce);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Ce,i=[],a=[],s=[],o=new Ce,l=new Mn;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new Ce)}a[0]=new Ce,s[0]=new Ce;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),h<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let p=1;p<=e;p++){if(a[p]=a[p-1].clone(),s[p]=s[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();const g=Math.acos(Ki(i[p-1].dot(i[p]),-1,1));a[p].applyMatrix4(l.makeRotationAxis(o,g))}s[p].crossVectors(i[p],a[p])}if(t===!0){let p=Math.acos(Ki(a[0].dot(a[e]),-1,1));p/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(p=-p);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),s[g].crossVectors(i[g],a[g])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $w extends dc{constructor(e=0,t=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new bt){const r=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,p=u-this.aY;l=h*c-p*d+this.aX,u=h*d+p*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class mP extends $w{constructor(e,t,r,i,a,s){super(e,t,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function EN(){let n=0,e=0,t=0,r=0;function i(a,s,o,l){n=a,e=o,t=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,u){i(s,o,u*(o-a),u*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,u,c,d){let h=(s-a)/u-(o-a)/(u+c)+(o-s)/c,p=(o-s)/c-(l-s)/(c+d)+(l-o)/d;h*=c,p*=c,i(s,o,h,p)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+r*o}}}const E4=new Ce,BM=new EN,OM=new EN,zM=new EN;class pP extends dc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Ce){const r=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let u,c;this.closed||o>0?u=i[(o-1)%a]:(E4.subVectors(i[0],i[1]).add(i[0]),u=E4);const d=i[o%a],h=i[(o+1)%a];if(this.closed||o+2<a?c=i[(o+2)%a]:(E4.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=E4),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(d),p),x=Math.pow(d.distanceToSquared(h),p),A=Math.pow(h.distanceToSquared(c),p);x<1e-4&&(x=1),g<1e-4&&(g=x),A<1e-4&&(A=x),BM.initNonuniformCatmullRom(u.x,d.x,h.x,c.x,g,x,A),OM.initNonuniformCatmullRom(u.y,d.y,h.y,c.y,g,x,A),zM.initNonuniformCatmullRom(u.z,d.z,h.z,c.z,g,x,A)}else this.curveType==="catmullrom"&&(BM.initCatmullRom(u.x,d.x,h.x,c.x,this.tension),OM.initCatmullRom(u.y,d.y,h.y,c.y,this.tension),zM.initCatmullRom(u.z,d.z,h.z,c.z,this.tension));return r.set(BM.calc(l),OM.calc(l),zM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function QD(n,e,t,r,i){const a=(r-e)*.5,s=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+a+s)*l+(-3*t+3*r-2*a-s)*o+a*n+t}function Woe(n,e){const t=1-n;return t*t*e}function Yoe(n,e){return 2*(1-n)*n*e}function Zoe(n,e){return n*n*e}function cy(n,e,t,r){return Woe(n,e)+Yoe(n,t)+Zoe(n,r)}function Koe(n,e){const t=1-n;return t*t*t*e}function Qoe(n,e){const t=1-n;return 3*t*t*n*e}function Joe(n,e){return 3*(1-n)*n*n*e}function ele(n,e){return n*n*n*e}function fy(n,e,t,r,i){return Koe(n,e)+Qoe(n,t)+Joe(n,r)+ele(n,i)}class NN extends dc{constructor(e=new bt,t=new bt,r=new bt,i=new bt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new bt){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(fy(e,i.x,a.x,s.x,o.x),fy(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vP extends dc{constructor(e=new Ce,t=new Ce,r=new Ce,i=new Ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ce){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(fy(e,i.x,a.x,s.x,o.x),fy(e,i.y,a.y,s.y,o.y),fy(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TN extends dc{constructor(e=new bt,t=new bt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new bt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new bt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gP extends dc{constructor(e=new Ce,t=new Ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ce){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CN extends dc{constructor(e=new bt,t=new bt,r=new bt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new bt){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(cy(e,i.x,a.x,s.x),cy(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DN extends dc{constructor(e=new Ce,t=new Ce,r=new Ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ce){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(cy(e,i.x,a.x,s.x),cy(e,i.y,a.y,s.y),cy(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RN extends dc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new bt){const r=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],u=i[s],c=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(QD(o,l.x,u.x,c.x,d.x),QD(o,l.y,u.y,c.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new bt().fromArray(i))}return this}}var zS=Object.freeze({__proto__:null,ArcCurve:mP,CatmullRomCurve3:pP,CubicBezierCurve:NN,CubicBezierCurve3:vP,EllipseCurve:$w,LineCurve:TN,LineCurve3:gP,QuadraticBezierCurve:CN,QuadraticBezierCurve3:DN,SplineCurve:RN});class xP extends dc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new zS[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),u=l===0?0:1-s/l;return o.getPointAt(u,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new zS[i.type]().fromJSON(i))}return this}}class Oy extends xP{constructor(e){super(),this.type="Path",this.currentPoint=new bt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new TN(this.currentPoint.clone(),new bt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new CN(this.currentPoint.clone(),new bt(e,t),new bt(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,s){const o=new NN(this.currentPoint.clone(),new bt(e,t),new bt(r,i),new bt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new RN(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,a,s),this}absarc(e,t,r,i,a,s){return this.absellipse(e,t,r,r,i,a,s),this}ellipse(e,t,r,i,a,s,o,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,a,s,o,l),this}absellipse(e,t,r,i,a,s,o,l){const u=new $w(e,t,r,i,a,s,o,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class z1 extends Yn{constructor(e=[new bt(0,-.5),new bt(.5,0),new bt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Ki(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],u=[],c=1/t,d=new Ce,h=new bt,p=new Ce,g=new Ce,x=new Ce;let A=0,b=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:A=e[_+1].x-e[_].x,b=e[_+1].y-e[_].y,p.x=b*1,p.y=-A,p.z=b*0,x.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:A=e[_+1].x-e[_].x,b=e[_+1].y-e[_].y,p.x=b*1,p.y=-A,p.z=b*0,g.copy(p),p.x+=x.x,p.y+=x.y,p.z+=x.z,p.normalize(),l.push(p.x,p.y,p.z),x.copy(g)}for(let _=0;_<=t;_++){const M=r+_*c*i,E=Math.sin(M),C=Math.cos(M);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*E,d.y=e[T].y,d.z=e[T].x*C,s.push(d.x,d.y,d.z),h.x=_/t,h.y=T/(e.length-1),o.push(h.x,h.y);const B=l[3*T+0]*E,z=l[3*T+1],R=l[3*T+0]*C;u.push(B,z,R)}}for(let _=0;_<t;_++)for(let M=0;M<e.length-1;M++){const E=M+_*e.length,C=E,T=E+e.length,B=E+e.length+1,z=E+1;a.push(C,T,z),a.push(B,z,T)}this.setIndex(a),this.setAttribute("position",new an(s,3)),this.setAttribute("uv",new an(o,2)),this.setAttribute("normal",new an(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z1(e.points,e.segments,e.phiStart,e.phiLength)}}class Xw extends z1{constructor(e=1,t=1,r=4,i=8){const a=new Oy;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Xw(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ww extends Yn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],l=[],u=new Ce,c=new bt;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=t;d++,h+=3){const p=r+d/t*i;u.x=e*Math.cos(p),u.y=e*Math.sin(p),s.push(u.x,u.y,u.z),o.push(0,0,1),c.x=(s[h]/e+1)/2,c.y=(s[h+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new an(s,3)),this.setAttribute("normal",new an(o,3)),this.setAttribute("uv",new an(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ww(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class U1 extends Yn{constructor(e=1,t=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],d=[],h=[],p=[];let g=0;const x=[],A=r/2;let b=0;_(),s===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(c),this.setAttribute("position",new an(d,3)),this.setAttribute("normal",new an(h,3)),this.setAttribute("uv",new an(p,2));function _(){const E=new Ce,C=new Ce;let T=0;const B=(t-e)/r;for(let z=0;z<=a;z++){const R=[],O=z/a,U=O*(t-e)+e;for(let I=0;I<=i;I++){const q=I/i,X=q*l+o,$=Math.sin(X),k=Math.cos(X);C.x=U*$,C.y=-O*r+A,C.z=U*k,d.push(C.x,C.y,C.z),E.set($,B,k).normalize(),h.push(E.x,E.y,E.z),p.push(q,1-O),R.push(g++)}x.push(R)}for(let z=0;z<i;z++)for(let R=0;R<a;R++){const O=x[R][z],U=x[R+1][z],I=x[R+1][z+1],q=x[R][z+1];(e>0||R!==0)&&(c.push(O,U,q),T+=3),(t>0||R!==a-1)&&(c.push(U,I,q),T+=3)}u.addGroup(b,T,0),b+=T}function M(E){const C=g,T=new bt,B=new Ce;let z=0;const R=E===!0?e:t,O=E===!0?1:-1;for(let I=1;I<=i;I++)d.push(0,A*O,0),h.push(0,O,0),p.push(.5,.5),g++;const U=g;for(let I=0;I<=i;I++){const X=I/i*l+o,$=Math.cos(X),k=Math.sin(X);B.x=R*k,B.y=A*O,B.z=R*$,d.push(B.x,B.y,B.z),h.push(0,O,0),T.x=$*.5+.5,T.y=k*.5*O+.5,p.push(T.x,T.y),g++}for(let I=0;I<i;I++){const q=C+I,X=U+I;E===!0?c.push(X,X+1,q):c.push(X+1,X,q),z+=3}u.addGroup(b,z,E===!0?1:2),b+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Yw extends U1{constructor(e=1,t=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new Yw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fh extends Yn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],s=[];o(i),u(r),c(),this.setAttribute("position",new an(a,3)),this.setAttribute("normal",new an(a.slice(),3)),this.setAttribute("uv",new an(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const M=new Ce,E=new Ce,C=new Ce;for(let T=0;T<t.length;T+=3)p(t[T+0],M),p(t[T+1],E),p(t[T+2],C),l(M,E,C,_)}function l(_,M,E,C){const T=C+1,B=[];for(let z=0;z<=T;z++){B[z]=[];const R=_.clone().lerp(E,z/T),O=M.clone().lerp(E,z/T),U=T-z;for(let I=0;I<=U;I++)I===0&&z===T?B[z][I]=R:B[z][I]=R.clone().lerp(O,I/U)}for(let z=0;z<T;z++)for(let R=0;R<2*(T-z)-1;R++){const O=Math.floor(R/2);R%2===0?(h(B[z][O+1]),h(B[z+1][O]),h(B[z][O])):(h(B[z][O+1]),h(B[z+1][O+1]),h(B[z+1][O]))}}function u(_){const M=new Ce;for(let E=0;E<a.length;E+=3)M.x=a[E+0],M.y=a[E+1],M.z=a[E+2],M.normalize().multiplyScalar(_),a[E+0]=M.x,a[E+1]=M.y,a[E+2]=M.z}function c(){const _=new Ce;for(let M=0;M<a.length;M+=3){_.x=a[M+0],_.y=a[M+1],_.z=a[M+2];const E=A(_)/2/Math.PI+.5,C=b(_)/Math.PI+.5;s.push(E,1-C)}g(),d()}function d(){for(let _=0;_<s.length;_+=6){const M=s[_+0],E=s[_+2],C=s[_+4],T=Math.max(M,E,C),B=Math.min(M,E,C);T>.9&&B<.1&&(M<.2&&(s[_+0]+=1),E<.2&&(s[_+2]+=1),C<.2&&(s[_+4]+=1))}}function h(_){a.push(_.x,_.y,_.z)}function p(_,M){const E=_*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function g(){const _=new Ce,M=new Ce,E=new Ce,C=new Ce,T=new bt,B=new bt,z=new bt;for(let R=0,O=0;R<a.length;R+=9,O+=6){_.set(a[R+0],a[R+1],a[R+2]),M.set(a[R+3],a[R+4],a[R+5]),E.set(a[R+6],a[R+7],a[R+8]),T.set(s[O+0],s[O+1]),B.set(s[O+2],s[O+3]),z.set(s[O+4],s[O+5]),C.copy(_).add(M).add(E).divideScalar(3);const U=A(C);x(T,O+0,_,U),x(B,O+2,M,U),x(z,O+4,E,U)}}function x(_,M,E,C){C<0&&_.x===1&&(s[M]=_.x-1),E.x===0&&E.z===0&&(s[M]=C/2/Math.PI+.5)}function A(_){return Math.atan2(_.z,-_.x)}function b(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fh(e.vertices,e.indices,e.radius,e.details)}}class Zw extends fh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zw(e.radius,e.detail)}}const N4=new Ce,T4=new Ce,UM=new Ce,C4=new Qo;class yP extends Yn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Pm*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),h={},p=[];for(let g=0;g<l;g+=3){s?(u[0]=s.getX(g),u[1]=s.getX(g+1),u[2]=s.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:x,b:A,c:b}=C4;if(x.fromBufferAttribute(o,u[0]),A.fromBufferAttribute(o,u[1]),b.fromBufferAttribute(o,u[2]),C4.getNormal(UM),d[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[1]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,d[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const M=(_+1)%3,E=d[_],C=d[M],T=C4[c[_]],B=C4[c[M]],z=`${E}_${C}`,R=`${C}_${E}`;R in h&&h[R]?(UM.dot(h[R].normal)<=a&&(p.push(T.x,T.y,T.z),p.push(B.x,B.y,B.z)),h[R]=null):z in h||(h[z]={index0:u[_],index1:u[M],normal:UM.clone()})}}for(const g in h)if(h[g]){const{index0:x,index1:A}=h[g];N4.fromBufferAttribute(o,x),T4.fromBufferAttribute(o,A),p.push(N4.x,N4.y,N4.z),p.push(T4.x,T4.y,T4.z)}this.setAttribute("position",new an(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class jm extends Oy{constructor(e){super(e),this.uuid=Tl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Oy().fromJSON(i))}return this}}const tle={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=bP(n,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,u,c,d,h,p;if(r&&(a=sle(n,e,a,t)),n.length>80*t){o=u=n[0],l=c=n[1];for(let g=t;g<i;g+=t)d=n[g],h=n[g+1],d<o&&(o=d),h<l&&(l=h),d>u&&(u=d),h>c&&(c=h);p=Math.max(u-o,c-l),p=p!==0?32767/p:0}return zy(a,s,t,o,l,p,0),s}};function bP(n,e,t,r,i){let a,s;if(i===gle(n,e,t,r)>0)for(a=e;a<t;a+=r)s=JD(a,n[a],n[a+1],s);else for(a=t-r;a>=e;a-=r)s=JD(a,n[a],n[a+1],s);return s&&Kw(s,s.next)&&(Fy(s),s=s.next),s}function Ym(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Kw(t,t.next)||Ii(t.prev,t,t.next)===0)){if(Fy(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function zy(n,e,t,r,i,a,s){if(!n)return;!s&&a&&fle(n,r,i,a);let o=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,a?rle(n,r,i,a):nle(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Fy(n),n=u.next,o=u.next;continue}if(n=u,n===o){s?s===1?(n=ile(Ym(n),e,t),zy(n,e,t,r,i,a,2)):s===2&&ale(n,e,t,r,i,a):zy(Ym(n),e,t,r,i,a,1);break}}}function nle(n){const e=n.prev,t=n,r=n.next;if(Ii(e,t,r)>=0)return!1;const i=e.x,a=t.x,s=r.x,o=e.y,l=t.y,u=r.y,c=i<a?i<s?i:s:a<s?a:s,d=o<l?o<u?o:u:l<u?l:u,h=i>a?i>s?i:s:a>s?a:s,p=o>l?o>u?o:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=d&&g.y<=p&&Zv(i,o,a,l,s,u,g.x,g.y)&&Ii(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function rle(n,e,t,r){const i=n.prev,a=n,s=n.next;if(Ii(i,a,s)>=0)return!1;const o=i.x,l=a.x,u=s.x,c=i.y,d=a.y,h=s.y,p=o<l?o<u?o:u:l<u?l:u,g=c<d?c<h?c:h:d<h?d:h,x=o>l?o>u?o:u:l>u?l:u,A=c>d?c>h?c:h:d>h?d:h,b=wE(p,g,e,t,r),_=wE(x,A,e,t,r);let M=n.prevZ,E=n.nextZ;for(;M&&M.z>=b&&E&&E.z<=_;){if(M.x>=p&&M.x<=x&&M.y>=g&&M.y<=A&&M!==i&&M!==s&&Zv(o,c,l,d,u,h,M.x,M.y)&&Ii(M.prev,M,M.next)>=0||(M=M.prevZ,E.x>=p&&E.x<=x&&E.y>=g&&E.y<=A&&E!==i&&E!==s&&Zv(o,c,l,d,u,h,E.x,E.y)&&Ii(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;M&&M.z>=b;){if(M.x>=p&&M.x<=x&&M.y>=g&&M.y<=A&&M!==i&&M!==s&&Zv(o,c,l,d,u,h,M.x,M.y)&&Ii(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;E&&E.z<=_;){if(E.x>=p&&E.x<=x&&E.y>=g&&E.y<=A&&E!==i&&E!==s&&Zv(o,c,l,d,u,h,E.x,E.y)&&Ii(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function ile(n,e,t){let r=n;do{const i=r.prev,a=r.next.next;!Kw(i,a)&&SP(i,r,r.next,a)&&Uy(i,a)&&Uy(a,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(a.i/t|0),Fy(r),Fy(r.next),r=n=a),r=r.next}while(r!==n);return Ym(r)}function ale(n,e,t,r,i,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&mle(s,o)){let l=wP(s,o);s=Ym(s,s.next),l=Ym(l,l.next),zy(s,e,t,r,i,a,0),zy(l,e,t,r,i,a,0);return}o=o.next}s=s.next}while(s!==n)}function sle(n,e,t,r){const i=[];let a,s,o,l,u;for(a=0,s=e.length;a<s;a++)o=e[a]*r,l=a<s-1?e[a+1]*r:n.length,u=bP(n,o,l,r,!1),u===u.next&&(u.steiner=!0),i.push(hle(u));for(i.sort(ole),a=0;a<i.length;a++)t=lle(i[a],t);return t}function ole(n,e){return n.x-e.x}function lle(n,e){const t=ule(n,e);if(!t)return e;const r=wP(t,n);return Ym(r,r.next),Ym(t,t.next)}function ule(n,e){let t=e,r=-1/0,i;const a=n.x,s=n.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const h=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=a&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===a))return i}t=t.next}while(t!==e);if(!i)return null;const o=i,l=i.x,u=i.y;let c=1/0,d;t=i;do a>=t.x&&t.x>=l&&a!==t.x&&Zv(s<u?a:r,s,l,u,s<u?r:a,s,t.x,t.y)&&(d=Math.abs(s-t.y)/(a-t.x),Uy(t,n)&&(d<c||d===c&&(t.x>i.x||t.x===i.x&&cle(i,t)))&&(i=t,c=d)),t=t.next;while(t!==o);return i}function cle(n,e){return Ii(n.prev,n,e.prev)<0&&Ii(e.next,n,n.next)<0}function fle(n,e,t,r){let i=n;do i.z===0&&(i.z=wE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,dle(i)}function dle(n){let e,t,r,i,a,s,o,l,u=1;do{for(t=n,n=null,a=null,s=0;t;){for(s++,r=t,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(l=u;o>0||l>0&&r;)o!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,o--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,u*=2}while(s>1);return n}function wE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function hle(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Zv(n,e,t,r,i,a,s,o){return(i-s)*(e-o)>=(n-s)*(a-o)&&(n-s)*(r-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(i-s)*(r-o)}function mle(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ple(n,e)&&(Uy(n,e)&&Uy(e,n)&&vle(n,e)&&(Ii(n.prev,n,e.prev)||Ii(n,e.prev,e))||Kw(n,e)&&Ii(n.prev,n,n.next)>0&&Ii(e.prev,e,e.next)>0)}function Ii(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Kw(n,e){return n.x===e.x&&n.y===e.y}function SP(n,e,t,r){const i=R4(Ii(n,e,t)),a=R4(Ii(n,e,r)),s=R4(Ii(t,r,n)),o=R4(Ii(t,r,e));return!!(i!==a&&s!==o||i===0&&D4(n,t,e)||a===0&&D4(n,r,e)||s===0&&D4(t,n,r)||o===0&&D4(t,e,r))}function D4(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function R4(n){return n>0?1:n<0?-1:0}function ple(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&SP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Uy(n,e){return Ii(n.prev,n,n.next)<0?Ii(n,e,n.next)>=0&&Ii(n,n.prev,e)>=0:Ii(n,e,n.prev)<0||Ii(n,n.next,e)<0}function vle(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function wP(n,e){const t=new AE(n.i,n.x,n.y),r=new AE(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function JD(n,e,t,r){const i=new AE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fy(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function AE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gle(n,e,t,r){let i=0;for(let a=e,s=t-r;a<t;a+=r)i+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return i}class mf{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return mf.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];e9(e),t9(r,e);let s=e.length;t.forEach(e9);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,t9(r,t[l]);const o=tle.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function e9(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function t9(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Qw extends Yn{constructor(e=new jm([new bt(.5,.5),new bt(-.5,.5),new bt(-.5,-.5),new bt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];s(u)}this.setAttribute("position",new an(i,3)),this.setAttribute("uv",new an(a,2)),this.computeVertexNormals();function s(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:xle;let M,E=!1,C,T,B,z;b&&(M=b.getSpacedPoints(c),E=!0,h=!1,C=b.computeFrenetFrames(c,!1),T=new Ce,B=new Ce,z=new Ce),h||(A=0,p=0,g=0,x=0);const R=o.extractPoints(u);let O=R.shape;const U=R.holes;if(!mf.isClockWise(O)){O=O.reverse();for(let Se=0,Ve=U.length;Se<Ve;Se++){const ve=U[Se];mf.isClockWise(ve)&&(U[Se]=ve.reverse())}}const q=mf.triangulateShape(O,U),X=O;for(let Se=0,Ve=U.length;Se<Ve;Se++){const ve=U[Se];O=O.concat(ve)}function $(Se,Ve,ve){return Ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),Se.clone().addScaledVector(Ve,ve)}const k=O.length,P=q.length;function Z(Se,Ve,ve){let fe,he,Be;const ue=Se.x-Ve.x,xe=Se.y-Ve.y,we=ve.x-Se.x,ie=ve.y-Se.y,re=ue*ue+xe*xe,ee=ue*ie-xe*we;if(Math.abs(ee)>Number.EPSILON){const oe=Math.sqrt(re),ge=Math.sqrt(we*we+ie*ie),De=Ve.x-xe/oe,Le=Ve.y+ue/oe,Ue=ve.x-ie/ge,He=ve.y+we/ge,et=((Ue-De)*ie-(He-Le)*we)/(ue*ie-xe*we);fe=De+ue*et-Se.x,he=Le+xe*et-Se.y;const Xe=fe*fe+he*he;if(Xe<=2)return new bt(fe,he);Be=Math.sqrt(Xe/2)}else{let oe=!1;ue>Number.EPSILON?we>Number.EPSILON&&(oe=!0):ue<-Number.EPSILON?we<-Number.EPSILON&&(oe=!0):Math.sign(xe)===Math.sign(ie)&&(oe=!0),oe?(fe=-xe,he=ue,Be=Math.sqrt(re)):(fe=ue,he=xe,Be=Math.sqrt(re/2))}return new bt(fe/Be,he/Be)}const H=[];for(let Se=0,Ve=X.length,ve=Ve-1,fe=Se+1;Se<Ve;Se++,ve++,fe++)ve===Ve&&(ve=0),fe===Ve&&(fe=0),H[Se]=Z(X[Se],X[ve],X[fe]);const ae=[];let W,K=H.concat();for(let Se=0,Ve=U.length;Se<Ve;Se++){const ve=U[Se];W=[];for(let fe=0,he=ve.length,Be=he-1,ue=fe+1;fe<he;fe++,Be++,ue++)Be===he&&(Be=0),ue===he&&(ue=0),W[fe]=Z(ve[fe],ve[Be],ve[ue]);ae.push(W),K=K.concat(W)}for(let Se=0;Se<A;Se++){const Ve=Se/A,ve=p*Math.cos(Ve*Math.PI/2),fe=g*Math.sin(Ve*Math.PI/2)+x;for(let he=0,Be=X.length;he<Be;he++){const ue=$(X[he],H[he],fe);ce(ue.x,ue.y,-ve)}for(let he=0,Be=U.length;he<Be;he++){const ue=U[he];W=ae[he];for(let xe=0,we=ue.length;xe<we;xe++){const ie=$(ue[xe],W[xe],fe);ce(ie.x,ie.y,-ve)}}}const Q=g+x;for(let Se=0;Se<k;Se++){const Ve=h?$(O[Se],K[Se],Q):O[Se];E?(B.copy(C.normals[0]).multiplyScalar(Ve.x),T.copy(C.binormals[0]).multiplyScalar(Ve.y),z.copy(M[0]).add(B).add(T),ce(z.x,z.y,z.z)):ce(Ve.x,Ve.y,0)}for(let Se=1;Se<=c;Se++)for(let Ve=0;Ve<k;Ve++){const ve=h?$(O[Ve],K[Ve],Q):O[Ve];E?(B.copy(C.normals[Se]).multiplyScalar(ve.x),T.copy(C.binormals[Se]).multiplyScalar(ve.y),z.copy(M[Se]).add(B).add(T),ce(z.x,z.y,z.z)):ce(ve.x,ve.y,d/c*Se)}for(let Se=A-1;Se>=0;Se--){const Ve=Se/A,ve=p*Math.cos(Ve*Math.PI/2),fe=g*Math.sin(Ve*Math.PI/2)+x;for(let he=0,Be=X.length;he<Be;he++){const ue=$(X[he],H[he],fe);ce(ue.x,ue.y,d+ve)}for(let he=0,Be=U.length;he<Be;he++){const ue=U[he];W=ae[he];for(let xe=0,we=ue.length;xe<we;xe++){const ie=$(ue[xe],W[xe],fe);E?ce(ie.x,ie.y+M[c-1].y,M[c-1].x+ve):ce(ie.x,ie.y,d+ve)}}}te(),le();function te(){const Se=i.length/3;if(h){let Ve=0,ve=k*Ve;for(let fe=0;fe<P;fe++){const he=q[fe];be(he[2]+ve,he[1]+ve,he[0]+ve)}Ve=c+A*2,ve=k*Ve;for(let fe=0;fe<P;fe++){const he=q[fe];be(he[0]+ve,he[1]+ve,he[2]+ve)}}else{for(let Ve=0;Ve<P;Ve++){const ve=q[Ve];be(ve[2],ve[1],ve[0])}for(let Ve=0;Ve<P;Ve++){const ve=q[Ve];be(ve[0]+k*c,ve[1]+k*c,ve[2]+k*c)}}r.addGroup(Se,i.length/3-Se,0)}function le(){const Se=i.length/3;let Ve=0;de(X,Ve),Ve+=X.length;for(let ve=0,fe=U.length;ve<fe;ve++){const he=U[ve];de(he,Ve),Ve+=he.length}r.addGroup(Se,i.length/3-Se,1)}function de(Se,Ve){let ve=Se.length;for(;--ve>=0;){const fe=ve;let he=ve-1;he<0&&(he=Se.length-1);for(let Be=0,ue=c+A*2;Be<ue;Be++){const xe=k*Be,we=k*(Be+1),ie=Ve+fe+xe,re=Ve+he+xe,ee=Ve+he+we,oe=Ve+fe+we;Te(ie,re,ee,oe)}}}function ce(Se,Ve,ve){l.push(Se),l.push(Ve),l.push(ve)}function be(Se,Ve,ve){Oe(Se),Oe(Ve),Oe(ve);const fe=i.length/3,he=_.generateTopUV(r,i,fe-3,fe-2,fe-1);Fe(he[0]),Fe(he[1]),Fe(he[2])}function Te(Se,Ve,ve,fe){Oe(Se),Oe(Ve),Oe(fe),Oe(Ve),Oe(ve),Oe(fe);const he=i.length/3,Be=_.generateSideWallUV(r,i,he-6,he-3,he-2,he-1);Fe(Be[0]),Fe(Be[1]),Fe(Be[3]),Fe(Be[1]),Fe(Be[2]),Fe(Be[3])}function Oe(Se){i.push(l[Se*3+0]),i.push(l[Se*3+1]),i.push(l[Se*3+2])}function Fe(Se){a.push(Se.x),a.push(Se.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return yle(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new zS[i.type]().fromJSON(i)),new Qw(r,e.options)}}const xle={generateTopUV:function(n,e,t,r,i){const a=e[t*3],s=e[t*3+1],o=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new bt(a,s),new bt(o,l),new bt(u,c)]},generateSideWallUV:function(n,e,t,r,i,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],d=e[r*3+2],h=e[i*3],p=e[i*3+1],g=e[i*3+2],x=e[a*3],A=e[a*3+1],b=e[a*3+2];return Math.abs(o-c)<Math.abs(s-u)?[new bt(s,1-l),new bt(u,1-d),new bt(h,1-g),new bt(x,1-b)]:[new bt(o,1-l),new bt(c,1-d),new bt(p,1-g),new bt(A,1-b)]}};function yle(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Jw extends fh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jw(e.radius,e.detail)}}class o2 extends fh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new o2(e.radius,e.detail)}}class e5 extends Yn{constructor(e=.5,t=1,r=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],u=[],c=[];let d=e;const h=(t-e)/i,p=new Ce,g=new bt;for(let x=0;x<=i;x++){for(let A=0;A<=r;A++){const b=a+A/r*s;p.x=d*Math.cos(b),p.y=d*Math.sin(b),l.push(p.x,p.y,p.z),u.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,c.push(g.x,g.y)}d+=h}for(let x=0;x<i;x++){const A=x*(r+1);for(let b=0;b<r;b++){const _=b+A,M=_,E=_+r+1,C=_+r+2,T=_+1;o.push(M,E,T),o.push(E,C,T)}}this.setIndex(o),this.setAttribute("position",new an(l,3)),this.setAttribute("normal",new an(u,3)),this.setAttribute("uv",new an(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e5(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class t5 extends Yn{constructor(e=new jm([new bt(0,.5),new bt(-.5,-.5),new bt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(o,l,c),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new an(i,3)),this.setAttribute("normal",new an(a,3)),this.setAttribute("uv",new an(s,2));function u(c){const d=i.length/3,h=c.extractPoints(t);let p=h.shape;const g=h.holes;mf.isClockWise(p)===!1&&(p=p.reverse());for(let A=0,b=g.length;A<b;A++){const _=g[A];mf.isClockWise(_)===!0&&(g[A]=_.reverse())}const x=mf.triangulateShape(p,g);for(let A=0,b=g.length;A<b;A++){const _=g[A];p=p.concat(_)}for(let A=0,b=p.length;A<b;A++){const _=p[A];i.push(_.x,_.y,0),a.push(0,0,1),s.push(_.x,_.y)}for(let A=0,b=x.length;A<b;A++){const _=x[A],M=_[0]+d,E=_[1]+d,C=_[2]+d;r.push(M,E,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return ble(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];r.push(s)}return new t5(r,e.curveSegments)}}function ble(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class l2 extends Yn{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let u=0;const c=[],d=new Ce,h=new Ce,p=[],g=[],x=[],A=[];for(let b=0;b<=r;b++){const _=[],M=b/r;let E=0;b===0&&s===0?E=.5/t:b===r&&l===Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const T=C/t;d.x=-e*Math.cos(i+T*a)*Math.sin(s+M*o),d.y=e*Math.cos(s+M*o),d.z=e*Math.sin(i+T*a)*Math.sin(s+M*o),g.push(d.x,d.y,d.z),h.copy(d).normalize(),x.push(h.x,h.y,h.z),A.push(T+E,1-M),_.push(u++)}c.push(_)}for(let b=0;b<r;b++)for(let _=0;_<t;_++){const M=c[b][_+1],E=c[b][_],C=c[b+1][_],T=c[b+1][_+1];(b!==0||s>0)&&p.push(M,E,T),(b!==r-1||l<Math.PI)&&p.push(E,C,T)}this.setIndex(p),this.setAttribute("position",new an(g,3)),this.setAttribute("normal",new an(x,3)),this.setAttribute("uv",new an(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l2(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class n5 extends fh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new n5(e.radius,e.detail)}}class r5 extends Yn{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],u=[],c=new Ce,d=new Ce,h=new Ce;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const x=g/i*a,A=p/r*Math.PI*2;d.x=(e+t*Math.cos(A))*Math.cos(x),d.y=(e+t*Math.cos(A))*Math.sin(x),d.z=t*Math.sin(A),o.push(d.x,d.y,d.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),h.subVectors(d,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const x=(i+1)*p+g-1,A=(i+1)*(p-1)+g-1,b=(i+1)*(p-1)+g,_=(i+1)*p+g;s.push(x,A,_),s.push(A,b,_)}this.setIndex(s),this.setAttribute("position",new an(o,3)),this.setAttribute("normal",new an(l,3)),this.setAttribute("uv",new an(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r5(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class i5 extends Yn{constructor(e=1,t=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],u=[],c=[],d=new Ce,h=new Ce,p=new Ce,g=new Ce,x=new Ce,A=new Ce,b=new Ce;for(let M=0;M<=r;++M){const E=M/r*a*Math.PI*2;_(E,a,s,e,p),_(E+.01,a,s,e,g),A.subVectors(g,p),b.addVectors(g,p),x.crossVectors(A,b),b.crossVectors(x,A),x.normalize(),b.normalize();for(let C=0;C<=i;++C){const T=C/i*Math.PI*2,B=-t*Math.cos(T),z=t*Math.sin(T);d.x=p.x+(B*b.x+z*x.x),d.y=p.y+(B*b.y+z*x.y),d.z=p.z+(B*b.z+z*x.z),l.push(d.x,d.y,d.z),h.subVectors(d,p).normalize(),u.push(h.x,h.y,h.z),c.push(M/r),c.push(C/i)}}for(let M=1;M<=r;M++)for(let E=1;E<=i;E++){const C=(i+1)*(M-1)+(E-1),T=(i+1)*M+(E-1),B=(i+1)*M+E,z=(i+1)*(M-1)+E;o.push(C,T,z),o.push(T,B,z)}this.setIndex(o),this.setAttribute("position",new an(l,3)),this.setAttribute("normal",new an(u,3)),this.setAttribute("uv",new an(c,2));function _(M,E,C,T,B){const z=Math.cos(M),R=Math.sin(M),O=C/E*M,U=Math.cos(O);B.x=T*(2+U)*.5*z,B.y=T*(2+U)*R*.5,B.z=T*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i5(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class a5 extends Yn{constructor(e=new DN(new Ce(-1,-1,0),new Ce(-1,1,0),new Ce(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new Ce,l=new Ce,u=new bt;let c=new Ce;const d=[],h=[],p=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new an(d,3)),this.setAttribute("normal",new an(h,3)),this.setAttribute("uv",new an(p,2));function x(){for(let M=0;M<t;M++)A(M);A(a===!1?t:0),_(),b()}function A(M){c=e.getPointAt(M/t,c);const E=s.normals[M],C=s.binormals[M];for(let T=0;T<=i;T++){const B=T/i*Math.PI*2,z=Math.sin(B),R=-Math.cos(B);l.x=R*E.x+z*C.x,l.y=R*E.y+z*C.y,l.z=R*E.z+z*C.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=c.x+r*l.x,o.y=c.y+r*l.y,o.z=c.z+r*l.z,d.push(o.x,o.y,o.z)}}function b(){for(let M=1;M<=t;M++)for(let E=1;E<=i;E++){const C=(i+1)*(M-1)+(E-1),T=(i+1)*M+(E-1),B=(i+1)*M+E,z=(i+1)*(M-1)+E;g.push(C,T,z),g.push(T,B,z)}}function _(){for(let M=0;M<=t;M++)for(let E=0;E<=i;E++)u.x=M/t,u.y=E/i,p.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new a5(new zS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class BN extends Yn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Ce,a=new Ce;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],h=d.start,p=d.count;for(let g=h,x=h+p;g<x;g+=3)for(let A=0;A<3;A++){const b=o.getX(g+A),_=o.getX(g+(A+1)%3);i.fromBufferAttribute(s,b),a.fromBufferAttribute(s,_),n9(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let u=0;u<3;u++){const c=3*o+u,d=3*o+(u+1)%3;i.fromBufferAttribute(s,c),a.fromBufferAttribute(s,d),n9(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new an(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function n9(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var r9=Object.freeze({__proto__:null,BoxGeometry:tp,CapsuleGeometry:Xw,CircleGeometry:Ww,ConeGeometry:Yw,CylinderGeometry:U1,DodecahedronGeometry:Zw,EdgesGeometry:yP,ExtrudeGeometry:Qw,IcosahedronGeometry:Jw,LatheGeometry:z1,OctahedronGeometry:o2,PlaneGeometry:fc,PolyhedronGeometry:fh,RingGeometry:e5,ShapeGeometry:t5,SphereGeometry:l2,TetrahedronGeometry:n5,TorusGeometry:r5,TorusKnotGeometry:i5,TubeGeometry:a5,WireframeGeometry:BN});class AP extends Gs{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new jt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class MP extends nl{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class ON extends Gs{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new jt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Dl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _P extends ON{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new bt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ki(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new jt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new jt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new jt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class EP extends Gs{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new jt(16777215),this.specular=new jt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Dl,this.combine=n2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NP extends Gs{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new jt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class TP extends Gs{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class CP extends Gs{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Dl,this.combine=n2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DP extends Gs{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new jt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RP extends Do{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function zm(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function BP(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function OP(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function ME(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,s=0;s!==r;++a){const o=t[a]*e;for(let l=0;l!==e;++l)i[s++]=n[o+l]}return i}function zN(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=n[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=n[i++];while(a!==void 0)}function Sle(n,e,t,r,i=30){const a=n.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),d=[],h=[];for(let p=0;p<u.times.length;++p){const g=u.times[p]*i;if(!(g<t||g>=r)){d.push(u.times[p]);for(let x=0;x<c;++x)h.push(u.values[p*c+x])}}d.length!==0&&(u.times=zm(d,u.times.constructor),u.values=zm(h,u.values.constructor),s.push(u))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function wle(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let s=0;s<i;++s){const o=t.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(b){return b.name===o.name&&b.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let h=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const g=o.times.length-1;let x;if(a<=o.times[0]){const b=c,_=d-c;x=o.values.slice(b,_)}else if(a>=o.times[g]){const b=g*d+c,_=b+d-c;x=o.values.slice(b,_)}else{const b=o.createInterpolant(),_=c,M=d-c;b.evaluate(a),x=b.resultBuffer.slice(_,M)}l==="quaternion"&&new xs().fromArray(x).normalize().conjugate().toArray(x);const A=u.times.length;for(let b=0;b<A;++b){const _=b*p+h;if(l==="quaternion")xs.multiplyQuaternionsFlat(u.values,_,x,0,u.values,_);else{const M=p-h*2;for(let E=0;E<M;++E)u.values[_+E]-=x[E]}}}return n.blendMode=hN,n}const Ale={convertArray:zm,isTypedArray:BP,getKeyframeOrder:OP,sortedArray:ME,flattenJSON:zN,subclip:Sle,makeClipAdditive:wle};class u2{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<t[o]?s=o:r=o+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class zP extends u2{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Rm,endingEnd:Rm}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Bm:a=e,o=2*t-r;break;case Cy:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Bm:s=e,l=2*r-t;break;case Cy:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=s*c}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(r-t)/(i-t),x=g*g,A=x*g,b=-h*A+2*h*x-h*g,_=(1+h)*A+(-1.5-2*h)*x+(-.5+h)*g+1,M=(-1-p)*A+(1.5+p)*x+.5*g,E=p*A-p*x;for(let C=0;C!==o;++C)a[C]=b*s[c+C]+_*s[u+C]+M*s[l+C]+E*s[d+C];return a}}class UN extends u2{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=(r-t)/(i-t),d=1-c;for(let h=0;h!==o;++h)a[h]=s[u+h]*d+s[l+h]*c;return a}}class UP extends u2{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class hc{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=zm(t,this.TimeBufferType),this.values=zm(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:zm(e.times,Array),values:zm(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new UP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new UN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new zP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ty:t=this.InterpolantFactoryMethodDiscrete;break;case RS:t=this.InterpolantFactoryMethodLinear;break;case x3:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ty;case this.InterpolantFactoryMethodLinear:return RS;case this.InterpolantFactoryMethodSmooth:return x3}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=r.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&BP(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===x3,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const u=e[o],c=e[o+1];if(u!==c&&(o!==1||u!==e[0]))if(i)l=!0;else{const d=o*r,h=d-r,p=d+r;for(let g=0;g!==r;++g){const x=t[d+g];if(x!==t[h+g]||x!==t[p+g]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const d=o*r,h=s*r;for(let p=0;p!==r;++p)t[h+p]=t[d+p]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,u=0;u!==r;++u)t[l+u]=t[o+u];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}hc.prototype.TimeBufferType=Float32Array;hc.prototype.ValueBufferType=Float32Array;hc.prototype.DefaultInterpolation=RS;class np extends hc{constructor(e,t,r){super(e,t,r)}}np.prototype.ValueTypeName="bool";np.prototype.ValueBufferType=Array;np.prototype.DefaultInterpolation=Ty;np.prototype.InterpolantFactoryMethodLinear=void 0;np.prototype.InterpolantFactoryMethodSmooth=void 0;class FN extends hc{}FN.prototype.ValueTypeName="color";class Ly extends hc{}Ly.prototype.ValueTypeName="number";class FP extends u2{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let u=e*o;for(let c=u+o;u!==c;u+=4)xs.slerpFlat(a,0,s,u-o,s,u,l);return a}}class c2 extends hc{InterpolantFactoryMethodLinear(e){return new FP(this.times,this.values,this.getValueSize(),e)}}c2.prototype.ValueTypeName="quaternion";c2.prototype.InterpolantFactoryMethodSmooth=void 0;class rp extends hc{constructor(e,t,r){super(e,t,r)}}rp.prototype.ValueTypeName="string";rp.prototype.ValueBufferType=Array;rp.prototype.DefaultInterpolation=Ty;rp.prototype.InterpolantFactoryMethodLinear=void 0;rp.prototype.InterpolantFactoryMethodSmooth=void 0;class ky extends hc{}ky.prototype.ValueTypeName="vector";class Iy{constructor(e="",t=-1,r=[],i=zw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Tl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push(_le(r[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=r.length;a!==s;++a)t.push(hc.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],u=[];l.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);const c=OP(l);l=ME(l,1,c),u=ME(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),s.push(new Ly(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],c=u.name.match(a);if(c&&c.length>1){const d=c[1];let h=i[d];h||(i[d]=h=[]),h.push(u)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,h,p,g,x){if(p.length!==0){const A=[],b=[];zN(p,A,b,g),A.length!==0&&x.push(new d(h,A,b))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const h=u[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let x=0;x<h[g].morphTargets.length;x++)p[h[g].morphTargets[x]]=-1;for(const x in p){const A=[],b=[];for(let _=0;_!==h[g].morphTargets.length;++_){const M=h[g];A.push(M.time),b.push(M.morphTarget===x?1:0)}i.push(new Ly(".morphTargetInfluence["+x+"]",A,b))}l=p.length*s}else{const p=".bones["+t[d].name+"]";r(ky,p+".position",h,"pos",i),r(c2,p+".quaternion",h,"rot",i),r(ky,p+".scale",h,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Mle(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ly;case"vector":case"vector2":case"vector3":case"vector4":return ky;case"color":return FN;case"quaternion":return c2;case"bool":case"boolean":return np;case"string":return rp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function _le(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Mle(n.type);if(n.times===void 0){const t=[],r=[];zN(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Sd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class LN{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){o++,a===!1&&i.onStart!==void 0&&i.onStart(c,s,o),a=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,h=u.length;d<h;d+=2){const p=u[d],g=u[d+1];if(p.global&&(p.lastIndex=0),p.test(c))return g}return null}}}const LP=new LN;class al{constructor(e){this.manager=e!==void 0?e:LP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}al.DEFAULT_MATERIAL_NAME="__DEFAULT";const dd={};class Ele extends Error{constructor(e,t){super(e),this.response=t}}class kd extends al{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Sd.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(dd[e]!==void 0){dd[e].push({onLoad:t,onProgress:r,onError:i});return}dd[e]=[],dd[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=dd[e],d=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),p=h?parseInt(h):0,g=p!==0;let x=0;const A=new ReadableStream({start(b){_();function _(){d.read().then(({done:M,value:E})=>{if(M)b.close();else{x+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:p});for(let T=0,B=c.length;T<B;T++){const z=c[T];z.onProgress&&z.onProgress(C)}b.enqueue(E),_()}},M=>{b.error(M)})}}});return new Response(A)}else throw new Ele(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,o));case"json":return u.json();default:if(o===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),h=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(h);return u.arrayBuffer().then(g=>p.decode(g))}}}).then(u=>{Sd.add(e,u);const c=dd[e];delete dd[e];for(let d=0,h=c.length;d<h;d++){const p=c[d];p.onLoad&&p.onLoad(u)}}).catch(u=>{const c=dd[e];if(c===void 0)throw this.manager.itemError(e),u;delete dd[e];for(let d=0,h=c.length;d<h;d++){const p=c[d];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Nle extends al{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new kd(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Iy.parse(e[r]);t.push(i)}return t}}class Tle extends al{constructor(e){super(e)}load(e,t,r,i){const a=this,s=[],o=new Gw,l=new kd(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(d){l.load(e[d],function(h){const p=a.parse(h,!0);s[d]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(o.minFilter=ua),o.image=s,o.format=p.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)c(d);else l.load(e,function(d){const h=a.parse(d,!0);if(h.isCubemap){const p=h.mipmaps.length/h.mipmapCount;for(let g=0;g<p;g++){s[g]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)s[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+x]),s[g].format=h.format,s[g].width=h.width,s[g].height=h.height}o.image=s}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=ua),o.format=h.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}class Py extends al{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Sd.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o=By("img");function l(){c(),Sd.add(e,this),t&&t(this),a.manager.itemEnd(e)}function u(d){c(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class Cle extends al{constructor(e){super(e)}load(e,t,r,i){const a=new a2;a.colorSpace=ks;const s=new Py(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(u){s.load(e[u],function(c){a.images[u]=c,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class Dle extends al{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new hf,o=new kd(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:mu,s.wrapT=u.wrapT!==void 0?u.wrapT:mu,s.magFilter=u.magFilter!==void 0?u.magFilter:ua,s.minFilter=u.minFilter!==void 0?u.minFilter:ua,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(s.colorSpace=u.colorSpace),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=sf),u.mipmapCount===1&&(s.minFilter=ua),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,t&&t(s,u)},r,i),s}}class Rle extends al{constructor(e){super(e)}load(e,t,r,i){const a=new Pi,s=new Py(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class dh extends Dr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new jt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class kP extends dh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Dr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new jt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const FM=new Mn,i9=new Ce,a9=new Ce;class kN{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new bt(512,512),this.map=null,this.mapPass=null,this.matrix=new Mn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new s2,this._frameExtents=new bt(1,1),this._viewportCount=1,this._viewports=[new er(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;i9.setFromMatrixPosition(e.matrixWorld),t.position.copy(i9),a9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(a9),t.updateMatrixWorld(),FM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(FM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ble extends kN{constructor(){super(new oa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=c1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class IP extends dh{constructor(e,t,r=0,i=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Dr.DEFAULT_UP),this.updateMatrix(),this.target=new Dr,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new Ble}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const s9=new Mn,zx=new Ce,LM=new Ce;class Ole extends kN{constructor(){super(new oa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new bt(4,2),this._viewportCount=6,this._viewports=[new er(2,1,1,1),new er(0,1,1,1),new er(3,1,1,1),new er(1,1,1,1),new er(3,0,1,1),new er(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),zx.setFromMatrixPosition(e.matrixWorld),r.position.copy(zx),LM.copy(r.position),LM.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(LM),r.updateMatrixWorld(),i.makeTranslation(-zx.x,-zx.y,-zx.z),s9.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s9)}}class PP extends dh{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Ole}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class zle extends kN{constructor(){super(new Z0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jP extends dh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Dr.DEFAULT_UP),this.updateMatrix(),this.target=new Dr,this.shadow=new zle}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class VP extends dh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class HP extends dh{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class qP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class GP extends dh{constructor(e=new qP,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class s5 extends al{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,s=new kd(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new jt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new jt().setHex(s.value);break;case"v2":i.uniforms[a].value=new bt().fromArray(s.value);break;case"v3":i.uniforms[a].value=new Ce().fromArray(s.value);break;case"v4":i.uniforms[a].value=new er().fromArray(s.value);break;case"m3":i.uniforms[a].value=new kn().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Mn().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new bt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new bt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return s5.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:AP,SpriteMaterial:AN,RawShaderMaterial:MP,ShaderMaterial:nl,PointsMaterial:_N,MeshPhysicalMaterial:_P,MeshStandardMaterial:ON,MeshPhongMaterial:EP,MeshToonMaterial:NP,MeshNormalMaterial:TP,MeshLambertMaterial:CP,MeshDepthMaterial:Iw,MeshDistanceMaterial:Pw,MeshBasicMaterial:qd,MeshMatcapMaterial:DP,LineDashedMaterial:RP,LineBasicMaterial:Do,Material:Gs};return new t[e]}}class _E{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class o5 extends Yn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class $P extends al{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new kd(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,g){if(t[g]!==void 0)return t[g];const A=p.interleavedBuffers[g],b=a(p,A.buffer),_=Xv(A.type,b),M=new Hw(_,A.stride);return M.uuid=A.uuid,t[g]=M,M}function a(p,g){if(r[g]!==void 0)return r[g];const A=p.arrayBuffers[g],b=new Uint32Array(A).buffer;return r[g]=b,b}const s=e.isInstancedBufferGeometry?new o5:new Yn,o=e.data.index;if(o!==void 0){const p=Xv(o.type,o.array);s.setIndex(new Yr(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let x;if(g.isInterleavedBufferAttribute){const A=i(e.data,g.data);x=new Nl(A,g.itemSize,g.offset,g.normalized)}else{const A=Xv(g.type,g.array),b=g.isInstancedBufferAttribute?Wm:Yr;x=new b(A,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),s.setAttribute(p,x)}const u=e.data.morphAttributes;if(u)for(const p in u){const g=u[p],x=[];for(let A=0,b=g.length;A<b;A++){const _=g[A];let M;if(_.isInterleavedBufferAttribute){const E=i(e.data,_.data);M=new Nl(E,_.itemSize,_.offset,_.normalized)}else{const E=Xv(_.type,_.array);M=new Yr(E,_.itemSize,_.normalized)}_.name!==void 0&&(M.name=_.name),x.push(M)}s.morphAttributes[p]=x}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let p=0,g=d.length;p!==g;++p){const x=d[p];s.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const p=new Ce;h.center!==void 0&&p.fromArray(h.center),s.boundingSphere=new Ua(p,h.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Ule extends al{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?_E.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new kd(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?_E.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new kd(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,l,o,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),t!==void 0){let d=!1;for(const h in s)if(s[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new jm().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new qw().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new $P;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in r9?o=r9[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new s5;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=Iy.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return s(c)}else return l.data?{data:Xv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new LN(t);a=new Py(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],h=d.url;if(Array.isArray(h)){const p=[];for(let g=0,x=h.length;g<x;g++){const A=h[g],b=o(A);b!==null&&(b instanceof HTMLImageElement?p.push(b):p.push(new hf(b.data,b.width,b.height)))}i[d.uuid]=new Om(p)}else{const p=o(d.url);i[d.uuid]=new Om(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:Xv(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Py(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],u=l.url;if(Array.isArray(u)){const c=[];for(let d=0,h=u.length;d<h;d++){const p=u[d],g=await a(p);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new hf(g.data,g.width,g.height)))}r[l.uuid]=new Om(c)}else{const c=await a(l.url);r[l.uuid]=new Om(c)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let c;Array.isArray(u)?(c=new a2,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new hf:c=new Pi,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=o.uuid,o.name!==void 0&&(c.name=o.name),o.mapping!==void 0&&(c.mapping=r(o.mapping,Fle)),o.channel!==void 0&&(c.channel=o.channel),o.offset!==void 0&&c.offset.fromArray(o.offset),o.repeat!==void 0&&c.repeat.fromArray(o.repeat),o.center!==void 0&&c.center.fromArray(o.center),o.rotation!==void 0&&(c.rotation=o.rotation),o.wrap!==void 0&&(c.wrapS=r(o.wrap[0],o9),c.wrapT=r(o.wrap[1],o9)),o.format!==void 0&&(c.format=o.format),o.internalFormat!==void 0&&(c.internalFormat=o.internalFormat),o.type!==void 0&&(c.type=o.type),o.colorSpace!==void 0&&(c.colorSpace=o.colorSpace),o.minFilter!==void 0&&(c.minFilter=r(o.minFilter,l9)),o.magFilter!==void 0&&(c.magFilter=r(o.magFilter,l9)),o.anisotropy!==void 0&&(c.anisotropy=o.anisotropy),o.flipY!==void 0&&(c.flipY=o.flipY),o.generateMipmaps!==void 0&&(c.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(c.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(c.compareFunction=o.compareFunction),o.userData!==void 0&&(c.userData=o.userData),i[o.uuid]=c}return i}parseObject(e,t,r,i,a){let s;function o(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let g=0,x=h.length;g<x;g++){const A=h[g];r[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),p.push(r[A])}return p}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,d;switch(e.type){case"Scene":s=new wN,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new jt(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Vw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new jw(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new oa(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Z0(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new VP(e.color,e.intensity);break;case"DirectionalLight":s=new jP(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new PP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new HP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new IP(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new kP(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new GP().fromJSON(e);break;case"SkinnedMesh":c=o(e.geometry),d=l(e.material),s=new uP(c,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=o(e.geometry),d=l(e.material),s=new Ni(c,d);break;case"InstancedMesh":c=o(e.geometry),d=l(e.material);const h=e.count,p=e.instanceMatrix,g=e.instanceColor;s=new cP(c,d,h),s.instanceMatrix=new Wm(new Float32Array(p.array),16),g!==void 0&&(s.instanceColor=new Wm(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":c=o(e.geometry),d=l(e.material),s=new fP(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),s.geometry=c,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(x=>{const A=new ba;A.min.fromArray(x.boxMin),A.max.fromArray(x.boxMax);const b=new Ua;return b.radius=x.sphereRadius,b.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:A,sphereInitialized:x.sphereInitialized,sphere:b}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":s=new lP;break;case"Line":s=new rh(o(e.geometry),l(e.material));break;case"LineLoop":s=new dP(o(e.geometry),l(e.material));break;case"LineSegments":s=new Sf(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new hP(o(e.geometry),l(e.material));break;case"Sprite":s=new oP(l(e.material));break;case"Group":s=new Yv;break;case"Bone":s=new MN;break;default:s=new Dr}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let p=0;p<h.length;p++)s.add(this.parseObject(h[p],t,r,i,a))}if(e.animations!==void 0){const h=e.animations;for(let p=0;p<h.length;p++){const g=h[p];s.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let p=0;p<h.length;p++){const g=h[p],x=s.getObjectByProperty("uuid",g.object);x!==void 0&&s.addLevel(x,g.distance,g.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new Dr}})}}const Fle={UVMapping:Nw,CubeReflectionMapping:Fd,CubeRefractionMapping:nh,EquirectangularReflectionMapping:My,EquirectangularRefractionMapping:_y,CubeUVReflectionMapping:R1},o9={RepeatWrapping:Ey,ClampToEdgeWrapping:mu,MirroredRepeatWrapping:Ny},l9={NearestFilter:gs,NearestMipmapNearestFilter:rN,NearestMipmapLinearFilter:$v,LinearFilter:ua,LinearMipmapNearestFilter:ry,LinearMipmapLinearFilter:sf};class Lle extends al{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Sd.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(u=>{t&&t(u),a.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return Sd.add(e,u),t&&t(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Sd.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Sd.add(e,l),a.manager.itemStart(e)}}let B4;class IN{static getContext(){return B4===void 0&&(B4=new(window.AudioContext||window.webkitAudioContext)),B4}static setContext(e){B4=e}}class kle extends al{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new kd(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const u=l.slice(0);IN.getContext().decodeAudioData(u,function(d){t(d)}).catch(o)}catch(u){o(u)}},r,i);function o(l){i?i(l):console.error(l),a.manager.itemError(e)}}}const u9=new Mn,c9=new Mn,vm=new Mn;class Ile{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new oa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new oa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,vm.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(Pm*t.fov*.5)/t.zoom;let o,l;c9.elements[12]=-i,u9.elements[12]=i,o=-s*t.aspect+a,l=s*t.aspect+a,vm.elements[0]=2*t.near/(l-o),vm.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(vm),o=-s*t.aspect-a,l=s*t.aspect-a,vm.elements[0]=2*t.near/(l-o),vm.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(vm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(c9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(u9)}}class PN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=f9(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=f9();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function f9(){return performance.now()}const gm=new Ce,d9=new xs,Ple=new Ce,xm=new Ce;class jle extends Dr{constructor(){super(),this.type="AudioListener",this.context=IN.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new PN}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(gm,d9,Ple),xm.set(0,0,-1).applyQuaternion(d9),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(gm.x,i),t.positionY.linearRampToValueAtTime(gm.y,i),t.positionZ.linearRampToValueAtTime(gm.z,i),t.forwardX.linearRampToValueAtTime(xm.x,i),t.forwardY.linearRampToValueAtTime(xm.y,i),t.forwardZ.linearRampToValueAtTime(xm.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(gm.x,gm.y,gm.z),t.setOrientation(xm.x,xm.y,xm.z,r.x,r.y,r.z)}}class XP extends Dr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ym=new Ce,h9=new xs,Vle=new Ce,bm=new Ce;class Hle extends XP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ym,h9,Vle),bm.set(0,0,1).applyQuaternion(h9);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ym.x,r),t.positionY.linearRampToValueAtTime(ym.y,r),t.positionZ.linearRampToValueAtTime(ym.z,r),t.orientationX.linearRampToValueAtTime(bm.x,r),t.orientationY.linearRampToValueAtTime(bm.y,r),t.orientationZ.linearRampToValueAtTime(bm.z,r)}else t.setPosition(ym.x,ym.y,ym.z),t.setOrientation(bm.x,bm.y,bm.z)}}class qle{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class WP{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,s=i;a!==s;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){xs.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const s=this._workIndex*a;xs.multiplyQuaternionsFlat(e,s,e,t,e,r),xs.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,t,r,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[r+s]*i}}}const jN="\\[\\]\\.:\\/",Gle=new RegExp("["+jN+"]","g"),VN="[^"+jN+"]",$le="[^"+jN.replace("\\.","")+"]",Xle=/((?:WC+[\/:])*)/.source.replace("WC",VN),Wle=/(WCOD+)?/.source.replace("WCOD",$le),Yle=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",VN),Zle=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",VN),Kle=new RegExp("^"+Xle+Wle+Yle+Zle+"$"),Qle=["material","materials","bones","map"];class Jle{constructor(e,t,r){const i=r||Nr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Nr{constructor(e,t,r){this.path=t,this.parsedPath=r||Nr.parseTrackName(t),this.node=Nr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Nr.Composite(e,t,r):new Nr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Gle,"")}static parseTrackName(e){const t=Kle.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);Qle.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Nr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[i];if(s===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nr.Composite=Jle;Nr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nr.prototype.GetterByBindingType=[Nr.prototype._getValue_direct,Nr.prototype._getValue_array,Nr.prototype._getValue_arrayElement,Nr.prototype._getValue_toArray];Nr.prototype.SetterByBindingTypeAndVersioning=[[Nr.prototype._setValue_direct,Nr.prototype._setValue_direct_setNeedsUpdate,Nr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nr.prototype._setValue_array,Nr.prototype._setValue_array_setNeedsUpdate,Nr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nr.prototype._setValue_arrayElement,Nr.prototype._setValue_arrayElement_setNeedsUpdate,Nr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nr.prototype._setValue_fromArray,Nr.prototype._setValue_fromArray_setNeedsUpdate,Nr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eue{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Tl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,u=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const h=arguments[c],p=h.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(h);for(let x=0,A=s;x!==A;++x)a[x].push(new Nr(h,r[x],i[x]))}else if(g<u){o=e[g];const x=--u,A=e[x];t[A.uuid]=g,e[g]=A,t[p]=x,e[x]=h;for(let b=0,_=s;b!==_;++b){const M=a[b],E=M[x];let C=M[g];M[g]=E,C===void 0&&(C=new Nr(h,r[b],i[b])),M[x]=C}}else e[g]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],u=l.uuid,c=t[u];if(c!==void 0&&c>=a){const d=a++,h=e[d];t[h.uuid]=c,e[c]=h,t[u]=d,e[d]=l;for(let p=0,g=i;p!==g;++p){const x=r[p],A=x[d],b=x[c];x[c]=A,x[d]=b}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],c=u.uuid,d=t[c];if(d!==void 0)if(delete t[c],d<a){const h=--a,p=e[h],g=--s,x=e[g];t[p.uuid]=d,e[d]=p,t[x.uuid]=h,e[h]=x,e.pop();for(let A=0,b=i;A!==b;++A){const _=r[A],M=_[h],E=_[g];_[d]=M,_[h]=E,_.pop()}}else{const h=--s,p=e[h];h>0&&(t[p.uuid]=d),e[d]=p,e.pop();for(let g=0,x=i;g!==x;++g){const A=r[g];A[d]=A[h],A.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);i=a.length,r[e]=i,s.push(e),o.push(t),a.push(d);for(let h=c,p=l.length;h!==p;++h){const g=l[h];d[h]=new Nr(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],u=e[o];t[u]=r,s[r]=l,s.pop(),a[r]=a[o],a.pop(),i[r]=i[o],i.pop()}}}class YP{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:Rm,endingEnd:Rm};for(let u=0;u!==s;++u){const c=a[u].createInterpolant(null);o[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=OI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/s,u[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case hN:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulateAdditive(o);break;case zw:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===zI;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(r===BI){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Bm,i.endingEnd=Bm):(e?i.endingStart=this.zeroSlopeAtStart?Bm:Rm:i.endingStart=Cy,t?i.endingEnd=this.zeroSlopeAtEnd?Bm:Rm:i.endingEnd=Cy)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=r,this}}const tue=new Float32Array(1);class nue extends bf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==a;++d){const h=i[d],p=h.name;let g=c[p];if(g!==void 0)++g.referenceCount,s[d]=g;else{if(g=s[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;g=new WP(Nr.create(r,p,x),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),s[d]=g}o[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new UN(new Float32Array(2),new Float32Array(2),1,tue),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?Iy.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let u=null;if(r===void 0&&(s!==null?r=s.blendMode:r=zw),l!==void 0){const d=l.actionByRoot[a];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new YP(this,s,t,r);return this._bindAction(c,u),this._addInactiveAction(c,o,a),c}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?Iy.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const u=s[o];this._deactivateAction(u);const c=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class HN{constructor(e){this.value=e}clone(){return new HN(this.value.clone===void 0?this.value:this.value.clone())}}let rue=0;class iue extends bf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rue++}),this.name="",this.usage=Dy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class US extends Hw{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class aue{constructor(e,t,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const m9=new Mn;class ZP{constructor(e,t,r=0,i=1/0){this.ray=new ep(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new f1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return m9.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(m9),this}intersectObject(e,t=!0,r=[]){return EE(e,this,r,t),r.sort(p9),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)EE(e[i],this,r,t);return r.sort(p9),r}}function p9(n,e){return n.distance-e.distance}function EE(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const a=n.children;for(let s=0,o=a.length;s<o;s++)EE(a[s],e,t,!0)}}class FS{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ki(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class sue{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class qN{constructor(e,t,r,i){qN.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=r,a[3]=i,this}}const v9=new bt;class oue{constructor(e=new bt(1/0,1/0),t=new bt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=v9.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,v9).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const g9=new Ce,O4=new Ce;class KP{constructor(e=new Ce,t=new Ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){g9.subVectors(e,this.start),O4.subVectors(this.end,this.start);const r=O4.dot(O4);let a=O4.dot(g9)/r;return t&&(a=Ki(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const x9=new Ce;class lue extends Dr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Yn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const u=s/l*Math.PI*2,c=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new an(i,3));const a=new Do({fog:!1,toneMapped:!1});this.cone=new Sf(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),x9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(x9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const P0=new Ce,z4=new Mn,kM=new Mn;class uue extends Sf{constructor(e){const t=QP(e),r=new Yn,i=[],a=[],s=new jt(0,0,1),o=new jt(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}r.setAttribute("position",new an(i,3)),r.setAttribute("color",new an(a,3));const l=new Do({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");kM.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(z4.multiplyMatrices(kM,o.matrixWorld),P0.setFromMatrixPosition(z4),i.setXYZ(s,P0.x,P0.y,P0.z),z4.multiplyMatrices(kM,o.parent.matrixWorld),P0.setFromMatrixPosition(z4),i.setXYZ(s+1,P0.x,P0.y,P0.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function QP(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,QP(n.children[t]));return e}class cue extends Ni{constructor(e,t,r){const i=new l2(t,4,2),a=new qd({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fue=new Ce,y9=new jt,b9=new jt;class due extends Dr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new o2(t);i.rotateY(Math.PI*.5),this.material=new qd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new Yr(s,3)),this.add(new Ni(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");y9.copy(this.light.color),b9.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?y9:b9;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(fue.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hue extends Sf{constructor(e=10,t=10,r=4473924,i=8947848){r=new jt(r),i=new jt(i);const a=t/2,s=e/t,o=e/2,l=[],u=[];for(let h=0,p=0,g=-o;h<=t;h++,g+=s){l.push(-o,0,g,o,0,g),l.push(g,0,-o,g,0,o);const x=h===a?r:i;x.toArray(u,p),p+=3,x.toArray(u,p),p+=3,x.toArray(u,p),p+=3,x.toArray(u,p),p+=3}const c=new Yn;c.setAttribute("position",new an(l,3)),c.setAttribute("color",new an(u,3));const d=new Do({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class mue extends Sf{constructor(e=10,t=16,r=8,i=64,a=4473924,s=8947848){a=new jt(a),s=new jt(s);const o=[],l=[];if(t>1)for(let d=0;d<t;d++){const h=d/t*(Math.PI*2),p=Math.sin(h)*e,g=Math.cos(h)*e;o.push(0,0,0),o.push(p,0,g);const x=d&1?a:s;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<r;d++){const h=d&1?a:s,p=e-e/r*d;for(let g=0;g<i;g++){let x=g/i*(Math.PI*2),A=Math.sin(x)*p,b=Math.cos(x)*p;o.push(A,0,b),l.push(h.r,h.g,h.b),x=(g+1)/i*(Math.PI*2),A=Math.sin(x)*p,b=Math.cos(x)*p,o.push(A,0,b),l.push(h.r,h.g,h.b)}}const u=new Yn;u.setAttribute("position",new an(o,3)),u.setAttribute("color",new an(l,3));const c=new Do({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const S9=new Ce,U4=new Ce,w9=new Ce;class pue extends Dr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Yn;i.setAttribute("position",new an([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Do({fog:!1,toneMapped:!1});this.lightPlane=new rh(i,a),this.add(this.lightPlane),i=new Yn,i.setAttribute("position",new an([0,0,0,0,0,1],3)),this.targetLine=new rh(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),S9.setFromMatrixPosition(this.light.matrixWorld),U4.setFromMatrixPosition(this.light.target.matrixWorld),w9.subVectors(U4,S9),this.lightPlane.lookAt(U4),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(U4),this.targetLine.scale.z=w9.length()}}const F4=new Ce,Wi=new Lw;class vue extends Sf{constructor(e){const t=new Yn,r=new Do({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(g,x){l(g),l(x)}function l(g){i.push(0,0,0),a.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(i.length/3-1)}t.setAttribute("position",new an(i,3)),t.setAttribute("color",new an(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new jt(16755200),c=new jt(16711680),d=new jt(43775),h=new jt(16777215),p=new jt(3355443);this.setColors(u,c,d,h,p)}setColors(e,t,r,i,a){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Wi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),sa("c",t,e,Wi,0,0,-1),sa("t",t,e,Wi,0,0,1),sa("n1",t,e,Wi,-r,-i,-1),sa("n2",t,e,Wi,r,-i,-1),sa("n3",t,e,Wi,-r,i,-1),sa("n4",t,e,Wi,r,i,-1),sa("f1",t,e,Wi,-r,-i,1),sa("f2",t,e,Wi,r,-i,1),sa("f3",t,e,Wi,-r,i,1),sa("f4",t,e,Wi,r,i,1),sa("u1",t,e,Wi,r*.7,i*1.1,-1),sa("u2",t,e,Wi,-r*.7,i*1.1,-1),sa("u3",t,e,Wi,0,i*2,-1),sa("cf1",t,e,Wi,-r,0,1),sa("cf2",t,e,Wi,r,0,1),sa("cf3",t,e,Wi,0,-i,1),sa("cf4",t,e,Wi,0,i,1),sa("cn1",t,e,Wi,-r,0,-1),sa("cn2",t,e,Wi,r,0,-1),sa("cn3",t,e,Wi,0,-i,-1),sa("cn4",t,e,Wi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sa(n,e,t,r,i,a,s){F4.set(i,a,s).unproject(r);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,c=o.length;u<c;u++)l.setXYZ(o[u],F4.x,F4.y,F4.z)}}const L4=new ba;class gue extends Sf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new Yn;a.setIndex(new Yr(r,1)),a.setAttribute("position",new Yr(i,3)),super(a,new Do({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&L4.setFromObject(this.object),L4.isEmpty())return;const t=L4.min,r=L4.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xue extends Sf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Yn;a.setIndex(new Yr(r,1)),a.setAttribute("position",new an(i,3)),super(a,new Do({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class yue extends rh{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Yn;s.setAttribute("position",new an(a,3)),s.computeBoundingSphere(),super(s,new Do({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Yn;l.setAttribute("position",new an(o,3)),l.computeBoundingSphere(),this.add(new Ni(l,new qd({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const A9=new Ce;let k4,IM;class bue extends Dr{constructor(e=new Ce(0,0,1),t=new Ce(0,0,0),r=1,i=16776960,a=r*.2,s=a*.2){super(),this.type="ArrowHelper",k4===void 0&&(k4=new Yn,k4.setAttribute("position",new an([0,0,0,0,1,0],3)),IM=new U1(0,.5,1,5,1),IM.translate(0,-.5,0)),this.position.copy(t),this.line=new rh(k4,new Do({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ni(IM,new qd({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{A9.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(A9,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Sue extends Sf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Yn;i.setAttribute("position",new an(t,3)),i.setAttribute("color",new an(r,3));const a=new Do({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new jt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wue{constructor(){this.type="ShapePath",this.color=new jt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Oy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,s){return this.currentPath.bezierCurveTo(e,t,r,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const _=[];for(let M=0,E=b.length;M<E;M++){const C=b[M],T=new jm;T.curves=C.curves,_.push(T)}return _}function r(b,_){const M=_.length;let E=!1;for(let C=M-1,T=0;T<M;C=T++){let B=_[C],z=_[T],R=z.x-B.x,O=z.y-B.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(B=_[T],R=-R,z=_[C],O=-O),b.y<B.y||b.y>z.y)continue;if(b.y===B.y){if(b.x===B.x)return!0}else{const U=O*(b.x-B.x)-R*(b.y-B.y);if(U===0)return!0;if(U<0)continue;E=!E}}else{if(b.y!==B.y)continue;if(z.x<=b.x&&b.x<=B.x||B.x<=b.x&&b.x<=z.x)return!0}}return E}const i=mf.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const u=[];if(a.length===1)return o=a[0],l=new jm,l.curves=o.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const d=[],h=[];let p=[],g=0,x;h[g]=void 0,p[g]=[];for(let b=0,_=a.length;b<_;b++)o=a[b],x=o.getPoints(),s=i(x),s=e?!s:s,s?(!c&&h[g]&&g++,h[g]={s:new jm,p:x},h[g].s.curves=o.curves,c&&g++,p[g]=[]):p[g].push({h:o,p:x[0]});if(!h[0])return t(a);if(h.length>1){let b=!1,_=0;for(let M=0,E=h.length;M<E;M++)d[M]=[];for(let M=0,E=h.length;M<E;M++){const C=p[M];for(let T=0;T<C.length;T++){const B=C[T];let z=!0;for(let R=0;R<h.length;R++)r(B.p,h[R].p)&&(M!==R&&_++,z?(z=!1,d[R].push(B)):b=!0);z&&d[M].push(B)}}_>0&&b===!1&&(p=d)}let A;for(let b=0,_=h.length;b<_;b++){l=h[b].s,u.push(l),A=p[b];for(let M=0,E=A.length;M<E;M++)l.holes.push(A[M].h)}return u}}class Aue extends bf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Mue extends uc{constructor(e=1,t=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:D1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=D1);const _ue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:nN,AddEquation:G0,AddOperation:MI,AdditiveAnimationBlendMode:hN,AdditiveBlending:Y3,AgXToneMapping:CI,AlphaFormat:oN,AlwaysCompare:HI,AlwaysDepth:J3,AlwaysStencilFunc:vE,AmbientLight:VP,AnimationAction:YP,AnimationClip:Iy,AnimationLoader:Nle,AnimationMixer:nue,AnimationObjectGroup:eue,AnimationUtils:Ale,ArcCurve:mP,ArrayCamera:iP,ArrowHelper:bue,AttachedBindMode:pE,Audio:XP,AudioAnalyser:qle,AudioContext:IN,AudioListener:jle,AudioLoader:kle,AxesHelper:Sue,BackSide:Vs,BasicDepthPacking:UI,BasicShadowMap:iI,BatchedMesh:fP,Bone:MN,BooleanKeyframeTrack:np,Box2:oue,Box3:ba,Box3Helper:xue,BoxGeometry:tp,BoxHelper:gue,BufferAttribute:Yr,BufferGeometry:Yn,BufferGeometryLoader:$P,ByteType:iN,Cache:Sd,Camera:Lw,CameraHelper:vue,CanvasTexture:Xoe,CapsuleGeometry:Xw,CatmullRomCurve3:pP,CineonToneMapping:NI,CircleGeometry:Ww,ClampToEdgeWrapping:mu,Clock:PN,Color:jt,ColorKeyframeTrack:FN,ColorManagement:gr,CompressedArrayTexture:Goe,CompressedCubeTexture:$oe,CompressedTexture:Gw,CompressedTextureLoader:Tle,ConeGeometry:Yw,ConstantAlphaFactor:SI,ConstantColorFactor:yI,Controls:Aue,CubeCamera:ZI,CubeReflectionMapping:Fd,CubeRefractionMapping:nh,CubeTexture:a2,CubeTextureLoader:Cle,CubeUVReflectionMapping:R1,CubicBezierCurve:NN,CubicBezierCurve3:vP,CubicInterpolant:zP,CullFaceBack:dE,CullFaceFront:rI,CullFaceFrontBack:wte,CullFaceNone:nI,Curve:dc,CurvePath:xP,CustomBlending:aI,CustomToneMapping:TI,CylinderGeometry:U1,Cylindrical:sue,Data3DTexture:gN,DataArrayTexture:Fw,DataTexture:hf,DataTextureLoader:Dle,DataUtils:Une,DecrementStencilOp:Fte,DecrementWrapStencilOp:kte,DefaultLoadingManager:LP,DepthFormat:Im,DepthStencilFormat:Xm,DepthTexture:SN,DetachedBindMode:RI,DirectionalLight:jP,DirectionalLightHelper:pue,DiscreteInterpolant:UP,DodecahedronGeometry:Zw,DoubleSide:Qa,DstAlphaFactor:mI,DstColorFactor:vI,DynamicCopyUsage:Jte,DynamicDrawUsage:Xte,DynamicReadUsage:Zte,EdgesGeometry:yP,EllipseCurve:$w,EqualCompare:II,EqualDepth:tS,EqualStencilFunc:Vte,EquirectangularReflectionMapping:My,EquirectangularRefractionMapping:_y,Euler:Dl,EventDispatcher:bf,ExtrudeGeometry:Qw,FileLoader:kd,Float16BufferAttribute:jne,Float32BufferAttribute:an,FloatType:el,Fog:Vw,FogExp2:jw,FramebufferTexture:qoe,FrontSide:Ud,Frustum:s2,GLBufferAttribute:aue,GLSL1:tne,GLSL3:gE,GreaterCompare:PI,GreaterDepth:rS,GreaterEqualCompare:VI,GreaterEqualDepth:nS,GreaterEqualStencilFunc:$te,GreaterStencilFunc:qte,GridHelper:hue,Group:Yv,HalfFloatType:B1,HemisphereLight:kP,HemisphereLightHelper:due,IcosahedronGeometry:Jw,ImageBitmapLoader:Lle,ImageLoader:Py,ImageUtils:$I,IncrementStencilOp:Ute,IncrementWrapStencilOp:Lte,InstancedBufferAttribute:Wm,InstancedBufferGeometry:o5,InstancedInterleavedBuffer:US,InstancedMesh:cP,Int16BufferAttribute:Ine,Int32BufferAttribute:Pne,Int8BufferAttribute:Fne,IntType:Tw,InterleavedBuffer:Hw,InterleavedBufferAttribute:Nl,Interpolant:u2,InterpolateDiscrete:Ty,InterpolateLinear:RS,InterpolateSmooth:x3,InvertStencilOp:Ite,KeepStencilOp:_m,KeyframeTrack:hc,LOD:lP,LatheGeometry:z1,Layers:f1,LessCompare:kI,LessDepth:eS,LessEqualCompare:pN,LessEqualDepth:Gm,LessEqualStencilFunc:Hte,LessStencilFunc:jte,Light:dh,LightProbe:GP,Line:rh,Line3:KP,LineBasicMaterial:Do,LineCurve:TN,LineCurve3:gP,LineDashedMaterial:RP,LineLoop:dP,LineSegments:Sf,LinearFilter:ua,LinearInterpolant:UN,LinearMipMapLinearFilter:Ete,LinearMipMapNearestFilter:_te,LinearMipmapLinearFilter:sf,LinearMipmapNearestFilter:ry,LinearSRGBColorSpace:ch,LinearToneMapping:_I,LinearTransfer:i2,Loader:al,LoaderUtils:_E,LoadingManager:LN,LoopOnce:BI,LoopPingPong:zI,LoopRepeat:OI,LuminanceAlphaFormat:cN,LuminanceFormat:uN,MOUSE:Am,Material:Gs,MaterialLoader:s5,MathUtils:Uw,Matrix2:qN,Matrix3:kn,Matrix4:Mn,MaxEquation:uI,Mesh:Ni,MeshBasicMaterial:qd,MeshDepthMaterial:Iw,MeshDistanceMaterial:Pw,MeshLambertMaterial:CP,MeshMatcapMaterial:DP,MeshNormalMaterial:TP,MeshPhongMaterial:EP,MeshPhysicalMaterial:_P,MeshStandardMaterial:ON,MeshToonMaterial:NP,MinEquation:lI,MirroredRepeatWrapping:Ny,MixOperation:AI,MultiplyBlending:mE,MultiplyOperation:n2,NearestFilter:gs,NearestMipMapLinearFilter:Mte,NearestMipMapNearestFilter:Ate,NearestMipmapLinearFilter:$v,NearestMipmapNearestFilter:rN,NeutralToneMapping:DI,NeverCompare:LI,NeverDepth:Q3,NeverStencilFunc:Pte,NoBlending:Nd,NoColorSpace:xd,NoToneMapping:df,NormalAnimationBlendMode:zw,NormalBlending:km,NotEqualCompare:jI,NotEqualDepth:iS,NotEqualStencilFunc:Gte,NumberKeyframeTrack:Ly,Object3D:Dr,ObjectLoader:Ule,ObjectSpaceNormalMap:FI,OctahedronGeometry:o2,OneFactor:fI,OneMinusConstantAlphaFactor:wI,OneMinusConstantColorFactor:bI,OneMinusDstAlphaFactor:pI,OneMinusDstColorFactor:gI,OneMinusSrcAlphaFactor:K3,OneMinusSrcColorFactor:hI,OrthographicCamera:Z0,PCFShadowMap:Ew,PCFSoftShadowMap:ny,PMREMGenerator:xE,Path:Oy,PerspectiveCamera:oa,Plane:nf,PlaneGeometry:fc,PlaneHelper:yue,PointLight:PP,PointLightHelper:cue,Points:hP,PointsMaterial:_N,PolarGridHelper:mue,PolyhedronGeometry:fh,PositionalAudio:Hle,PropertyBinding:Nr,PropertyMixer:WP,QuadraticBezierCurve:CN,QuadraticBezierCurve3:DN,Quaternion:xs,QuaternionKeyframeTrack:c2,QuaternionLinearInterpolant:FP,RED_GREEN_RGTC2_Format:CS,RED_RGTC1_Format:dN,REVISION:D1,RGBADepthPacking:mN,RGBAFormat:js,RGBAIntegerFormat:Ow,RGBA_ASTC_10x10_Format:AS,RGBA_ASTC_10x5_Format:bS,RGBA_ASTC_10x6_Format:SS,RGBA_ASTC_10x8_Format:wS,RGBA_ASTC_12x10_Format:MS,RGBA_ASTC_12x12_Format:_S,RGBA_ASTC_4x4_Format:dS,RGBA_ASTC_5x4_Format:hS,RGBA_ASTC_5x5_Format:mS,RGBA_ASTC_6x5_Format:pS,RGBA_ASTC_6x6_Format:vS,RGBA_ASTC_8x5_Format:gS,RGBA_ASTC_8x6_Format:xS,RGBA_ASTC_8x8_Format:yS,RGBA_BPTC_Format:ly,RGBA_ETC2_EAC_Format:fS,RGBA_PVRTC_2BPPV1_Format:lS,RGBA_PVRTC_4BPPV1_Format:oS,RGBA_S3TC_DXT1_Format:ay,RGBA_S3TC_DXT3_Format:sy,RGBA_S3TC_DXT5_Format:oy,RGBDepthPacking:Rte,RGBFormat:lN,RGBIntegerFormat:Nte,RGB_BPTC_SIGNED_Format:ES,RGB_BPTC_UNSIGNED_Format:NS,RGB_ETC1_Format:uS,RGB_ETC2_Format:cS,RGB_PVRTC_2BPPV1_Format:sS,RGB_PVRTC_4BPPV1_Format:aS,RGB_S3TC_DXT1_Format:iy,RGDepthPacking:Bte,RGFormat:fN,RGIntegerFormat:Bw,RawShaderMaterial:MP,Ray:ep,Raycaster:ZP,RectAreaLight:HP,RedFormat:Rw,RedIntegerFormat:r2,ReinhardToneMapping:EI,RenderTarget:XI,RepeatWrapping:Ey,ReplaceStencilOp:zte,ReverseSubtractEquation:oI,RingGeometry:e5,SIGNED_RED_GREEN_RGTC2_Format:DS,SIGNED_RED_RGTC1_Format:TS,SRGBColorSpace:ks,SRGBTransfer:Gr,Scene:wN,ShaderChunk:Gn,ShaderLib:nc,ShaderMaterial:nl,ShadowMaterial:AP,Shape:jm,ShapeGeometry:t5,ShapePath:wue,ShapeUtils:mf,ShortType:aN,Skeleton:qw,SkeletonHelper:uue,SkinnedMesh:uP,Source:Om,Sphere:Ua,SphereGeometry:l2,Spherical:FS,SphericalHarmonics3:qP,SplineCurve:RN,SpotLight:IP,SpotLightHelper:lue,Sprite:oP,SpriteMaterial:AN,SrcAlphaFactor:Z3,SrcAlphaSaturateFactor:xI,SrcColorFactor:dI,StaticCopyUsage:Qte,StaticDrawUsage:Dy,StaticReadUsage:Yte,StereoCamera:Ile,StreamCopyUsage:ene,StreamDrawUsage:Wte,StreamReadUsage:Kte,StringKeyframeTrack:rp,SubtractEquation:sI,SubtractiveBlending:hE,TOUCH:Mm,TangentSpaceNormalMap:uh,TetrahedronGeometry:n5,Texture:Pi,TextureLoader:Rle,TextureUtils:Moe,TorusGeometry:r5,TorusKnotGeometry:i5,Triangle:Qo,TriangleFanDrawMode:Dte,TriangleStripDrawMode:Cte,TrianglesDrawMode:Tte,TubeGeometry:a5,UVMapping:Nw,Uint16BufferAttribute:xN,Uint32BufferAttribute:yN,Uint8BufferAttribute:Lne,Uint8ClampedBufferAttribute:kne,Uniform:HN,UniformsGroup:iue,UniformsLib:Pt,UniformsUtils:h1,UnsignedByteType:lc,UnsignedInt248Type:$m,UnsignedInt5999Type:sN,UnsignedIntType:Ld,UnsignedShort4444Type:Cw,UnsignedShort5551Type:Dw,UnsignedShortType:u1,VSMShadowMap:ec,Vector2:bt,Vector3:Ce,Vector4:er,VectorKeyframeTrack:ky,VideoTexture:Hoe,WebGL3DRenderTarget:_ne,WebGLArrayRenderTarget:Mne,WebGLCoordinateSystem:of,WebGLCubeRenderTarget:KI,WebGLMultipleRenderTargets:Mue,WebGLRenderTarget:uc,WebGLRenderer:aP,WebGLUtils:rP,WebGPUCoordinateSystem:Ry,WireframeGeometry:BN,WrapAroundEnding:Cy,ZeroCurvatureEnding:Rm,ZeroFactor:cI,ZeroSlopeEnding:Bm,ZeroStencilOp:Ote,createCanvasElement:GI},Symbol.toStringTag,{value:"Module"}));var PM={exports:{}},hd={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M9;function Eue(){return M9||(M9=1,hd.ConcurrentRoot=1,hd.ContinuousEventPriority=8,hd.DefaultEventPriority=32,hd.DiscreteEventPriority=2,hd.IdleEventPriority=268435456,hd.LegacyRoot=0,hd.NoEventPriority=0),hd}var _9;function Nue(){return _9||(_9=1,PM.exports=Eue()),PM.exports}var b3=Nue(),jM={exports:{}},VM={},HM={exports:{}},qM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E9;function Tue(){if(E9)return qM;E9=1;var n=w1();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function o(d,h){var p=h(),g=r({inst:{value:p,getSnapshot:h}}),x=g[0].inst,A=g[1];return a(function(){x.value=p,x.getSnapshot=h,l(x)&&A({inst:x})},[d,p,h]),i(function(){return l(x)&&A({inst:x}),d(function(){l(x)&&A({inst:x})})},[d]),s(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!t(d,p)}catch{return!0}}function u(d,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return qM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:c,qM}var N9;function Cue(){return N9||(N9=1,HM.exports=Tue()),HM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T9;function Due(){if(T9)return VM;T9=1;var n=w1(),e=Cue();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,o=n.useMemo,l=n.useDebugValue;return VM.useSyncExternalStoreWithSelector=function(u,c,d,h,p){var g=a(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=o(function(){function b(T){if(!_){if(_=!0,M=T,T=h(T),p!==void 0&&x.hasValue){var B=x.value;if(p(B,T))return E=B}return E=T}if(B=E,r(M,T))return B;var z=h(T);return p!==void 0&&p(B,z)?(M=T,B):(M=T,E=z)}var _=!1,M,E,C=d===void 0?null:d;return[function(){return b(c())},C===null?void 0:function(){return b(C())}]},[c,d,h,p]);var A=i(u,g[0],g[1]);return s(function(){x.hasValue=!0,x.value=A},[A]),l(A),A},VM}var C9;function Rue(){return C9||(C9=1,jM.exports=Due()),jM.exports}var Bue=Rue();const Oue=jd(Bue),zue={},D9=n=>{let e;const t=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(g=>g(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{(zue?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},u=e=n(r,i,l);return l},Uue=n=>n?D9(n):D9,{useDebugValue:Fue}=rF,{useSyncExternalStoreWithSelector:Lue}=Oue,kue=n=>n;function Iue(n,e=kue,t){const r=Lue(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return Fue(r),r}const R9=(n,e)=>{const t=Uue(n),r=(i,a=e)=>Iue(t,i,a);return Object.assign(r,t),r},Pue=(n,e)=>n?R9(n,e):R9;var GM={exports:{}},$M={exports:{}},XM={exports:{}},WM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B9;function jue(){return B9||(B9=1,(function(n){function e(k,P){var Z=k.length;k.push(P);e:for(;0<Z;){var H=Z-1>>>1,ae=k[H];if(0<i(ae,P))k[H]=P,k[Z]=ae,Z=H;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var P=k[0],Z=k.pop();if(Z!==P){k[0]=Z;e:for(var H=0,ae=k.length,W=ae>>>1;H<W;){var K=2*(H+1)-1,Q=k[K],te=K+1,le=k[te];if(0>i(Q,Z))te<ae&&0>i(le,Q)?(k[H]=le,k[te]=Z,H=te):(k[H]=Q,k[K]=Z,H=K);else if(te<ae&&0>i(le,Z))k[H]=le,k[te]=Z,H=te;else break e}}return P}function i(k,P){var Z=k.sortIndex-P.sortIndex;return Z!==0?Z:k.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function M(k){for(var P=t(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=k)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=t(u)}}function E(k){if(x=!1,M(k),!g)if(t(l)!==null)g=!0,X();else{var P=t(u);P!==null&&$(E,P.startTime-k)}}var C=!1,T=-1,B=5,z=-1;function R(){return!(n.unstable_now()-z<B)}function O(){if(C){var k=n.unstable_now();z=k;var P=!0;try{e:{g=!1,x&&(x=!1,b(T),T=-1),p=!0;var Z=h;try{t:{for(M(k),d=t(l);d!==null&&!(d.expirationTime>k&&R());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var ae=H(d.expirationTime<=k);if(k=n.unstable_now(),typeof ae=="function"){d.callback=ae,M(k),P=!0;break t}d===t(l)&&r(l),M(k)}else r(l);d=t(l)}if(d!==null)P=!0;else{var W=t(u);W!==null&&$(E,W.startTime-k),P=!1}}break e}finally{d=null,h=Z,p=!1}P=void 0}}finally{P?U():C=!1}}}var U;if(typeof _=="function")U=function(){_(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,q=I.port2;I.port1.onmessage=O,U=function(){q.postMessage(null)}}else U=function(){A(O,0)};function X(){C||(C=!0,U())}function $(k,P){T=A(function(){k(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,X())},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var Z=h;h=P;try{return k()}finally{h=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=h;h=k;try{return P()}finally{h=Z}},n.unstable_scheduleCallback=function(k,P,Z){var H=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?H+Z:H):Z=H,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,k={id:c++,callback:P,priorityLevel:k,startTime:Z,expirationTime:ae,sortIndex:-1},Z>H?(k.sortIndex=Z,e(u,k),t(l)===null&&k===t(u)&&(x?(b(T),T=-1):x=!0,$(E,Z-H))):(k.sortIndex=ae,e(l,k),g||p||(g=!0,X())),k},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(k){var P=h;return function(){var Z=h;h=P;try{return k.apply(this,arguments)}finally{h=Z}}}})(WM)),WM}var O9;function JP(){return O9||(O9=1,XM.exports=jue()),XM.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9;function Vue(){return z9||(z9=1,(function(n){n.exports=function(e){function t(v,y,D,L){return new Sg(v,y,D,L)}function r(){}function i(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)y+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(v){return v===null||typeof v!="object"?null:(v=Tg&&v[Tg]||v["@@iterator"],typeof v=="function"?v:null)}function s(v){if(v==null)return null;if(typeof v=="function")return v.$$typeof===Gf?null:v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case u0:return"Fragment";case vl:return"Portal";case Ng:return"Profiler";case Eg:return"StrictMode";case Op:return"Suspense";case kc:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case ql:return(v.displayName||"Context")+".Provider";case Lc:return(v._context.displayName||"Context")+".Consumer";case c0:var y=v.render;return v=v.displayName,v||(v=y.displayName||y.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case Uh:return y=v.displayName||null,y!==null?y:s(v.type)||"Memo";case gl:y=v._payload,v=v._init;try{return s(v(y))}catch{}}return null}function o(v){if(zp===void 0)try{throw Error()}catch(D){var y=D.stack.trim().match(/\n( *(at )?)/);zp=y&&y[1]||"",Cg=-1<D.stack.indexOf(`
    at`)?" (<anonymous>)":-1<D.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zp+v+Cg}function l(v,y){if(!v||Ic)return"";Ic=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var L={DetermineComponentFrameRoot:function(){try{if(y){var Vt=function(){throw Error()};if(Object.defineProperty(Vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Vt,[])}catch(Cn){var $t=Cn}Reflect.construct(v,[],Vt)}else{try{Vt.call()}catch(Cn){$t=Cn}v.call(Vt.prototype)}}else{try{throw Error()}catch(Cn){$t=Cn}(Vt=v())&&typeof Vt.catch=="function"&&Vt.catch(function(){})}}catch(Cn){if(Cn&&$t&&typeof Cn.stack=="string")return[Cn.stack,$t.stack]}return[null,null]}};L.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var V=Object.getOwnPropertyDescriptor(L.DetermineComponentFrameRoot,"name");V&&V.configurable&&Object.defineProperty(L.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var J=L.DetermineComponentFrameRoot(),Ee=J[0],qe=J[1];if(Ee&&qe){var it=Ee.split(`
`),At=qe.split(`
`);for(V=L=0;L<it.length&&!it[L].includes("DetermineComponentFrameRoot");)L++;for(;V<At.length&&!At[V].includes("DetermineComponentFrameRoot");)V++;if(L===it.length||V===At.length)for(L=it.length-1,V=At.length-1;1<=L&&0<=V&&it[L]!==At[V];)V--;for(;1<=L&&0<=V;L--,V--)if(it[L]!==At[V]){if(L!==1||V!==1)do if(L--,V--,0>V||it[L]!==At[V]){var Ut=`
`+it[L].replace(" at new "," at ");return v.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",v.displayName)),Ut}while(1<=L&&0<=V);break}}}finally{Ic=!1,Error.prepareStackTrace=D}return(D=v?v.displayName||v.name:"")?o(D):""}function u(v){switch(v.tag){case 26:case 27:case 5:return o(v.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return v=l(v.type,!1),v;case 11:return v=l(v.type.render,!1),v;case 1:return v=l(v.type,!0),v;default:return""}}function c(v){try{var y="";do y+=u(v),v=v.return;while(v);return y}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}function d(v){var y=v,D=v;if(v.alternate)for(;y.return;)y=y.return;else{v=y;do y=v,(y.flags&4098)!==0&&(D=y.return),v=y.return;while(v)}return y.tag===3?D:null}function h(v){if(d(v)!==v)throw Error(i(188))}function p(v){var y=v.alternate;if(!y){if(y=d(v),y===null)throw Error(i(188));return y!==v?null:v}for(var D=v,L=y;;){var V=D.return;if(V===null)break;var J=V.alternate;if(J===null){if(L=V.return,L!==null){D=L;continue}break}if(V.child===J.child){for(J=V.child;J;){if(J===D)return h(V),v;if(J===L)return h(V),y;J=J.sibling}throw Error(i(188))}if(D.return!==L.return)D=V,L=J;else{for(var Ee=!1,qe=V.child;qe;){if(qe===D){Ee=!0,D=V,L=J;break}if(qe===L){Ee=!0,L=V,D=J;break}qe=qe.sibling}if(!Ee){for(qe=J.child;qe;){if(qe===D){Ee=!0,D=J,L=V;break}if(qe===L){Ee=!0,L=J,D=V;break}qe=qe.sibling}if(!Ee)throw Error(i(189))}}if(D.alternate!==L)throw Error(i(190))}if(D.tag!==3)throw Error(i(188));return D.stateNode.current===D?v:y}function g(v){var y=v.tag;if(y===5||y===26||y===27||y===6)return v;for(v=v.child;v!==null;){if(y=g(v),y!==null)return y;v=v.sibling}return null}function x(v){var y=v.tag;if(y===5||y===26||y===27||y===6)return v;for(v=v.child;v!==null;){if(v.tag!==4&&(y=x(v),y!==null))return y;v=v.sibling}return null}function A(v){return{current:v}}function b(v){0>Pu||(v.current=qh[Pu],qh[Pu]=null,Pu--)}function _(v,y){Pu++,qh[Pu]=v.current,v.current=y}function M(v){return v>>>=0,v===0?32:31-(Gh(v)/lb|0)|0}function E(v){var y=v&42;if(y!==0)return y;switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return v&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return v}}function C(v,y){var D=v.pendingLanes;if(D===0)return 0;var L=0,V=v.suspendedLanes,J=v.pingedLanes,Ee=v.warmLanes;v=v.finishedLanes!==0;var qe=D&134217727;return qe!==0?(D=qe&~V,D!==0?L=E(D):(J&=qe,J!==0?L=E(J):v||(Ee=qe&~Ee,Ee!==0&&(L=E(Ee))))):(qe=D&~V,qe!==0?L=E(qe):J!==0?L=E(J):v||(Ee=D&~Ee,Ee!==0&&(L=E(Ee)))),L===0?0:y!==0&&y!==L&&(y&V)===0&&(V=L&-L,Ee=y&-y,V>=Ee||V===32&&(Ee&4194176)!==0)?y:L}function T(v,y){return(v.pendingLanes&~(v.suspendedLanes&~v.pingedLanes)&y)===0}function B(v,y){switch(v){case 1:case 2:case 4:case 8:return y+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var v=m0;return m0<<=1,(m0&4194176)===0&&(m0=128),v}function R(){var v=$h;return $h<<=1,($h&62914560)===0&&($h=4194304),v}function O(v){for(var y=[],D=0;31>D;D++)y.push(v);return y}function U(v,y){v.pendingLanes|=y,y!==268435456&&(v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0)}function I(v,y,D,L,V,J){var Ee=v.pendingLanes;v.pendingLanes=D,v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0,v.expiredLanes&=D,v.entangledLanes&=D,v.errorRecoveryDisabledLanes&=D,v.shellSuspendCounter=0;var qe=v.entanglements,it=v.expirationTimes,At=v.hiddenUpdates;for(D=Ee&~D;0<D;){var Ut=31-Es(D),Vt=1<<Ut;qe[Ut]=0,it[Ut]=-1;var $t=At[Ut];if($t!==null)for(At[Ut]=null,Ut=0;Ut<$t.length;Ut++){var Cn=$t[Ut];Cn!==null&&(Cn.lane&=-536870913)}D&=~Vt}L!==0&&q(v,L,0),J!==0&&V===0&&v.tag!==0&&(v.suspendedLanes|=J&~(Ee&~y))}function q(v,y,D){v.pendingLanes|=y,v.suspendedLanes&=~y;var L=31-Es(y);v.entangledLanes|=y,v.entanglements[L]=v.entanglements[L]|1073741824|D&4194218}function X(v,y){var D=v.entangledLanes|=y;for(v=v.entanglements;D;){var L=31-Es(D),V=1<<L;V&y|v[L]&y&&(v[L]|=y),D&=~V}}function $(v){return v&=-v,2<v?8<v?(v&134217727)!==0?32:268435456:8:2}function k(v){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(v0,v,void 0,(v.current.flags&128)===128)}catch{}}function P(v){if(typeof db=="function"&&sx(v),Ns&&typeof Ns.setStrictMode=="function")try{Ns.setStrictMode(v0,v)}catch{}}function Z(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}function H(v,y){if(typeof v=="object"&&v!==null){var D=Kp.get(v);return D!==void 0?D:(y={value:v,source:y,stack:c(y)},Kp.set(v,y),y)}return{value:v,source:y,stack:c(y)}}function ae(v,y){li[Ai++]=Yh,li[Ai++]=Wh,Wh=v,Yh=y}function W(v,y,D){ao[so++]=Yl,ao[so++]=Vo,ao[so++]=xl,xl=v;var L=Yl;v=Vo;var V=32-Es(L)-1;L&=~(1<<V),D+=1;var J=32-Es(y)+V;if(30<J){var Ee=V-V%5;J=(L&(1<<Ee)-1).toString(32),L>>=Ee,V-=Ee,Yl=1<<32-Es(y)+V|D<<V|L,Vo=J+v}else Yl=1<<J|D<<V|L,Vo=v}function K(v){v.return!==null&&(ae(v,1),W(v,1,0))}function Q(v){for(;v===Wh;)Wh=li[--Ai],li[Ai]=null,Yh=li[--Ai],li[Ai]=null;for(;v===xl;)xl=ao[--so],ao[so]=null,Vo=ao[--so],ao[so]=null,Yl=ao[--so],ao[so]=null}function te(v,y){_(yl,y),_(Zh,v),_(pa,null),v=$f(y),b(pa),_(pa,v)}function le(){b(pa),b(Zh),b(yl)}function de(v){v.memoizedState!==null&&_(g0,v);var y=pa.current,D=j2(y,v.type);y!==D&&(_(Zh,v),_(pa,D))}function ce(v){Zh.current===v&&(b(pa),b(Zh)),g0.current===v&&(b(g0),$l?wn._currentValue=_s:wn._currentValue2=_s)}function be(v){var y=Error(i(418,""));throw Ve(H(y,v)),Kh}function Te(v,y){if(!as)throw Error(i(175));L5(v.stateNode,v.type,v.memoizedProps,y,v)||be(v)}function Oe(v){for(Xa=v.return;Xa;)switch(Xa.tag){case 3:case 27:Ho=!0;return;case 5:case 13:Ho=!1;return;default:Xa=Xa.return}}function Fe(v){if(!as||v!==Xa)return!1;if(!yr)return Oe(v),yr=!0,!1;var y=!1;if(Da?v.tag!==3&&v.tag!==27&&(v.tag!==5||rb(v.type)&&!Vc(v.type,v.memoizedProps))&&(y=!0):v.tag!==3&&(v.tag!==5||rb(v.type)&&!Vc(v.type,v.memoizedProps))&&(y=!0),y&&Ba&&be(v),Oe(v),v.tag===13){if(!as)throw Error(i(316));if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));Ba=tb(v)}else Ba=Xa?Xg(v.stateNode):null;return!0}function Se(){as&&(Ba=Xa=null,yr=!1)}function Ve(v){oo===null?oo=[v]:oo.push(v)}function ve(){for(var v=qc,y=x0=qc=0;y<v;){var D=lo[y];lo[y++]=null;var L=lo[y];lo[y++]=null;var V=lo[y];lo[y++]=null;var J=lo[y];if(lo[y++]=null,L!==null&&V!==null){var Ee=L.pending;Ee===null?V.next=V:(V.next=Ee.next,Ee.next=V),L.pending=V}J!==0&&ue(D,V,J)}}function fe(v,y,D,L){lo[qc++]=v,lo[qc++]=y,lo[qc++]=D,lo[qc++]=L,x0|=L,v.lanes|=L,v=v.alternate,v!==null&&(v.lanes|=L)}function he(v,y,D,L){return fe(v,y,D,L),xe(v)}function Be(v,y){return fe(v,null,null,y),xe(v)}function ue(v,y,D){v.lanes|=D;var L=v.alternate;L!==null&&(L.lanes|=D);for(var V=!1,J=v.return;J!==null;)J.childLanes|=D,L=J.alternate,L!==null&&(L.childLanes|=D),J.tag===22&&(v=J.stateNode,v===null||v._visibility&1||(V=!0)),v=J,J=J.return;V&&y!==null&&v.tag===3&&(J=v.stateNode,V=31-Es(D),J=J.hiddenUpdates,v=J[V],v===null?J[V]=[y]:v.push(y),y.lane=D|536870912)}function xe(v){if(50<rd)throw rd=0,ls=null,Error(i(185));for(var y=v.return;y!==null;)v=y,y=v.return;return v.tag===3?v.stateNode:null}function we(v){v!==Zf&&v.next===null&&(Zf===null?y0=Zf=v:Zf=Zf.next=v),Jh=!0,Qh||(Qh=!0,De(re))}function ie(v,y){if(!bl&&Jh){bl=!0;do for(var D=!1,L=y0;L!==null;){if(v!==0){var V=L.pendingLanes;if(V===0)var J=0;else{var Ee=L.suspendedLanes,qe=L.pingedLanes;J=(1<<31-Es(42|v)+1)-1,J&=V&~(Ee&~qe),J=J&201326677?J&201326677|1:J?J|2:0}J!==0&&(D=!0,ge(L,J))}else J=Qn,J=C(L,L===rr?J:0),(J&3)===0||T(L,J)||(D=!0,ge(L,J));L=L.next}while(D);bl=!1}}function re(){Jh=Qh=!1;var v=0;Gc!==0&&(Hc()&&(v=Gc),Gc=0);for(var y=Ra(),D=null,L=y0;L!==null;){var V=L.next,J=ee(L,y);J===0?(L.next=null,D===null?y0=V:D.next=V,V===null&&(Zf=D)):(D=L,(v!==0||(J&3)!==0)&&(Jh=!0)),L=V}ie(v)}function ee(v,y){for(var D=v.suspendedLanes,L=v.pingedLanes,V=v.expirationTimes,J=v.pendingLanes&-62914561;0<J;){var Ee=31-Es(J),qe=1<<Ee,it=V[Ee];it===-1?((qe&D)===0||(qe&L)!==0)&&(V[Ee]=B(qe,y)):it<=y&&(v.expiredLanes|=qe),J&=~qe}if(y=rr,D=Qn,D=C(v,v===y?D:0),L=v.callbackNode,D===0||v===y&&jr===2||v.cancelPendingCommit!==null)return L!==null&&L!==null&&Xh(L),v.callbackNode=null,v.callbackPriority=0;if((D&3)===0||T(v,D)){if(y=D&-D,y===v.callbackPriority)return y;switch(L!==null&&Xh(L),$(D)){case 2:case 8:D=fb;break;case 32:D=Yp;break;case 268435456:D=Zp;break;default:D=Yp}return L=oe.bind(null,v),D=p0(D,L),v.callbackPriority=y,v.callbackNode=D,y}return L!==null&&L!==null&&Xh(L),v.callbackPriority=2,v.callbackNode=null,2}function oe(v,y){var D=v.callbackNode;if(ha()&&v.callbackNode!==D)return null;var L=Qn;return L=C(v,v===rr?L:0),L===0?null:(Dh(v,L,y),ee(v,Ra()),v.callbackNode!=null&&v.callbackNode===D?oe.bind(null,v):null)}function ge(v,y){if(ha())return null;Dh(v,y,!0)}function De(v){qi?kp(function(){(cn&6)!==0?p0(ax,v):v()}):p0(ax,v)}function Le(){return Gc===0&&(Gc=z()),Gc}function Ue(v,y){if(em===null){var D=em=[];Qp=0,Ts=Le(),$c={status:"pending",value:void 0,then:function(L){D.push(L)}}}return Qp++,y.then(He,He),y}function He(){if(--Qp===0&&em!==null){$c!==null&&($c.status="fulfilled");var v=em;em=null,Ts=0,$c=null;for(var y=0;y<v.length;y++)(0,v[y])()}}function et(v,y){var D=[],L={status:"pending",value:null,reason:null,then:function(V){D.push(V)}};return v.then(function(){L.status="fulfilled",L.value=y;for(var V=0;V<D.length;V++)(0,D[V])(y)},function(V){for(L.status="rejected",L.reason=V,V=0;V<D.length;V++)(0,D[V])(void 0)}),L}function Xe(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function We(v,y){v=v.updateQueue,y.updateQueue===v&&(y.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,callbacks:null})}function st(v){return{lane:v,tag:0,payload:null,callback:null,next:null}}function lt(v,y,D){var L=v.updateQueue;if(L===null)return null;if(L=L.shared,(cn&2)!==0){var V=L.pending;return V===null?y.next=y:(y.next=V.next,V.next=y),L.pending=y,y=xe(v),ue(v,null,D),y}return fe(v,L,y,D),xe(v)}function Ke(v,y,D){if(y=y.updateQueue,y!==null&&(y=y.shared,(D&4194176)!==0)){var L=y.lanes;L&=v.pendingLanes,D|=L,y.lanes=D,X(v,D)}}function ze(v,y){var D=v.updateQueue,L=v.alternate;if(L!==null&&(L=L.updateQueue,D===L)){var V=null,J=null;if(D=D.firstBaseUpdate,D!==null){do{var Ee={lane:D.lane,tag:D.tag,payload:D.payload,callback:null,next:null};J===null?V=J=Ee:J=J.next=Ee,D=D.next}while(D!==null);J===null?V=J=y:J=J.next=y}else V=J=y;D={baseState:L.baseState,firstBaseUpdate:V,lastBaseUpdate:J,shared:L.shared,callbacks:L.callbacks},v.updateQueue=D;return}v=D.lastBaseUpdate,v===null?D.firstBaseUpdate=y:v.next=y,D.lastBaseUpdate=y}function G(){if(b0){var v=$c;if(v!==null)throw v}}function Ne(v,y,D,L){b0=!1;var V=v.updateQueue;ju=!1;var J=V.firstBaseUpdate,Ee=V.lastBaseUpdate,qe=V.shared.pending;if(qe!==null){V.shared.pending=null;var it=qe,At=it.next;it.next=null,Ee===null?J=At:Ee.next=At,Ee=it;var Ut=v.alternate;Ut!==null&&(Ut=Ut.updateQueue,qe=Ut.lastBaseUpdate,qe!==Ee&&(qe===null?Ut.firstBaseUpdate=At:qe.next=At,Ut.lastBaseUpdate=it))}if(J!==null){var Vt=V.baseState;Ee=0,Ut=At=it=null,qe=J;do{var $t=qe.lane&-536870913,Cn=$t!==qe.lane;if(Cn?(Qn&$t)===$t:(L&$t)===$t){$t!==0&&$t===Ts&&(b0=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:qe.tag,payload:qe.payload,callback:null,next:null});e:{var Bs=v,im=qe;$t=y;var id=D;switch(im.tag){case 1:if(Bs=im.payload,typeof Bs=="function"){Vt=Bs.call(id,Vt,$t);break e}Vt=Bs;break e;case 3:Bs.flags=Bs.flags&-65537|128;case 0:if(Bs=im.payload,$t=typeof Bs=="function"?Bs.call(id,Vt,$t):Bs,$t==null)break e;Vt=qf({},Vt,$t);break e;case 2:ju=!0}}$t=qe.callback,$t!==null&&(v.flags|=64,Cn&&(v.flags|=8192),Cn=V.callbacks,Cn===null?V.callbacks=[$t]:Cn.push($t))}else Cn={lane:$t,tag:qe.tag,payload:qe.payload,callback:qe.callback,next:null},Ut===null?(At=Ut=Cn,it=Vt):Ut=Ut.next=Cn,Ee|=$t;if(qe=qe.next,qe===null){if(qe=V.shared.pending,qe===null)break;Cn=qe,qe=Cn.next,Cn.next=null,V.lastBaseUpdate=Cn,V.shared.pending=null}}while(!0);Ut===null&&(it=Vt),V.baseState=it,V.firstBaseUpdate=At,V.lastBaseUpdate=Ut,J===null&&(V.shared.lanes=0),ho|=Ee,v.lanes=Ee,v.memoizedState=Vt}}function me(v,y){if(typeof v!="function")throw Error(i(191,v));v.call(y)}function Pe(v,y){var D=v.callbacks;if(D!==null)for(v.callbacks=null,v=0;v<D.length;v++)me(D[v],y)}function $e(v,y){if(io(v,y))return!0;if(typeof v!="object"||v===null||typeof y!="object"||y===null)return!1;var D=Object.keys(v),L=Object.keys(y);if(D.length!==L.length)return!1;for(L=0;L<D.length;L++){var V=D[L];if(!tm.call(y,V)||!io(v[V],y[V]))return!1}return!0}function tt(v){return v=v.status,v==="fulfilled"||v==="rejected"}function xt(){}function wt(v,y,D){switch(D=v[D],D===void 0?v.push(y):D!==y&&(y.then(xt,xt),y=D),y.status){case"fulfilled":return y.value;case"rejected":throw v=y.reason,v===kr?Error(i(483)):v;default:if(typeof y.status=="string")y.then(xt,xt);else{if(v=rr,v!==null&&100<v.shellSuspendCounter)throw Error(i(482));v=y,v.status="pending",v.then(function(L){if(y.status==="pending"){var V=y;V.status="fulfilled",V.value=L}},function(L){if(y.status==="pending"){var V=y;V.status="rejected",V.reason=L}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw v=y.reason,v===kr?Error(i(483)):v}throw Kf=y,kr}}function kt(){if(Kf===null)throw Error(i(459));var v=Kf;return Kf=null,v}function Jt(v){var y=qo;return qo+=1,Zl===null&&(Zl=[]),wt(Zl,v,y)}function Ht(v,y){y=y.props.ref,v.ref=y!==void 0?y:null}function Wt(v,y){throw y.$$typeof===_g?Error(i(525)):(v=Object.prototype.toString.call(y),Error(i(31,v==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":v)))}function Fn(v){var y=v._init;return y(v._payload)}function ar(v){function y(ht,nt){if(v){var pt=ht.deletions;pt===null?(ht.deletions=[nt],ht.flags|=16):pt.push(nt)}}function D(ht,nt){if(!v)return null;for(;nt!==null;)y(ht,nt),nt=nt.sibling;return null}function L(ht){for(var nt=new Map;ht!==null;)ht.key!==null?nt.set(ht.key,ht):nt.set(ht.index,ht),ht=ht.sibling;return nt}function V(ht,nt){return ht=Ga(ht,nt),ht.index=0,ht.sibling=null,ht}function J(ht,nt,pt){return ht.index=pt,v?(pt=ht.alternate,pt!==null?(pt=pt.index,pt<nt?(ht.flags|=33554434,nt):pt):(ht.flags|=33554434,nt)):(ht.flags|=1048576,nt)}function Ee(ht){return v&&ht.alternate===null&&(ht.flags|=33554434),ht}function qe(ht,nt,pt,Dt){return nt===null||nt.tag!==6?(nt=Fc(pt,ht.mode,Dt),nt.return=ht,nt):(nt=V(nt,pt),nt.return=ht,nt)}function it(ht,nt,pt,Dt){var ln=pt.type;return ln===u0?Ut(ht,nt,pt.props.children,Dt,pt.key):nt!==null&&(nt.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===gl&&Fn(ln)===nt.type)?(nt=V(nt,pt.props),Ht(nt,pt),nt.return=ht,nt):(nt=Po(pt.type,pt.key,pt.props,null,ht.mode,Dt),Ht(nt,pt),nt.return=ht,nt)}function At(ht,nt,pt,Dt){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==pt.containerInfo||nt.stateNode.implementation!==pt.implementation?(nt=l0(pt,ht.mode,Dt),nt.return=ht,nt):(nt=V(nt,pt.children||[]),nt.return=ht,nt)}function Ut(ht,nt,pt,Dt,ln){return nt===null||nt.tag!==7?(nt=Uu(pt,ht.mode,Dt,ln),nt.return=ht,nt):(nt=V(nt,pt),nt.return=ht,nt)}function Vt(ht,nt,pt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return nt=Fc(""+nt,ht.mode,pt),nt.return=ht,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case Fu:return pt=Po(nt.type,nt.key,nt.props,null,ht.mode,pt),Ht(pt,nt),pt.return=ht,pt;case vl:return nt=l0(nt,ht.mode,pt),nt.return=ht,nt;case gl:var Dt=nt._init;return nt=Dt(nt._payload),Vt(ht,nt,pt)}if(Pc(nt)||a(nt))return nt=Uu(nt,ht.mode,pt,null),nt.return=ht,nt;if(typeof nt.then=="function")return Vt(ht,Jt(nt),pt);if(nt.$$typeof===ql)return Vt(ht,_h(ht,nt),pt);Wt(ht,nt)}return null}function $t(ht,nt,pt,Dt){var ln=nt!==null?nt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return ln!==null?null:qe(ht,nt,""+pt,Dt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case Fu:return pt.key===ln?it(ht,nt,pt,Dt):null;case vl:return pt.key===ln?At(ht,nt,pt,Dt):null;case gl:return ln=pt._init,pt=ln(pt._payload),$t(ht,nt,pt,Dt)}if(Pc(pt)||a(pt))return ln!==null?null:Ut(ht,nt,pt,Dt,null);if(typeof pt.then=="function")return $t(ht,nt,Jt(pt),Dt);if(pt.$$typeof===ql)return $t(ht,nt,_h(ht,pt),Dt);Wt(ht,pt)}return null}function Cn(ht,nt,pt,Dt,ln){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return ht=ht.get(pt)||null,qe(nt,ht,""+Dt,ln);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case Fu:return ht=ht.get(Dt.key===null?pt:Dt.key)||null,it(nt,ht,Dt,ln);case vl:return ht=ht.get(Dt.key===null?pt:Dt.key)||null,At(nt,ht,Dt,ln);case gl:var Jr=Dt._init;return Dt=Jr(Dt._payload),Cn(ht,nt,pt,Dt,ln)}if(Pc(Dt)||a(Dt))return ht=ht.get(pt)||null,Ut(nt,ht,Dt,ln,null);if(typeof Dt.then=="function")return Cn(ht,nt,pt,Jt(Dt),ln);if(Dt.$$typeof===ql)return Cn(ht,nt,pt,_h(nt,Dt),ln);Wt(nt,Dt)}return null}function Bs(ht,nt,pt,Dt){for(var ln=null,Jr=null,An=nt,Sr=nt=0,aa=null;An!==null&&Sr<pt.length;Sr++){An.index>Sr?(aa=An,An=null):aa=An.sibling;var wr=$t(ht,An,pt[Sr],Dt);if(wr===null){An===null&&(An=aa);break}v&&An&&wr.alternate===null&&y(ht,An),nt=J(wr,nt,Sr),Jr===null?ln=wr:Jr.sibling=wr,Jr=wr,An=aa}if(Sr===pt.length)return D(ht,An),yr&&ae(ht,Sr),ln;if(An===null){for(;Sr<pt.length;Sr++)An=Vt(ht,pt[Sr],Dt),An!==null&&(nt=J(An,nt,Sr),Jr===null?ln=An:Jr.sibling=An,Jr=An);return yr&&ae(ht,Sr),ln}for(An=L(An);Sr<pt.length;Sr++)aa=Cn(An,ht,Sr,pt[Sr],Dt),aa!==null&&(v&&aa.alternate!==null&&An.delete(aa.key===null?Sr:aa.key),nt=J(aa,nt,Sr),Jr===null?ln=aa:Jr.sibling=aa,Jr=aa);return v&&An.forEach(function(Wu){return y(ht,Wu)}),yr&&ae(ht,Sr),ln}function im(ht,nt,pt,Dt){if(pt==null)throw Error(i(151));for(var ln=null,Jr=null,An=nt,Sr=nt=0,aa=null,wr=pt.next();An!==null&&!wr.done;Sr++,wr=pt.next()){An.index>Sr?(aa=An,An=null):aa=An.sibling;var Wu=$t(ht,An,wr.value,Dt);if(Wu===null){An===null&&(An=aa);break}v&&An&&Wu.alternate===null&&y(ht,An),nt=J(Wu,nt,Sr),Jr===null?ln=Wu:Jr.sibling=Wu,Jr=Wu,An=aa}if(wr.done)return D(ht,An),yr&&ae(ht,Sr),ln;if(An===null){for(;!wr.done;Sr++,wr=pt.next())wr=Vt(ht,wr.value,Dt),wr!==null&&(nt=J(wr,nt,Sr),Jr===null?ln=wr:Jr.sibling=wr,Jr=wr);return yr&&ae(ht,Sr),ln}for(An=L(An);!wr.done;Sr++,wr=pt.next())wr=Cn(An,ht,Sr,wr.value,Dt),wr!==null&&(v&&wr.alternate!==null&&An.delete(wr.key===null?Sr:wr.key),nt=J(wr,nt,Sr),Jr===null?ln=wr:Jr.sibling=wr,Jr=wr);return v&&An.forEach(function(ov){return y(ht,ov)}),yr&&ae(ht,Sr),ln}function id(ht,nt,pt,Dt){if(typeof pt=="object"&&pt!==null&&pt.type===u0&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case Fu:e:{for(var ln=pt.key;nt!==null;){if(nt.key===ln){if(ln=pt.type,ln===u0){if(nt.tag===7){D(ht,nt.sibling),Dt=V(nt,pt.props.children),Dt.return=ht,ht=Dt;break e}}else if(nt.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===gl&&Fn(ln)===nt.type){D(ht,nt.sibling),Dt=V(nt,pt.props),Ht(Dt,pt),Dt.return=ht,ht=Dt;break e}D(ht,nt);break}else y(ht,nt);nt=nt.sibling}pt.type===u0?(Dt=Uu(pt.props.children,ht.mode,Dt,pt.key),Dt.return=ht,ht=Dt):(Dt=Po(pt.type,pt.key,pt.props,null,ht.mode,Dt),Ht(Dt,pt),Dt.return=ht,ht=Dt)}return Ee(ht);case vl:e:{for(ln=pt.key;nt!==null;){if(nt.key===ln)if(nt.tag===4&&nt.stateNode.containerInfo===pt.containerInfo&&nt.stateNode.implementation===pt.implementation){D(ht,nt.sibling),Dt=V(nt,pt.children||[]),Dt.return=ht,ht=Dt;break e}else{D(ht,nt);break}else y(ht,nt);nt=nt.sibling}Dt=l0(pt,ht.mode,Dt),Dt.return=ht,ht=Dt}return Ee(ht);case gl:return ln=pt._init,pt=ln(pt._payload),id(ht,nt,pt,Dt)}if(Pc(pt))return Bs(ht,nt,pt,Dt);if(a(pt)){if(ln=a(pt),typeof ln!="function")throw Error(i(150));return pt=ln.call(pt),im(ht,nt,pt,Dt)}if(typeof pt.then=="function")return id(ht,nt,Jt(pt),Dt);if(pt.$$typeof===ql)return id(ht,nt,_h(ht,pt),Dt);Wt(ht,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint"?(pt=""+pt,nt!==null&&nt.tag===6?(D(ht,nt.sibling),Dt=V(nt,pt),Dt.return=ht,ht=Dt):(D(ht,nt),Dt=Fc(pt,ht.mode,Dt),Dt.return=ht,ht=Dt),Ee(ht)):D(ht,nt)}return function(ht,nt,pt,Dt){try{qo=0;var ln=id(ht,nt,pt,Dt);return Zl=null,ln}catch(An){if(An===kr)throw An;var Jr=t(29,An,null,ht.mode);return Jr.lanes=Dt,Jr.return=ht,Jr}finally{}}}function Ir(v,y){v=Sl,_(uo,v),_(Kl,y),Sl=v|y.baseLanes}function Di(){_(uo,Sl),_(Kl,Kl.current)}function vi(){Sl=uo.current,b(Kl),b(uo)}function Kr(v){var y=v.alternate;_(Gi,Gi.current&1),_(co,v),Go===null&&(y===null||Kl.current!==null||y.memoizedState!==null)&&(Go=v)}function ca(v){if(v.tag===22){if(_(Gi,Gi.current),_(co,v),Go===null){var y=v.alternate;y!==null&&y.memoizedState!==null&&(Go=v)}}else yi()}function yi(){_(Gi,Gi.current),_(co,co.current)}function Hr(v){b(co),Go===v&&(Go=null),b(Gi)}function _r(v){for(var y=v;y!==null;){if(y.tag===13){var D=y.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||Hp(D)||Hh(D)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===v)break;for(;y.sibling===null;){if(y.return===null||y.return===v)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}function mn(){throw Error(i(321))}function hi(v,y){if(y===null)return!1;for(var D=0;D<y.length&&D<v.length;D++)if(!io(v[D],y[D]))return!1;return!0}function wa(v,y,D,L,V,J){return Ql=J,Hn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,pn.H=v===null||v.memoizedState===null?$i:Wa,Vu=!1,J=D(L,V),Vu=!1,ui&&(J=Au(y,D,L,V)),zl(v),J}function zl(v){pn.H=br;var y=Er!==null&&Er.next!==null;if(Ql=0,Bi=Er=Hn=null,$o=!1,Mi=0,S0=null,y)throw Error(i(300));v===null||Oi||(v=v.dependencies,v!==null&&_c(v)&&(Oi=!0))}function Au(v,y,D,L){Hn=v;var V=0;do{if(ui&&(S0=null),Mi=0,ui=!1,25<=V)throw Error(i(301));if(V+=1,Bi=Er=null,v.updateQueue!=null){var J=v.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}pn.H=Wc,J=y(D,L)}while(ui);return J}function Ul(){var v=pn.H,y=v.useState()[0];return y=typeof y.then=="function"?Et(y):y,v=v.useState()[0],(Er!==null?Er.memoizedState:null)!==v&&(Hn.flags|=1024),y}function _e(){var v=nm!==0;return nm=0,v}function Je(v,y,D){y.updateQueue=v.updateQueue,y.flags&=-2053,v.lanes&=~D}function dt(v){if($o){for(v=v.memoizedState;v!==null;){var y=v.queue;y!==null&&(y.pending=null),v=v.next}$o=!1}Ql=0,Bi=Er=Hn=null,ui=!1,Mi=nm=0,S0=null}function at(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Hn.memoizedState=Bi=v:Bi=Bi.next=v,Bi}function Ye(){if(Er===null){var v=Hn.alternate;v=v!==null?v.memoizedState:null}else v=Er.next;var y=Bi===null?Hn.memoizedState:Bi.next;if(y!==null)Bi=y,Er=v;else{if(v===null)throw Hn.alternate===null?Error(i(467)):Error(i(310));Er=v,v={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Bi===null?Hn.memoizedState=Bi=v:Bi=Bi.next=v}return Bi}function Et(v){var y=Mi;return Mi+=1,S0===null&&(S0=[]),v=wt(S0,v,y),y=Hn,(Bi===null?y.memoizedState:Bi.next)===null&&(y=y.alternate,pn.H=y===null||y.memoizedState===null?$i:Wa),v}function ot(v){if(v!==null&&typeof v=="object"){if(typeof v.then=="function")return Et(v);if(v.$$typeof===ql)return Na(v)}throw Error(i(438,String(v)))}function Tt(v){var y=null,D=Hn.updateQueue;if(D!==null&&(y=D.memoCache),y==null){var L=Hn.alternate;L!==null&&(L=L.updateQueue,L!==null&&(L=L.memoCache,L!=null&&(y={data:L.data.map(function(V){return V.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),D===null&&(D=ev(),Hn.updateQueue=D),D.memoCache=y,D=y.data[y.index],D===void 0)for(D=y.data[y.index]=Array(v),L=0;L<v;L++)D[L]=P2;return y.index++,D}function qt(v,y){return typeof y=="function"?y(v):y}function tn(v){var y=Ye();return nn(y,Er,v)}function nn(v,y,D){var L=v.queue;if(L===null)throw Error(i(311));L.lastRenderedReducer=D;var V=v.baseQueue,J=L.pending;if(J!==null){if(V!==null){var Ee=V.next;V.next=J.next,J.next=Ee}y.baseQueue=V=J,L.pending=null}if(J=v.baseState,V===null)v.memoizedState=J;else{y=V.next;var qe=Ee=null,it=null,At=y,Ut=!1;do{var Vt=At.lane&-536870913;if(Vt!==At.lane?(Qn&Vt)===Vt:(Ql&Vt)===Vt){var $t=At.revertLane;if($t===0)it!==null&&(it=it.next={lane:0,revertLane:0,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null}),Vt===Ts&&(Ut=!0);else if((Ql&$t)===$t){At=At.next,$t===Ts&&(Ut=!0);continue}else Vt={lane:0,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},it===null?(qe=it=Vt,Ee=J):it=it.next=Vt,Hn.lanes|=$t,ho|=$t;Vt=At.action,Vu&&D(J,Vt),J=At.hasEagerState?At.eagerState:D(J,Vt)}else $t={lane:Vt,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},it===null?(qe=it=$t,Ee=J):it=it.next=$t,Hn.lanes|=Vt,ho|=Vt;At=At.next}while(At!==null&&At!==y);if(it===null?Ee=J:it.next=qe,!io(J,v.memoizedState)&&(Oi=!0,Ut&&(D=$c,D!==null)))throw D;v.memoizedState=J,v.baseState=Ee,v.baseQueue=it,L.lastRenderedState=J}return V===null&&(L.lanes=0),[v.memoizedState,L.dispatch]}function Gt(v){var y=Ye(),D=y.queue;if(D===null)throw Error(i(311));D.lastRenderedReducer=v;var L=D.dispatch,V=D.pending,J=y.memoizedState;if(V!==null){D.pending=null;var Ee=V=V.next;do J=v(J,Ee.action),Ee=Ee.next;while(Ee!==V);io(J,y.memoizedState)||(Oi=!0),y.memoizedState=J,y.baseQueue===null&&(y.baseState=J),D.lastRenderedState=J}return[J,L]}function Kn(v,y,D){var L=Hn,V=Ye(),J=yr;if(J){if(D===void 0)throw Error(i(407));D=D()}else D=y();var Ee=!io((Er||V).memoizedState,D);if(Ee&&(V.memoizedState=D,Oi=!0),V=V.queue,ol(ji.bind(null,L,V,v),[v]),V.getSnapshot!==y||Ee||Bi!==null&&Bi.memoizedState.tag&1){if(L.flags|=2048,Uo(9,dr.bind(null,L,V,D,y),{destroy:void 0},null),rr===null)throw Error(i(349));J||(Ql&60)!==0||ur(L,y,D)}return D}function ur(v,y,D){v.flags|=16384,v={getSnapshot:y,value:D},y=Hn.updateQueue,y===null?(y=ev(),Hn.updateQueue=y,y.stores=[v]):(D=y.stores,D===null?y.stores=[v]:D.push(v))}function dr(v,y,D,L){y.value=D,y.getSnapshot=L,Vn(y)&&Kt(v)}function ji(v,y,D){return D(function(){Vn(y)&&Kt(v)})}function Vn(v){var y=v.getSnapshot;v=v.value;try{var D=y();return!io(v,D)}catch{return!0}}function Kt(v){var y=Be(v,2);y!==null&&qa(y,v,2)}function ri(v){var y=at();if(typeof v=="function"){var D=v;if(v=D(),Vu){P(!0);try{D()}finally{P(!1)}}}return y.memoizedState=y.baseState=v,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:v},y}function En(v,y,D,L){return v.baseState=D,nn(v,Er,typeof L=="function"?L:qt)}function Vi(v,y,D,L,V){if(Fl(v))throw Error(i(485));if(v=y.action,v!==null){var J={payload:V,action:v,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ee){J.listeners.push(Ee)}};pn.T!==null?D(!0):J.isTransition=!1,L(J),D=y.pending,D===null?(J.next=y.pending=J,Ws(y,J)):(J.next=D.next,y.pending=D.next=J)}}function Ws(v,y){var D=y.action,L=y.payload,V=v.state;if(y.isTransition){var J=pn.T,Ee={};pn.T=Ee;try{var qe=D(V,L),it=pn.S;it!==null&&it(Ee,qe),ii(v,y,qe)}catch(At){sr(v,y,At)}finally{pn.T=J}}else try{J=D(V,L),ii(v,y,J)}catch(At){sr(v,y,At)}}function ii(v,y,D){D!==null&&typeof D=="object"&&typeof D.then=="function"?D.then(function(L){Ys(v,y,L)},function(L){return sr(v,y,L)}):Ys(v,y,D)}function Ys(v,y,D){y.status="fulfilled",y.value=D,Aa(y),v.state=D,y=v.pending,y!==null&&(D=y.next,D===y?v.pending=null:(D=D.next,y.next=D,Ws(v,D)))}function sr(v,y,D){var L=v.pending;if(v.pending=null,L!==null){L=L.next;do y.status="rejected",y.reason=D,Aa(y),y=y.next;while(y!==L)}v.action=null}function Aa(v){v=v.listeners;for(var y=0;y<v.length;y++)(0,v[y])()}function Rr(v,y){return y}function ea(v,y){if(yr){var D=rr.formState;if(D!==null){e:{var L=Hn;if(yr){if(Ba){var V=X2(Ba,Ho);if(V){Ba=Xg(V),L=W2(V);break e}}be(L)}L=!1}L&&(y=D[0])}}D=at(),D.memoizedState=D.baseState=y,L={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:y},D.queue=L,D=Rf.bind(null,Hn,L),L.dispatch=D,L=ri(!1);var J=Bf.bind(null,Hn,!1,L.queue);return L=at(),V={state:y,dispatch:null,action:v,pending:null},L.queue=V,D=Vi.bind(null,Hn,V,J,D),V.dispatch=D,L.memoizedState=v,[y,D,!1]}function Ma(v){var y=Ye();return ta(y,Er,v)}function ta(v,y,D){y=nn(v,y,Rr)[0],v=tn(qt)[0],y=typeof y=="object"&&y!==null&&typeof y.then=="function"?Et(y):y;var L=Ye(),V=L.queue,J=V.dispatch;return D!==L.memoizedState&&(Hn.flags|=2048,Uo(9,zo.bind(null,V,D),{destroy:void 0},null)),[y,J,v]}function zo(v,y){v.action=y}function Sc(v){var y=Ye(),D=Er;if(D!==null)return ta(y,D,v);Ye(),y=y.memoizedState,D=Ye();var L=D.queue.dispatch;return D.memoizedState=v,[y,L,!1]}function Uo(v,y,D,L){return v={tag:v,create:y,inst:D,deps:L,next:null},y=Hn.updateQueue,y===null&&(y=ev(),Hn.updateQueue=y),D=y.lastEffect,D===null?y.lastEffect=v.next=v:(L=D.next,D.next=v,v.next=L,y.lastEffect=v),v}function sl(){return Ye().memoizedState}function _f(v,y,D,L){var V=at();Hn.flags|=v,V.memoizedState=Uo(1|y,D,{destroy:void 0},L===void 0?null:L)}function wc(v,y,D,L){var V=Ye();L=L===void 0?null:L;var J=V.memoizedState.inst;Er!==null&&L!==null&&hi(L,Er.memoizedState.deps)?V.memoizedState=Uo(y,D,J,L):(Hn.flags|=v,V.memoizedState=Uo(1|y,D,J,L))}function Ef(v,y){_f(8390656,8,v,y)}function ol(v,y){wc(2048,8,v,y)}function Sh(v,y){return wc(4,2,v,y)}function Nf(v,y){return wc(4,4,v,y)}function Fo(v,y){if(typeof y=="function"){v=v();var D=y(v);return function(){typeof D=="function"?D():y(null)}}if(y!=null)return v=v(),y.current=v,function(){y.current=null}}function _a(v,y,D){D=D!=null?D.concat([v]):null,wc(4,4,Fo.bind(null,y,v),D)}function ll(){}function Tf(v,y){var D=Ye();y=y===void 0?null:y;var L=D.memoizedState;return y!==null&&hi(y,L[1])?L[0]:(D.memoizedState=[v,y],v)}function Zs(v,y){var D=Ye();y=y===void 0?null:y;var L=D.memoizedState;if(y!==null&&hi(y,L[1]))return L[0];if(L=v(),Vu){P(!0);try{v()}finally{P(!1)}}return D.memoizedState=[L,y],L}function Lo(v,y,D){return D===void 0||(Ql&1073741824)!==0?v.memoizedState=y:(v.memoizedState=D,v=Pl(),Hn.lanes|=v,ho|=v,D)}function Cf(v,y,D,L){return io(D,y)?D:Kl.current!==null?(v=Lo(v,D,L),io(v,y)||(Oi=!0),v):(Ql&42)===0?(Oi=!0,v.memoizedState=D):(v=Pl(),Hn.lanes|=v,ho|=v,y)}function Df(v,y,D,L,V){var J=ra();$a(J!==0&&8>J?J:8);var Ee=pn.T,qe={};pn.T=qe,Bf(v,!1,y,D);try{var it=V(),At=pn.S;if(At!==null&&At(qe,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var Ut=et(it,L);ko(v,y,Ut,is(v))}else ko(v,y,L,is(v))}catch(Vt){ko(v,y,{then:function(){},status:"rejected",reason:Vt},is())}finally{$a(J),pn.T=Ee}}function Ac(v){var y=v.memoizedState;if(y!==null)return y;y={memoizedState:_s,baseState:_s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:_s},next:null};var D={};return y.next={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:D},next:null},v.memoizedState=y,v=v.alternate,v!==null&&(v.memoizedState=y),y}function ul(){return Na(wn)}function Ks(){return Ye().memoizedState}function Va(){return Ye().memoizedState}function Mu(v){for(var y=v.return;y!==null;){switch(y.tag){case 24:case 3:var D=is();v=st(D);var L=lt(y,v,D);L!==null&&(qa(L,y,D),Ke(L,y,D)),y={cache:gp()},v.payload=y;return}y=y.return}}function cl(v,y,D){var L=is();D={lane:L,revertLane:0,action:D,hasEagerState:!1,eagerState:null,next:null},Fl(v)?fl(y,D):(D=he(v,y,D,L),D!==null&&(qa(D,v,L),_u(D,y,L)))}function Rf(v,y,D){var L=is();ko(v,y,D,L)}function ko(v,y,D,L){var V={lane:L,revertLane:0,action:D,hasEagerState:!1,eagerState:null,next:null};if(Fl(v))fl(y,V);else{var J=v.alternate;if(v.lanes===0&&(J===null||J.lanes===0)&&(J=y.lastRenderedReducer,J!==null))try{var Ee=y.lastRenderedState,qe=J(Ee,D);if(V.hasEagerState=!0,V.eagerState=qe,io(qe,Ee))return fe(v,y,V,0),rr===null&&ve(),!1}catch{}finally{}if(D=he(v,y,V,L),D!==null)return qa(D,v,L),_u(D,y,L),!0}return!1}function Bf(v,y,D,L){if(L={lane:2,revertLane:Le(),action:L,hasEagerState:!1,eagerState:null,next:null},Fl(v)){if(y)throw Error(i(479))}else y=he(v,D,L,2),y!==null&&qa(y,v,2)}function Fl(v){var y=v.alternate;return v===Hn||y!==null&&y===Hn}function fl(v,y){ui=$o=!0;var D=v.pending;D===null?y.next=y:(y.next=D.next,D.next=y),v.pending=y}function _u(v,y,D){if((D&4194176)!==0){var L=y.lanes;L&=v.pendingLanes,D|=L,y.lanes=D,X(v,D)}}function ai(v,y,D,L){y=v.memoizedState,D=D(L,y),D=D==null?y:qf({},y,D),v.memoizedState=D,v.lanes===0&&(v.updateQueue.baseState=D)}function dl(v,y,D,L,V,J,Ee){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(L,J,Ee):y.prototype&&y.prototype.isPureReactComponent?!$e(D,L)||!$e(V,J):!0}function Eu(v,y,D,L){v=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(D,L),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(D,L),y.state!==v&&tv.enqueueReplaceState(y,y.state,null)}function ts(v,y){var D=y;if("ref"in y){D={};for(var L in y)L!=="ref"&&(D[L]=y[L])}if(v=v.defaultProps){D===y&&(D=qf({},D));for(var V in v)D[V]===void 0&&(D[V]=v[V])}return D}function Ll(v,y){try{var D=v.onUncaughtError;D(y.value,{componentStack:y.stack})}catch(L){setTimeout(function(){throw L})}}function Of(v,y,D){try{var L=v.onCaughtError;L(D.value,{componentStack:D.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(V){setTimeout(function(){throw V})}}function hl(v,y,D){return D=st(D),D.tag=3,D.payload={element:null},D.callback=function(){Ll(v,y)},D}function kl(v){return v=st(v),v.tag=3,v}function na(v,y,D,L){var V=D.type.getDerivedStateFromError;if(typeof V=="function"){var J=L.value;v.payload=function(){return V(J)},v.callback=function(){Of(y,D,L)}}var Ee=D.stateNode;Ee!==null&&typeof Ee.componentDidCatch=="function"&&(v.callback=function(){Of(y,D,L),typeof V!="function"&&(po===null?po=new Set([this]):po.add(this));var qe=L.stack;this.componentDidCatch(L.value,{componentStack:qe!==null?qe:""})})}function pp(v,y,D,L,V){if(D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){if(y=D.alternate,y!==null&&Uf(y,D,V,!0),D=co.current,D!==null){switch(D.tag){case 13:return Go===null?Ms():D.alternate===null&&mr===0&&(mr=3),D.flags&=-257,D.flags|=65536,D.lanes=V,L===Jp?D.flags|=16384:(y=D.updateQueue,y===null?D.updateQueue=new Set([L]):y.add(L),Rp(v,L,V)),!1;case 22:return D.flags|=65536,L===Jp?D.flags|=16384:(y=D.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([L])},D.updateQueue=y):(D=y.retryQueue,D===null?y.retryQueue=new Set([L]):D.add(L)),Rp(v,L,V)),!1}throw Error(i(435,D.tag))}return Rp(v,L,V),Ms(),!1}if(yr)return y=co.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=V,L!==Kh&&(v=Error(i(422),{cause:L}),Ve(H(v,D)))):(L!==Kh&&(y=Error(i(423),{cause:L}),Ve(H(y,D))),v=v.current.alternate,v.flags|=65536,V&=-V,v.lanes|=V,L=H(L,D),V=hl(v.stateNode,L,V),ze(v,V),mr!==4&&(mr=2)),!1;var J=Error(i(520),{cause:L});if(J=H(J,D),A0===null?A0=[J]:A0.push(J),mr!==4&&(mr=2),y===null)return!0;L=H(L,D),D=y;do{switch(D.tag){case 3:return D.flags|=65536,v=V&-V,D.lanes|=v,v=hl(D.stateNode,L,v),ze(D,v),!1;case 1:if(y=D.type,J=D.stateNode,(D.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(po===null||!po.has(J))))return D.flags|=65536,V&=-V,D.lanes|=V,V=kl(V),na(V,v,D,L),ze(D,V),!1}D=D.return}while(D!==null);return!1}function bi(v,y,D,L){y.child=v===null?lx(y,null,D,L):Xc(y,v.child,D,L)}function zf(v,y,D,L,V){D=D.render;var J=y.ref;if("ref"in L){var Ee={};for(var qe in L)qe!=="ref"&&(Ee[qe]=L[qe])}else Ee=L;return Ff(y),L=wa(v,y,D,Ee,J,V),qe=_e(),v!==null&&!Oi?(Je(v,y,V),Nu(v,y,V)):(yr&&qe&&K(y),y.flags|=1,bi(v,y,L,V),y.child)}function wh(v,y,D,L,V){if(v===null){var J=D.type;return typeof J=="function"&&!Ou(J)&&J.defaultProps===void 0&&D.compare===null?(y.tag=15,y.type=J,Wd(v,y,J,L,V)):(v=Po(D.type,null,L,y,y.mode,V),v.ref=y.ref,v.return=y,y.child=v)}if(J=v.child,!sg(v,V)){var Ee=J.memoizedProps;if(D=D.compare,D=D!==null?D:$e,D(Ee,L)&&v.ref===y.ref)return Nu(v,y,V)}return y.flags|=1,v=Ga(J,L),v.ref=y.ref,v.return=y,y.child=v}function Wd(v,y,D,L,V){if(v!==null){var J=v.memoizedProps;if($e(J,L)&&v.ref===y.ref)if(Oi=!1,y.pendingProps=L=J,sg(v,V))(v.flags&131072)!==0&&(Oi=!0);else return y.lanes=v.lanes,Nu(v,y,V)}return Io(v,y,D,L,V)}function Ea(v,y,D){var L=y.pendingProps,V=L.children,J=(y.stateNode._pendingVisibility&2)!==0,Ee=v!==null?v.memoizedState:null;if(Hi(v,y),L.mode==="hidden"||J){if((y.flags&128)!==0){if(L=Ee!==null?Ee.baseLanes|D:D,v!==null){for(V=y.child=v.child,J=0;V!==null;)J=J|V.lanes|V.childLanes,V=V.sibling;y.childLanes=J&~L}else y.childLanes=0,y.child=null;return Ss(v,y,L,D)}if((D&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},v!==null&&xp(y,Ee!==null?Ee.cachePool:null),Ee!==null?Ir(y,Ee):Di(),ca(y);else return y.lanes=y.childLanes=536870912,Ss(v,y,Ee!==null?Ee.baseLanes|D:D,D)}else Ee!==null?(xp(y,Ee.cachePool),Ir(y,Ee),yi(),y.memoizedState=null):(v!==null&&xp(y,null),Di(),yi());return bi(v,y,V,D),y.child}function Ss(v,y,D,L){var V=Ec();return V=V===null?null:{parent:$l?Br._currentValue:Br._currentValue2,pool:V},y.memoizedState={baseLanes:D,cachePool:V},v!==null&&xp(y,null),Di(),ca(y),v!==null&&Uf(v,y,L,!0),null}function Hi(v,y){var D=y.ref;if(D===null)v!==null&&v.ref!==null&&(y.flags|=2097664);else{if(typeof D!="function"&&typeof D!="object")throw Error(i(284));(v===null||v.ref!==D)&&(y.flags|=2097664)}}function Io(v,y,D,L,V){return Ff(y),D=wa(v,y,D,L,void 0,V),L=_e(),v!==null&&!Oi?(Je(v,y,V),Nu(v,y,V)):(yr&&L&&K(y),y.flags|=1,bi(v,y,D,V),y.child)}function Ah(v,y,D,L,V,J){return Ff(y),y.updateQueue=null,D=Au(y,L,D,V),zl(v),L=_e(),v!==null&&!Oi?(Je(v,y,J),Nu(v,y,J)):(yr&&L&&K(y),y.flags|=1,bi(v,y,D,J),y.child)}function tg(v,y,D,L,V){if(Ff(y),y.stateNode===null){var J=Yf,Ee=D.contextType;typeof Ee=="object"&&Ee!==null&&(J=Na(Ee)),J=new D(L,J),y.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=tv,y.stateNode=J,J._reactInternals=y,J=y.stateNode,J.props=L,J.state=y.memoizedState,J.refs={},Xe(y),Ee=D.contextType,J.context=typeof Ee=="object"&&Ee!==null?Na(Ee):Yf,J.state=y.memoizedState,Ee=D.getDerivedStateFromProps,typeof Ee=="function"&&(ai(y,D,Ee,L),J.state=y.memoizedState),typeof D.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(Ee=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),Ee!==J.state&&tv.enqueueReplaceState(J,J.state,null),Ne(y,L,J,V),G(),J.state=y.memoizedState),typeof J.componentDidMount=="function"&&(y.flags|=4194308),L=!0}else if(v===null){J=y.stateNode;var qe=y.memoizedProps,it=ts(D,qe);J.props=it;var At=J.context,Ut=D.contextType;Ee=Yf,typeof Ut=="object"&&Ut!==null&&(Ee=Na(Ut));var Vt=D.getDerivedStateFromProps;Ut=typeof Vt=="function"||typeof J.getSnapshotBeforeUpdate=="function",qe=y.pendingProps!==qe,Ut||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(qe||At!==Ee)&&Eu(y,J,L,Ee),ju=!1;var $t=y.memoizedState;J.state=$t,Ne(y,L,J,V),G(),At=y.memoizedState,qe||$t!==At||ju?(typeof Vt=="function"&&(ai(y,D,Vt,L),At=y.memoizedState),(it=ju||dl(y,D,it,L,$t,At,Ee))?(Ut||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(y.flags|=4194308)):(typeof J.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=L,y.memoizedState=At),J.props=L,J.state=At,J.context=Ee,L=it):(typeof J.componentDidMount=="function"&&(y.flags|=4194308),L=!1)}else{J=y.stateNode,We(v,y),Ee=y.memoizedProps,Ut=ts(D,Ee),J.props=Ut,Vt=y.pendingProps,$t=J.context,At=D.contextType,it=Yf,typeof At=="object"&&At!==null&&(it=Na(At)),qe=D.getDerivedStateFromProps,(At=typeof qe=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(Ee!==Vt||$t!==it)&&Eu(y,J,L,it),ju=!1,$t=y.memoizedState,J.state=$t,Ne(y,L,J,V),G();var Cn=y.memoizedState;Ee!==Vt||$t!==Cn||ju||v!==null&&v.dependencies!==null&&_c(v.dependencies)?(typeof qe=="function"&&(ai(y,D,qe,L),Cn=y.memoizedState),(Ut=ju||dl(y,D,Ut,L,$t,Cn,it)||v!==null&&v.dependencies!==null&&_c(v.dependencies))?(At||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(L,Cn,it),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(L,Cn,it)),typeof J.componentDidUpdate=="function"&&(y.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof J.componentDidUpdate!="function"||Ee===v.memoizedProps&&$t===v.memoizedState||(y.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||Ee===v.memoizedProps&&$t===v.memoizedState||(y.flags|=1024),y.memoizedProps=L,y.memoizedState=Cn),J.props=L,J.state=Cn,J.context=it,L=Ut):(typeof J.componentDidUpdate!="function"||Ee===v.memoizedProps&&$t===v.memoizedState||(y.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||Ee===v.memoizedProps&&$t===v.memoizedState||(y.flags|=1024),L=!1)}return J=L,Hi(v,y),L=(y.flags&128)!==0,J||L?(J=y.stateNode,D=L&&typeof D.getDerivedStateFromError!="function"?null:J.render(),y.flags|=1,v!==null&&L?(y.child=Xc(y,v.child,null,V),y.child=Xc(y,null,D,V)):bi(v,y,D,V),y.memoizedState=J.state,v=y.child):v=Nu(v,y,V),v}function A2(v,y,D,L){return Se(),y.flags|=256,bi(v,y,D,L),y.child}function ng(v){return{baseLanes:v,cachePool:T2()}}function rg(v,y,D){return v=v!==null?v.childLanes&~D:0,y&&(v|=Rs),v}function M2(v,y,D){var L=y.pendingProps,V=!1,J=(y.flags&128)!==0,Ee;if((Ee=J)||(Ee=v!==null&&v.memoizedState===null?!1:(Gi.current&2)!==0),Ee&&(V=!0,y.flags&=-129),Ee=(y.flags&32)!==0,y.flags&=-33,v===null){if(yr){if(V?Kr(y):yi(),yr){var qe=Ba,it;(it=qe)&&(qe=J2(qe,Ho),qe!==null?(y.memoizedState={dehydrated:qe,treeContext:xl!==null?{id:Yl,overflow:Vo}:null,retryLane:536870912},it=t(18,null,null,0),it.stateNode=qe,it.return=y,y.child=it,Xa=y,Ba=null,it=!0):it=!1),it||be(y)}if(qe=y.memoizedState,qe!==null&&(qe=qe.dehydrated,qe!==null))return Hh(qe)?y.lanes=16:y.lanes=536870912,null;Hr(y)}return qe=L.children,L=L.fallback,V?(yi(),V=y.mode,qe=ig({mode:"hidden",children:qe},V),L=Uu(L,V,D,null),qe.return=y,L.return=y,qe.sibling=L,y.child=qe,V=y.child,V.memoizedState=ng(D),V.childLanes=rg(v,Ee,D),y.memoizedState=Ya,L):(Kr(y),Mh(y,qe))}if(it=v.memoizedState,it!==null&&(qe=it.dehydrated,qe!==null)){if(J)y.flags&256?(Kr(y),y.flags&=-257,y=ag(v,y,D)):y.memoizedState!==null?(yi(),y.child=v.child,y.flags|=128,y=null):(yi(),V=L.fallback,qe=y.mode,L=ig({mode:"visible",children:L.children},qe),V=Uu(V,qe,D,null),V.flags|=2,L.return=y,V.return=y,L.sibling=V,y.child=L,Xc(y,v.child,null,D),L=y.child,L.memoizedState=ng(D),L.childLanes=rg(v,Ee,D),y.memoizedState=Ya,y=V);else if(Kr(y),Hh(qe))Ee=$2(qe).digest,L=Error(i(419)),L.stack="",L.digest=Ee,Ve({value:L,source:null,stack:null}),y=ag(v,y,D);else if(Oi||Uf(v,y,D,!1),Ee=(D&v.childLanes)!==0,Oi||Ee){if(Ee=rr,Ee!==null){if(L=D&-D,(L&42)!==0)L=1;else switch(L){case 2:L=1;break;case 8:L=4;break;case 32:L=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:L=64;break;case 268435456:L=134217728;break;default:L=0}if(L=(L&(Ee.suspendedLanes|D))!==0?0:L,L!==0&&L!==it.retryLane)throw it.retryLane=L,Be(v,L),qa(Ee,v,L),mb}Hp(qe)||Ms(),y=ag(v,y,D)}else Hp(qe)?(y.flags|=128,y.child=v.child,y=Vf.bind(null,v),F5(qe,y),y=null):(v=it.treeContext,as&&(Ba=Z2(qe),Xa=y,yr=!0,oo=null,Ho=!1,v!==null&&(ao[so++]=Yl,ao[so++]=Vo,ao[so++]=xl,Yl=v.id,Vo=v.overflow,xl=y)),y=Mh(y,L.children),y.flags|=4096);return y}return V?(yi(),V=L.fallback,qe=y.mode,it=v.child,J=it.sibling,L=Ga(it,{mode:"hidden",children:L.children}),L.subtreeFlags=it.subtreeFlags&31457280,J!==null?V=Ga(J,V):(V=Uu(V,qe,D,null),V.flags|=2),V.return=y,L.return=y,L.sibling=V,y.child=L,L=V,V=y.child,qe=v.child.memoizedState,qe===null?qe=ng(D):(it=qe.cachePool,it!==null?(J=$l?Br._currentValue:Br._currentValue2,it=it.parent!==J?{parent:J,pool:J}:it):it=T2(),qe={baseLanes:qe.baseLanes|D,cachePool:it}),V.memoizedState=qe,V.childLanes=rg(v,Ee,D),y.memoizedState=Ya,L):(Kr(y),D=v.child,v=D.sibling,D=Ga(D,{mode:"visible",children:L.children}),D.return=y,D.sibling=null,v!==null&&(Ee=y.deletions,Ee===null?(y.deletions=[v],y.flags|=16):Ee.push(v)),y.child=D,y.memoizedState=null,D)}function Mh(v,y){return y=ig({mode:"visible",children:y},v.mode),y.return=v,v.child=y}function ig(v,y){return Bp(v,y,0,null)}function ag(v,y,D){return Xc(y,v.child,null,D),v=Mh(y,y.pendingProps.children),v.flags|=2,y.memoizedState=null,v}function _2(v,y,D){v.lanes|=y;var L=v.alternate;L!==null&&(L.lanes|=y),og(v.return,y,D)}function vp(v,y,D,L,V){var J=v.memoizedState;J===null?v.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:L,tail:D,tailMode:V}:(J.isBackwards=y,J.rendering=null,J.renderingStartTime=0,J.last=L,J.tail=D,J.tailMode=V)}function E2(v,y,D){var L=y.pendingProps,V=L.revealOrder,J=L.tail;if(bi(v,y,L.children,D),L=Gi.current,(L&2)!==0)L=L&1|2,y.flags|=128;else{if(v!==null&&(v.flags&128)!==0)e:for(v=y.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&_2(v,D,y);else if(v.tag===19)_2(v,D,y);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===y)break e;for(;v.sibling===null;){if(v.return===null||v.return===y)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}L&=1}switch(_(Gi,L),V){case"forwards":for(D=y.child,V=null;D!==null;)v=D.alternate,v!==null&&_r(v)===null&&(V=D),D=D.sibling;D=V,D===null?(V=y.child,y.child=null):(V=D.sibling,D.sibling=null),vp(y,!1,V,D,J);break;case"backwards":for(D=null,V=y.child,y.child=null;V!==null;){if(v=V.alternate,v!==null&&_r(v)===null){y.child=V;break}v=V.sibling,V.sibling=D,D=V,V=v}vp(y,!0,D,null,J);break;case"together":vp(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function Nu(v,y,D){if(v!==null&&(y.dependencies=v.dependencies),ho|=y.lanes,(D&y.childLanes)===0)if(v!==null){if(Uf(v,y,D,!1),(D&y.childLanes)===0)return null}else return null;if(v!==null&&y.child!==v.child)throw Error(i(153));if(y.child!==null){for(v=y.child,D=Ga(v,v.pendingProps),y.child=D,D.return=y;v.sibling!==null;)v=v.sibling,D=D.sibling=Ga(v,v.pendingProps),D.return=y;D.sibling=null}return y.child}function sg(v,y){return(v.lanes&y)!==0?!0:(v=v.dependencies,!!(v!==null&&_c(v)))}function O5(v,y,D){switch(y.tag){case 3:te(y,y.stateNode.containerInfo),Mc(y,Br,v.memoizedState.cache),Se();break;case 27:case 5:de(y);break;case 4:te(y,y.stateNode.containerInfo);break;case 10:Mc(y,y.type,y.memoizedProps.value);break;case 13:var L=y.memoizedState;if(L!==null)return L.dehydrated!==null?(Kr(y),y.flags|=128,null):(D&y.child.childLanes)!==0?M2(v,y,D):(Kr(y),v=Nu(v,y,D),v!==null?v.sibling:null);Kr(y);break;case 19:var V=(v.flags&128)!==0;if(L=(D&y.childLanes)!==0,L||(Uf(v,y,D,!1),L=(D&y.childLanes)!==0),V){if(L)return E2(v,y,D);y.flags|=128}if(V=y.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),_(Gi,Gi.current),L)break;return null;case 22:case 23:return y.lanes=0,Ea(v,y,D);case 24:Mc(y,Br,v.memoizedState.cache)}return Nu(v,y,D)}function N2(v,y,D){if(v!==null)if(v.memoizedProps!==y.pendingProps)Oi=!0;else{if(!sg(v,D)&&(y.flags&128)===0)return Oi=!1,O5(v,y,D);Oi=(v.flags&131072)!==0}else Oi=!1,yr&&(y.flags&1048576)!==0&&W(y,Yh,y.index);switch(y.lanes=0,y.tag){case 16:e:{v=y.pendingProps;var L=y.elementType,V=L._init;if(L=V(L._payload),y.type=L,typeof L=="function")Ou(L)?(v=ts(L,v),y.tag=1,y=tg(null,y,L,v,D)):(y.tag=0,y=Io(null,y,L,v,D));else{if(L!=null){if(V=L.$$typeof,V===c0){y.tag=11,y=zf(null,y,L,v,D);break e}else if(V===Uh){y.tag=14,y=wh(null,y,L,v,D);break e}}throw y=s(L)||L,Error(i(306,y,""))}}return y;case 0:return Io(v,y,y.type,y.pendingProps,D);case 1:return L=y.type,V=ts(L,y.pendingProps),tg(v,y,L,V,D);case 3:e:{if(te(y,y.stateNode.containerInfo),v===null)throw Error(i(387));var J=y.pendingProps;V=y.memoizedState,L=V.element,We(v,y),Ne(y,J,null,D);var Ee=y.memoizedState;if(J=Ee.cache,Mc(y,Br,J),J!==V.cache&&lg(y,[Br],D,!0),G(),J=Ee.element,as&&V.isDehydrated)if(V={element:J,isDehydrated:!1,cache:Ee.cache},y.updateQueue.baseState=V,y.memoizedState=V,y.flags&256){y=A2(v,y,J,D);break e}else if(J!==L){L=H(Error(i(424)),y),Ve(L),y=A2(v,y,J,D);break e}else for(as&&(Ba=Y2(y.stateNode.containerInfo),Xa=y,yr=!0,oo=null,Ho=!0),D=lx(y,null,J,D),y.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(Se(),J===L){y=Nu(v,y,D);break e}bi(v,y,J,D)}y=y.child}return y;case 26:if(ro)return Hi(v,y),v===null?(D=Wp(y.type,null,y.pendingProps,null))?y.memoizedState=D:yr||(y.stateNode=k5(y.type,y.pendingProps,yl.current,y)):y.memoizedState=Wp(y.type,v.memoizedProps,y.pendingProps,v.memoizedState),null;case 27:if(Da)return de(y),v===null&&Da&&yr&&(L=y.stateNode=ix(y.type,y.pendingProps,yl.current,pa.current,!1),Xa=y,Ho=!0,Ba=qp(L)),L=y.pendingProps.children,v!==null||yr?bi(v,y,L,D):y.child=Xc(y,null,L,D),Hi(v,y),y.child;case 5:return v===null&&yr&&(ib(y.type,y.pendingProps,pa.current),(V=L=Ba)&&(L=K2(L,y.type,y.pendingProps,Ho),L!==null?(y.stateNode=L,Xa=y,Ba=qp(L),Ho=!1,V=!0):V=!1),V||be(y)),de(y),V=y.type,J=y.pendingProps,Ee=v!==null?v.memoizedProps:null,L=J.children,Vc(V,J)?L=null:Ee!==null&&Vc(V,Ee)&&(y.flags|=32),y.memoizedState!==null&&(V=wa(v,y,Ul,null,null,D),$l?wn._currentValue=V:wn._currentValue2=V),Hi(v,y),bi(v,y,L,D),y.child;case 6:return v===null&&yr&&(ab(y.pendingProps,pa.current),(v=D=Ba)&&(D=Q2(D,y.pendingProps,Ho),D!==null?(y.stateNode=D,Xa=y,Ba=null,v=!0):v=!1),v||be(y)),null;case 13:return M2(v,y,D);case 4:return te(y,y.stateNode.containerInfo),L=y.pendingProps,v===null?y.child=Xc(y,null,L,D):bi(v,y,L,D),y.child;case 11:return zf(v,y,y.type,y.pendingProps,D);case 7:return bi(v,y,y.pendingProps,D),y.child;case 8:return bi(v,y,y.pendingProps.children,D),y.child;case 12:return bi(v,y,y.pendingProps.children,D),y.child;case 10:return L=y.pendingProps,Mc(y,y.type,L.value),bi(v,y,L.children,D),y.child;case 9:return V=y.type._context,L=y.pendingProps.children,Ff(y),V=Na(V),L=L(V),y.flags|=1,bi(v,y,L,D),y.child;case 14:return wh(v,y,y.type,y.pendingProps,D);case 15:return Wd(v,y,y.type,y.pendingProps,D);case 19:return E2(v,y,D);case 22:return Ea(v,y,D);case 24:return Ff(y),L=Na(Br),v===null?(V=Ec(),V===null&&(V=rr,J=gp(),V.pooledCache=J,J.refCount++,J!==null&&(V.pooledCacheLanes|=D),V=J),y.memoizedState={parent:L,cache:V},Xe(y),Mc(y,Br,V)):((v.lanes&D)!==0&&(We(v,y),Ne(y,null,null,D),G()),V=v.memoizedState,J=y.memoizedState,V.parent!==L?(V={parent:L,cache:L},y.memoizedState=V,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=V),Mc(y,Br,L)):(L=J.cache,Mc(y,Br,L),L!==V.cache&&lg(y,[Br],D,!0))),bi(v,y,y.pendingProps.children,D),y.child;case 29:throw y.pendingProps}throw Error(i(156,y.tag))}function Mc(v,y,D){$l?(_(Cs,y._currentValue),y._currentValue=D):(_(Cs,y._currentValue2),y._currentValue2=D)}function Tu(v){var y=Cs.current;$l?v._currentValue=y:v._currentValue2=y,b(Cs)}function og(v,y,D){for(;v!==null;){var L=v.alternate;if((v.childLanes&y)!==y?(v.childLanes|=y,L!==null&&(L.childLanes|=y)):L!==null&&(L.childLanes&y)!==y&&(L.childLanes|=y),v===D)break;v=v.return}}function lg(v,y,D,L){var V=v.child;for(V!==null&&(V.return=v);V!==null;){var J=V.dependencies;if(J!==null){var Ee=V.child;J=J.firstContext;e:for(;J!==null;){var qe=J;J=V;for(var it=0;it<y.length;it++)if(qe.context===y[it]){J.lanes|=D,qe=J.alternate,qe!==null&&(qe.lanes|=D),og(J.return,D,v),L||(Ee=null);break e}J=qe.next}}else if(V.tag===18){if(Ee=V.return,Ee===null)throw Error(i(341));Ee.lanes|=D,J=Ee.alternate,J!==null&&(J.lanes|=D),og(Ee,D,v),Ee=null}else Ee=V.child;if(Ee!==null)Ee.return=V;else for(Ee=V;Ee!==null;){if(Ee===v){Ee=null;break}if(V=Ee.sibling,V!==null){V.return=Ee.return,Ee=V;break}Ee=Ee.return}V=Ee}}function Uf(v,y,D,L){v=null;for(var V=y,J=!1;V!==null;){if(!J){if((V.flags&524288)!==0)J=!0;else if((V.flags&262144)!==0)break}if(V.tag===10){var Ee=V.alternate;if(Ee===null)throw Error(i(387));if(Ee=Ee.memoizedProps,Ee!==null){var qe=V.type;io(V.pendingProps.value,Ee.value)||(v!==null?v.push(qe):v=[qe])}}else if(V===g0.current){if(Ee=V.alternate,Ee===null)throw Error(i(387));Ee.memoizedState.memoizedState!==V.memoizedState.memoizedState&&(v!==null?v.push(wn):v=[wn])}V=V.return}v!==null&&lg(y,v,D,L),y.flags|=262144}function _c(v){for(v=v.firstContext;v!==null;){var y=v.context;if(!io($l?y._currentValue:y._currentValue2,v.memoizedValue))return!0;v=v.next}return!1}function Ff(v){Yc=v,_i=null,v=v.dependencies,v!==null&&(v.firstContext=null)}function Na(v){return ug(Yc,v)}function _h(v,y){return Yc===null&&Ff(v),ug(v,y)}function ug(v,y){var D=$l?y._currentValue:y._currentValue2;if(y={context:y,memoizedValue:D,next:null},_i===null){if(v===null)throw Error(i(308));_i=y,v.dependencies={lanes:0,firstContext:y},v.flags|=524288}else _i=_i.next=y;return D}function gp(){return{controller:new pb,data:new Map,refCount:0}}function Yd(v){v.refCount--,v.refCount===0&&Hu(Qf,function(){v.controller.abort()})}function Ec(){var v=qu.current;return v!==null?v:rr.pooledCache}function xp(v,y){y===null?_(qu,qu.current):_(qu,y.pool)}function T2(){var v=Ec();return v===null?null:{parent:$l?Br._currentValue:Br._currentValue2,pool:v}}function Qs(v){v.flags|=4}function cg(v,y){if(v!==null&&v.child===y.child)return!1;if((y.flags&16)!==0)return!0;for(v=y.child;v!==null;){if((v.flags&13878)!==0||(v.subtreeFlags&13878)!==0)return!0;v=v.sibling}return!1}function yp(v,y,D,L){if(Ca)for(D=y.child;D!==null;){if(D.tag===5||D.tag===6)Gl(v,D.stateNode);else if(!(D.tag===4||Da&&D.tag===27)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===y)break;for(;D.sibling===null;){if(D.return===null||D.return===y)return;D=D.return}D.sibling.return=D.return,D=D.sibling}else if(to)for(var V=y.child;V!==null;){if(V.tag===5){var J=V.stateNode;D&&L&&(J=Gg(J,V.type,V.memoizedProps)),Gl(v,J)}else if(V.tag===6)J=V.stateNode,D&&L&&(J=$g(J,V.memoizedProps)),Gl(v,J);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)J=V.child,J!==null&&(J.return=V),yp(v,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===y)break;for(;V.sibling===null;){if(V.return===null||V.return===y)return;V=V.return}V.sibling.return=V.return,V=V.sibling}}function Zd(v,y,D,L){if(to)for(var V=y.child;V!==null;){if(V.tag===5){var J=V.stateNode;D&&L&&(J=Gg(J,V.type,V.memoizedProps)),Hg(v,J)}else if(V.tag===6)J=V.stateNode,D&&L&&(J=$g(J,V.memoizedProps)),Hg(v,J);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)J=V.child,J!==null&&(J.return=V),Zd(v,V,!(V.memoizedProps!==null&&V.memoizedProps.mode==="manual"),!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===y)break;for(;V.sibling===null;){if(V.return===null||V.return===y)return;V=V.return}V.sibling.return=V.return,V=V.sibling}}function Kd(v,y){if(to&&cg(v,y)){v=y.stateNode;var D=v.containerInfo,L=Vp();Zd(L,y,!1,!1),v.pendingChildren=L,Qs(y),G2(D,L)}}function fg(v,y,D,L){if(Ca)v.memoizedProps!==L&&Qs(y);else if(to){var V=v.stateNode,J=v.memoizedProps;if((v=cg(v,y))||J!==L){var Ee=pa.current;J=Vg(V,D,J,L,!v,null),J===V?y.stateNode=V:(Lu(J,D,L,Ee)&&Qs(y),y.stateNode=J,v?yp(J,y,!1,!1):Qs(y))}else y.stateNode=V}}function Qd(v,y,D){if(V2(y,D)){if(v.flags|=16777216,!ku(y,D))if(Rh())v.flags|=8192;else throw Kf=Jp,ox}else v.flags&=-16777217}function dg(v,y){if(sb(y)){if(v.flags|=16777216,!nx(y))if(Rh())v.flags|=8192;else throw Kf=Jp,ox}else v.flags&=-16777217}function Eh(v,y){y!==null&&(v.flags|=4),v.flags&16384&&(y=v.tag!==22?R():536870912,v.lanes|=y,$u|=y)}function Lf(v,y){if(!yr)switch(v.tailMode){case"hidden":y=v.tail;for(var D=null;y!==null;)y.alternate!==null&&(D=y),y=y.sibling;D===null?v.tail=null:D.sibling=null;break;case"collapsed":D=v.tail;for(var L=null;D!==null;)D.alternate!==null&&(L=D),D=D.sibling;L===null?y||v.tail===null?v.tail=null:v.tail.sibling=null:L.sibling=null}}function si(v){var y=v.alternate!==null&&v.alternate.child===v.child,D=0,L=0;if(y)for(var V=v.child;V!==null;)D|=V.lanes|V.childLanes,L|=V.subtreeFlags&31457280,L|=V.flags&31457280,V.return=v,V=V.sibling;else for(V=v.child;V!==null;)D|=V.lanes|V.childLanes,L|=V.subtreeFlags,L|=V.flags,V.return=v,V=V.sibling;return v.subtreeFlags|=L,v.childLanes=D,y}function C2(v,y,D){var L=y.pendingProps;switch(Q(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(y),null;case 1:return si(y),null;case 3:return D=y.stateNode,L=null,v!==null&&(L=v.memoizedState.cache),y.memoizedState.cache!==L&&(y.flags|=2048),Tu(Br),le(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(v===null||v.child===null)&&(Fe(y)?Qs(y):v===null||v.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,oo!==null&&(Du(oo),oo=null))),Kd(v,y),si(y),null;case 26:if(ro){D=y.type;var V=y.memoizedState;return v===null?(Qs(y),V!==null?(si(y),dg(y,V)):(si(y),Qd(y,D,L))):V?V!==v.memoizedState?(Qs(y),si(y),dg(y,V)):(si(y),y.flags&=-16777217):(Ca?v.memoizedProps!==L&&Qs(y):fg(v,y,D,L),si(y),Qd(y,D,L)),null}case 27:if(Da){if(ce(y),D=yl.current,V=y.type,v!==null&&y.stateNode!=null)Ca?v.memoizedProps!==L&&Qs(y):fg(v,y,V,L);else{if(!L){if(y.stateNode===null)throw Error(i(166));return si(y),null}v=pa.current,Fe(y)?Te(y,v):(v=ix(V,L,D,v,!0),y.stateNode=v,Qs(y))}return si(y),null}case 5:if(ce(y),D=y.type,v!==null&&y.stateNode!=null)fg(v,y,D,L);else{if(!L){if(y.stateNode===null)throw Error(i(166));return si(y),null}v=pa.current,Fe(y)?Te(y,v):(V=Rg(D,L,yl.current,v,y),yp(V,y,!1,!1),y.stateNode=V,Lu(V,D,L,v)&&Qs(y))}return si(y),Qd(y,y.type,y.pendingProps),null;case 6:if(v&&y.stateNode!=null)D=v.memoizedProps,Ca?D!==L&&Qs(y):to&&(D!==L?(y.stateNode=Fp(L,yl.current,pa.current,y),Qs(y)):y.stateNode=v.stateNode);else{if(typeof L!="string"&&y.stateNode===null)throw Error(i(166));if(v=yl.current,D=pa.current,Fe(y)){if(!as)throw Error(i(176));if(v=y.stateNode,D=y.memoizedProps,L=null,V=Xa,V!==null)switch(V.tag){case 27:case 5:L=V.memoizedProps}eb(v,D,y,L)||be(y)}else y.stateNode=Fp(L,v,D,y)}return si(y),null;case 13:if(L=y.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(V=Fe(y),L!==null&&L.dehydrated!==null){if(v===null){if(!V)throw Error(i(318));if(!as)throw Error(i(344));if(V=y.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(i(317));d0(V,y)}else Se(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;si(y),V=!1}else oo!==null&&(Du(oo),oo=null),V=!0;if(!V)return y.flags&256?(Hr(y),y):(Hr(y),null)}if(Hr(y),(y.flags&128)!==0)return y.lanes=D,y;if(D=L!==null,v=v!==null&&v.memoizedState!==null,D){L=y.child,V=null,L.alternate!==null&&L.alternate.memoizedState!==null&&L.alternate.memoizedState.cachePool!==null&&(V=L.alternate.memoizedState.cachePool.pool);var J=null;L.memoizedState!==null&&L.memoizedState.cachePool!==null&&(J=L.memoizedState.cachePool.pool),J!==V&&(L.flags|=2048)}return D!==v&&D&&(y.child.flags|=8192),Eh(y,y.updateQueue),si(y),null;case 4:return le(),Kd(v,y),v===null&&zg(y.stateNode.containerInfo),si(y),null;case 10:return Tu(y.type),si(y),null;case 19:if(b(Gi),V=y.memoizedState,V===null)return si(y),null;if(L=(y.flags&128)!==0,J=V.rendering,J===null)if(L)Lf(V,!1);else{if(mr!==0||v!==null&&(v.flags&128)!==0)for(v=y.child;v!==null;){if(J=_r(v),J!==null){for(y.flags|=128,Lf(V,!1),v=J.updateQueue,y.updateQueue=v,Eh(y,v),y.subtreeFlags=0,v=D,D=y.child;D!==null;)zu(D,v),D=D.sibling;return _(Gi,Gi.current&1|2),y.child}v=v.sibling}V.tail!==null&&Ra()>xi&&(y.flags|=128,L=!0,Lf(V,!1),y.lanes=4194304)}else{if(!L)if(v=_r(J),v!==null){if(y.flags|=128,L=!0,v=v.updateQueue,y.updateQueue=v,Eh(y,v),Lf(V,!0),V.tail===null&&V.tailMode==="hidden"&&!J.alternate&&!yr)return si(y),null}else 2*Ra()-V.renderingStartTime>xi&&D!==536870912&&(y.flags|=128,L=!0,Lf(V,!1),y.lanes=4194304);V.isBackwards?(J.sibling=y.child,y.child=J):(v=V.last,v!==null?v.sibling=J:y.child=J,V.last=J)}return V.tail!==null?(y=V.tail,V.rendering=y,V.tail=y.sibling,V.renderingStartTime=Ra(),y.sibling=null,v=Gi.current,_(Gi,L?v&1|2:v&1),y):(si(y),null);case 22:case 23:return Hr(y),vi(),L=y.memoizedState!==null,v!==null?v.memoizedState!==null!==L&&(y.flags|=8192):L&&(y.flags|=8192),L?(D&536870912)!==0&&(y.flags&128)===0&&(si(y),y.subtreeFlags&6&&(y.flags|=8192)):si(y),D=y.updateQueue,D!==null&&Eh(y,D.retryQueue),D=null,v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),L=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(L=y.memoizedState.cachePool.pool),L!==D&&(y.flags|=2048),v!==null&&b(qu),null;case 24:return D=null,v!==null&&(D=v.memoizedState.cache),y.memoizedState.cache!==D&&(y.flags|=2048),Tu(Br),si(y),null;case 25:return null}throw Error(i(156,y.tag))}function D2(v,y){switch(Q(y),y.tag){case 1:return v=y.flags,v&65536?(y.flags=v&-65537|128,y):null;case 3:return Tu(Br),le(),v=y.flags,(v&65536)!==0&&(v&128)===0?(y.flags=v&-65537|128,y):null;case 26:case 27:case 5:return ce(y),null;case 13:if(Hr(y),v=y.memoizedState,v!==null&&v.dehydrated!==null){if(y.alternate===null)throw Error(i(340));Se()}return v=y.flags,v&65536?(y.flags=v&-65537|128,y):null;case 19:return b(Gi),null;case 4:return le(),null;case 10:return Tu(y.type),null;case 22:case 23:return Hr(y),vi(),v!==null&&b(qu),v=y.flags,v&65536?(y.flags=v&-65537|128,y):null;case 24:return Tu(Br),null;case 25:return null;default:return null}}function hg(v,y){switch(Q(y),y.tag){case 3:Tu(Br),le();break;case 26:case 27:case 5:ce(y);break;case 4:le();break;case 13:Hr(y);break;case 19:b(Gi);break;case 10:Tu(y.type);break;case 22:case 23:Hr(y),vi(),v!==null&&b(qu);break;case 24:Tu(Br)}}function Nh(v,y){try{var D=y.updateQueue,L=D!==null?D.lastEffect:null;if(L!==null){var V=L.next;D=V;do{if((D.tag&v)===v){L=void 0;var J=D.create,Ee=D.inst;L=J(),Ee.destroy=L}D=D.next}while(D!==V)}}catch(qe){or(y,y.return,qe)}}function Nc(v,y,D){try{var L=y.updateQueue,V=L!==null?L.lastEffect:null;if(V!==null){var J=V.next;L=J;do{if((L.tag&v)===v){var Ee=L.inst,qe=Ee.destroy;if(qe!==void 0){Ee.destroy=void 0,V=y;var it=D;try{qe()}catch(At){or(V,it,At)}}}L=L.next}while(L!==J)}}catch(At){or(y,y.return,At)}}function R2(v){var y=v.updateQueue;if(y!==null){var D=v.stateNode;try{Pe(y,D)}catch(L){or(v,v.return,L)}}}function B2(v,y,D){D.props=ts(v.type,v.memoizedProps),D.state=v.memoizedState;try{D.componentWillUnmount()}catch(L){or(v,y,L)}}function kf(v,y){try{var D=v.ref;if(D!==null){var L=v.stateNode;switch(v.tag){case 26:case 27:case 5:var V=f0(L);break;default:V=L}typeof D=="function"?v.refCleanup=D(V):D.current=V}}catch(J){or(v,y,J)}}function oi(v,y){var D=v.ref,L=v.refCleanup;if(D!==null)if(typeof L=="function")try{L()}catch(V){or(v,y,V)}finally{v.refCleanup=null,v=v.alternate,v!=null&&(v.refCleanup=null)}else if(typeof D=="function")try{D(null)}catch(V){or(v,y,V)}else D.current=null}function Jd(v){var y=v.type,D=v.memoizedProps,L=v.stateNode;try{U5(L,y,D,v)}catch(V){or(v,v.return,V)}}function mg(v,y,D){try{kg(v.stateNode,v.type,D,y,v)}catch(L){or(v,v.return,L)}}function pg(v){return v.tag===5||v.tag===3||(ro?v.tag===26:!1)||(Da?v.tag===27:!1)||v.tag===4}function bp(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||pg(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&(!Da||v.tag!==27)&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function Sp(v,y,D){var L=v.tag;if(L===5||L===6)v=v.stateNode,y?Pg(D,v,y):H2(D,v);else if(!(L===4||Da&&L===27)&&(v=v.child,v!==null))for(Sp(v,y,D),v=v.sibling;v!==null;)Sp(v,y,D),v=v.sibling}function e0(v,y,D){var L=v.tag;if(L===5||L===6)v=v.stateNode,y?Ig(D,v,y):Lg(D,v);else if(!(L===4||Da&&L===27)&&(v=v.child,v!==null))for(e0(v,y,D),v=v.sibling;v!==null;)e0(v,y,D),v=v.sibling}function O2(v,y,D){v=v.containerInfo;try{qg(v,D)}catch(L){or(y,y.return,L)}}function t0(v,y){for(jc(v.containerInfo),Ei=y;Ei!==null;)if(v=Ei,y=v.child,(v.subtreeFlags&1028)!==0&&y!==null)y.return=v,Ei=y;else for(;Ei!==null;){v=Ei;var D=v.alternate;switch(y=v.flags,v.tag){case 0:break;case 11:case 15:break;case 1:if((y&1024)!==0&&D!==null){y=void 0;var L=v,V=D.memoizedProps;D=D.memoizedState;var J=L.stateNode;try{var Ee=ts(L.type,V,L.elementType===L.type);y=J.getSnapshotBeforeUpdate(Ee,D),J.__reactInternalSnapshotBeforeUpdate=y}catch(qe){or(L,L.return,qe)}}break;case 3:(y&1024)!==0&&Ca&&jp(v.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((y&1024)!==0)throw Error(i(163))}if(y=v.sibling,y!==null){y.return=v.return,Ei=y;break}Ei=v.return}return Ee=Jf,Jf=!1,Ee}function wp(v,y,D){var L=D.flags;switch(D.tag){case 0:case 11:case 15:Il(v,D),L&4&&Nh(5,D);break;case 1:if(Il(v,D),L&4)if(v=D.stateNode,y===null)try{v.componentDidMount()}catch(qe){or(D,D.return,qe)}else{var V=ts(D.type,y.memoizedProps);y=y.memoizedState;try{v.componentDidUpdate(V,y,v.__reactInternalSnapshotBeforeUpdate)}catch(qe){or(D,D.return,qe)}}L&64&&R2(D),L&512&&kf(D,D.return);break;case 3:if(Il(v,D),L&64&&(L=D.updateQueue,L!==null)){if(v=null,D.child!==null)switch(D.child.tag){case 27:case 5:v=f0(D.child.stateNode);break;case 1:v=D.child.stateNode}try{Pe(L,v)}catch(qe){or(D,D.return,qe)}}break;case 26:if(ro){Il(v,D),L&512&&kf(D,D.return);break}case 27:case 5:Il(v,D),y===null&&L&4&&Jd(D),L&512&&kf(D,D.return);break;case 12:Il(v,D);break;case 13:Il(v,D),L&4&&Tc(v,D);break;case 22:if(V=D.memoizedState!==null||ia,!V){y=y!==null&&y.memoizedState!==null||gi;var J=ia,Ee=gi;ia=V,(gi=y)&&!Ee?Dc(v,D,(D.subtreeFlags&8772)!==0):Il(v,D),ia=J,gi=Ee}L&512&&(D.memoizedProps.mode==="manual"?kf(D,D.return):oi(D,D.return));break;default:Il(v,D)}}function n0(v){var y=v.alternate;y!==null&&(v.alternate=null,n0(y)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(y=v.stateNode,y!==null&&Ug(y)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function Js(v,y,D){for(D=D.child;D!==null;)Ap(v,y,D),D=D.sibling}function Ap(v,y,D){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(v0,D)}catch{}switch(D.tag){case 26:if(ro){gi||oi(D,y),Js(v,y,D),D.memoizedState?Kg(D.memoizedState):D.stateNode&&ex(D.stateNode);break}case 27:if(Da){gi||oi(D,y);var L=zi,V=Ds;zi=D.stateNode,Js(v,y,D),ob(D.stateNode),zi=L,Ds=V;break}case 5:gi||oi(D,y);case 6:if(Ca){if(L=zi,V=Ds,zi=null,Js(v,y,D),zi=L,Ds=V,zi!==null)if(Ds)try{Ri(zi,D.stateNode)}catch(J){or(D,y,J)}else try{ss(zi,D.stateNode)}catch(J){or(D,y,J)}}else Js(v,y,D);break;case 18:Ca&&zi!==null&&(Ds?Wg(zi,D.stateNode):nb(zi,D.stateNode));break;case 4:Ca?(L=zi,V=Ds,zi=D.stateNode.containerInfo,Ds=!0,Js(v,y,D),zi=L,Ds=V):(to&&O2(D.stateNode,D,Vp()),Js(v,y,D));break;case 0:case 11:case 14:case 15:gi||Nc(2,D,y),gi||Nc(4,D,y),Js(v,y,D);break;case 1:gi||(oi(D,y),L=D.stateNode,typeof L.componentWillUnmount=="function"&&B2(D,y,L)),Js(v,y,D);break;case 21:Js(v,y,D);break;case 22:gi||oi(D,y),gi=(L=gi)||D.memoizedState!==null,Js(v,y,D),gi=L;break;default:Js(v,y,D)}}function Tc(v,y){if(as&&y.memoizedState===null&&(v=y.alternate,v!==null&&(v=v.memoizedState,v!==null&&(v=v.dehydrated,v!==null))))try{$p(v)}catch(D){or(y,y.return,D)}}function r0(v){switch(v.tag){case 13:case 19:var y=v.stateNode;return y===null&&(y=v.stateNode=new w0),y;case 22:return v=v.stateNode,y=v._retryCache,y===null&&(y=v._retryCache=new w0),y;default:throw Error(i(435,v.tag))}}function Th(v,y){var D=r0(v);y.forEach(function(L){var V=bg.bind(null,v,L);D.has(L)||(D.add(L),L.then(V,V))})}function ns(v,y){var D=y.deletions;if(D!==null)for(var L=0;L<D.length;L++){var V=D[L],J=v,Ee=y;if(Ca){var qe=Ee;e:for(;qe!==null;){switch(qe.tag){case 27:case 5:zi=qe.stateNode,Ds=!1;break e;case 3:zi=qe.stateNode.containerInfo,Ds=!0;break e;case 4:zi=qe.stateNode.containerInfo,Ds=!0;break e}qe=qe.return}if(zi===null)throw Error(i(160));Ap(J,Ee,V),zi=null,Ds=!1}else Ap(J,Ee,V);J=V.alternate,J!==null&&(J.return=null),V.return=null}if(y.subtreeFlags&13878)for(y=y.child;y!==null;)Cc(y,v),y=y.sibling}function Cc(v,y){var D=v.alternate,L=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:ns(y,v),ws(v),L&4&&(Nc(3,v,v.return),Nh(3,v),Nc(5,v,v.return));break;case 1:ns(y,v),ws(v),L&512&&(gi||D===null||oi(D,D.return)),L&64&&ia&&(v=v.updateQueue,v!==null&&(L=v.callbacks,L!==null&&(D=v.shared.hiddenCallbacks,v.shared.hiddenCallbacks=D===null?L:D.concat(L))));break;case 26:if(ro){var V=os;ns(y,v),ws(v),L&512&&(gi||D===null||oi(D,D.return)),L&4&&(L=D!==null?D.memoizedState:null,y=v.memoizedState,D===null?y===null?v.stateNode===null?v.stateNode=Qg(V,v.type,v.memoizedProps,v):Jg(V,v.type,v.stateNode):v.stateNode=Zg(V,y,v.memoizedProps):L!==y?(L===null?D.stateNode!==null&&ex(D.stateNode):Kg(L),y===null?Jg(V,v.type,v.stateNode):Zg(V,y,v.memoizedProps)):y===null&&v.stateNode!==null&&mg(v,v.memoizedProps,D.memoizedProps));break}case 27:if(Da&&L&4&&v.alternate===null){V=v.stateNode;var J=v.memoizedProps;try{I5(V),P5(v.type,J,V,v)}catch(Ut){or(v,v.return,Ut)}}case 5:if(ns(y,v),ws(v),L&512&&(gi||D===null||oi(D,D.return)),Ca){if(v.flags&32){y=v.stateNode;try{jh(y)}catch(Ut){or(v,v.return,Ut)}}L&4&&v.stateNode!=null&&(y=v.memoizedProps,mg(v,y,D!==null?D.memoizedProps:y)),L&1024&&(Zc=!0)}break;case 6:if(ns(y,v),ws(v),L&4&&Ca){if(v.stateNode===null)throw Error(i(162));L=v.memoizedProps,D=D!==null?D.memoizedProps:L,y=v.stateNode;try{q2(y,D,L)}catch(Ut){or(v,v.return,Ut)}}break;case 3:if(ro?(tx(),V=os,os=Xp(y.containerInfo),ns(y,v),os=V):ns(y,v),ws(v),L&4){if(Ca&&as&&D!==null&&D.memoizedState.isDehydrated)try{Gp(y.containerInfo)}catch(Ut){or(v,v.return,Ut)}if(to){L=y.containerInfo,D=y.pendingChildren;try{qg(L,D)}catch(Ut){or(v,v.return,Ut)}}}Zc&&(Zc=!1,vg(v));break;case 4:ro?(D=os,os=Xp(v.stateNode.containerInfo),ns(y,v),ws(v),os=D):(ns(y,v),ws(v)),L&4&&to&&O2(v.stateNode,v,v.stateNode.pendingChildren);break;case 12:ns(y,v),ws(v);break;case 13:ns(y,v),ws(v),v.child.flags&8192&&v.memoizedState!==null!=(D!==null&&D.memoizedState!==null)&&(Jl=Ra()),L&4&&(L=v.updateQueue,L!==null&&(v.updateQueue=null,Th(v,L)));break;case 22:L&512&&(gi||D===null||oi(D,D.return)),V=v.memoizedState!==null;var Ee=D!==null&&D.memoizedState!==null,qe=ia,it=gi;if(ia=qe||V,gi=it||Ee,ns(y,v),gi=it,ia=qe,ws(v),y=v.stateNode,y._current=v,y._visibility&=-3,y._visibility|=y._pendingVisibility&2,L&8192&&(y._visibility=V?y._visibility&-2:y._visibility|1,V&&(y=ia||gi,D===null||Ee||y||i0(v)),Ca&&(v.memoizedProps===null||v.memoizedProps.mode!=="manual"))){e:if(D=null,Ca)for(y=v;;){if(y.tag===5||ro&&y.tag===26||Da&&y.tag===27){if(D===null){Ee=D=y;try{J=Ee.stateNode,V?Vh(J):jg(Ee.stateNode,Ee.memoizedProps)}catch(Ut){or(Ee,Ee.return,Ut)}}}else if(y.tag===6){if(D===null){Ee=y;try{var At=Ee.stateNode;V?Pp(At):Iu(At,Ee.memoizedProps)}catch(Ut){or(Ee,Ee.return,Ut)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===v)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===v)break e;for(;y.sibling===null;){if(y.return===null||y.return===v)break e;D===y&&(D=null),y=y.return}D===y&&(D=null),y.sibling.return=y.return,y=y.sibling}}L&4&&(L=v.updateQueue,L!==null&&(D=L.retryQueue,D!==null&&(L.retryQueue=null,Th(v,D))));break;case 19:ns(y,v),ws(v),L&4&&(L=v.updateQueue,L!==null&&(v.updateQueue=null,Th(v,L)));break;case 21:break;default:ns(y,v),ws(v)}}function ws(v){var y=v.flags;if(y&2){try{if(Ca&&(!Da||v.tag!==27)){e:{for(var D=v.return;D!==null;){if(pg(D)){var L=D;break e}D=D.return}throw Error(i(160))}switch(L.tag){case 27:if(Da){var V=L.stateNode,J=bp(v);e0(v,J,V);break}case 5:var Ee=L.stateNode;L.flags&32&&(jh(Ee),L.flags&=-33);var qe=bp(v);e0(v,qe,Ee);break;case 3:case 4:var it=L.stateNode.containerInfo,At=bp(v);Sp(v,At,it);break;default:throw Error(i(161))}}}catch(Ut){or(v,v.return,Ut)}v.flags&=-3}y&4096&&(v.flags&=-4097)}function vg(v){if(v.subtreeFlags&1024)for(v=v.child;v!==null;){var y=v;vg(y),y.tag===5&&y.flags&1024&&Pr(y.stateNode),v=v.sibling}}function Il(v,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)wp(v,y.alternate,y),y=y.sibling}function i0(v){for(v=v.child;v!==null;){var y=v;switch(y.tag){case 0:case 11:case 14:case 15:Nc(4,y,y.return),i0(y);break;case 1:oi(y,y.return);var D=y.stateNode;typeof D.componentWillUnmount=="function"&&B2(y,y.return,D),i0(y);break;case 26:case 27:case 5:oi(y,y.return),i0(y);break;case 22:oi(y,y.return),y.memoizedState===null&&i0(y);break;default:i0(y)}v=v.sibling}}function Dc(v,y,D){for(D=D&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var L=y.alternate,V=v,J=y,Ee=J.flags;switch(J.tag){case 0:case 11:case 15:Dc(V,J,D),Nh(4,J);break;case 1:if(Dc(V,J,D),L=J,V=L.stateNode,typeof V.componentDidMount=="function")try{V.componentDidMount()}catch(At){or(L,L.return,At)}if(L=J,V=L.updateQueue,V!==null){var qe=L.stateNode;try{var it=V.shared.hiddenCallbacks;if(it!==null)for(V.shared.hiddenCallbacks=null,V=0;V<it.length;V++)me(it[V],qe)}catch(At){or(L,L.return,At)}}D&&Ee&64&&R2(J),kf(J,J.return);break;case 26:case 27:case 5:Dc(V,J,D),D&&L===null&&Ee&4&&Jd(J),kf(J,J.return);break;case 12:Dc(V,J,D);break;case 13:Dc(V,J,D),D&&Ee&4&&Tc(V,J);break;case 22:J.memoizedState===null&&Dc(V,J,D),kf(J,J.return);break;default:Dc(V,J,D)}y=y.sibling}}function gg(v,y){var D=null;v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),v=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(v=y.memoizedState.cachePool.pool),v!==D&&(v!=null&&v.refCount++,D!=null&&Yd(D))}function Mp(v,y){v=null,y.alternate!==null&&(v=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==v&&(y.refCount++,v!=null&&Yd(v))}function Cu(v,y,D,L){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)_p(v,y,D,L),y=y.sibling}function _p(v,y,D,L){var V=y.flags;switch(y.tag){case 0:case 11:case 15:Cu(v,y,D,L),V&2048&&Nh(9,y);break;case 3:Cu(v,y,D,L),V&2048&&(v=null,y.alternate!==null&&(v=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==v&&(y.refCount++,v!=null&&Yd(v)));break;case 12:if(V&2048){Cu(v,y,D,L),v=y.stateNode;try{var J=y.memoizedProps,Ee=J.id,qe=J.onPostCommit;typeof qe=="function"&&qe(Ee,y.alternate===null?"mount":"update",v.passiveEffectDuration,-0)}catch(it){or(y,y.return,it)}}else Cu(v,y,D,L);break;case 23:break;case 22:J=y.stateNode,y.memoizedState!==null?J._visibility&4?Cu(v,y,D,L):Rc(v,y):J._visibility&4?Cu(v,y,D,L):(J._visibility|=4,Ha(v,y,D,L,(y.subtreeFlags&10256)!==0)),V&2048&&gg(y.alternate,y);break;case 24:Cu(v,y,D,L),V&2048&&Mp(y.alternate,y);break;default:Cu(v,y,D,L)}}function Ha(v,y,D,L,V){for(V=V&&(y.subtreeFlags&10256)!==0,y=y.child;y!==null;){var J=v,Ee=y,qe=D,it=L,At=Ee.flags;switch(Ee.tag){case 0:case 11:case 15:Ha(J,Ee,qe,it,V),Nh(8,Ee);break;case 23:break;case 22:var Ut=Ee.stateNode;Ee.memoizedState!==null?Ut._visibility&4?Ha(J,Ee,qe,it,V):Rc(J,Ee):(Ut._visibility|=4,Ha(J,Ee,qe,it,V)),V&&At&2048&&gg(Ee.alternate,Ee);break;case 24:Ha(J,Ee,qe,it,V),V&&At&2048&&Mp(Ee.alternate,Ee);break;default:Ha(J,Ee,qe,it,V)}y=y.sibling}}function Rc(v,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var D=v,L=y,V=L.flags;switch(L.tag){case 22:Rc(D,L),V&2048&&gg(L.alternate,L);break;case 24:Rc(D,L),V&2048&&Mp(L.alternate,L);break;default:Rc(D,L)}y=y.sibling}}function fa(v){if(v.subtreeFlags&ed)for(v=v.child;v!==null;)If(v),v=v.sibling}function If(v){switch(v.tag){case 26:fa(v),v.flags&ed&&(v.memoizedState!==null?rx(os,v.memoizedState,v.memoizedProps):Si(v.type,v.memoizedProps));break;case 5:fa(v),v.flags&ed&&Si(v.type,v.memoizedProps);break;case 3:case 4:if(ro){var y=os;os=Xp(v.stateNode.containerInfo),fa(v),os=y}else fa(v);break;case 22:v.memoizedState===null&&(y=v.alternate,y!==null&&y.memoizedState!==null?(y=ed,ed=16777216,fa(v),ed=y):fa(v));break;default:fa(v)}}function Ep(v){var y=v.alternate;if(y!==null&&(v=y.child,v!==null)){y.child=null;do y=v.sibling,v.sibling=null,v=y;while(v!==null)}}function Bc(v){var y=v.deletions;if((v.flags&16)!==0){if(y!==null)for(var D=0;D<y.length;D++){var L=y[D];Ei=L,Oc(L,v)}Ep(v)}if(v.subtreeFlags&10256)for(v=v.child;v!==null;)Ch(v),v=v.sibling}function Ch(v){switch(v.tag){case 0:case 11:case 15:Bc(v),v.flags&2048&&Nc(9,v,v.return);break;case 3:Bc(v);break;case 12:Bc(v);break;case 22:var y=v.stateNode;v.memoizedState!==null&&y._visibility&4&&(v.return===null||v.return.tag!==13)?(y._visibility&=-5,a0(v)):Bc(v);break;default:Bc(v)}}function a0(v){var y=v.deletions;if((v.flags&16)!==0){if(y!==null)for(var D=0;D<y.length;D++){var L=y[D];Ei=L,Oc(L,v)}Ep(v)}for(v=v.child;v!==null;){switch(y=v,y.tag){case 0:case 11:case 15:Nc(8,y,y.return),a0(y);break;case 22:D=y.stateNode,D._visibility&4&&(D._visibility&=-5,a0(y));break;default:a0(y)}v=v.sibling}}function Oc(v,y){for(;Ei!==null;){var D=Ei;switch(D.tag){case 0:case 11:case 15:Nc(8,D,y);break;case 23:case 22:if(D.memoizedState!==null&&D.memoizedState.cachePool!==null){var L=D.memoizedState.cachePool.pool;L!=null&&L.refCount++}break;case 24:Yd(D.memoizedState.cache)}if(L=D.child,L!==null)L.return=D,Ei=L;else e:for(D=v;Ei!==null;){L=Ei;var V=L.sibling,J=L.return;if(n0(L),L===D){Ei=null;break e}if(V!==null){V.return=J,Ei=V;break e}Ei=J}}}function Np(v){var y=Og(v);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(i(364));return y}if(v=Wf(v),v===null)throw Error(i(362));return v.stateNode.current}function s0(v,y){var D=v.tag;switch(y.$$typeof){case rm:if(v.type===y.value)return!0;break;case iv:e:{for(y=y.value,v=[v,0],D=0;D<v.length;){var L=v[D++],V=L.tag,J=v[D++],Ee=y[J];if(V!==5&&V!==26&&V!==27||!Wl(L)){for(;Ee!=null&&s0(L,Ee);)J++,Ee=y[J];if(J===y.length){y=!0;break e}else for(L=L.child;L!==null;)v.push(L,J),L=L.sibling}}y=!1}return y;case av:if((D===5||D===26||D===27)&&z5(v.stateNode,y.value))return!0;break;case Or:if((D===5||D===6||D===26||D===27)&&(v=Ph(v),v!==null&&0<=v.indexOf(y.value)))return!0;break;case hr:if((D===5||D===26||D===27)&&(v=v.memoizedProps["data-testname"],typeof v=="string"&&v.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function zc(v){switch(v.$$typeof){case rm:return"<"+(s(v.value)||"Unknown")+">";case iv:return":has("+(zc(v)||"")+")";case av:return'[role="'+v.value+'"]';case Or:return'"'+v.value+'"';case hr:return'[data-testname="'+v.value+'"]';default:throw Error(i(365))}}function z2(v,y){var D=[];v=[v,0];for(var L=0;L<v.length;){var V=v[L++],J=V.tag,Ee=v[L++],qe=y[Ee];if(J!==5&&J!==26&&J!==27||!Wl(V)){for(;qe!=null&&s0(V,qe);)Ee++,qe=y[Ee];if(Ee===y.length)D.push(V);else for(V=V.child;V!==null;)v.push(V,Ee),V=V.sibling}}return D}function rs(v,y){if(!Xl)throw Error(i(363));v=Np(v),v=z2(v,y),y=[],v=Array.from(v);for(var D=0;D<v.length;){var L=v[D++],V=L.tag;if(V===5||V===26||V===27)Wl(L)||y.push(L.stateNode);else for(L=L.child;L!==null;)v.push(L),L=L.sibling}return y}function is(){if((cn&2)!==0&&Qn!==0)return Qn&-Qn;if(pn.T!==null){var v=Ts;return v!==0?v:Le()}return jo()}function Pl(){Rs===0&&(Rs=(Qn&536870912)===0||yr?z():536870912);var v=co.current;return v!==null&&(v.flags|=32),Rs}function qa(v,y,D){(v===rr&&jr===2||v.cancelPendingCommit!==null)&&(pl(v,0),ml(v,Qn,Rs,!1)),U(v,D),((cn&2)===0||v!==rr)&&(v===rr&&((cn&2)===0&&(wl|=D),mr===4&&ml(v,Qn,Rs,!1)),we(v))}function Dh(v,y,D){if((cn&6)!==0)throw Error(i(327));var L=!D&&(y&60)===0&&(y&v.expiredLanes)===0||T(v,y),V=L?Hl(v,y):jl(v,y,!0),J=L;do{if(V===0){fo&&!L&&ml(v,y,0,!1);break}else if(V===6)ml(v,y,0,!zr);else{if(D=v.current.alternate,J&&!U2(D)){V=jl(v,y,!1),J=!1;continue}if(V===2){if(J=y,v.errorRecoveryDisabledLanes&J)var Ee=0;else Ee=v.pendingLanes&-536870913,Ee=Ee!==0?Ee:Ee&536870912?536870912:0;if(Ee!==0){y=Ee;e:{var qe=v;V=A0;var it=as&&qe.current.memoizedState.isDehydrated;if(it&&(pl(qe,Ee).flags|=256),Ee=jl(qe,Ee,!1),Ee!==2){if(Gu&&!it){qe.errorRecoveryDisabledLanes|=J,wl|=J,V=4;break e}J=mo,mo=V,J!==null&&Du(J)}V=Ee}if(J=!1,V!==2)continue}}if(V===1){pl(v,0),ml(v,y,0,!0);break}e:{switch(L=v,V){case 0:case 1:throw Error(i(345));case 4:if((y&4194176)===y){ml(L,y,Rs,!zr);break e}break;case 2:mo=null;break;case 3:case 5:break;default:throw Error(i(329))}if(L.finishedWork=D,L.finishedLanes=y,(y&62914560)===y&&(J=Jl+300-Ra(),10<J)){if(ml(L,y,Rs,!zr),C(L,0)!==0)break e;L.timeoutHandle=Bg(Tp.bind(null,L,D,mo,Al,M0,y,Rs,wl,$u,zr,2,-0,0),J);break e}Tp(L,D,mo,Al,M0,y,Rs,wl,$u,zr,0,-0,0)}}break}while(!0);we(v)}function Du(v){mo===null?mo=v:mo.push.apply(mo,v)}function Tp(v,y,D,L,V,J,Ee,qe,it,At,Ut,Vt,$t){var Cn=y.subtreeFlags;if((Cn&8192||(Cn&16785408)===16785408)&&(no(),If(y),y=Lp(),y!==null)){v.cancelPendingCommit=y(Qr.bind(null,v,D,L,V,Ee,qe,it,1,Vt,$t)),ml(v,J,Ee,!At);return}Qr(v,D,L,V,Ee,qe,it,Ut,Vt,$t)}function U2(v){for(var y=v;;){var D=y.tag;if((D===0||D===11||D===15)&&y.flags&16384&&(D=y.updateQueue,D!==null&&(D=D.stores,D!==null)))for(var L=0;L<D.length;L++){var V=D[L],J=V.getSnapshot;V=V.value;try{if(!io(J(),V))return!1}catch{return!1}}if(D=y.child,y.subtreeFlags&16384&&D!==null)D.return=y,y=D;else{if(y===v)break;for(;y.sibling===null;){if(y.return===null||y.return===v)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function ml(v,y,D,L){y&=~Za,y&=~wl,v.suspendedLanes|=y,v.pingedLanes&=~y,L&&(v.warmLanes|=y),L=v.expirationTimes;for(var V=y;0<V;){var J=31-Es(V),Ee=1<<J;L[J]=-1,V&=~Ee}D!==0&&q(v,D,y)}function xg(){return(cn&6)===0?(ie(0),!1):!0}function As(){if(Bn!==null){if(jr===0)var v=Bn.return;else v=Bn,_i=Yc=null,dt(v),Zl=null,qo=0,v=Bn;for(;v!==null;)hg(v.alternate,v),v=v.return;Bn=null}}function pl(v,y){v.finishedWork=null,v.finishedLanes=0;var D=v.timeoutHandle;D!==Xf&&(v.timeoutHandle=Xf,Ih(D)),D=v.cancelPendingCommit,D!==null&&(v.cancelPendingCommit=null,D()),As(),rr=v,Bn=D=Ga(v.current,null),Qn=y,jr=0,Ui=null,zr=!1,fo=T(v,y),Gu=!1,$u=Rs=Za=wl=ho=mr=0,mo=A0=null,M0=!1,(y&8)!==0&&(y|=y&32);var L=v.entangledLanes;if(L!==0)for(v=v.entanglements,L&=y;0<L;){var V=31-Es(L),J=1<<V;y|=v[V],L&=~J}return Sl=y,ve(),D}function Pf(v,y){Hn=null,pn.H=br,y===kr?(y=kt(),jr=3):y===ox?(y=kt(),jr=4):jr=y===mb?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Ui=y,Bn===null&&(mr=1,Ll(v,H(y,v.current)))}function Rh(){var v=co.current;return v===null?!0:(Qn&4194176)===Qn?Go===null:(Qn&62914560)===Qn||(Qn&536870912)!==0?v===Go:!1}function o0(){var v=pn.H;return pn.H=br,v===null?br:v}function eo(){var v=pn.A;return pn.A=rv,v}function Ms(){mr=4,zr||(Qn&4194176)!==Qn&&co.current!==null||(fo=!0),(ho&134217727)===0&&(wl&134217727)===0||rr===null||ml(rr,Qn,Rs,!1)}function jl(v,y,D){var L=cn;cn|=2;var V=o0(),J=eo();(rr!==v||Qn!==y)&&(Al=null,pl(v,y)),y=!1;var Ee=mr;e:do try{if(jr!==0&&Bn!==null){var qe=Bn,it=Ui;switch(jr){case 8:As(),Ee=6;break e;case 3:case 2:case 6:co.current===null&&(y=!0);var At=jr;if(jr=0,Ui=null,Uc(v,qe,it,At),D&&fo){Ee=0;break e}break;default:At=jr,jr=0,Ui=null,Uc(v,qe,it,At)}}Vl(),Ee=mr;break}catch(Ut){Pf(v,Ut)}while(!0);return y&&v.shellSuspendCounter++,_i=Yc=null,cn=L,pn.H=V,pn.A=J,Bn===null&&(rr=null,Qn=0,ve()),Ee}function Vl(){for(;Bn!==null;)yg(Bn)}function Hl(v,y){var D=cn;cn|=2;var L=o0(),V=eo();rr!==v||Qn!==y?(Al=null,xi=Ra()+500,pl(v,y)):fo=T(v,y);e:do try{if(jr!==0&&Bn!==null){y=Bn;var J=Ui;t:switch(jr){case 1:jr=0,Ui=null,Uc(v,y,J,1);break;case 2:if(tt(J)){jr=0,Ui=null,Cp(y);break}y=function(){jr===2&&rr===v&&(jr=7),we(v)},J.then(y,y);break e;case 3:jr=7;break e;case 4:jr=5;break e;case 7:tt(J)?(jr=0,Ui=null,Cp(y)):(jr=0,Ui=null,Uc(v,y,J,7));break;case 5:var Ee=null;switch(Bn.tag){case 26:Ee=Bn.memoizedState;case 5:case 27:var qe=Bn,it=qe.type,At=qe.pendingProps;if(Ee?nx(Ee):ku(it,At)){jr=0,Ui=null;var Ut=qe.sibling;if(Ut!==null)Bn=Ut;else{var Vt=qe.return;Vt!==null?(Bn=Vt,Bh(Vt)):Bn=null}break t}}jr=0,Ui=null,Uc(v,y,J,5);break;case 6:jr=0,Ui=null,Uc(v,y,J,6);break;case 8:As(),mr=6;break e;default:throw Error(i(462))}}Ru();break}catch($t){Pf(v,$t)}while(!0);return _i=Yc=null,pn.H=L,pn.A=V,cn=D,Bn!==null?0:(rr=null,Qn=0,ve(),mr)}function Ru(){for(;Bn!==null&&!ub();)yg(Bn)}function yg(v){var y=N2(v.alternate,v,Sl);v.memoizedProps=v.pendingProps,y===null?Bh(v):Bn=y}function Cp(v){var y=v,D=y.alternate;switch(y.tag){case 15:case 0:y=Ah(D,y,y.pendingProps,y.type,void 0,Qn);break;case 11:y=Ah(D,y,y.pendingProps,y.type.render,y.ref,Qn);break;case 5:dt(y);default:hg(D,y),y=Bn=zu(y,Sl),y=N2(D,y,Sl)}v.memoizedProps=v.pendingProps,y===null?Bh(v):Bn=y}function Uc(v,y,D,L){_i=Yc=null,dt(y),Zl=null,qo=0;var V=y.return;try{if(pp(v,V,y,D,Qn)){mr=1,Ll(v,H(D,v.current)),Bn=null;return}}catch(J){if(V!==null)throw Bn=V,J;mr=1,Ll(v,H(D,v.current)),Bn=null;return}y.flags&32768?(yr||L===1?v=!0:fo||(Qn&536870912)!==0?v=!1:(zr=v=!0,(L===2||L===3||L===6)&&(L=co.current,L!==null&&L.tag===13&&(L.flags|=16384))),da(y,v)):Bh(y)}function Bh(v){var y=v;do{if((y.flags&32768)!==0){da(y,zr);return}v=y.return;var D=C2(y.alternate,y,Sl);if(D!==null){Bn=D;return}if(y=y.sibling,y!==null){Bn=y;return}Bn=y=v}while(y!==null);mr===0&&(mr=5)}function da(v,y){do{var D=D2(v.alternate,v);if(D!==null){D.flags&=32767,Bn=D;return}if(D=v.return,D!==null&&(D.flags|=32768,D.subtreeFlags=0,D.deletions=null),!y&&(v=v.sibling,v!==null)){Bn=v;return}Bn=v=D}while(v!==null);mr=6,Bn=null}function Qr(v,y,D,L,V,J,Ee,qe,it,At){var Ut=pn.T,Vt=ra();try{$a(2),pn.T=null,cr(v,y,D,L,Vt,V,J,Ee,qe,it,At)}finally{pn.T=Ut,$a(Vt)}}function cr(v,y,D,L,V,J,Ee,qe){do ha();while(Xu!==null);if((cn&6)!==0)throw Error(i(327));var it=v.finishedWork;if(L=v.finishedLanes,it===null)return null;if(v.finishedWork=null,v.finishedLanes=0,it===v.current)throw Error(i(177));v.callbackNode=null,v.callbackPriority=0,v.cancelPendingCommit=null;var At=it.lanes|it.childLanes;if(At|=x0,I(v,L,At,J,Ee,qe),v===rr&&(Bn=rr=null,Qn=0),(it.subtreeFlags&10256)===0&&(it.flags&10256)===0||Xo||(Xo=!0,sv=At,nd=D,Oh(Yp,function(){return ha(),null})),D=(it.flags&15990)!==0,(it.subtreeFlags&15990)!==0||D?(D=pn.T,pn.T=null,J=ra(),$a(2),Ee=cn,cn|=4,t0(v,it),Cc(it,v),Dg(v.containerInfo),v.current=it,wp(v,it.alternate,it),cb(),cn=Ee,$a(J),pn.T=D):v.current=it,Xo?(Xo=!1,Xu=v,td=L):Bu(v,At),At=v.pendingLanes,At===0&&(po=null),k(it.stateNode),we(v),y!==null)for(V=v.onRecoverableError,it=0;it<y.length;it++)At=y[it],V(At.value,{componentStack:At.stack});return(td&3)!==0&&ha(),At=v.pendingLanes,(L&4194218)!==0&&(At&42)!==0?v===ls?rd++:(rd=0,ls=v):rd=0,ie(0),null}function Bu(v,y){(v.pooledCacheLanes&=y)===0&&(y=v.pooledCache,y!=null&&(v.pooledCache=null,Yd(y)))}function ha(){if(Xu!==null){var v=Xu,y=sv;sv=0;var D=$(td),L=32>D?32:D;D=pn.T;var V=ra();try{if($a(L),pn.T=null,Xu===null)var J=!1;else{L=nd,nd=null;var Ee=Xu,qe=td;if(Xu=null,td=0,(cn&6)!==0)throw Error(i(331));var it=cn;if(cn|=4,Ch(Ee.current),_p(Ee,Ee.current,qe,L),cn=it,ie(0,!1),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(v0,Ee)}catch{}J=!0}return J}finally{$a(V),pn.T=D,Bu(v,y)}}return!1}function Dp(v,y,D){y=H(D,y),y=hl(v.stateNode,y,2),v=lt(v,y,2),v!==null&&(U(v,2),we(v))}function or(v,y,D){if(v.tag===3)Dp(v,v,D);else for(;y!==null;){if(y.tag===3){Dp(y,v,D);break}else if(y.tag===1){var L=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(po===null||!po.has(L))){v=H(D,v),D=kl(2),L=lt(y,D,2),L!==null&&(na(D,L,y,v),U(L,2),we(L));break}}y=y.return}}function Rp(v,y,D){var L=v.pingCache;if(L===null){L=v.pingCache=new lr;var V=new Set;L.set(y,V)}else V=L.get(y),V===void 0&&(V=new Set,L.set(y,V));V.has(D)||(Gu=!0,V.add(D),v=F2.bind(null,v,y,D),y.then(v,v))}function F2(v,y,D){var L=v.pingCache;L!==null&&L.delete(y),v.pingedLanes|=v.suspendedLanes&D,v.warmLanes&=~D,rr===v&&(Qn&D)===D&&(mr===4||mr===3&&(Qn&62914560)===Qn&&300>Ra()-Jl?(cn&2)===0&&pl(v,0):Za|=D,$u===Qn&&($u=0)),we(v)}function jf(v,y){y===0&&(y=R()),v=Be(v,y),v!==null&&(U(v,y),we(v))}function Vf(v){var y=v.memoizedState,D=0;y!==null&&(D=y.retryLane),jf(v,D)}function bg(v,y){var D=0;switch(v.tag){case 13:var L=v.stateNode,V=v.memoizedState;V!==null&&(D=V.retryLane);break;case 19:L=v.stateNode;break;case 22:L=v.stateNode._retryCache;break;default:throw Error(i(314))}L!==null&&L.delete(y),jf(v,D)}function Oh(v,y){return p0(v,y)}function Sg(v,y,D,L){this.tag=v,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(v){return v=v.prototype,!(!v||!v.isReactComponent)}function Ga(v,y){var D=v.alternate;return D===null?(D=t(v.tag,y,v.key,v.mode),D.elementType=v.elementType,D.type=v.type,D.stateNode=v.stateNode,D.alternate=v,v.alternate=D):(D.pendingProps=y,D.type=v.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=v.flags&31457280,D.childLanes=v.childLanes,D.lanes=v.lanes,D.child=v.child,D.memoizedProps=v.memoizedProps,D.memoizedState=v.memoizedState,D.updateQueue=v.updateQueue,y=v.dependencies,D.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},D.sibling=v.sibling,D.index=v.index,D.ref=v.ref,D.refCleanup=v.refCleanup,D}function zu(v,y){v.flags&=31457282;var D=v.alternate;return D===null?(v.childLanes=0,v.lanes=y,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=D.childLanes,v.lanes=D.lanes,v.child=D.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=D.memoizedProps,v.memoizedState=D.memoizedState,v.updateQueue=D.updateQueue,v.type=D.type,y=D.dependencies,v.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),v}function Po(v,y,D,L,V,J){var Ee=0;if(L=v,typeof v=="function")Ou(v)&&(Ee=1);else if(typeof v=="string")Ee=ro&&Da?Yg(v,D,pa.current)?26:h0(v)?27:5:ro?Yg(v,D,pa.current)?26:5:Da&&h0(v)?27:5;else e:switch(v){case u0:return Uu(D.children,V,J,y);case Eg:Ee=8,V|=24;break;case Ng:return v=t(12,D,y,V|2),v.elementType=Ng,v.lanes=J,v;case Op:return v=t(13,D,y,V),v.elementType=Op,v.lanes=J,v;case kc:return v=t(19,D,y,V),v.elementType=kc,v.lanes=J,v;case Fh:return Bp(D,V,J,y);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case I2:case ql:Ee=10;break e;case Lc:Ee=9;break e;case c0:Ee=11;break e;case Uh:Ee=14;break e;case gl:Ee=16,L=null;break e}Ee=29,D=Error(i(130,v===null?"null":typeof v,"")),L=null}return y=t(Ee,D,y,V),y.elementType=v,y.type=L,y.lanes=J,y}function Uu(v,y,D,L){return v=t(7,v,L,y),v.lanes=D,v}function Bp(v,y,D,L){v=t(22,v,L,y),v.elementType=Fh,v.lanes=D;var V={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var J=V._current;if(J===null)throw Error(i(456));if((V._pendingVisibility&2)===0){var Ee=Be(J,2);Ee!==null&&(V._pendingVisibility|=2,qa(Ee,J,2))}},attach:function(){var J=V._current;if(J===null)throw Error(i(456));if((V._pendingVisibility&2)!==0){var Ee=Be(J,2);Ee!==null&&(V._pendingVisibility&=-3,qa(Ee,J,2))}}};return v.stateNode=V,v}function Fc(v,y,D){return v=t(6,v,null,y),v.lanes=D,v}function l0(v,y,D){return y=t(4,v.children!==null?v.children:[],v.key,y),y.lanes=D,y.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},y}function Hf(v,y,D,L,V,J,Ee,qe){this.tag=1,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Xf,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=L,this.onUncaughtError=V,this.onCaughtError=J,this.onRecoverableError=Ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=qe,this.incompleteTransitions=new Map}function ma(v,y,D,L,V,J,Ee,qe,it,At,Ut,Vt){return v=new Hf(v,y,D,Ee,qe,it,At,Vt),y=1,J===!0&&(y|=24),J=t(3,null,null,y),v.current=J,J.stateNode=v,y=gp(),y.refCount++,v.pooledCache=y,y.refCount++,J.memoizedState={element:L,isDehydrated:D,cache:y},Xe(J),v}function zh(v){return v?(v=Yf,v):Yf}function wg(v){var y=v._reactInternals;if(y===void 0)throw typeof v.render=="function"?Error(i(188)):(v=Object.keys(v).join(","),Error(i(268,v)));return v=p(y),v=v!==null?g(v):null,v===null?null:f0(v.stateNode)}function L2(v,y,D,L,V,J){V=zh(V),L.context===null?L.context=V:L.pendingContext=V,L=st(y),L.payload={element:D},J=J===void 0?null:J,J!==null&&(L.callback=J),D=lt(v,L,y),D!==null&&(qa(D,v,y),Ke(D,v,y))}function k2(v,y){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var D=v.retryLane;v.retryLane=D!==0&&D<y?D:y}}function Ag(v,y){k2(v,y),(v=v.alternate)&&k2(v,y)}var un={},Mg=w1(),Ta=JP(),qf=Object.assign,_g=Symbol.for("react.element"),Fu=Symbol.for("react.transitional.element"),vl=Symbol.for("react.portal"),u0=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),I2=Symbol.for("react.provider"),Lc=Symbol.for("react.consumer"),ql=Symbol.for("react.context"),c0=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),kc=Symbol.for("react.suspense_list"),Uh=Symbol.for("react.memo"),gl=Symbol.for("react.lazy"),Fh=Symbol.for("react.offscreen"),P2=Symbol.for("react.memo_cache_sentinel"),Tg=Symbol.iterator,Gf=Symbol.for("react.client.reference"),pn=Mg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zp,Cg,Ic=!1,Pc=Array.isArray,Up=e.rendererVersion,Lh=e.rendererPackageName,kh=e.extraDevToolsConfig,f0=e.getPublicInstance,$f=e.getRootHostContext,j2=e.getChildHostContext,jc=e.prepareForCommit,Dg=e.resetAfterCommit,Rg=e.createInstance,Gl=e.appendInitialChild,Lu=e.finalizeInitialChildren,Vc=e.shouldSetTextContent,Fp=e.createTextInstance,Bg=e.scheduleTimeout,Ih=e.cancelTimeout,Xf=e.noTimeout,$l=e.isPrimaryRenderer;e.warnsIfNotActing;var Ca=e.supportsMutation,to=e.supportsPersistence,as=e.supportsHydration,Og=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var zg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var $a=e.setCurrentUpdatePriority,ra=e.getCurrentUpdatePriority,jo=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Hc=e.shouldAttemptEagerTransition,Ug=e.detachDeletedInstance;e.requestPostPaintCallback;var V2=e.maySuspendCommit,ku=e.preloadInstance,no=e.startSuspendingCommit,Si=e.suspendInstance,Lp=e.waitForCommitToBeReady,_s=e.NotPendingTransition,wn=e.HostTransitionContext,Pr=e.resetFormInstance;e.bindToConsole;var qi=e.supportsMicrotasks,kp=e.scheduleMicrotask,Xl=e.supportsTestSelectors,Wf=e.findFiberRoot,Ip=e.getBoundingRect,Ph=e.getTextContent,Wl=e.isHiddenSubtree,z5=e.matchAccessibilityRole,wi=e.setFocusIfFocusable,Fg=e.setupIntersectionObserver,Lg=e.appendChild,H2=e.appendChildToContainer,q2=e.commitTextUpdate,U5=e.commitMount,kg=e.commitUpdate,Ig=e.insertBefore,Pg=e.insertInContainerBefore,ss=e.removeChild,Ri=e.removeChildFromContainer,jh=e.resetTextContent,Vh=e.hideInstance,Pp=e.hideTextInstance,jg=e.unhideInstance,Iu=e.unhideTextInstance,jp=e.clearContainer,Vg=e.cloneInstance,Vp=e.createContainerChildSet,Hg=e.appendChildToContainerChildSet,G2=e.finalizeContainerChildren,qg=e.replaceContainerChildren,Gg=e.cloneHiddenInstance,$g=e.cloneHiddenTextInstance,Hp=e.isSuspenseInstancePending,Hh=e.isSuspenseInstanceFallback,$2=e.getSuspenseInstanceFallbackErrorDetails,F5=e.registerSuspenseInstanceRetry,X2=e.canHydrateFormStateMarker,W2=e.isFormStateMarkerMatching,Xg=e.getNextHydratableSibling,qp=e.getFirstHydratableChild,Y2=e.getFirstHydratableChildWithinContainer,Z2=e.getFirstHydratableChildWithinSuspenseInstance,K2=e.canHydrateInstance,Q2=e.canHydrateTextInstance,J2=e.canHydrateSuspenseInstance,L5=e.hydrateInstance,eb=e.hydrateTextInstance,d0=e.hydrateSuspenseInstance,tb=e.getNextHydratableInstanceAfterSuspenseInstance,Gp=e.commitHydratedContainer,$p=e.commitHydratedSuspenseInstance,nb=e.clearSuspenseBoundary,Wg=e.clearSuspenseBoundaryFromContainer,rb=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ib=e.validateHydratableInstance,ab=e.validateHydratableTextInstance,ro=e.supportsResources,Yg=e.isHostHoistableType,Xp=e.getHoistableRoot,Wp=e.getResource,Zg=e.acquireResource,Kg=e.releaseResource,Qg=e.hydrateHoistable,Jg=e.mountHoistable,ex=e.unmountHoistable,k5=e.createHoistableInstance,tx=e.prepareToCommitHoistables,sb=e.mayResourceSuspendCommit,nx=e.preloadResource,rx=e.suspendResource,Da=e.supportsSingletons,ix=e.resolveSingletonInstance,I5=e.clearSingleton,P5=e.acquireSingletonInstance,ob=e.releaseSingletonInstance,h0=e.isHostSingletonType,qh=[],Pu=-1,Yf={},Es=Math.clz32?Math.clz32:M,Gh=Math.log,lb=Math.LN2,m0=128,$h=4194304,p0=Ta.unstable_scheduleCallback,Xh=Ta.unstable_cancelCallback,ub=Ta.unstable_shouldYield,cb=Ta.unstable_requestPaint,Ra=Ta.unstable_now,ax=Ta.unstable_ImmediatePriority,fb=Ta.unstable_UserBlockingPriority,Yp=Ta.unstable_NormalPriority,Zp=Ta.unstable_IdlePriority,db=Ta.log,sx=Ta.unstable_setDisableYieldValue,v0=null,Ns=null,io=typeof Object.is=="function"?Object.is:Z,Kp=new WeakMap,li=[],Ai=0,Wh=null,Yh=0,ao=[],so=0,xl=null,Yl=1,Vo="",pa=A(null),Zh=A(null),yl=A(null),g0=A(null),Xa=null,Ba=null,yr=!1,oo=null,Ho=!1,Kh=Error(i(519)),lo=[],qc=0,x0=0,y0=null,Zf=null,Qh=!1,Jh=!1,bl=!1,Gc=0,em=null,Qp=0,Ts=0,$c=null,ju=!1,b0=!1,tm=Object.prototype.hasOwnProperty,kr=Error(i(460)),ox=Error(i(474)),Jp={then:function(){}},Kf=null,Zl=null,qo=0,Xc=ar(!0),lx=ar(!1),Kl=A(null),uo=A(0),co=A(null),Go=null,Gi=A(0),Ql=0,Hn=null,Er=null,Bi=null,$o=!1,ui=!1,Vu=!1,nm=0,Mi=0,S0=null,hb=0,ev=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},br={readContext:Na,use:ot,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn};br.useCacheRefresh=mn,br.useMemoCache=mn,br.useHostTransitionStatus=mn,br.useFormState=mn,br.useActionState=mn,br.useOptimistic=mn;var $i={readContext:Na,use:ot,useCallback:function(v,y){return at().memoizedState=[v,y===void 0?null:y],v},useContext:Na,useEffect:Ef,useImperativeHandle:function(v,y,D){D=D!=null?D.concat([v]):null,_f(4194308,4,Fo.bind(null,y,v),D)},useLayoutEffect:function(v,y){return _f(4194308,4,v,y)},useInsertionEffect:function(v,y){_f(4,2,v,y)},useMemo:function(v,y){var D=at();y=y===void 0?null:y;var L=v();if(Vu){P(!0);try{v()}finally{P(!1)}}return D.memoizedState=[L,y],L},useReducer:function(v,y,D){var L=at();if(D!==void 0){var V=D(y);if(Vu){P(!0);try{D(y)}finally{P(!1)}}}else V=y;return L.memoizedState=L.baseState=V,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:V},L.queue=v,v=v.dispatch=cl.bind(null,Hn,v),[L.memoizedState,v]},useRef:function(v){var y=at();return v={current:v},y.memoizedState=v},useState:function(v){v=ri(v);var y=v.queue,D=Rf.bind(null,Hn,y);return y.dispatch=D,[v.memoizedState,D]},useDebugValue:ll,useDeferredValue:function(v,y){var D=at();return Lo(D,v,y)},useTransition:function(){var v=ri(!1);return v=Df.bind(null,Hn,v.queue,!0,!1),at().memoizedState=v,[!1,v]},useSyncExternalStore:function(v,y,D){var L=Hn,V=at();if(yr){if(D===void 0)throw Error(i(407));D=D()}else{if(D=y(),rr===null)throw Error(i(349));(Qn&60)!==0||ur(L,y,D)}V.memoizedState=D;var J={value:D,getSnapshot:y};return V.queue=J,Ef(ji.bind(null,L,J,v),[v]),L.flags|=2048,Uo(9,dr.bind(null,L,J,D,y),{destroy:void 0},null),D},useId:function(){var v=at(),y=rr.identifierPrefix;if(yr){var D=Vo,L=Yl;D=(L&~(1<<32-Es(L)-1)).toString(32)+D,y=":"+y+"R"+D,D=nm++,0<D&&(y+="H"+D.toString(32)),y+=":"}else D=hb++,y=":"+y+"r"+D.toString(32)+":";return v.memoizedState=y},useCacheRefresh:function(){return at().memoizedState=Mu.bind(null,Hn)}};$i.useMemoCache=Tt,$i.useHostTransitionStatus=ul,$i.useFormState=ea,$i.useActionState=ea,$i.useOptimistic=function(v){var y=at();y.memoizedState=y.baseState=v;var D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=D,y=Bf.bind(null,Hn,!0,D),D.dispatch=y,[v,y]};var Wa={readContext:Na,use:ot,useCallback:Tf,useContext:Na,useEffect:ol,useImperativeHandle:_a,useInsertionEffect:Sh,useLayoutEffect:Nf,useMemo:Zs,useReducer:tn,useRef:sl,useState:function(){return tn(qt)},useDebugValue:ll,useDeferredValue:function(v,y){var D=Ye();return Cf(D,Er.memoizedState,v,y)},useTransition:function(){var v=tn(qt)[0],y=Ye().memoizedState;return[typeof v=="boolean"?v:Et(v),y]},useSyncExternalStore:Kn,useId:Ks};Wa.useCacheRefresh=Va,Wa.useMemoCache=Tt,Wa.useHostTransitionStatus=ul,Wa.useFormState=Ma,Wa.useActionState=Ma,Wa.useOptimistic=function(v,y){var D=Ye();return En(D,Er,v,y)};var Wc={readContext:Na,use:ot,useCallback:Tf,useContext:Na,useEffect:ol,useImperativeHandle:_a,useInsertionEffect:Sh,useLayoutEffect:Nf,useMemo:Zs,useReducer:Gt,useRef:sl,useState:function(){return Gt(qt)},useDebugValue:ll,useDeferredValue:function(v,y){var D=Ye();return Er===null?Lo(D,v,y):Cf(D,Er.memoizedState,v,y)},useTransition:function(){var v=Gt(qt)[0],y=Ye().memoizedState;return[typeof v=="boolean"?v:Et(v),y]},useSyncExternalStore:Kn,useId:Ks};Wc.useCacheRefresh=Va,Wc.useMemoCache=Tt,Wc.useHostTransitionStatus=ul,Wc.useFormState=Sc,Wc.useActionState=Sc,Wc.useOptimistic=function(v,y){var D=Ye();return Er!==null?En(D,Er,v,y):(D.baseState=v,[v,D.queue.dispatch])};var tv={isMounted:function(v){return(v=v._reactInternals)?d(v)===v:!1},enqueueSetState:function(v,y,D){v=v._reactInternals;var L=is(),V=st(L);V.payload=y,D!=null&&(V.callback=D),y=lt(v,V,L),y!==null&&(qa(y,v,L),Ke(y,v,L))},enqueueReplaceState:function(v,y,D){v=v._reactInternals;var L=is(),V=st(L);V.tag=1,V.payload=y,D!=null&&(V.callback=D),y=lt(v,V,L),y!==null&&(qa(y,v,L),Ke(y,v,L))},enqueueForceUpdate:function(v,y){v=v._reactInternals;var D=is(),L=st(D);L.tag=2,y!=null&&(L.callback=y),y=lt(v,L,D),y!==null&&(qa(y,v,D),Ke(y,v,D))}},ux=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},mb=Error(i(461)),Oi=!1,Ya={dehydrated:null,treeContext:null,retryLane:0},Cs=A(null),Yc=null,_i=null,pb=typeof AbortController<"u"?AbortController:function(){var v=[],y=this.signal={aborted:!1,addEventListener:function(D,L){v.push(L)}};this.abort=function(){y.aborted=!0,v.forEach(function(D){return D()})}},Hu=Ta.unstable_scheduleCallback,Qf=Ta.unstable_NormalPriority,Br={$$typeof:ql,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},nv=pn.S;pn.S=function(v,y){typeof y=="object"&&y!==null&&typeof y.then=="function"&&Ue(v,y),nv!==null&&nv(v,y)};var qu=A(null),ia=!1,gi=!1,Zc=!1,w0=typeof WeakSet=="function"?WeakSet:Set,Ei=null,Jf=!1,zi=null,Ds=!1,os=null,ed=8192,rv={getCacheForType:function(v){var y=Na(Br),D=y.data.get(v);return D===void 0&&(D=v(),y.data.set(v,D)),D}},rm=0,iv=1,av=2,hr=3,Or=4;if(typeof Symbol=="function"&&Symbol.for){var qn=Symbol.for;rm=qn("selector.component"),iv=qn("selector.has_pseudo_class"),av=qn("selector.role"),hr=qn("selector.test_id"),Or=qn("selector.text")}var lr=typeof WeakMap=="function"?WeakMap:Map,cn=0,rr=null,Bn=null,Qn=0,jr=0,Ui=null,zr=!1,fo=!1,Gu=!1,Sl=0,mr=0,ho=0,wl=0,Za=0,Rs=0,$u=0,A0=null,mo=null,M0=!1,Jl=0,xi=1/0,Al=null,po=null,Xo=!1,Xu=null,td=0,sv=0,nd=null,rd=0,ls=null;return un.attemptContinuousHydration=function(v){if(v.tag===13){var y=Be(v,67108864);y!==null&&qa(y,v,67108864),Ag(v,67108864)}},un.attemptHydrationAtCurrentPriority=function(v){if(v.tag===13){var y=is(),D=Be(v,y);D!==null&&qa(D,v,y),Ag(v,y)}},un.attemptSynchronousHydration=function(v){switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var y=E(v.pendingLanes);if(y!==0){for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var D=1<<31-Es(y);v.entanglements[1]|=D,y&=~D}we(v),(cn&6)===0&&(xi=Ra()+500,ie(0))}}break;case 13:y=Be(v,2),y!==null&&qa(y,v,2),xg(),Ag(v,2)}},un.batchedUpdates=function(v,y){return v(y)},un.createComponentSelector=function(v){return{$$typeof:rm,value:v}},un.createContainer=function(v,y,D,L,V,J,Ee,qe,it,At){return ma(v,y,!1,null,D,L,J,Ee,qe,it,At,null)},un.createHasPseudoClassSelector=function(v){return{$$typeof:iv,value:v}},un.createHydrationContainer=function(v,y,D,L,V,J,Ee,qe,it,At,Ut,Vt,$t){return v=ma(D,L,!0,v,V,J,qe,it,At,Ut,Vt,$t),v.context=zh(null),D=v.current,L=is(),V=st(L),V.callback=y??null,lt(D,V,L),v.current.lanes=L,U(v,L),we(v),v},un.createPortal=function(v,y,D){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:L==null?null:""+L,children:v,containerInfo:y,implementation:D}},un.createRoleSelector=function(v){return{$$typeof:av,value:v}},un.createTestNameSelector=function(v){return{$$typeof:hr,value:v}},un.createTextSelector=function(v){return{$$typeof:Or,value:v}},un.defaultOnCaughtError=function(v){console.error(v)},un.defaultOnRecoverableError=function(v){ux(v)},un.defaultOnUncaughtError=function(v){ux(v)},un.deferredUpdates=function(v){var y=pn.T,D=ra();try{return $a(32),pn.T=null,v()}finally{$a(D),pn.T=y}},un.discreteUpdates=function(v,y,D,L,V){var J=pn.T,Ee=ra();try{return $a(2),pn.T=null,v(y,D,L,V)}finally{$a(Ee),pn.T=J,cn===0&&(xi=Ra()+500)}},un.findAllNodes=rs,un.findBoundingRects=function(v,y){if(!Xl)throw Error(i(363));y=rs(v,y),v=[];for(var D=0;D<y.length;D++)v.push(Ip(y[D]));for(y=v.length-1;0<y;y--){D=v[y];for(var L=D.x,V=L+D.width,J=D.y,Ee=J+D.height,qe=y-1;0<=qe;qe--)if(y!==qe){var it=v[qe],At=it.x,Ut=At+it.width,Vt=it.y,$t=Vt+it.height;if(L>=At&&J>=Vt&&V<=Ut&&Ee<=$t){v.splice(y,1);break}else if(L!==At||D.width!==it.width||$t<J||Vt>Ee){if(!(J!==Vt||D.height!==it.height||Ut<L||At>V)){At>L&&(it.width+=At-L,it.x=L),Ut<V&&(it.width=V-At),v.splice(y,1);break}}else{Vt>J&&(it.height+=Vt-J,it.y=J),$t<Ee&&(it.height=Ee-Vt),v.splice(y,1);break}}}return v},un.findHostInstance=wg,un.findHostInstanceWithNoPortals=function(v){return v=p(v),v=v!==null?x(v):null,v===null?null:f0(v.stateNode)},un.findHostInstanceWithWarning=function(v){return wg(v)},un.flushPassiveEffects=ha,un.flushSyncFromReconciler=function(v){var y=cn;cn|=1;var D=pn.T,L=ra();try{if($a(2),pn.T=null,v)return v()}finally{$a(L),pn.T=D,cn=y,(cn&6)===0&&ie(0)}},un.flushSyncWork=xg,un.focusWithin=function(v,y){if(!Xl)throw Error(i(363));for(v=Np(v),y=z2(v,y),y=Array.from(y),v=0;v<y.length;){var D=y[v++],L=D.tag;if(!Wl(D)){if((L===5||L===26||L===27)&&wi(D.stateNode))return!0;for(D=D.child;D!==null;)y.push(D),D=D.sibling}}return!1},un.getFindAllNodesFailureDescription=function(v,y){if(!Xl)throw Error(i(363));var D=0,L=[];v=[Np(v),0];for(var V=0;V<v.length;){var J=v[V++],Ee=J.tag,qe=v[V++],it=y[qe];if((Ee!==5&&Ee!==26&&Ee!==27||!Wl(J))&&(s0(J,it)&&(L.push(zc(it)),qe++,qe>D&&(D=qe)),qe<y.length))for(J=J.child;J!==null;)v.push(J,qe),J=J.sibling}if(D<y.length){for(v=[];D<y.length;D++)v.push(zc(y[D]));return`findAllNodes was able to match part of the selector:
  `+(L.join(" > ")+`

No matching component was found for:
  `)+v.join(" > ")}return null},un.getPublicRootInstance=function(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 27:case 5:return f0(v.child.stateNode);default:return v.child.stateNode}},un.injectIntoDevTools=function(){var v={bundleType:0,version:Up,rendererPackageName:Lh,currentDispatcherRef:pn,findFiberByHostInstance:Og,reconcilerVersion:"19.0.0"};if(kh!==null&&(v.rendererConfig=kh),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")v=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(y.isDisabled||!y.supportsFiber)v=!0;else{try{v0=y.inject(v),Ns=y}catch{}v=!!y.checkDCE}}return v},un.isAlreadyRendering=function(){return!1},un.observeVisibleRects=function(v,y,D,L){if(!Xl)throw Error(i(363));v=rs(v,y);var V=Fg(v,D,L).disconnect;return{disconnect:function(){V()}}},un.shouldError=function(){return null},un.shouldSuspend=function(){return!1},un.startHostTransition=function(v,y,D,L){if(v.tag!==5)throw Error(i(476));var V=Ac(v).queue;Df(v,V,y,_s,D===null?r:function(){var J=Ac(v).next.queue;return ko(v,J,{},is()),D(L)})},un.updateContainer=function(v,y,D,L){var V=y.current,J=is();return L2(V,J,v,y,D,L),J},un.updateContainerSync=function(v,y,D,L){return y.tag===0&&ha(),L2(y.current,2,v,y,D,L),2},un},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})($M)),$M.exports}var U9;function Hue(){return U9||(U9=1,GM.exports=Vue()),GM.exports}var que=Hue();const Gue=jd(que);var F9=JP();const $ue=n=>typeof n=="object"&&typeof n.then=="function",I4=[];function Xue(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Wue(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const a of I4)if(Xue(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!t)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=I4.indexOf(i);a!==-1&&I4.splice(a,1)},promise:($ue(n)?n:n(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(I4.push(i),!t)throw i.promise}const Yue=(n,e,t)=>Wue(n,e,!1,t);var Zue=Object.defineProperty,Kue=Object.defineProperties,Que=Object.getOwnPropertyDescriptors,L9=Object.getOwnPropertySymbols,Jue=Object.prototype.hasOwnProperty,ece=Object.prototype.propertyIsEnumerable,k9=(n,e,t)=>e in n?Zue(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,I9=(n,e)=>{for(var t in e||(e={}))Jue.call(e,t)&&k9(n,t,e[t]);if(L9)for(var t of L9(e))ece.call(e,t)&&k9(n,t,e[t]);return n},tce=(n,e)=>Kue(n,Que(e)),P9,j9;typeof window<"u"&&((P9=window.document)!=null&&P9.createElement||((j9=window.navigator)==null?void 0:j9.product)==="ReactNative")?Re.useLayoutEffect:Re.useEffect;function GN(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=GN(r,e,t);if(i)return i;r=e?null:r.sibling}}function ej(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const V9=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=V9;return}return V9.apply(this,arguments)};const $N=ej(Re.createContext(null));class tj extends Re.Component{render(){return Re.createElement($N.Provider,{value:this._reactInternals},this.props.children)}}function nj(){const n=Re.useContext($N);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Re.useId();return Re.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=GN(r,!1,a=>{let s=a.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}function nce(){const n=nj(),[e]=Re.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==$N&&!e.has(i)&&e.set(i,Re.useContext(ej(i)))}t=t.return}return e}function rce(){const n=nce();return Re.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>Re.createElement(e,null,Re.createElement(t.Provider,tce(I9({},r),{value:n.get(t)}))),e=>Re.createElement(tj,I9({},e))),[n])}function rj(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ij=n=>n&&n.isOrthographicCamera,ice=n=>n&&n.hasOwnProperty("current"),f2=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Re.useLayoutEffect:Re.useEffect;function aj(n){const e=Re.useRef(n);return f2(()=>void(e.current=n),[n]),e}function ace(){const n=nj(),e=rce();return Re.useMemo(()=>({children:t})=>{const i=!!GN(n,!0,a=>a.type===Re.StrictMode)?Re.StrictMode:Re.Fragment;return S.jsx(i,{children:S.jsx(e,{children:t})})},[n,e])}function sce({set:n}){return f2(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const oce=(n=>(n=class extends Re.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function sj(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Ux(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Zi={obj:n=>n===Object(n)&&!Zi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Zi.str(n)||Zi.num(n)||Zi.boo(n))return n===e;const a=Zi.obj(n);if(a&&r==="reference")return n===e;const s=Zi.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(o in i?e:n)if(!Zi.equ(n[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:n)if(n[o]!==e[o])return!1;if(Zi.und(o)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function lce(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const oj=["children","key","ref"];function uce(n){const e={};for(const t in n)oj.includes(t)||(e[t]=n[t]);return e}function LS(n,e,t,r){const i=n;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:uce(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a,t&&bd(i,a.props))),a}function jy(n,e){var t;let r=n[e];if(!e.includes("-"))return{root:n,key:e,target:r};const i=e.split("-");return r=i.reduce((a,s)=>a[s],n),e=i.pop(),(t=r)!=null&&t.set||(n=i.reduce((a,s)=>a[s],n)),{root:n,key:e,target:r}}const H9=/-\d+$/;function kS(n,e){if(Zi.str(e.props.attach)){if(H9.test(e.props.attach)){const i=e.props.attach.replace(H9,""),{root:a,key:s}=jy(n.object,i);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:r}=jy(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Zi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function IS(n,e){if(Zi.str(e.props.attach)){const{root:t,key:r}=jy(n.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[r]:t[r]=i}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const NE=[...oj,"args","dispose","attach","object","onUpdate","dispose"],q9=new Map;function cce(n,e){const t={};for(const r in e)if(!NE.includes(r)&&!Zi.equ(e[r],n.props[r])){t[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(t[i]=e[i])}for(const r in n.props){if(NE.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:a}=jy(n.object,r);if(i.constructor&&i.constructor.length===0){let s=q9.get(i.constructor);s||(s=new i.constructor,q9.set(i.constructor,s)),t[a]=s[a]}else t[a]=0}return t}const fce=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],dce=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function bd(n,e){var t;const r=n.__r3f,i=r&&rj(r).getState(),a=r==null?void 0:r.eventCount;for(const o in e){let l=e[o];if(NE.includes(o)||(r&&dce.test(o)&&(typeof l=="function"?r.handlers[o]=l:delete r.handlers[o],r.eventCount=Object.keys(r.handlers).length),l===void 0))continue;let{root:u,key:c,target:d}=jy(n,o);if(d!=null&&d.copy&&l!=null&&l.constructor&&d.constructor===l.constructor)d.copy(l);else if(d instanceof f1&&l instanceof f1)d.mask=l.mask;else if(d!=null&&d.set&&Array.isArray(l))d.fromArray?d.fromArray(l):d.set(...l);else if(d!=null&&d.set&&typeof l!="object")!(d==null?void 0:d.isColor)&&d.setScalar&&typeof l=="number"?d.setScalar(l):d.set(l);else{var s;u[c]=l,i&&!i.linear&&fce.includes(c)&&(s=u[c])!=null&&s.isTexture&&u[c].format===js&&u[c].type===lc&&(u[c].colorSpace=ks)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(t=r.object)!=null&&t.isObject3D&&a!==r.eventCount){const o=r.object,l=i.internal.interaction.indexOf(o);l>-1&&i.internal.interaction.splice(l,1),r.eventCount&&o.raycast!==null&&i.internal.interaction.push(o)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&F1(r),n}function F1(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function hce(n,e){n.manual||(ij(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Ko=n=>n==null?void 0:n.isObject3D;function P4(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function lj(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function mce(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{lj(t.capturedMap,e,r,i)})}function pce(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),d=new Set,h=[],p=u?u(c.internal.interaction):c.internal.interaction;for(let b=0;b<p.length;b++){const _=Ux(p[b]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(b){const _=Ux(b);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var M;_.events.compute==null||_.events.compute(l,_,(M=_.previousRoot)==null?void 0:M.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(b,!0):[]}let x=p.flatMap(g).sort((b,_)=>{const M=Ux(b.object),E=Ux(_.object);return!M||!E?b.distance-_.distance:E.events.priority-M.events.priority||b.distance-_.distance}).filter(b=>{const _=P4(b);return d.has(_)?!1:(d.add(_),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const b of x){let _=b.object;for(;_;){var A;(A=_.__r3f)!=null&&A.eventCount&&h.push({...b,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let b of c.internal.capturedMap.get(l.pointerId).values())d.has(P4(b.intersection))||h.push(b.intersection);return h}function i(l,u,c,d){if(l.length){const h={stopped:!1};for(const p of l){const g=Ux(p.object);if(g){const{raycaster:x,pointer:A,camera:b,internal:_}=g,M=new Ce(A.x,A.y,0).unproject(b),E=R=>{var O,U;return(O=(U=_.capturedMap.get(R))==null?void 0:U.has(p.eventObject))!=null?O:!1},C=R=>{const O={intersection:p,target:u.target};_.capturedMap.has(R)?_.capturedMap.get(R).set(p.eventObject,O):_.capturedMap.set(R,new Map([[p.eventObject,O]])),u.target.setPointerCapture(R)},T=R=>{const O=_.capturedMap.get(R);O&&lj(_.capturedMap,p.eventObject,O,R)};let B={};for(let R in u){let O=u[R];typeof O!="function"&&(B[R]=O)}let z={...p,...B,pointer:A,intersections:l,stopped:h.stopped,delta:c,unprojectedPoint:M,ray:x.ray,camera:b,stopPropagation(){const R="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!R||R.has(p.eventObject))&&(z.stopped=h.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(O=>O.eventObject===p.eventObject))){const O=l.slice(0,l.indexOf(p));a([...O,p])}},target:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:T},currentTarget:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:T},nativeEvent:u};if(d(z),h.stopped===!0)break}}}return l}function a(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(d=>d.object===c.object&&d.index===c.index&&d.instanceId===c.instanceId)){const h=c.eventObject.__r3f;if(u.hovered.delete(P4(c)),h!=null&&h.eventCount){const p=h.handlers,g={...c,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function s(l,u){for(let c=0;c<u.length;c++){const d=u[c].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:d,internal:h}=n.getState();h.lastEvent.current=c;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=r(c,p?t:void 0),b=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=A.map(M=>M.eventObject)),g&&!A.length&&b<=2&&(s(c,h.interaction),d&&d(c)),p&&a(A);function _(M){const E=M.eventObject,C=E.__r3f;if(!(C!=null&&C.eventCount))return;const T=C.handlers;if(p){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const B=P4(M),z=h.hovered.get(B);z?z.stopped&&M.stopPropagation():(h.hovered.set(B,M),T.onPointerOver==null||T.onPointerOver(M),T.onPointerEnter==null||T.onPointerEnter(M))}T.onPointerMove==null||T.onPointerMove(M)}else{const B=T[l];B?(!g||h.initialHits.includes(E))&&(s(c,h.interaction.filter(z=>!h.initialHits.includes(z))),B(M)):g&&h.initialHits.includes(E)&&s(c,h.interaction.filter(z=>!h.initialHits.includes(z)))}}i(A,c,b,_)}}return{handlePointer:o}}const uj=n=>!!(n!=null&&n.render),cj=Re.createContext(null),vce=(n,e)=>{const t=Pue((o,l)=>{const u=new Ce,c=new Ce,d=new Ce;function h(b=l().camera,_=c,M=l().size){const{width:E,height:C,top:T,left:B}=M,z=E/C;_.isVector3?d.copy(_):d.set(..._);const R=b.getWorldPosition(u).distanceTo(d);if(ij(b))return{width:E/b.zoom,height:C/b.zoom,top:T,left:B,factor:1,distance:R,aspect:z};{const O=b.fov*Math.PI/180,U=2*Math.tan(O/2)*R,I=U*(E/C);return{width:I,height:U,top:T,left:B,factor:E/I,distance:R,aspect:z}}}let p;const g=b=>o(_=>({performance:{..._.performance,current:b}})),x=new bt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(l(),b),advance:(b,_)=>e(b,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new PN,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();p&&clearTimeout(p),b.performance.current!==b.performance.min&&g(b.performance.min),p=setTimeout(()=>g(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:b=>o(_=>({..._,events:{..._.events,...b}})),setSize:(b,_,M=0,E=0)=>{const C=l().camera,T={width:b,height:_,top:M,left:E};o(B=>({size:T,viewport:{...B.viewport,...h(C,c,T)}}))},setDpr:b=>o(_=>{const M=sj(b);return{viewport:{..._.viewport,dpr:M,initialDpr:_.viewport.initialDpr||M}}}),setFrameloop:(b="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,b!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Re.createRef(),active:!1,frames:0,priority:0,subscribe:(b,_,M)=>{const E=l().internal;return E.priority=E.priority+(_>0?1:0),E.subscribers.push({ref:b,priority:_,store:M}),E.subscribers=E.subscribers.sort((C,T)=>C.priority-T.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(T=>T.ref!==b))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,s=r.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:c,set:d}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){i=l,a=u.dpr,hce(o,l),c.setPixelRatio(u.dpr);const h=typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,h)}o!==s&&(s=o,d(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function fj(){const n=Re.useContext(cj);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ef(n=t=>t,e){return fj()(n,e)}function L1(n,e=0){const t=fj(),r=t.getState().internal.subscribe,i=aj(n);return f2(()=>r(i,e,t),[e,r,t]),null}function gce(n){const e=Gue(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Re.version}),e}const dj=0,Vy={};let xce=0;const yce=n=>typeof n=="function";function hj(n){if(yce(n)){const e=`${xce++}`;return Vy[e]=n,e}else Object.assign(Vy,n)}function mj(n,e){const t=`${n[0].toUpperCase()}${n.slice(1)}`,r=Vy[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function bce(n,e,t){var r;return mj(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,LS(e.object,t,n,e)}function Sce(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?IS(n.parent,n):Ko(n.object)&&(n.object.visible=!1),n.isHidden=!0,F1(n)}}function pj(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?kS(n.parent,n):Ko(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,F1(n)}}function XN(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var i,a;const s=`${e.type[0].toUpperCase()}${e.type.slice(1)}`,o=Vy[s];e.object=(i=e.props.object)!=null?i:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e,bd(e.object,e.props)}if(e.props.attach)kS(n,e);else if(Ko(e.object)&&Ko(n.object)){const s=n.object.children.indexOf(t==null?void 0:t.object);t&&s!==-1?(e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})):n.object.add(e.object)}for(const s of e.children)XN(e,s);F1(e)}}function YM(n,e){e&&(e.parent=n,n.children.push(e),XN(n,e))}function G9(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),XN(n,e,t)}function vj(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():F9.unstable_scheduleCallback(F9.unstable_IdlePriority,e)}}function TE(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?IS(n,e):Ko(e.object)&&Ko(n.object)&&(n.object.remove(e.object),mce(rj(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];TE(e,s,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&vj(e.object),t===void 0&&F1(e)}function wce(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const S3=[];function Ace(){for(const[t]of S3){const r=t.parent;if(r){t.props.attach?IS(r,t):Ko(t.object)&&Ko(r.object)&&r.object.remove(t.object);for(const i of t.children)i.props.attach?IS(t,i):Ko(i.object)&&Ko(t.object)&&t.object.remove(i.object)}t.isHidden&&pj(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&vj(t.object)}for(const[t,r,i]of S3){t.props=r;const a=t.parent;if(a){var n,e;const s=`${t.type[0].toUpperCase()}${t.type.slice(1)}`,o=Vy[s];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,wce(i,t.object),bd(t.object,t.props),t.props.attach?kS(a,t):Ko(t.object)&&Ko(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?kS(t,l):Ko(l.object)&&Ko(t.object)&&t.object.add(l.object);F1(t)}}S3.length=0}const ZM=()=>{},$9={};let j4=dj;const Mce=0,_ce=4,CE=gce({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:bce,removeChild:TE,appendChild:YM,appendInitialChild:YM,insertBefore:G9,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||YM(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||TE(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||G9(r,e,t)},getRootHostContext:()=>$9,getChildHostContext:()=>$9,commitUpdate(n,e,t,r,i){var a,s,o;mj(e,r);let l=!1;if((n.type==="primitive"&&t.object!==r.object||((a=r.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=r.args)!=null&&o.some((c,d)=>{var h;return c!==((h=t.args)==null?void 0:h[d])}))&&(l=!0),l)S3.push([n,{...r},i]);else{const c=cce(n,r);Object.keys(c).length&&(Object.assign(n.props,c),bd(n.object,c))}(i.sibling===null||(i.flags&_ce)===Mce)&&Ace()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>LS(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Sce,unhideInstance:pj,createTextInstance:ZM,hideTextInstance:ZM,unhideTextInstance:ZM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Re.createContext(null),setCurrentUpdatePriority(n){j4=n},getCurrentUpdatePriority(){return j4},resolveUpdatePriority(){var n;if(j4!==dj)return j4;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return b3.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return b3.ContinuousEventPriority;default:return b3.DefaultEventPriority}},resetFormInstance(){}}),Zm=new Map,Bv={objects:"shallow",strict:!1},Ece=(n,e)=>{const t=typeof n=="function"?n(e):n;return uj(t)?t:new aP({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Nce(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Tce(n){const e=Zm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||vce(BE,W9),s=t||CE.createContainer(a,b3.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||Zm.set(n,{fiber:s,store:a});let o,l=!1,u;return{configure(c={}){let{gl:d,size:h,scene:p,events:g,onCreated:x,shadows:A=!1,linear:b=!1,flat:_=!1,legacy:M=!1,orthographic:E=!1,frameloop:C="always",dpr:T=[1,2],performance:B,raycaster:z,camera:R,onPointerMissed:O}=c,U=a.getState(),I=U.gl;U.gl||U.set({gl:I=Ece(d,n)});let q=U.raycaster;q||U.set({raycaster:q=new ZP});const{params:X,...$}=z||{};if(Zi.equ($,q,Bv)||bd(q,{...$}),Zi.equ(X,q.params,Bv)||bd(q,{params:{...q.params,...X}}),!U.camera||U.camera===u&&!Zi.equ(u,R,Bv)){u=R;const H=R==null?void 0:R.isCamera,ae=H?R:E?new Z0(0,0,0,0,.1,1e3):new oa(75,0,.1,1e3);H||(ae.position.z=5,R&&(bd(ae,R),ae.manual||("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(ae.manual=!0,ae.updateProjectionMatrix())),!U.camera&&!(R!=null&&R.rotation)&&ae.lookAt(0,0,0)),U.set({camera:ae}),q.camera=ae}if(!U.scene){let H;p!=null&&p.isScene?(H=p,LS(H,a,"",{})):(H=new wN,LS(H,a,"",{}),p&&bd(H,p)),U.set({scene:H})}if(!U.xr){var k;const H=(K,Q)=>{const te=a.getState();te.frameloop!=="never"&&W9(K,!0,te,Q)},ae=()=>{const K=a.getState();K.gl.xr.enabled=K.gl.xr.isPresenting,K.gl.xr.setAnimationLoop(K.gl.xr.isPresenting?H:null),K.gl.xr.isPresenting||BE(K)},W={connect(){const K=a.getState().gl;K.xr.addEventListener("sessionstart",ae),K.xr.addEventListener("sessionend",ae)},disconnect(){const K=a.getState().gl;K.xr.removeEventListener("sessionstart",ae),K.xr.removeEventListener("sessionend",ae)}};typeof((k=I.xr)==null?void 0:k.addEventListener)=="function"&&W.connect(),U.set({xr:W})}if(I.shadowMap){const H=I.shadowMap.enabled,ae=I.shadowMap.type;if(I.shadowMap.enabled=!!A,Zi.boo(A))I.shadowMap.type=ny;else if(Zi.str(A)){var P;const W={basic:iI,percentage:Ew,soft:ny,variance:ec};I.shadowMap.type=(P=W[A])!=null?P:ny}else Zi.obj(A)&&Object.assign(I.shadowMap,A);(H!==I.shadowMap.enabled||ae!==I.shadowMap.type)&&(I.shadowMap.needsUpdate=!0)}gr.enabled=!M,l||(I.outputColorSpace=b?ch:ks,I.toneMapping=_?df:nN),U.legacy!==M&&U.set(()=>({legacy:M})),U.linear!==b&&U.set(()=>({linear:b})),U.flat!==_&&U.set(()=>({flat:_})),d&&!Zi.fun(d)&&!uj(d)&&!Zi.equ(d,I,Bv)&&bd(I,d),g&&!U.events.handlers&&U.set({events:g(a)});const Z=Nce(n,h);return Zi.equ(Z,U.size,Bv)||U.setSize(Z.width,Z.height,Z.top,Z.left),T&&U.viewport.dpr!==sj(T)&&U.setDpr(T),U.frameloop!==C&&U.setFrameloop(C),U.onPointerMissed||U.set({onPointerMissed:O}),B&&!Zi.equ(B,U.performance,Bv)&&U.set(H=>({performance:{...H.performance,...B}})),o=x,l=!0,this},render(c){return l||this.configure(),CE.updateContainer(S.jsx(Cce,{store:a,children:c,onCreated:o,rootElement:n}),s,null,()=>{}),a},unmount(){gj(n)}}}function Cce({store:n,children:e,onCreated:t,rootElement:r}){return f2(()=>{const i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),S.jsx(cj.Provider,{value:n,children:e})}function gj(n,e){const t=Zm.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),CE.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,s,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),lce(i.scene),Zm.delete(n)}catch{}},500)})}}const Dce=new Set,Rce=new Set,Bce=new Set;function KM(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function dy(n,e){switch(n){case"before":return KM(Dce,e);case"after":return KM(Rce,e);case"tail":return KM(Bce,e)}}let QM,JM;function DE(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),QM=e.internal.subscribers;for(let i=0;i<QM.length;i++)JM=QM[i],JM.ref.current(JM.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let PS=!1,RE=!1,e_,X9,Ov;function xj(n){X9=requestAnimationFrame(xj),PS=!0,e_=0,dy("before",n),RE=!0;for(const t of Zm.values()){var e;Ov=t.store.getState(),Ov.internal.active&&(Ov.frameloop==="always"||Ov.internal.frames>0)&&!((e=Ov.gl.xr)!=null&&e.isPresenting)&&(e_+=DE(n,Ov))}if(RE=!0,dy("after",n),e_===0)return dy("tail",n),PS=!1,cancelAnimationFrame(X9)}function BE(n,e=1){var t;if(!n)return Zm.forEach(r=>BE(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):RE?n.internal.frames=2:n.internal.frames=1,PS||(PS=!0,requestAnimationFrame(xj)))}function W9(n,e=!0,t,r){if(e&&dy("before",n),t)DE(n,t,r);else for(const i of Zm.values())DE(n,i.store.getState());e&&dy("after",n)}const t_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Oce(n){const{handlePointer:e}=pce(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(t_).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:r,events:i}=n.getState();if(i.disconnect==null||i.disconnect(),r(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const s=i.handlers[a],[o,l]=t_[a];t.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const a=r.handlers[i],[s]=t_[i];r.connected.removeEventListener(s,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}var n_,Y9;function zce(){if(Y9)return n_;Y9=1;function n(e,t,r){var i,a,s,o,l;t==null&&(t=100);function u(){var d=Date.now()-o;d<t&&d>=0?i=setTimeout(u,t-d):(i=null,r||(l=e.apply(s,a),s=a=null))}var c=function(){s=this,a=arguments,o=Date.now();var d=r&&!i;return i||(i=setTimeout(u,t)),d&&(l=e.apply(s,a),s=a=null),l};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(l=e.apply(s,a),s=a=null,clearTimeout(i),i=null)},c}return n.debounce=n,n_=n,n_}var Uce=zce();const Z9=jd(Uce);function Fce({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||typeof window<"u"&&window.ResizeObserver,[a,s]=Re.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return a.width=1280,a.height=800,[()=>{},a,()=>{}];const o=Re.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,c=Re.useRef(!1);Re.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[d,h,p]=Re.useMemo(()=>{const b=()=>{if(!o.current.element)return;const{left:_,top:M,width:E,height:C,bottom:T,right:B,x:z,y:R}=o.current.element.getBoundingClientRect(),O={left:_,top:M,width:E,height:C,bottom:T,right:B,x:z,y:R};o.current.element instanceof HTMLElement&&r&&(O.height=o.current.element.offsetHeight,O.width=o.current.element.offsetWidth),Object.freeze(O),c.current&&!Pce(o.current.lastBounds,O)&&s(o.current.lastBounds=O)};return[b,u?Z9(b,u):b,l?Z9(b,l):b]},[s,r,l,u]);function g(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",p,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function x(){var b;o.current.element&&(o.current.resizeObserver=new i(h),(b=o.current.resizeObserver)==null||b.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(_=>_.addEventListener("scroll",p,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const A=b=>{!b||b===o.current.element||(g(),o.current.element=b,o.current.scrollContainers=yj(b),x())};return kce(p,!!e),Lce(h),Re.useEffect(()=>{g(),x()},[e,p,h]),Re.useEffect(()=>g,[]),[A,a,d]}function Lce(n){Re.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function kce(n,e){Re.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function yj(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...yj(n.parentElement)]}const Ice=["x","y","top","bottom","left","right","width","height"],Pce=(n,e)=>Ice.every(t=>n[t]===e[t]);function jce({ref:n,children:e,fallback:t,resize:r,style:i,gl:a,events:s=Oce,eventSource:o,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:h,orthographic:p,frameloop:g,dpr:x,performance:A,raycaster:b,camera:_,scene:M,onPointerMissed:E,onCreated:C,...T}){Re.useMemo(()=>hj(_ue),[]);const B=ace(),[z,R]=Fce({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=Re.useRef(null),U=Re.useRef(null);Re.useImperativeHandle(n,()=>O.current);const I=aj(E),[q,X]=Re.useState(!1),[$,k]=Re.useState(!1);if(q)throw q;if($)throw $;const P=Re.useRef(null);f2(()=>{const H=O.current;R.width>0&&R.height>0&&H&&(P.current||(P.current=Tce(H)),P.current.configure({gl:a,scene:M,events:s,shadows:u,linear:c,flat:d,legacy:h,orthographic:p,frameloop:g,dpr:x,performance:A,raycaster:b,camera:_,size:R,onPointerMissed:(...ae)=>I.current==null?void 0:I.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(o?ice(o)?o.current:o:U.current),l&&ae.setEvents({compute:(W,K)=>{const Q=W[l+"X"],te=W[l+"Y"];K.pointer.set(Q/K.size.width*2-1,-(te/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),C==null||C(ae)}}),P.current.render(S.jsx(B,{children:S.jsx(oce,{set:k,children:S.jsx(Re.Suspense,{fallback:S.jsx(sce,{set:X}),children:e})})})))}),Re.useEffect(()=>{const H=O.current;if(H)return()=>gj(H)},[]);const Z=o?"none":"auto";return S.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i},...T,children:S.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:S.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function ip(n){return S.jsx(tj,{children:S.jsx(jce,{...n})})}function mi(){return mi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mi.apply(null,arguments)}const bj=parseInt(D1.replace(/\D+/g,"")),Sj=bj>=125?"uv1":"uv2";var Vce=Object.defineProperty,Hce=(n,e,t)=>e in n?Vce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qce=(n,e,t)=>(Hce(n,e+"",t),t);class Gce{constructor(){qce(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}var $ce=Object.defineProperty,Xce=(n,e,t)=>e in n?$ce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gn=(n,e,t)=>(Xce(n,typeof e!="symbol"?e+"":e,t),t);const V4=new ep,K9=new nf,Wce=Math.cos(70*(Math.PI/180)),Q9=(n,e)=>(n%e+e)%e;let Yce=class extends Gce{constructor(e,t){super(),gn(this,"object"),gn(this,"domElement"),gn(this,"enabled",!0),gn(this,"target",new Ce),gn(this,"minDistance",0),gn(this,"maxDistance",1/0),gn(this,"minZoom",0),gn(this,"maxZoom",1/0),gn(this,"minPolarAngle",0),gn(this,"maxPolarAngle",Math.PI),gn(this,"minAzimuthAngle",-1/0),gn(this,"maxAzimuthAngle",1/0),gn(this,"enableDamping",!1),gn(this,"dampingFactor",.05),gn(this,"enableZoom",!0),gn(this,"zoomSpeed",1),gn(this,"enableRotate",!0),gn(this,"rotateSpeed",1),gn(this,"enablePan",!0),gn(this,"panSpeed",1),gn(this,"screenSpacePanning",!0),gn(this,"keyPanSpeed",7),gn(this,"zoomToCursor",!1),gn(this,"autoRotate",!1),gn(this,"autoRotateSpeed",2),gn(this,"reverseOrbit",!1),gn(this,"reverseHorizontalOrbit",!1),gn(this,"reverseVerticalOrbit",!1),gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gn(this,"mouseButtons",{LEFT:Am.ROTATE,MIDDLE:Am.DOLLY,RIGHT:Am.PAN}),gn(this,"touches",{ONE:Mm.ROTATE,TWO:Mm.DOLLY_PAN}),gn(this,"target0"),gn(this,"position0"),gn(this,"zoom0"),gn(this,"_domElementKeyEvents",null),gn(this,"getPolarAngle"),gn(this,"getAzimuthalAngle"),gn(this,"setPolarAngle"),gn(this,"setAzimuthalAngle"),gn(this,"getDistance"),gn(this,"getZoomScale"),gn(this,"listenToKeyEvents"),gn(this,"stopListenToKeyEvents"),gn(this,"saveState"),gn(this,"reset"),gn(this,"update"),gn(this,"connect"),gn(this,"dispose"),gn(this,"dollyIn"),gn(this,"dollyOut"),gn(this,"getScale"),gn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ze=>{let G=Q9(ze,2*Math.PI),Ne=c.phi;Ne<0&&(Ne+=2*Math.PI),G<0&&(G+=2*Math.PI);let me=Math.abs(G-Ne);2*Math.PI-me<me&&(G<Ne?G+=2*Math.PI:Ne+=2*Math.PI),d.phi=G-Ne,r.update()},this.setAzimuthalAngle=ze=>{let G=Q9(ze,2*Math.PI),Ne=c.theta;Ne<0&&(Ne+=2*Math.PI),G<0&&(G+=2*Math.PI);let me=Math.abs(G-Ne);2*Math.PI-me<me&&(G<Ne?G+=2*Math.PI:Ne+=2*Math.PI),d.theta=G-Ne,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ze=>{ze.addEventListener("keydown",Ue),this._domElementKeyEvents=ze},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ue),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const ze=new Ce,G=new Ce(0,1,0),Ne=new xs().setFromUnitVectors(e.up,G),me=Ne.clone().invert(),Pe=new Ce,$e=new xs,tt=2*Math.PI;return function(){const wt=r.object.position;Ne.setFromUnitVectors(e.up,G),me.copy(Ne).invert(),ze.copy(wt).sub(r.target),ze.applyQuaternion(Ne),c.setFromVector3(ze),r.autoRotate&&l===o.NONE&&X(I()),r.enableDamping?(c.theta+=d.theta*r.dampingFactor,c.phi+=d.phi*r.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let kt=r.minAzimuthAngle,Jt=r.maxAzimuthAngle;isFinite(kt)&&isFinite(Jt)&&(kt<-Math.PI?kt+=tt:kt>Math.PI&&(kt-=tt),Jt<-Math.PI?Jt+=tt:Jt>Math.PI&&(Jt-=tt),kt<=Jt?c.theta=Math.max(kt,Math.min(Jt,c.theta)):c.theta=c.theta>(kt+Jt)/2?Math.max(kt,c.theta):Math.min(Jt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&R||r.object.isOrthographicCamera?c.radius=Q(c.radius):c.radius=Q(c.radius*h),ze.setFromSpherical(c),ze.applyQuaternion(me),wt.copy(r.target).add(ze),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),p.set(0,0,0));let Ht=!1;if(r.zoomToCursor&&R){let Wt=null;if(r.object instanceof oa&&r.object.isPerspectiveCamera){const Fn=ze.length();Wt=Q(Fn*h);const ar=Fn-Wt;r.object.position.addScaledVector(B,ar),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Fn=new Ce(z.x,z.y,0);Fn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Ht=!0;const ar=new Ce(z.x,z.y,0);ar.unproject(r.object),r.object.position.sub(ar).add(Fn),r.object.updateMatrixWorld(),Wt=ze.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Wt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Wt).add(r.object.position):(V4.origin.copy(r.object.position),V4.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(V4.direction))<Wce?e.lookAt(r.target):(K9.setFromNormalAndCoplanarPoint(r.object.up,r.target),V4.intersectPlane(K9,r.target))))}else r.object instanceof Z0&&r.object.isOrthographicCamera&&(Ht=h!==1,Ht&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,R=!1,Ht||Pe.distanceToSquared(r.object.position)>u||8*(1-$e.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Pe.copy(r.object.position),$e.copy(r.object.quaternion),Ht=!1,!0):!1}})(),this.connect=ze=>{r.domElement=ze,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Xe),r.domElement.addEventListener("pointerdown",re),r.domElement.addEventListener("pointercancel",oe),r.domElement.addEventListener("wheel",Le)},this.dispose=()=>{var ze,G,Ne,me,Pe,$e;r.domElement&&(r.domElement.style.touchAction="auto"),(ze=r.domElement)==null||ze.removeEventListener("contextmenu",Xe),(G=r.domElement)==null||G.removeEventListener("pointerdown",re),(Ne=r.domElement)==null||Ne.removeEventListener("pointercancel",oe),(me=r.domElement)==null||me.removeEventListener("wheel",Le),(Pe=r.domElement)==null||Pe.ownerDocument.removeEventListener("pointermove",ee),($e=r.domElement)==null||$e.ownerDocument.removeEventListener("pointerup",oe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ue)};const r=this,i={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const u=1e-6,c=new FS,d=new FS;let h=1;const p=new Ce,g=new bt,x=new bt,A=new bt,b=new bt,_=new bt,M=new bt,E=new bt,C=new bt,T=new bt,B=new Ce,z=new bt;let R=!1;const O=[],U={};function I(){return 2*Math.PI/60/60*r.autoRotateSpeed}function q(){return Math.pow(.95,r.zoomSpeed)}function X(ze){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=ze:d.theta-=ze}function $(ze){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=ze:d.phi-=ze}const k=(()=>{const ze=new Ce;return function(Ne,me){ze.setFromMatrixColumn(me,0),ze.multiplyScalar(-Ne),p.add(ze)}})(),P=(()=>{const ze=new Ce;return function(Ne,me){r.screenSpacePanning===!0?ze.setFromMatrixColumn(me,1):(ze.setFromMatrixColumn(me,0),ze.crossVectors(r.object.up,ze)),ze.multiplyScalar(Ne),p.add(ze)}})(),Z=(()=>{const ze=new Ce;return function(Ne,me){const Pe=r.domElement;if(Pe&&r.object instanceof oa&&r.object.isPerspectiveCamera){const $e=r.object.position;ze.copy($e).sub(r.target);let tt=ze.length();tt*=Math.tan(r.object.fov/2*Math.PI/180),k(2*Ne*tt/Pe.clientHeight,r.object.matrix),P(2*me*tt/Pe.clientHeight,r.object.matrix)}else Pe&&r.object instanceof Z0&&r.object.isOrthographicCamera?(k(Ne*(r.object.right-r.object.left)/r.object.zoom/Pe.clientWidth,r.object.matrix),P(me*(r.object.top-r.object.bottom)/r.object.zoom/Pe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function H(ze){r.object instanceof oa&&r.object.isPerspectiveCamera||r.object instanceof Z0&&r.object.isOrthographicCamera?h=ze:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ae(ze){H(h/ze)}function W(ze){H(h*ze)}function K(ze){if(!r.zoomToCursor||!r.domElement)return;R=!0;const G=r.domElement.getBoundingClientRect(),Ne=ze.clientX-G.left,me=ze.clientY-G.top,Pe=G.width,$e=G.height;z.x=Ne/Pe*2-1,z.y=-(me/$e)*2+1,B.set(z.x,z.y,1).unproject(r.object).sub(r.object.position).normalize()}function Q(ze){return Math.max(r.minDistance,Math.min(r.maxDistance,ze))}function te(ze){g.set(ze.clientX,ze.clientY)}function le(ze){K(ze),E.set(ze.clientX,ze.clientY)}function de(ze){b.set(ze.clientX,ze.clientY)}function ce(ze){x.set(ze.clientX,ze.clientY),A.subVectors(x,g).multiplyScalar(r.rotateSpeed);const G=r.domElement;G&&(X(2*Math.PI*A.x/G.clientHeight),$(2*Math.PI*A.y/G.clientHeight)),g.copy(x),r.update()}function be(ze){C.set(ze.clientX,ze.clientY),T.subVectors(C,E),T.y>0?ae(q()):T.y<0&&W(q()),E.copy(C),r.update()}function Te(ze){_.set(ze.clientX,ze.clientY),M.subVectors(_,b).multiplyScalar(r.panSpeed),Z(M.x,M.y),b.copy(_),r.update()}function Oe(ze){K(ze),ze.deltaY<0?W(q()):ze.deltaY>0&&ae(q()),r.update()}function Fe(ze){let G=!1;switch(ze.code){case r.keys.UP:Z(0,r.keyPanSpeed),G=!0;break;case r.keys.BOTTOM:Z(0,-r.keyPanSpeed),G=!0;break;case r.keys.LEFT:Z(r.keyPanSpeed,0),G=!0;break;case r.keys.RIGHT:Z(-r.keyPanSpeed,0),G=!0;break}G&&(ze.preventDefault(),r.update())}function Se(){if(O.length==1)g.set(O[0].pageX,O[0].pageY);else{const ze=.5*(O[0].pageX+O[1].pageX),G=.5*(O[0].pageY+O[1].pageY);g.set(ze,G)}}function Ve(){if(O.length==1)b.set(O[0].pageX,O[0].pageY);else{const ze=.5*(O[0].pageX+O[1].pageX),G=.5*(O[0].pageY+O[1].pageY);b.set(ze,G)}}function ve(){const ze=O[0].pageX-O[1].pageX,G=O[0].pageY-O[1].pageY,Ne=Math.sqrt(ze*ze+G*G);E.set(0,Ne)}function fe(){r.enableZoom&&ve(),r.enablePan&&Ve()}function he(){r.enableZoom&&ve(),r.enableRotate&&Se()}function Be(ze){if(O.length==1)x.set(ze.pageX,ze.pageY);else{const Ne=Ke(ze),me=.5*(ze.pageX+Ne.x),Pe=.5*(ze.pageY+Ne.y);x.set(me,Pe)}A.subVectors(x,g).multiplyScalar(r.rotateSpeed);const G=r.domElement;G&&(X(2*Math.PI*A.x/G.clientHeight),$(2*Math.PI*A.y/G.clientHeight)),g.copy(x)}function ue(ze){if(O.length==1)_.set(ze.pageX,ze.pageY);else{const G=Ke(ze),Ne=.5*(ze.pageX+G.x),me=.5*(ze.pageY+G.y);_.set(Ne,me)}M.subVectors(_,b).multiplyScalar(r.panSpeed),Z(M.x,M.y),b.copy(_)}function xe(ze){const G=Ke(ze),Ne=ze.pageX-G.x,me=ze.pageY-G.y,Pe=Math.sqrt(Ne*Ne+me*me);C.set(0,Pe),T.set(0,Math.pow(C.y/E.y,r.zoomSpeed)),ae(T.y),E.copy(C)}function we(ze){r.enableZoom&&xe(ze),r.enablePan&&ue(ze)}function ie(ze){r.enableZoom&&xe(ze),r.enableRotate&&Be(ze)}function re(ze){var G,Ne;r.enabled!==!1&&(O.length===0&&((G=r.domElement)==null||G.ownerDocument.addEventListener("pointermove",ee),(Ne=r.domElement)==null||Ne.ownerDocument.addEventListener("pointerup",oe)),We(ze),ze.pointerType==="touch"?He(ze):ge(ze))}function ee(ze){r.enabled!==!1&&(ze.pointerType==="touch"?et(ze):De(ze))}function oe(ze){var G,Ne,me;st(ze),O.length===0&&((G=r.domElement)==null||G.releasePointerCapture(ze.pointerId),(Ne=r.domElement)==null||Ne.ownerDocument.removeEventListener("pointermove",ee),(me=r.domElement)==null||me.ownerDocument.removeEventListener("pointerup",oe)),r.dispatchEvent(s),l=o.NONE}function ge(ze){let G;switch(ze.button){case 0:G=r.mouseButtons.LEFT;break;case 1:G=r.mouseButtons.MIDDLE;break;case 2:G=r.mouseButtons.RIGHT;break;default:G=-1}switch(G){case Am.DOLLY:if(r.enableZoom===!1)return;le(ze),l=o.DOLLY;break;case Am.ROTATE:if(ze.ctrlKey||ze.metaKey||ze.shiftKey){if(r.enablePan===!1)return;de(ze),l=o.PAN}else{if(r.enableRotate===!1)return;te(ze),l=o.ROTATE}break;case Am.PAN:if(ze.ctrlKey||ze.metaKey||ze.shiftKey){if(r.enableRotate===!1)return;te(ze),l=o.ROTATE}else{if(r.enablePan===!1)return;de(ze),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(a)}function De(ze){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;ce(ze);break;case o.DOLLY:if(r.enableZoom===!1)return;be(ze);break;case o.PAN:if(r.enablePan===!1)return;Te(ze);break}}function Le(ze){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(ze.preventDefault(),r.dispatchEvent(a),Oe(ze),r.dispatchEvent(s))}function Ue(ze){r.enabled===!1||r.enablePan===!1||Fe(ze)}function He(ze){switch(lt(ze),O.length){case 1:switch(r.touches.ONE){case Mm.ROTATE:if(r.enableRotate===!1)return;Se(),l=o.TOUCH_ROTATE;break;case Mm.PAN:if(r.enablePan===!1)return;Ve(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case Mm.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;fe(),l=o.TOUCH_DOLLY_PAN;break;case Mm.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;he(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(a)}function et(ze){switch(lt(ze),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;Be(ze),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;ue(ze),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;we(ze),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ie(ze),r.update();break;default:l=o.NONE}}function Xe(ze){r.enabled!==!1&&ze.preventDefault()}function We(ze){O.push(ze)}function st(ze){delete U[ze.pointerId];for(let G=0;G<O.length;G++)if(O[G].pointerId==ze.pointerId){O.splice(G,1);return}}function lt(ze){let G=U[ze.pointerId];G===void 0&&(G=new bt,U[ze.pointerId]=G),G.set(ze.pageX,ze.pageY)}function Ke(ze){const G=ze.pointerId===O[0].pointerId?O[1]:O[0];return U[G.pointerId]}this.dollyIn=(ze=q())=>{W(ze),r.update()},this.dollyOut=(ze=q())=>{ae(ze),r.update()},this.getScale=()=>h,this.setScale=ze=>{H(ze),r.update()},this.getZoomScale=()=>q(),t!==void 0&&this.connect(t),this.update()}};const J9=new ba,H4=new Ce;class WN extends o5{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new an(e,3)),this.setAttribute("uv",new an(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,r=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),r.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const r=new US(t,6,1);return this.setAttribute("instanceStart",new Nl(r,3,0)),this.setAttribute("instanceEnd",new Nl(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new US(r,t*2,1);return this.setAttribute("instanceColorStart",new Nl(i,t,0)),this.setAttribute("instanceColorEnd",new Nl(i,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new BN(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ba);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),J9.setFromBufferAttribute(t),this.boundingBox.union(J9))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)H4.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(H4)),H4.fromBufferAttribute(t,a),i=Math.max(i,r.distanceToSquared(H4));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class wj extends WN{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,r=new Float32Array(2*t);for(let i=0;i<t;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,t=3){const r=e.length-t,i=new Float32Array(2*r);if(t===3)for(let a=0;a<r;a+=t)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5];else for(let a=0;a<r;a+=t)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5],i[2*a+6]=e[a+6],i[2*a+7]=e[a+7];return super.setColors(i,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class YN extends nl{constructor(e){super({type:"LineMaterial",uniforms:h1.clone(h1.merge([Pt.common,Pt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new bt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${bj>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const r_=new er,eR=new Ce,tR=new Ce,cs=new er,fs=new er,Qc=new er,i_=new Ce,a_=new Mn,hs=new KP,nR=new Ce,q4=new ba,G4=new Ua,Jc=new er;let rf,Vm;function rR(n,e,t){return Jc.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),Jc.multiplyScalar(1/Jc.w),Jc.x=Vm/t.width,Jc.y=Vm/t.height,Jc.applyMatrix4(n.projectionMatrixInverse),Jc.multiplyScalar(1/Jc.w),Math.abs(Math.max(Jc.x,Jc.y))}function Zce(n,e){const t=n.matrixWorld,r=n.geometry,i=r.attributes.instanceStart,a=r.attributes.instanceEnd,s=Math.min(r.instanceCount,i.count);for(let o=0,l=s;o<l;o++){hs.start.fromBufferAttribute(i,o),hs.end.fromBufferAttribute(a,o),hs.applyMatrix4(t);const u=new Ce,c=new Ce;rf.distanceSqToSegment(hs.start,hs.end,c,u),c.distanceTo(u)<Vm*.5&&e.push({point:c,pointOnLine:u,distance:rf.origin.distanceTo(c),object:n,face:null,faceIndex:o,uv:null,[Sj]:null})}}function Kce(n,e,t){const r=e.projectionMatrix,a=n.material.resolution,s=n.matrixWorld,o=n.geometry,l=o.attributes.instanceStart,u=o.attributes.instanceEnd,c=Math.min(o.instanceCount,l.count),d=-e.near;rf.at(1,Qc),Qc.w=1,Qc.applyMatrix4(e.matrixWorldInverse),Qc.applyMatrix4(r),Qc.multiplyScalar(1/Qc.w),Qc.x*=a.x/2,Qc.y*=a.y/2,Qc.z=0,i_.copy(Qc),a_.multiplyMatrices(e.matrixWorldInverse,s);for(let h=0,p=c;h<p;h++){if(cs.fromBufferAttribute(l,h),fs.fromBufferAttribute(u,h),cs.w=1,fs.w=1,cs.applyMatrix4(a_),fs.applyMatrix4(a_),cs.z>d&&fs.z>d)continue;if(cs.z>d){const M=cs.z-fs.z,E=(cs.z-d)/M;cs.lerp(fs,E)}else if(fs.z>d){const M=fs.z-cs.z,E=(fs.z-d)/M;fs.lerp(cs,E)}cs.applyMatrix4(r),fs.applyMatrix4(r),cs.multiplyScalar(1/cs.w),fs.multiplyScalar(1/fs.w),cs.x*=a.x/2,cs.y*=a.y/2,fs.x*=a.x/2,fs.y*=a.y/2,hs.start.copy(cs),hs.start.z=0,hs.end.copy(fs),hs.end.z=0;const x=hs.closestPointToPointParameter(i_,!0);hs.at(x,nR);const A=Uw.lerp(cs.z,fs.z,x),b=A>=-1&&A<=1,_=i_.distanceTo(nR)<Vm*.5;if(b&&_){hs.start.fromBufferAttribute(l,h),hs.end.fromBufferAttribute(u,h),hs.start.applyMatrix4(s),hs.end.applyMatrix4(s);const M=new Ce,E=new Ce;rf.distanceSqToSegment(hs.start,hs.end,E,M),t.push({point:E,pointOnLine:M,distance:rf.origin.distanceTo(E),object:n,face:null,faceIndex:h,uv:null,[Sj]:null})}}}class Aj extends Ni{constructor(e=new WN,t=new YN({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let s=0,o=0,l=t.count;s<l;s++,o+=2)eR.fromBufferAttribute(t,s),tR.fromBufferAttribute(r,s),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+eR.distanceTo(tR);const a=new US(i,2,1);return e.setAttribute("instanceDistanceStart",new Nl(a,1,0)),e.setAttribute("instanceDistanceEnd",new Nl(a,1,1)),this}raycast(e,t){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;rf=e.ray;const s=this.matrixWorld,o=this.geometry,l=this.material;Vm=l.linewidth+a,o.boundingSphere===null&&o.computeBoundingSphere(),G4.copy(o.boundingSphere).applyMatrix4(s);let u;if(r)u=Vm*.5;else{const d=Math.max(i.near,G4.distanceToPoint(rf.origin));u=rR(i,d,l.resolution)}if(G4.radius+=u,rf.intersectsSphere(G4)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),q4.copy(o.boundingBox).applyMatrix4(s);let c;if(r)c=Vm*.5;else{const d=Math.max(i.near,q4.distanceToPoint(rf.origin));c=rR(i,d,l.resolution)}q4.expandByScalar(c),rf.intersectsBox(q4)!==!1&&(r?Zce(this,t):Kce(this,i,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(r_),this.material.uniforms.resolution.value.set(r_.z,r_.w))}}class Qce extends Aj{constructor(e=new wj,t=new YN({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const Um=Re.forwardRef(function({points:e,color:t=16777215,vertexColors:r,linewidth:i,lineWidth:a,segments:s,dashed:o,...l},u){var c,d;const h=ef(b=>b.size),p=Re.useMemo(()=>s?new Aj:new Qce,[s]),[g]=Re.useState(()=>new YN),x=(r==null||(c=r[0])==null?void 0:c.length)===4?4:3,A=Re.useMemo(()=>{const b=s?new WN:new wj,_=e.map(M=>{const E=Array.isArray(M);return M instanceof Ce||M instanceof er?[M.x,M.y,M.z]:M instanceof bt?[M.x,M.y,0]:E&&M.length===3?[M[0],M[1],M[2]]:E&&M.length===2?[M[0],M[1],0]:M});if(b.setPositions(_.flat()),r){t=16777215;const M=r.map(E=>E instanceof jt?E.toArray():E);b.setColors(M.flat(),x)}return b},[e,s,r,x]);return Re.useLayoutEffect(()=>{p.computeLineDistances()},[e,p]),Re.useLayoutEffect(()=>{o?g.defines.USE_DASH="":delete g.defines.USE_DASH,g.needsUpdate=!0},[o,g]),Re.useEffect(()=>()=>{A.dispose(),g.dispose()},[A]),Re.createElement("primitive",mi({object:p,ref:u},l),Re.createElement("primitive",{object:A,attach:"geometry"}),Re.createElement("primitive",mi({object:g,attach:"material",color:t,vertexColors:!!r,resolution:[h.width,h.height],linewidth:(d=i??a)!==null&&d!==void 0?d:1,dashed:o,transparent:x===4},l)))});function Jce(){var n=Object.create(null);function e(i,a){var s=i.id,o=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!n[s])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(p){if(p instanceof Error)throw p}),h=n[h.id].value),h}),u=r("<"+o+">.init",u),c&&(c=r("<"+o+">.getTransferables",c));var d=null;typeof u=="function"?d=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[s]={id:s,value:d,getTransferables:c},a(d)}catch(h){h&&h.noLog||console.error(h),a(h)}}function t(i,a){var s,o=i.id,l=i.args;(!n[o]||typeof n[o].value!="function")&&a(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var u=(s=n[o]).value.apply(s,l);u&&typeof u.then=="function"?u.then(c,function(d){return a(d instanceof Error?d:new Error(""+d))}):c(u)}catch(d){a(d)}function c(d){try{var h=n[o].getTransferables&&n[o].getTransferables(d);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),a(d,h)}catch(p){console.error(p),a(p)}}}function r(i,a){var s=void 0;self.troikaDefine=function(l){return s=l};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(l){console.error(l)}return URL.revokeObjectURL(o),delete self.troikaDefine,s}self.addEventListener("message",function(i){var a=i.data,s=a.messageId,o=a.action,l=a.data;try{o==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof u=="function"}})}),o==="callModule"&&t(l,function(u,c){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:s,success:!1,error:u.stack})}})}function efe(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(t).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var Mj=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return Mj=function(){return n},n},tfe=0,nfe=0,s_=!1,hy=Object.create(null),my=Object.create(null),OE=Object.create(null);function k1(n){if((!n||typeof n.init!="function")&&!s_)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId,a=efe(n);i==null&&(i="#default");var s="workerModule"+ ++tfe,o=n.name||s,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(s_=!0,c=k1({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+w3(c)+`
)}`}),s_=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];if(!Mj())return a.apply(void 0,c);if(!l){l=iR(i,"registerModule",u.workerModuleData);var h=function(){l=null,my[i].delete(h)};(my[i]||(my[i]=new Set)).add(h)}return l.then(function(p){var g=p.isCallable;if(g)return iR(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:w3(t),getTransferables:r&&w3(r)},u.onMainThread=a,u}function rfe(n){my[n]&&my[n].forEach(function(e){e()}),hy[n]&&(hy[n].terminate(),delete hy[n])}function w3(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function ife(n){var e=hy[n];if(!e){var t=w3(Jce);e=hy[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,s=OE[a];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete OE[a],s(i)}}return e}function iR(n,e,t){return new Promise(function(r,i){var a=++nfe;OE[a]=function(s){s.success?r(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},ife(n).postMessage({messageId:a,action:e,data:t})})}function _j(){var n=(function(e){function t(H,ae,W,K,Q,te,le,de){var ce=1-le;de.x=ce*ce*H+2*ce*le*W+le*le*Q,de.y=ce*ce*ae+2*ce*le*K+le*le*te}function r(H,ae,W,K,Q,te,le,de,ce,be){var Te=1-ce;be.x=Te*Te*Te*H+3*Te*Te*ce*W+3*Te*ce*ce*Q+ce*ce*ce*le,be.y=Te*Te*Te*ae+3*Te*Te*ce*K+3*Te*ce*ce*te+ce*ce*ce*de}function i(H,ae){for(var W=/([MLQCZ])([^MLQCZ]*)/g,K,Q,te,le,de;K=W.exec(H);){var ce=K[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(be){return parseFloat(be)});switch(K[1]){case"M":le=Q=ce[0],de=te=ce[1];break;case"L":(ce[0]!==le||ce[1]!==de)&&ae("L",le,de,le=ce[0],de=ce[1]);break;case"Q":{ae("Q",le,de,le=ce[2],de=ce[3],ce[0],ce[1]);break}case"C":{ae("C",le,de,le=ce[4],de=ce[5],ce[0],ce[1],ce[2],ce[3]);break}case"Z":(le!==Q||de!==te)&&ae("L",le,de,Q,te);break}}}function a(H,ae,W){W===void 0&&(W=16);var K={x:0,y:0};i(H,function(Q,te,le,de,ce,be,Te,Oe,Fe){switch(Q){case"L":ae(te,le,de,ce);break;case"Q":{for(var Se=te,Ve=le,ve=1;ve<W;ve++)t(te,le,be,Te,de,ce,ve/(W-1),K),ae(Se,Ve,K.x,K.y),Se=K.x,Ve=K.y;break}case"C":{for(var fe=te,he=le,Be=1;Be<W;Be++)r(te,le,be,Te,Oe,Fe,de,ce,Be/(W-1),K),ae(fe,he,K.x,K.y),fe=K.x,he=K.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(H,ae){var W=H.getContext?H.getContext("webgl",u):H,K=l.get(W);if(!K){let fe=function(ie){var re=te[ie];if(!re&&(re=te[ie]=W.getExtension(ie),!re))throw new Error(ie+" not supported");return re},he=function(ie,re){var ee=W.createShader(re);return W.shaderSource(ee,ie),W.compileShader(ee),ee},Be=function(ie,re,ee,oe){if(!le[ie]){var ge={},De={},Le=W.createProgram();W.attachShader(Le,he(re,W.VERTEX_SHADER)),W.attachShader(Le,he(ee,W.FRAGMENT_SHADER)),W.linkProgram(Le),le[ie]={program:Le,transaction:function(He){W.useProgram(Le),He({setUniform:function(Xe,We){for(var st=[],lt=arguments.length-2;lt-- >0;)st[lt]=arguments[lt+2];var Ke=De[We]||(De[We]=W.getUniformLocation(Le,We));W["uniform"+Xe].apply(W,[Ke].concat(st))},setAttribute:function(Xe,We,st,lt,Ke){var ze=ge[Xe];ze||(ze=ge[Xe]={buf:W.createBuffer(),loc:W.getAttribLocation(Le,Xe),data:null}),W.bindBuffer(W.ARRAY_BUFFER,ze.buf),W.vertexAttribPointer(ze.loc,We,W.FLOAT,!1,0,0),W.enableVertexAttribArray(ze.loc),Q?W.vertexAttribDivisor(ze.loc,lt):fe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ze.loc,lt),Ke!==ze.data&&(W.bufferData(W.ARRAY_BUFFER,Ke,st),ze.data=Ke)}})}}}le[ie].transaction(oe)},ue=function(ie,re){ce++;try{W.activeTexture(W.TEXTURE0+ce);var ee=de[ie];ee||(ee=de[ie]=W.createTexture(),W.bindTexture(W.TEXTURE_2D,ee),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST)),W.bindTexture(W.TEXTURE_2D,ee),re(ee,ce)}finally{ce--}},xe=function(ie,re,ee){var oe=W.createFramebuffer();be.push(oe),W.bindFramebuffer(W.FRAMEBUFFER,oe),W.activeTexture(W.TEXTURE0+re),W.bindTexture(W.TEXTURE_2D,ie),W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,ie,0);try{ee(oe)}finally{W.deleteFramebuffer(oe),W.bindFramebuffer(W.FRAMEBUFFER,be[--be.length-1]||null)}},we=function(){te={},le={},de={},ce=-1,be.length=0};var Te=fe,Oe=he,Fe=Be,Se=ue,Ve=xe,ve=we,Q=typeof WebGL2RenderingContext<"u"&&W instanceof WebGL2RenderingContext,te={},le={},de={},ce=-1,be=[];W.canvas.addEventListener("webglcontextlost",function(ie){we(),ie.preventDefault()},!1),l.set(W,K={gl:W,isWebGL2:Q,getExtension:fe,withProgram:Be,withTexture:ue,withTextureFramebuffer:xe,handleContextLoss:we})}ae(K)}function d(H,ae,W,K,Q,te,le,de){le===void 0&&(le=15),de===void 0&&(de=null),c(H,function(ce){var be=ce.gl,Te=ce.withProgram,Oe=ce.withTexture;Oe("copy",function(Fe,Se){be.texImage2D(be.TEXTURE_2D,0,be.RGBA,Q,te,0,be.RGBA,be.UNSIGNED_BYTE,ae),Te("copy",s,o,function(Ve){var ve=Ve.setUniform,fe=Ve.setAttribute;fe("aUV",2,be.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ve("1i","image",Se),be.bindFramebuffer(be.FRAMEBUFFER,de||null),be.disable(be.BLEND),be.colorMask(le&8,le&4,le&2,le&1),be.viewport(W,K,Q,te),be.scissor(W,K,Q,te),be.drawArrays(be.TRIANGLES,0,3)})})})}function h(H,ae,W){var K=H.width,Q=H.height;c(H,function(te){var le=te.gl,de=new Uint8Array(K*Q*4);le.readPixels(0,0,K,Q,le.RGBA,le.UNSIGNED_BYTE,de),H.width=ae,H.height=W,d(le,de,0,0,K,Q)})}var p=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:d,resizeWebGLCanvasWithoutClearing:h});function g(H,ae,W,K,Q,te){te===void 0&&(te=1);var le=new Uint8Array(H*ae),de=K[2]-K[0],ce=K[3]-K[1],be=[];a(W,function(fe,he,Be,ue){be.push({x1:fe,y1:he,x2:Be,y2:ue,minX:Math.min(fe,Be),minY:Math.min(he,ue),maxX:Math.max(fe,Be),maxY:Math.max(he,ue)})}),be.sort(function(fe,he){return fe.maxX-he.maxX});for(var Te=0;Te<H;Te++)for(var Oe=0;Oe<ae;Oe++){var Fe=Ve(K[0]+de*(Te+.5)/H,K[1]+ce*(Oe+.5)/ae),Se=Math.pow(1-Math.abs(Fe)/Q,te)/2;Fe<0&&(Se=1-Se),Se=Math.max(0,Math.min(255,Math.round(Se*255))),le[Oe*H+Te]=Se}return le;function Ve(fe,he){for(var Be=1/0,ue=1/0,xe=be.length;xe--;){var we=be[xe];if(we.maxX+ue<=fe)break;if(fe+ue>we.minX&&he-ue<we.maxY&&he+ue>we.minY){var ie=b(fe,he,we.x1,we.y1,we.x2,we.y2);ie<Be&&(Be=ie,ue=Math.sqrt(Be))}}return ve(fe,he)&&(ue=-ue),ue}function ve(fe,he){for(var Be=0,ue=be.length;ue--;){var xe=be[ue];if(xe.maxX<=fe)break;var we=xe.y1>he!=xe.y2>he&&fe<(xe.x2-xe.x1)*(he-xe.y1)/(xe.y2-xe.y1)+xe.x1;we&&(Be+=xe.y1<xe.y2?1:-1)}return Be!==0}}function x(H,ae,W,K,Q,te,le,de,ce,be){te===void 0&&(te=1),de===void 0&&(de=0),ce===void 0&&(ce=0),be===void 0&&(be=0),A(H,ae,W,K,Q,te,le,null,de,ce,be)}function A(H,ae,W,K,Q,te,le,de,ce,be,Te){te===void 0&&(te=1),ce===void 0&&(ce=0),be===void 0&&(be=0),Te===void 0&&(Te=0);for(var Oe=g(H,ae,W,K,Q,te),Fe=new Uint8Array(Oe.length*4),Se=0;Se<Oe.length;Se++)Fe[Se*4+Te]=Oe[Se];d(le,Fe,ce,be,H,ae,1<<3-Te,de)}function b(H,ae,W,K,Q,te){var le=Q-W,de=te-K,ce=le*le+de*de,be=ce?Math.max(0,Math.min(1,((H-W)*le+(ae-K)*de)/ce)):0,Te=H-(W+be*le),Oe=ae-(K+be*de);return Te*Te+Oe*Oe}var _=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:x,generateIntoFramebuffer:A}),M="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",E="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",C="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",T=new Float32Array([0,0,2,0,0,2]),B=null,z=!1,R={},O=new WeakMap;function U(H){if(!z&&!$(H))throw new Error("WebGL generation not supported")}function I(H,ae,W,K,Q,te,le){if(te===void 0&&(te=1),le===void 0&&(le=null),!le&&(le=B,!le)){var de=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!de)throw new Error("OffscreenCanvas or DOM canvas not supported");le=B=de.getContext("webgl",{depth:!1})}U(le);var ce=new Uint8Array(H*ae*4);c(le,function(Fe){var Se=Fe.gl,Ve=Fe.withTexture,ve=Fe.withTextureFramebuffer;Ve("readable",function(fe,he){Se.texImage2D(Se.TEXTURE_2D,0,Se.RGBA,H,ae,0,Se.RGBA,Se.UNSIGNED_BYTE,null),ve(fe,he,function(Be){X(H,ae,W,K,Q,te,Se,Be,0,0,0),Se.readPixels(0,0,H,ae,Se.RGBA,Se.UNSIGNED_BYTE,ce)})})});for(var be=new Uint8Array(H*ae),Te=0,Oe=0;Te<ce.length;Te+=4)be[Oe++]=ce[Te];return be}function q(H,ae,W,K,Q,te,le,de,ce,be){te===void 0&&(te=1),de===void 0&&(de=0),ce===void 0&&(ce=0),be===void 0&&(be=0),X(H,ae,W,K,Q,te,le,null,de,ce,be)}function X(H,ae,W,K,Q,te,le,de,ce,be,Te){te===void 0&&(te=1),ce===void 0&&(ce=0),be===void 0&&(be=0),Te===void 0&&(Te=0),U(le);var Oe=[];a(W,function(Fe,Se,Ve,ve){Oe.push(Fe,Se,Ve,ve)}),Oe=new Float32Array(Oe),c(le,function(Fe){var Se=Fe.gl,Ve=Fe.isWebGL2,ve=Fe.getExtension,fe=Fe.withProgram,he=Fe.withTexture,Be=Fe.withTextureFramebuffer,ue=Fe.handleContextLoss;if(he("rawDistances",function(xe,we){(H!==xe._lastWidth||ae!==xe._lastHeight)&&Se.texImage2D(Se.TEXTURE_2D,0,Se.RGBA,xe._lastWidth=H,xe._lastHeight=ae,0,Se.RGBA,Se.UNSIGNED_BYTE,null),fe("main",M,E,function(ie){var re=ie.setAttribute,ee=ie.setUniform,oe=!Ve&&ve("ANGLE_instanced_arrays"),ge=!Ve&&ve("EXT_blend_minmax");re("aUV",2,Se.STATIC_DRAW,0,T),re("aLineSegment",4,Se.DYNAMIC_DRAW,1,Oe),ee.apply(void 0,["4f","uGlyphBounds"].concat(K)),ee("1f","uMaxDistance",Q),ee("1f","uExponent",te),Be(xe,we,function(De){Se.enable(Se.BLEND),Se.colorMask(!0,!0,!0,!0),Se.viewport(0,0,H,ae),Se.scissor(0,0,H,ae),Se.blendFunc(Se.ONE,Se.ONE),Se.blendEquationSeparate(Se.FUNC_ADD,Ve?Se.MAX:ge.MAX_EXT),Se.clear(Se.COLOR_BUFFER_BIT),Ve?Se.drawArraysInstanced(Se.TRIANGLES,0,3,Oe.length/4):oe.drawArraysInstancedANGLE(Se.TRIANGLES,0,3,Oe.length/4)})}),fe("post",s,C,function(ie){ie.setAttribute("aUV",2,Se.STATIC_DRAW,0,T),ie.setUniform("1i","tex",we),Se.bindFramebuffer(Se.FRAMEBUFFER,de),Se.disable(Se.BLEND),Se.colorMask(Te===0,Te===1,Te===2,Te===3),Se.viewport(ce,be,H,ae),Se.scissor(ce,be,H,ae),Se.drawArrays(Se.TRIANGLES,0,3)})}),Se.isContextLost())throw ue(),new Error("webgl context lost")})}function $(H){var ae=!H||H===B?R:H.canvas||H,W=O.get(ae);if(W===void 0){z=!0;var K=null;try{var Q=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],te=I(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,H);W=te&&Q.length===te.length&&te.every(function(le,de){return le===Q[de]}),W||(K="bad trial run results",console.info(Q,te))}catch(le){W=!1,K=le.message}K&&console.warn("WebGL SDF generation not supported:",K),z=!1,O.set(ae,W)}return W}var k=Object.freeze({__proto__:null,generate:I,generateIntoCanvas:q,generateIntoFramebuffer:X,isSupported:$});function P(H,ae,W,K,Q,te){Q===void 0&&(Q=Math.max(K[2]-K[0],K[3]-K[1])/2),te===void 0&&(te=1);try{return I.apply(k,arguments)}catch(le){return console.info("WebGL SDF generation failed, falling back to JS",le),g.apply(_,arguments)}}function Z(H,ae,W,K,Q,te,le,de,ce,be){Q===void 0&&(Q=Math.max(K[2]-K[0],K[3]-K[1])/2),te===void 0&&(te=1),de===void 0&&(de=0),ce===void 0&&(ce=0),be===void 0&&(be=0);try{return q.apply(k,arguments)}catch(Te){return console.info("WebGL SDF generation failed, falling back to JS",Te),x.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=P,e.generateIntoCanvas=Z,e.javascript=_,e.pathToLineSegments=a,e.webgl=k,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return n}function afe(){var n=(function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(ue,xe){r[ue]=1<<xe+1,i[r[ue]]=ue}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,s=r.L|r.R|r.AL,o=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|a|r.PDI|l,c=null;function d(){if(!c){c=new Map;var ue=function(we){if(t.hasOwnProperty(we)){var ie=0;t[we].split(",").forEach(function(re){var ee=re.split("+"),oe=ee[0],ge=ee[1];oe=parseInt(oe,36),ge=ge?parseInt(ge,36):0,c.set(ie+=oe,r[we]);for(var De=0;De<ge;De++)c.set(++ie,r[we])})}};for(var xe in t)ue(xe)}}function h(ue){return d(),c.get(ue.codePointAt(0))||r.L}function p(ue){return i[h(ue)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(ue,xe){var we=36,ie=0,re=new Map,ee=xe&&new Map,oe;return ue.split(",").forEach(function ge(De){if(De.indexOf("+")!==-1)for(var Le=+De;Le--;)ge(oe);else{oe=De;var Ue=De.split(">"),He=Ue[0],et=Ue[1];He=String.fromCodePoint(ie+=parseInt(He,we)),et=String.fromCodePoint(ie+=parseInt(et,we)),re.set(He,et),xe&&ee.set(et,He)}}),{map:re,reverseMap:ee}}var A,b,_;function M(){if(!A){var ue=x(g.pairs,!0),xe=ue.map,we=ue.reverseMap;A=xe,b=we,_=x(g.canonical,!1).map}}function E(ue){return M(),A.get(ue)||null}function C(ue){return M(),b.get(ue)||null}function T(ue){return M(),_.get(ue)||null}var B=r.L,z=r.R,R=r.EN,O=r.ES,U=r.ET,I=r.AN,q=r.CS,X=r.B,$=r.S,k=r.ON,P=r.BN,Z=r.NSM,H=r.AL,ae=r.LRO,W=r.RLO,K=r.LRE,Q=r.RLE,te=r.PDF,le=r.LRI,de=r.RLI,ce=r.FSI,be=r.PDI;function Te(ue,xe){for(var we=125,ie=new Uint32Array(ue.length),re=0;re<ue.length;re++)ie[re]=h(ue[re]);var ee=new Map;function oe(Ea,Ss){var Hi=ie[Ea];ie[Ea]=Ss,ee.set(Hi,ee.get(Hi)-1),Hi&o&&ee.set(o,ee.get(o)-1),ee.set(Ss,(ee.get(Ss)||0)+1),Ss&o&&ee.set(o,(ee.get(o)||0)+1)}for(var ge=new Uint8Array(ue.length),De=new Map,Le=[],Ue=null,He=0;He<ue.length;He++)Ue||Le.push(Ue={start:He,end:ue.length-1,level:xe==="rtl"?1:xe==="ltr"?0:wh(He,!1)}),ie[He]&X&&(Ue.end=He,Ue=null);for(var et=Q|K|W|ae|a|be|te|X,Xe=function(Ea){return Ea+(Ea&1?1:2)},We=function(Ea){return Ea+(Ea&1?2:1)},st=0;st<Le.length;st++){Ue=Le[st];var lt=[{_level:Ue.level,_override:0,_isolate:0}],Ke=void 0,ze=0,G=0,Ne=0;ee.clear();for(var me=Ue.start;me<=Ue.end;me++){var Pe=ie[me];if(Ke=lt[lt.length-1],ee.set(Pe,(ee.get(Pe)||0)+1),Pe&o&&ee.set(o,(ee.get(o)||0)+1),Pe&et)if(Pe&(Q|K)){ge[me]=Ke._level;var $e=(Pe===Q?We:Xe)(Ke._level);$e<=we&&!ze&&!G?lt.push({_level:$e,_override:0,_isolate:0}):ze||G++}else if(Pe&(W|ae)){ge[me]=Ke._level;var tt=(Pe===W?We:Xe)(Ke._level);tt<=we&&!ze&&!G?lt.push({_level:tt,_override:Pe&W?z:B,_isolate:0}):ze||G++}else if(Pe&a){Pe&ce&&(Pe=wh(me+1,!0)===1?de:le),ge[me]=Ke._level,Ke._override&&oe(me,Ke._override);var xt=(Pe===de?We:Xe)(Ke._level);xt<=we&&ze===0&&G===0?(Ne++,lt.push({_level:xt,_override:0,_isolate:1,_isolInitIndex:me})):ze++}else if(Pe&be){if(ze>0)ze--;else if(Ne>0){for(G=0;!lt[lt.length-1]._isolate;)lt.pop();var wt=lt[lt.length-1]._isolInitIndex;wt!=null&&(De.set(wt,me),De.set(me,wt)),lt.pop(),Ne--}Ke=lt[lt.length-1],ge[me]=Ke._level,Ke._override&&oe(me,Ke._override)}else Pe&te?(ze===0&&(G>0?G--:!Ke._isolate&&lt.length>1&&(lt.pop(),Ke=lt[lt.length-1])),ge[me]=Ke._level):Pe&X&&(ge[me]=Ue.level);else ge[me]=Ke._level,Ke._override&&Pe!==P&&oe(me,Ke._override)}for(var kt=[],Jt=null,Ht=Ue.start;Ht<=Ue.end;Ht++){var Wt=ie[Ht];if(!(Wt&l)){var Fn=ge[Ht],ar=Wt&a,Ir=Wt===be;Jt&&Fn===Jt._level?(Jt._end=Ht,Jt._endsWithIsolInit=ar):kt.push(Jt={_start:Ht,_end:Ht,_level:Fn,_startsWithPDI:Ir,_endsWithIsolInit:ar})}}for(var Di=[],vi=0;vi<kt.length;vi++){var Kr=kt[vi];if(!Kr._startsWithPDI||Kr._startsWithPDI&&!De.has(Kr._start)){for(var ca=[Jt=Kr],yi=void 0;Jt&&Jt._endsWithIsolInit&&(yi=De.get(Jt._end))!=null;)for(var Hr=vi+1;Hr<kt.length;Hr++)if(kt[Hr]._start===yi){ca.push(Jt=kt[Hr]);break}for(var _r=[],mn=0;mn<ca.length;mn++)for(var hi=ca[mn],wa=hi._start;wa<=hi._end;wa++)_r.push(wa);for(var zl=ge[_r[0]],Au=Ue.level,Ul=_r[0]-1;Ul>=0;Ul--)if(!(ie[Ul]&l)){Au=ge[Ul];break}var _e=_r[_r.length-1],Je=ge[_e],dt=Ue.level;if(!(ie[_e]&a)){for(var at=_e+1;at<=Ue.end;at++)if(!(ie[at]&l)){dt=ge[at];break}}Di.push({_seqIndices:_r,_sosType:Math.max(Au,zl)%2?z:B,_eosType:Math.max(dt,Je)%2?z:B})}}for(var Ye=0;Ye<Di.length;Ye++){var Et=Di[Ye],ot=Et._seqIndices,Tt=Et._sosType,qt=Et._eosType,tn=ge[ot[0]]&1?z:B;if(ee.get(Z))for(var nn=0;nn<ot.length;nn++){var Gt=ot[nn];if(ie[Gt]&Z){for(var Kn=Tt,ur=nn-1;ur>=0;ur--)if(!(ie[ot[ur]]&l)){Kn=ie[ot[ur]];break}oe(Gt,Kn&(a|be)?k:Kn)}}if(ee.get(R))for(var dr=0;dr<ot.length;dr++){var ji=ot[dr];if(ie[ji]&R)for(var Vn=dr-1;Vn>=-1;Vn--){var Kt=Vn===-1?Tt:ie[ot[Vn]];if(Kt&s){Kt===H&&oe(ji,I);break}}}if(ee.get(H))for(var ri=0;ri<ot.length;ri++){var En=ot[ri];ie[En]&H&&oe(En,z)}if(ee.get(O)||ee.get(q))for(var Vi=1;Vi<ot.length-1;Vi++){var Ws=ot[Vi];if(ie[Ws]&(O|q)){for(var ii=0,Ys=0,sr=Vi-1;sr>=0&&(ii=ie[ot[sr]],!!(ii&l));sr--);for(var Aa=Vi+1;Aa<ot.length&&(Ys=ie[ot[Aa]],!!(Ys&l));Aa++);ii===Ys&&(ie[Ws]===O?ii===R:ii&(R|I))&&oe(Ws,ii)}}if(ee.get(R))for(var Rr=0;Rr<ot.length;Rr++){var ea=ot[Rr];if(ie[ea]&R){for(var Ma=Rr-1;Ma>=0&&ie[ot[Ma]]&(U|l);Ma--)oe(ot[Ma],R);for(Rr++;Rr<ot.length&&ie[ot[Rr]]&(U|l|R);Rr++)ie[ot[Rr]]!==R&&oe(ot[Rr],R)}}if(ee.get(U)||ee.get(O)||ee.get(q))for(var ta=0;ta<ot.length;ta++){var zo=ot[ta];if(ie[zo]&(U|O|q)){oe(zo,k);for(var Sc=ta-1;Sc>=0&&ie[ot[Sc]]&l;Sc--)oe(ot[Sc],k);for(var Uo=ta+1;Uo<ot.length&&ie[ot[Uo]]&l;Uo++)oe(ot[Uo],k)}}if(ee.get(R))for(var sl=0,_f=Tt;sl<ot.length;sl++){var wc=ot[sl],Ef=ie[wc];Ef&R?_f===B&&oe(wc,B):Ef&s&&(_f=Ef)}if(ee.get(o)){var ol=z|R|I,Sh=ol|B,Nf=[];{for(var Fo=[],_a=0;_a<ot.length;_a++)if(ie[ot[_a]]&o){var ll=ue[ot[_a]],Tf=void 0;if(E(ll)!==null)if(Fo.length<63)Fo.push({char:ll,seqIndex:_a});else break;else if((Tf=C(ll))!==null)for(var Zs=Fo.length-1;Zs>=0;Zs--){var Lo=Fo[Zs].char;if(Lo===Tf||Lo===C(T(ll))||E(T(Lo))===ll){Nf.push([Fo[Zs].seqIndex,_a]),Fo.length=Zs;break}}}Nf.sort(function(Ea,Ss){return Ea[0]-Ss[0]})}for(var Cf=0;Cf<Nf.length;Cf++){for(var Df=Nf[Cf],Ac=Df[0],ul=Df[1],Ks=!1,Va=0,Mu=Ac+1;Mu<ul;Mu++){var cl=ot[Mu];if(ie[cl]&Sh){Ks=!0;var Rf=ie[cl]&ol?z:B;if(Rf===tn){Va=Rf;break}}}if(Ks&&!Va){Va=Tt;for(var ko=Ac-1;ko>=0;ko--){var Bf=ot[ko];if(ie[Bf]&Sh){var Fl=ie[Bf]&ol?z:B;Fl!==tn?Va=Fl:Va=tn;break}}}if(Va){if(ie[ot[Ac]]=ie[ot[ul]]=Va,Va!==tn){for(var fl=Ac+1;fl<ot.length;fl++)if(!(ie[ot[fl]]&l)){h(ue[ot[fl]])&Z&&(ie[ot[fl]]=Va);break}}if(Va!==tn){for(var _u=ul+1;_u<ot.length;_u++)if(!(ie[ot[_u]]&l)){h(ue[ot[_u]])&Z&&(ie[ot[_u]]=Va);break}}}}for(var ai=0;ai<ot.length;ai++)if(ie[ot[ai]]&o){for(var dl=ai,Eu=ai,ts=Tt,Ll=ai-1;Ll>=0;Ll--)if(ie[ot[Ll]]&l)dl=Ll;else{ts=ie[ot[Ll]]&ol?z:B;break}for(var Of=qt,hl=ai+1;hl<ot.length;hl++)if(ie[ot[hl]]&(o|l))Eu=hl;else{Of=ie[ot[hl]]&ol?z:B;break}for(var kl=dl;kl<=Eu;kl++)ie[ot[kl]]=ts===Of?ts:tn;ai=Eu}}}for(var na=Ue.start;na<=Ue.end;na++){var pp=ge[na],bi=ie[na];if(pp&1?bi&(B|R|I)&&ge[na]++:bi&z?ge[na]++:bi&(I|R)&&(ge[na]+=2),bi&l&&(ge[na]=na===0?Ue.level:ge[na-1]),na===Ue.end||h(ue[na])&($|X))for(var zf=na;zf>=0&&h(ue[zf])&u;zf--)ge[zf]=Ue.level}}return{levels:ge,paragraphs:Le};function wh(Ea,Ss){for(var Hi=Ea;Hi<ue.length;Hi++){var Io=ie[Hi];if(Io&(z|H))return 1;if(Io&(X|B)||Ss&&Io===be)return 0;if(Io&a){var Ah=Wd(Hi);Hi=Ah===-1?ue.length:Ah}}return 0}function Wd(Ea){for(var Ss=1,Hi=Ea+1;Hi<ue.length;Hi++){var Io=ie[Hi];if(Io&X)break;if(Io&be){if(--Ss===0)return Hi}else Io&a&&Ss++}return-1}}var Oe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Fe;function Se(){if(!Fe){var ue=x(Oe,!0),xe=ue.map,we=ue.reverseMap;we.forEach(function(ie,re){xe.set(re,ie)}),Fe=xe}}function Ve(ue){return Se(),Fe.get(ue)||null}function ve(ue,xe,we,ie){var re=ue.length;we=Math.max(0,we==null?0:+we),ie=Math.min(re-1,ie==null?re-1:+ie);for(var ee=new Map,oe=we;oe<=ie;oe++)if(xe[oe]&1){var ge=Ve(ue[oe]);ge!==null&&ee.set(oe,ge)}return ee}function fe(ue,xe,we,ie){var re=ue.length;we=Math.max(0,we==null?0:+we),ie=Math.min(re-1,ie==null?re-1:+ie);var ee=[];return xe.paragraphs.forEach(function(oe){var ge=Math.max(we,oe.start),De=Math.min(ie,oe.end);if(ge<De){for(var Le=xe.levels.slice(ge,De+1),Ue=De;Ue>=ge&&h(ue[Ue])&u;Ue--)Le[Ue]=oe.level;for(var He=oe.level,et=1/0,Xe=0;Xe<Le.length;Xe++){var We=Le[Xe];We>He&&(He=We),We<et&&(et=We|1)}for(var st=He;st>=et;st--)for(var lt=0;lt<Le.length;lt++)if(Le[lt]>=st){for(var Ke=lt;lt+1<Le.length&&Le[lt+1]>=st;)lt++;lt>Ke&&ee.push([Ke+ge,lt+ge])}}}),ee}function he(ue,xe,we,ie){var re=Be(ue,xe,we,ie),ee=[].concat(ue);return re.forEach(function(oe,ge){ee[ge]=(xe.levels[oe]&1?Ve(ue[oe]):null)||ue[oe]}),ee.join("")}function Be(ue,xe,we,ie){for(var re=fe(ue,xe,we,ie),ee=[],oe=0;oe<ue.length;oe++)ee[oe]=oe;return re.forEach(function(ge){for(var De=ge[0],Le=ge[1],Ue=ee.slice(De,Le+1),He=Ue.length;He--;)ee[Le-He]=Ue[He]}),ee}return e.closingToOpeningBracket=C,e.getBidiCharType=h,e.getBidiCharTypeName=p,e.getCanonicalBracket=T,e.getEmbeddingLevels=Te,e.getMirroredCharacter=Ve,e.getMirroredCharactersMap=ve,e.getReorderSegments=fe,e.getReorderedIndices=Be,e.getReorderedString=he,e.openingToClosingBracket=E,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return n}const Ej=/\bvoid\s+main\s*\(\s*\)\s*{/g;function zE(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let a=Gn[i];return a?zE(a):r}return n.replace(e,t)}const ds=[];for(let n=0;n<256;n++)ds[n]=(n<16?"0":"")+n.toString(16);function sfe(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ds[n&255]+ds[n>>8&255]+ds[n>>16&255]+ds[n>>24&255]+"-"+ds[e&255]+ds[e>>8&255]+"-"+ds[e>>16&15|64]+ds[e>>24&255]+"-"+ds[t&63|128]+ds[t>>8&255]+"-"+ds[t>>16&255]+ds[t>>24&255]+ds[r&255]+ds[r>>8&255]+ds[r>>16&255]+ds[r>>24&255]).toUpperCase()}const Sm=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ofe=Date.now(),aR=new WeakMap,sR=new Map;let lfe=1e10;function UE(n,e){const t=dfe(e);let r=aR.get(n);if(r||aR.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,a=function(u,c){n.onBeforeCompile.call(this,u,c);const d=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=sR[d];if(!h){const p=ufe(this,u,e,t);h=sR[d]=p}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,Sm(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-ofe}}),this[i]&&this[i](u)},s=function(){return o(e.chained?n:n.clone())},o=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:n}),Object.defineProperty(c,"id",{value:lfe++}),c.uuid=sfe(),c.uniforms=Sm({},u.uniforms,e.uniforms),c.defines=Sm({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",c.extensions=Sm({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>n.type,set:u=>{n.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return a},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return n.copy.call(this,u),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Sm(this.extensions,u.extensions),Sm(this.defines,u.defines),Sm(this.uniforms,h1.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new n.constructor;return o(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=UE(n.isDerivedMaterial?n.getDepthMaterial():new Iw({depthPacking:mN}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=UE(n.isDerivedMaterial?n.getDistanceMaterial():new Pw,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),n.dispose.call(this)}}};return r[t]=s,new s}function ufe(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:a,vertexMainIntro:s,vertexMainOutro:o,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:d,fragmentColorTransform:h,customRewriter:p,timeUniform:g}=r;if(a=a||"",s=s||"",o=o||"",u=u||"",c=c||"",d=d||"",(l||p)&&(e=zE(e)),(h||p)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=zE(t)),p){let x=p({vertexShader:e,fragmentShader:t});e=x.vertexShader,t=x.fragmentShader}if(h){let x=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,A=>(x.push(A),"")),d=`${h}
${x.join(`
`)}
${d}`}if(g){const x=`
uniform float ${g};
`;a=x+a,u=x+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(x,A,b,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,b))?A:`troika_${A}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=oR(e,i,a,s,o),t=oR(t,i,u,c,d),{vertexShader:e,fragmentShader:t}}function oR(n,e,t,r,i){return(r||i||t)&&(n=n.replace(Ej,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function cfe(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let ffe=0;const lR=new Map;function dfe(n){const e=JSON.stringify(n,cfe);let t=lR.get(e);return t==null&&lR.set(e,t=++ffe),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function hfe(){return typeof window>"u"&&(self.window=self),(function(n){var e={parse:function(i){var a=e._bin,s=new Uint8Array(i);if(a.readASCII(s,0,4)=="ttcf"){var o=4;a.readUshort(s,o),o+=2,a.readUshort(s,o),o+=2;var l=a.readUint(s,o);o+=4;for(var u=[],c=0;c<l;c++){var d=a.readUint(s,o);o+=4,u.push(e._readFont(s,d))}return u}return[e._readFont(s,0)]},_readFont:function(i,a){var s=e._bin,o=a;s.readFixed(i,a),a+=4;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:o},d={},h=0;h<l;h++){var p=s.readASCII(i,a,4);a+=4,s.readUint(i,a),a+=4;var g=s.readUint(i,a);a+=4;var x=s.readUint(i,a);a+=4,d[p]={offset:g,length:x}}for(h=0;h<u.length;h++){var A=u[h];d[A]&&(c[A.trim()]=e[A.trim()].parse(i,d[A].offset,d[A].length,c))}return c},_tabOffset:function(i,a,s){for(var o=e._bin,l=o.readUshort(i,s+4),u=s+12,c=0;c<l;c++){var d=o.readASCII(i,u,4);u+=4,o.readUint(i,u),u+=4;var h=o.readUint(i,u);if(u+=4,o.readUint(i,u),u+=4,d==a)return h}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(e._bin.readUshort(i,a+2*l));return o},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,s){for(var o="",l=0;l<s;l++)o+=String.fromCharCode(i[a+l]);return o},readUnicode:function(i,a,s){for(var o="",l=0;l<s;l++){var u=i[a++]<<8|i[a++];o+=String.fromCharCode(u)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,s){var o=e._bin._tdec;return o&&a==0&&s==i.length?o.decode(i):e._bin.readASCII(i,a,s)},readBytes:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(i[a+l]);return o},readASCIIArray:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(String.fromCharCode(i[a+l]));return o},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,s,o,l){var u=e._bin,c={},d=a;u.readFixed(i,a),a+=4;var h=u.readUshort(i,a);a+=2;var p=u.readUshort(i,a);a+=2;var g=u.readUshort(i,a);return a+=2,c.scriptList=e._lctf.readScriptList(i,d+h),c.featureList=e._lctf.readFeatureList(i,d+p),c.lookupList=e._lctf.readLookupList(i,d+g,l),c},e._lctf.readLookupList=function(i,a,s){var o=e._bin,l=a,u=[],c=o.readUshort(i,a);a+=2;for(var d=0;d<c;d++){var h=o.readUshort(i,a);a+=2;var p=e._lctf.readLookupTable(i,l+h,s);u.push(p)}return u},e._lctf.readLookupTable=function(i,a,s){var o=e._bin,l=a,u={tabs:[]};u.ltype=o.readUshort(i,a),a+=2,u.flag=o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2;for(var d=u.ltype,h=0;h<c;h++){var p=o.readUshort(i,a);a+=2;var g=s(i,d,l+p,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var a=0,s=0;s<32;s++)(i>>>s&1)!=0&&a++;return a},e._lctf.readClassDef=function(i,a){var s=e._bin,o=[],l=s.readUshort(i,a);if(a+=2,l==1){var u=s.readUshort(i,a);a+=2;var c=s.readUshort(i,a);a+=2;for(var d=0;d<c;d++)o.push(u+d),o.push(u+d),o.push(s.readUshort(i,a)),a+=2}if(l==2){var h=s.readUshort(i,a);for(a+=2,d=0;d<h;d++)o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2}return o},e._lctf.getInterval=function(i,a){for(var s=0;s<i.length;s+=3){var o=i[s],l=i[s+1];if(i[s+2],o<=a&&a<=l)return s}return-1},e._lctf.readCoverage=function(i,a){var s=e._bin,o={};o.fmt=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.fmt==1&&(o.tab=s.readUshorts(i,a,l)),o.fmt==2&&(o.tab=s.readUshorts(i,a,3*l)),o},e._lctf.coverageIndex=function(i,a){var s=i.tab;if(i.fmt==1)return s.indexOf(a);if(i.fmt==2){var o=e._lctf.getInterval(s,a);if(o!=-1)return s[o+2]+(a-s[o])}return-1},e._lctf.readFeatureList=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var d=s.readASCII(i,a,4);a+=4;var h=s.readUshort(i,a);a+=2;var p=e._lctf.readFeatureTable(i,o+h);p.tag=d.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2,u>0&&(l.featureParams=o+u);var c=s.readUshort(i,a);a+=2,l.tab=[];for(var d=0;d<c;d++)l.tab.push(s.readUshort(i,a+2*d));return l},e._lctf.readScriptList=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var d=s.readASCII(i,a,4);a+=4;var h=s.readUshort(i,a);a+=2,l[d.trim()]=e._lctf.readScriptTable(i,o+h)}return l},e._lctf.readScriptTable=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,o+u));var c=s.readUshort(i,a);a+=2;for(var d=0;d<c;d++){var h=s.readASCII(i,a,4);a+=4;var p=s.readUshort(i,a);a+=2,l[h.trim()]=e._lctf.readLangSysTable(i,o+p)}return l},e._lctf.readLangSysTable=function(i,a){var s=e._bin,o={};s.readUshort(i,a),a+=2,o.reqFeature=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.features=s.readUshorts(i,a,l),o},e.CFF={},e.CFF.parse=function(i,a,s){var o=e._bin;(i=new Uint8Array(i.buffer,a,s))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var u=[],c=0;c<l.length-1;c++)u.push(o.readASCII(i,a+l[c],l[c+1]-l[c]));a+=l[l.length-1];var d=[];a=e.CFF.readIndex(i,a,d);var h=[];for(c=0;c<d.length-1;c++)h.push(e.CFF.readDict(i,a+d[c],a+d[c+1]));a+=d[d.length-1];var p=h[0],g=[];a=e.CFF.readIndex(i,a,g);var x=[];for(c=0;c<g.length-1;c++)x.push(o.readASCII(i,a+g[c],g[c+1]-g[c]));if(a+=g[g.length-1],e.CFF.readSubrs(i,a,p),p.CharStrings){a=p.CharStrings,g=[],a=e.CFF.readIndex(i,a,g);var A=[];for(c=0;c<g.length-1;c++)A.push(o.readBytes(i,a+g[c],g[c+1]-g[c]));p.CharStrings=A}if(p.ROS){a=p.FDArray;var b=[];for(a=e.CFF.readIndex(i,a,b),p.FDArray=[],c=0;c<b.length-1;c++){var _=e.CFF.readDict(i,a+b[c],a+b[c+1]);e.CFF._readFDict(i,_,x),p.FDArray.push(_)}a+=b[b.length-1],a=p.FDSelect,p.FDSelect=[];var M=i[a];if(a++,M!=3)throw M;var E=o.readUshort(i,a);for(a+=2,c=0;c<E+1;c++)p.FDSelect.push(o.readUshort(i,a),i[a+2]),a+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,x),p},e.CFF._readFDict=function(i,a,s){var o;for(var l in a.Private&&(o=a.Private[1],a.Private=e.CFF.readDict(i,o,o+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,o+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=s[a[l]-426+35])},e.CFF.readSubrs=function(i,a,s){var o=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,s.Bias=u,s.Subrs=[];for(var d=0;d<l.length-1;d++)s.Subrs.push(o.readBytes(i,a+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==a)return s;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,s){e._bin;var o=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var u=i[a];a++;for(var c=0;c<u;c++)o.push(i[a+c]);return o},e.CFF.readCharset=function(i,a,s){var o=e._bin,l=[".notdef"],u=i[a];if(a++,u==0)for(var c=0;c<s;c++){var d=o.readUshort(i,a);a+=2,l.push(d)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<s;){d=o.readUshort(i,a),a+=2;var h=0;for(u==1?(h=i[a],a++):(h=o.readUshort(i,a),a+=2),c=0;c<=h;c++)l.push(d),d++}}return l},e.CFF.readIndex=function(i,a,s){var o=e._bin,l=o.readUshort(i,a)+1,u=i[a+=2];if(a++,u==1)for(var c=0;c<l;c++)s.push(i[a+c]);else if(u==2)for(c=0;c<l;c++)s.push(o.readUshort(i,a+2*c));else if(u==3)for(c=0;c<l;c++)s.push(16777215&o.readUint(i,a+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(a+=l*u)-1},e.CFF.getCharString=function(i,a,s){var o=e._bin,l=i[a],u=i[a+1];i[a+2],i[a+3],i[a+4];var c=1,d=null,h=null;l<=20&&(d=l,c=1),l==12&&(d=100*l+u,c=2),21<=l&&l<=27&&(d=l,c=1),l==28&&(h=o.readShort(i,a+1),c=3),29<=l&&l<=31&&(d=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=o.readInt(i,a+1)/65535,c=5),s.val=h??"o"+d,s.size=c},e.CFF.readCharString=function(i,a,s){for(var o=a+s,l=e._bin,u=[];a<o;){var c=i[a],d=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,p=null,g=null;c<=20&&(p=c,h=1),c==12&&(p=100*c+d,h=2),c!=19&&c!=20||(p=c,h=2),21<=c&&c<=27&&(p=c,h=1),c==28&&(g=l.readShort(i,a+1),h=3),29<=c&&c<=31&&(p=c,h=1),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+d+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-d-108,h=2),c==255&&(g=l.readInt(i,a+1)/65535,h=5),u.push(g??"o"+p),a+=h}return u},e.CFF.readDict=function(i,a,s){for(var o=e._bin,l={},u=[];a<s;){var c=i[a],d=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,p=null,g=null;if(c==28&&(g=o.readShort(i,a+1),h=3),c==29&&(g=o.readInt(i,a+1),h=5),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+d+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-d-108,h=2),c==255)throw g=o.readInt(i,a+1)/65535,h=5,"unknown number";if(c==30){var x=[];for(h=1;;){var A=i[a+h];h++;var b=A>>4,_=15&A;if(b!=15&&x.push(b),_!=15&&x.push(_),_==15)break}for(var M="",E=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],C=0;C<x.length;C++)M+=E[x[C]];g=parseFloat(M)}c<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],h=2)),p!=null?(l[p]=u.length==1?u[0]:u,u=[]):u.push(g),a+=h}return l},e.cmap={},e.cmap.parse=function(i,a,s){i=new Uint8Array(i.buffer,a,s),a=0;var o=e._bin,l={};o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2;var c=[];l.tables=[];for(var d=0;d<u;d++){var h=o.readUshort(i,a);a+=2;var p=o.readUshort(i,a);a+=2;var g=o.readUint(i,a);a+=4;var x="p"+h+"e"+p,A=c.indexOf(g);if(A==-1){var b;A=l.tables.length,c.push(g);var _=o.readUshort(i,g);_==0?b=e.cmap.parse0(i,g):_==4?b=e.cmap.parse4(i,g):_==6?b=e.cmap.parse6(i,g):_==12?b=e.cmap.parse12(i,g):console.debug("unknown format: "+_,h,p,g),l.tables.push(b)}if(l[x]!=null)throw"multiple tables for one platform+encoding";l[x]=A}return l},e.cmap.parse0=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,o.map=[];for(var u=0;u<l-6;u++)o.map.push(i[a+u]);return o},e.cmap.parse4=function(i,a){var s=e._bin,o=a,l={};l.format=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2;var d=c/2;l.searchRange=s.readUshort(i,a),a+=2,l.entrySelector=s.readUshort(i,a),a+=2,l.rangeShift=s.readUshort(i,a),a+=2,l.endCount=s.readUshorts(i,a,d),a+=2*d,a+=2,l.startCount=s.readUshorts(i,a,d),a+=2*d,l.idDelta=[];for(var h=0;h<d;h++)l.idDelta.push(s.readShort(i,a)),a+=2;for(l.idRangeOffset=s.readUshorts(i,a,d),a+=2*d,l.glyphIdArray=[];a<o+u;)l.glyphIdArray.push(s.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,o.firstCode=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,o.glyphIdArray=[];for(var u=0;u<l;u++)o.glyphIdArray.push(s.readUshort(i,a)),a+=2;return o},e.cmap.parse12=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,a+=2,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4;var l=s.readUint(i,a);a+=4,o.groups=[];for(var u=0;u<l;u++){var c=a+12*u,d=s.readUint(i,c+0),h=s.readUint(i,c+4),p=s.readUint(i,c+8);o.groups.push([d,h,p])}return o},e.glyf={},e.glyf.parse=function(i,a,s,o){for(var l=[],u=0;u<o.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var s=e._bin,o=i._data,l=e._tabOffset(o,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var u={};if(u.noc=s.readShort(o,l),l+=2,u.xMin=s.readShort(o,l),l+=2,u.yMin=s.readShort(o,l),l+=2,u.xMax=s.readShort(o,l),l+=2,u.yMax=s.readShort(o,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(s.readUshort(o,l)),l+=2;var d=s.readUshort(o,l);if(l+=2,o.length-l<d)return null;u.instructions=s.readBytes(o,l,d),l+=d;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var p=o[l];if(l++,u.flags.push(p),(8&p)!=0){var g=o[l];l++;for(var x=0;x<g;x++)u.flags.push(p),c++}}for(u.xs=[],c=0;c<h;c++){var A=(2&u.flags[c])!=0,b=(16&u.flags[c])!=0;A?(u.xs.push(b?o[l]:-o[l]),l++):b?u.xs.push(0):(u.xs.push(s.readShort(o,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)A=(4&u.flags[c])!=0,b=(32&u.flags[c])!=0,A?(u.ys.push(b?o[l]:-o[l]),l++):b?u.ys.push(0):(u.ys.push(s.readShort(o,l)),l+=2);var _=0,M=0;for(c=0;c<h;c++)_+=u.xs[c],M+=u.ys[c],u.xs[c]=_,u.ys[c]=M}else{var E;u.parts=[];do{E=s.readUshort(o,l),l+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(C),C.glyphIndex=s.readUshort(o,l),l+=2,1&E){var T=s.readShort(o,l);l+=2;var B=s.readShort(o,l);l+=2}else T=s.readInt8(o,l),l++,B=s.readInt8(o,l),l++;2&E?(C.m.tx=T,C.m.ty=B):(C.p1=T,C.p2=B),8&E?(C.m.a=C.m.d=s.readF2dot14(o,l),l+=2):64&E?(C.m.a=s.readF2dot14(o,l),l+=2,C.m.d=s.readF2dot14(o,l),l+=2):128&E&&(C.m.a=s.readF2dot14(o,l),l+=2,C.m.b=s.readF2dot14(o,l),l+=2,C.m.c=s.readF2dot14(o,l),l+=2,C.m.d=s.readF2dot14(o,l),l+=2)}while(32&E);if(256&E){var z=s.readUshort(o,l);for(l+=2,u.instr=[],c=0;c<z;c++)u.instr.push(o[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,a,s,o){var l=a;a+=4;var u=e._bin.readUshort(i,a);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GPOS.subt)},e.GPOS.subt=function(i,a,s,o){var l=e._bin,u=s,c={};if(c.fmt=l.readUshort(i,s),s+=2,a==1||a==2||a==3||a==7||a==8&&c.fmt<=2){var d=l.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,d+u)}if(a==1&&c.fmt==1){var h=l.readUshort(i,s);s+=2,h!=0&&(c.pos=e.GPOS.readValueRecord(i,s,h))}else if(a==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var g=e._lctf.numOfOnes(h),x=e._lctf.numOfOnes(p);if(c.fmt==1){c.pairsets=[];var A=l.readUshort(i,s);s+=2;for(var b=0;b<A;b++){var _=u+l.readUshort(i,s);s+=2;var M=l.readUshort(i,_);_+=2;for(var E=[],C=0;C<M;C++){var T=l.readUshort(i,_);_+=2,h!=0&&(I=e.GPOS.readValueRecord(i,_,h),_+=2*g),p!=0&&(q=e.GPOS.readValueRecord(i,_,p),_+=2*x),E.push({gid2:T,val1:I,val2:q})}c.pairsets.push(E)}}if(c.fmt==2){var B=l.readUshort(i,s);s+=2;var z=l.readUshort(i,s);s+=2;var R=l.readUshort(i,s);s+=2;var O=l.readUshort(i,s);for(s+=2,c.classDef1=e._lctf.readClassDef(i,u+B),c.classDef2=e._lctf.readClassDef(i,u+z),c.matrix=[],b=0;b<R;b++){var U=[];for(C=0;C<O;C++){var I=null,q=null;h!=0&&(I=e.GPOS.readValueRecord(i,s,h),s+=2*g),p!=0&&(q=e.GPOS.readValueRecord(i,s,p),s+=2*x),U.push({val1:I,val2:q})}c.matrix.push(U)}}}else if(a==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,s)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+u),c.markClassCount=l.readUshort(i,s+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+u,c.markClassCount);else if(a==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,s)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+u),c.markClassCount=l.readUshort(i,s+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+u,c.markClassCount);else{if(a==9&&c.fmt==1){var X=l.readUshort(i,s);s+=2;var $=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=X;else if(o.ltype!=X)throw"invalid extension substitution";return e.GPOS.subt(i,o.ltype,u+$)}console.debug("unsupported GPOS table LookupType",a,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,a,s){var o=e._bin,l=[];return l.push(1&s?o.readShort(i,a):0),a+=1&s?2:0,l.push(2&s?o.readShort(i,a):0),a+=2&s?2:0,l.push(4&s?o.readShort(i,a):0),a+=4&s?2:0,l.push(8&s?o.readShort(i,a):0),a+=8&s?2:0,l},e.GPOS.readBaseArray=function(i,a,s){var o=e._bin,l=[],u=a,c=o.readUshort(i,a);a+=2;for(var d=0;d<c;d++){for(var h=[],p=0;p<s;p++)h.push(e.GPOS.readAnchorRecord(i,u+o.readUshort(i,a))),a+=2;l.push(h)}return l},e.GPOS.readMarkArray=function(i,a){var s=e._bin,o=[],l=a,u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var d=e.GPOS.readAnchorRecord(i,s.readUshort(i,a+2)+l);d.markClass=s.readUshort(i,a),o.push(d),a+=4}return o},e.GPOS.readAnchorRecord=function(i,a){var s=e._bin,o={};return o.fmt=s.readUshort(i,a),o.x=s.readShort(i,a+2),o.y=s.readShort(i,a+4),o},e.GSUB={},e.GSUB.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GSUB.subt)},e.GSUB.subt=function(i,a,s,o){var l=e._bin,u=s,c={};if(c.fmt=l.readUshort(i,s),s+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&c.fmt<=2||a==6&&c.fmt<=2){var d=l.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,u+d)}if(a==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,s),s+=2;else if(c.fmt==2){var h=l.readUshort(i,s);s+=2,c.newg=l.readUshorts(i,s,h),s+=2*c.newg.length}}else if(a==2&&c.fmt==1){h=l.readUshort(i,s),s+=2,c.seqs=[];for(var p=0;p<h;p++){var g=l.readUshort(i,s)+u;s+=2;var x=l.readUshort(i,g);c.seqs.push(l.readUshorts(i,g+2,x))}}else if(a==4)for(c.vals=[],h=l.readUshort(i,s),s+=2,p=0;p<h;p++){var A=l.readUshort(i,s);s+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+A))}else if(a==5&&c.fmt==2){if(c.fmt==2){var b=l.readUshort(i,s);s+=2,c.cDef=e._lctf.readClassDef(i,u+b),c.scset=[];var _=l.readUshort(i,s);for(s+=2,p=0;p<_;p++){var M=l.readUshort(i,s);s+=2,c.scset.push(M==0?null:e.GSUB.readSubClassSet(i,u+M))}}}else if(a==6&&c.fmt==3){if(c.fmt==3){for(p=0;p<3;p++){h=l.readUshort(i,s),s+=2;for(var E=[],C=0;C<h;C++)E.push(e._lctf.readCoverage(i,u+l.readUshort(i,s+2*C)));s+=2*h,p==0&&(c.backCvg=E),p==1&&(c.inptCvg=E),p==2&&(c.ahedCvg=E)}h=l.readUshort(i,s),s+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,s,h)}}else{if(a==7&&c.fmt==1){var T=l.readUshort(i,s);s+=2;var B=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=T;else if(o.ltype!=T)throw"invalid extension substitution";return e.GSUB.subt(i,o.ltype,u+B)}console.debug("unsupported GSUB table LookupType",a,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,a){var s=e._bin.readUshort,o=a,l=[],u=s(i,a);a+=2;for(var c=0;c<u;c++){var d=s(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,o+d))}return l},e.GSUB.readSubClassRule=function(i,a){var s=e._bin.readUshort,o={},l=s(i,a),u=s(i,a+=2);a+=2,o.input=[];for(var c=0;c<l-1;c++)o.input.push(s(i,a)),a+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,u),o},e.GSUB.readSubstLookupRecords=function(i,a,s){for(var o=e._bin.readUshort,l=[],u=0;u<s;u++)l.push(o(i,a),o(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var d=s.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,o+d))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var s=e._bin,o={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=s.readUshort(i,a);a+=2,u==1&&c--,o[l[u]]=s.readUshorts(i,a,c),a+=2*o[l[u]].length}return c=s.readUshort(i,a),a+=2,o.subst=s.readUshorts(i,a,2*c),a+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var d=s.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,o+d))}return l},e.GSUB.readLigature=function(i,a){var s=e._bin,o={chain:[]};o.nglyph=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2;for(var u=0;u<l-1;u++)o.chain.push(s.readUshort(i,a)),a+=2;return o},e.head={},e.head.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.fontRevision=o.readFixed(i,a),a+=4,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4,l.flags=o.readUshort(i,a),a+=2,l.unitsPerEm=o.readUshort(i,a),a+=2,l.created=o.readUint64(i,a),a+=8,l.modified=o.readUint64(i,a),a+=8,l.xMin=o.readShort(i,a),a+=2,l.yMin=o.readShort(i,a),a+=2,l.xMax=o.readShort(i,a),a+=2,l.yMax=o.readShort(i,a),a+=2,l.macStyle=o.readUshort(i,a),a+=2,l.lowestRecPPEM=o.readUshort(i,a),a+=2,l.fontDirectionHint=o.readShort(i,a),a+=2,l.indexToLocFormat=o.readShort(i,a),a+=2,l.glyphDataFormat=o.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.ascender=o.readShort(i,a),a+=2,l.descender=o.readShort(i,a),a+=2,l.lineGap=o.readShort(i,a),a+=2,l.advanceWidthMax=o.readUshort(i,a),a+=2,l.minLeftSideBearing=o.readShort(i,a),a+=2,l.minRightSideBearing=o.readShort(i,a),a+=2,l.xMaxExtent=o.readShort(i,a),a+=2,l.caretSlopeRise=o.readShort(i,a),a+=2,l.caretSlopeRun=o.readShort(i,a),a+=2,l.caretOffset=o.readShort(i,a),a+=2,a+=8,l.metricDataFormat=o.readShort(i,a),a+=2,l.numberOfHMetrics=o.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,s,o){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,d=0,h=0;h<o.maxp.numGlyphs;h++)h<o.hhea.numberOfHMetrics&&(c=l.readUshort(i,a),a+=2,d=l.readShort(i,a),a+=2),u.aWidth.push(c),u.lsBearing.push(d);return u},e.kern={},e.kern.parse=function(i,a,s,o){var l=e._bin,u=l.readUshort(i,a);if(a+=2,u==1)return e.kern.parseV1(i,a-2,s,o);var c=l.readUshort(i,a);a+=2;for(var d={glyph1:[],rval:[]},h=0;h<c;h++){a+=2,s=l.readUshort(i,a),a+=2;var p=l.readUshort(i,a);a+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;a=e.kern.readFormat0(i,a,d)}return d},e.kern.parseV1=function(i,a,s,o){var l=e._bin;l.readFixed(i,a),a+=4;var u=l.readUint(i,a);a+=4;for(var c={glyph1:[],rval:[]},d=0;d<u;d++){l.readUint(i,a),a+=4;var h=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var p=h>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;a=e.kern.readFormat0(i,a,c)}return c},e.kern.readFormat0=function(i,a,s){var o=e._bin,l=-1,u=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var c=0;c<u;c++){var d=o.readUshort(i,a);a+=2;var h=o.readUshort(i,a);a+=2;var p=o.readShort(i,a);a+=2,d!=l&&(s.glyph1.push(d),s.rval.push({glyph2:[],vals:[]}));var g=s.rval[s.rval.length-1];g.glyph2.push(h),g.vals.push(p),l=d}return a},e.loca={},e.loca.parse=function(i,a,s,o){var l=e._bin,u=[],c=o.head.indexToLocFormat,d=o.maxp.numGlyphs+1;if(c==0)for(var h=0;h<d;h++)u.push(l.readUshort(i,a+(h<<1))<<1);if(c==1)for(h=0;h<d;h++)u.push(l.readUint(i,a+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,a,s){var o=e._bin,l={},u=o.readUint(i,a);return a+=4,l.numGlyphs=o.readUshort(i,a),a+=2,u==65536&&(l.maxPoints=o.readUshort(i,a),a+=2,l.maxContours=o.readUshort(i,a),a+=2,l.maxCompositePoints=o.readUshort(i,a),a+=2,l.maxCompositeContours=o.readUshort(i,a),a+=2,l.maxZones=o.readUshort(i,a),a+=2,l.maxTwilightPoints=o.readUshort(i,a),a+=2,l.maxStorage=o.readUshort(i,a),a+=2,l.maxFunctionDefs=o.readUshort(i,a),a+=2,l.maxInstructionDefs=o.readUshort(i,a),a+=2,l.maxStackElements=o.readUshort(i,a),a+=2,l.maxSizeOfInstructions=o.readUshort(i,a),a+=2,l.maxComponentElements=o.readUshort(i,a),a+=2,l.maxComponentDepth=o.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,s){var o=e._bin,l={};o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2,o.readUshort(i,a);for(var c,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=a+=2,p=0;p<u;p++){var g=o.readUshort(i,a);a+=2;var x=o.readUshort(i,a);a+=2;var A=o.readUshort(i,a);a+=2;var b=o.readUshort(i,a);a+=2;var _=o.readUshort(i,a);a+=2;var M=o.readUshort(i,a);a+=2;var E,C=d[b],T=h+12*u+M;if(g==0)E=o.readUnicode(i,T,_/2);else if(g==3&&x==0)E=o.readUnicode(i,T,_/2);else if(x==0)E=o.readASCII(i,T,_);else if(x==1)E=o.readUnicode(i,T,_/2);else if(x==3)E=o.readUnicode(i,T,_/2);else{if(g!=1)throw"unknown encoding "+x+", platformID: "+g;E=o.readASCII(i,T,_),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var B="p"+g+","+A.toString(16);l[B]==null&&(l[B]={}),l[B][C!==void 0?C:b]=E,l[B]._lang=A}for(var z in l)if(l[z].postScriptName!=null&&l[z]._lang==1033)return l[z];for(var z in l)if(l[z].postScriptName!=null&&l[z]._lang==0)return l[z];for(var z in l)if(l[z].postScriptName!=null&&l[z]._lang==3084)return l[z];for(var z in l)if(l[z].postScriptName!=null)return l[z];for(var z in l){c=z;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,a,s){var o=e._bin.readUshort(i,a);a+=2;var l={};if(o==0)e["OS/2"].version0(i,a,l);else if(o==1)e["OS/2"].version1(i,a,l);else if(o==2||o==3||o==4)e["OS/2"].version2(i,a,l);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,s){var o=e._bin;return s.xAvgCharWidth=o.readShort(i,a),a+=2,s.usWeightClass=o.readUshort(i,a),a+=2,s.usWidthClass=o.readUshort(i,a),a+=2,s.fsType=o.readUshort(i,a),a+=2,s.ySubscriptXSize=o.readShort(i,a),a+=2,s.ySubscriptYSize=o.readShort(i,a),a+=2,s.ySubscriptXOffset=o.readShort(i,a),a+=2,s.ySubscriptYOffset=o.readShort(i,a),a+=2,s.ySuperscriptXSize=o.readShort(i,a),a+=2,s.ySuperscriptYSize=o.readShort(i,a),a+=2,s.ySuperscriptXOffset=o.readShort(i,a),a+=2,s.ySuperscriptYOffset=o.readShort(i,a),a+=2,s.yStrikeoutSize=o.readShort(i,a),a+=2,s.yStrikeoutPosition=o.readShort(i,a),a+=2,s.sFamilyClass=o.readShort(i,a),a+=2,s.panose=o.readBytes(i,a,10),a+=10,s.ulUnicodeRange1=o.readUint(i,a),a+=4,s.ulUnicodeRange2=o.readUint(i,a),a+=4,s.ulUnicodeRange3=o.readUint(i,a),a+=4,s.ulUnicodeRange4=o.readUint(i,a),a+=4,s.achVendID=[o.readInt8(i,a),o.readInt8(i,a+1),o.readInt8(i,a+2),o.readInt8(i,a+3)],a+=4,s.fsSelection=o.readUshort(i,a),a+=2,s.usFirstCharIndex=o.readUshort(i,a),a+=2,s.usLastCharIndex=o.readUshort(i,a),a+=2,s.sTypoAscender=o.readShort(i,a),a+=2,s.sTypoDescender=o.readShort(i,a),a+=2,s.sTypoLineGap=o.readShort(i,a),a+=2,s.usWinAscent=o.readUshort(i,a),a+=2,s.usWinDescent=o.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,s){var o=e._bin;return a=e["OS/2"].version0(i,a,s),s.ulCodePageRange1=o.readUint(i,a),a+=4,s.ulCodePageRange2=o.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,s){var o=e._bin;return a=e["OS/2"].version1(i,a,s),s.sxHeight=o.readShort(i,a),a+=2,s.sCapHeight=o.readShort(i,a),a+=2,s.usDefault=o.readUshort(i,a),a+=2,s.usBreak=o.readUshort(i,a),a+=2,s.usMaxContext=o.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,s){var o=e._bin;return a=e["OS/2"].version2(i,a,s),s.usLowerOpticalPointSize=o.readUshort(i,a),a+=2,s.usUpperOpticalPointSize=o.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,s){var o=e._bin,l={};return l.version=o.readFixed(i,a),a+=4,l.italicAngle=o.readFixed(i,a),a+=4,l.underlinePosition=o.readShort(i,a),a+=2,l.underlineThickness=o.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var s=i.cmap,o=-1;if(s.p0e4!=null?o=s.p0e4:s.p3e1!=null?o=s.p3e1:s.p1e0!=null?o=s.p1e0:s.p0e3!=null&&(o=s.p0e3),o==-1)throw"no familiar platform and encoding!";var l=s.tables[o];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(a<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>a?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[a-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:a+l.idDelta[u])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var d=l.groups[c];if(d[0]<=a&&a<=d[1])return d[2]+(a-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var o=i.SVG.entries[a];return o==null?s:(typeof o=="string"&&(o=e.SVG.toPath(o),i.SVG.entries[a]=o),o)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var d=0;u.FDSelect[d+2]<=a;)d+=2;c=u.FDArray[u.FDSelect[d+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,u,c,s)}else i.glyf&&e.U._drawGlyf(a,i,s);return s},e.U._drawGlyf=function(i,a,s){var o=a.glyf[i];o==null&&(o=a.glyf[i]=e.glyf._parseGlyf(a,i)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,s):e.U._compoGlyph(o,a,s))},e.U._simpleGlyph=function(i,a){for(var s=0;s<i.noc;s++){for(var o=s==0?0:i.endPts[s-1]+1,l=i.endPts[s],u=o;u<=l;u++){var c=u==o?l:u-1,d=u==l?o:u+1,h=1&i.flags[u],p=1&i.flags[c],g=1&i.flags[d],x=i.xs[u],A=i.ys[u];if(u==o)if(h){if(!p){e.U.P.moveTo(a,x,A);continue}e.U.P.moveTo(a,i.xs[c],i.ys[c])}else p?e.U.P.moveTo(a,i.xs[c],i.ys[c]):e.U.P.moveTo(a,(i.xs[c]+x)/2,(i.ys[c]+A)/2);h?p&&e.U.P.lineTo(a,x,A):g?e.U.P.qcurveTo(a,x,A,i.xs[d],i.ys[d]):e.U.P.qcurveTo(a,x,A,(x+i.xs[d])/2,(A+i.ys[d])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,s){for(var o=0;o<i.parts.length;o++){var l={cmds:[],crds:[]},u=i.parts[o];e.U._drawGlyf(u.glyphIndex,a,l);for(var c=u.m,d=0;d<l.crds.length;d+=2){var h=l.crds[d],p=l.crds[d+1];s.crds.push(h*c.a+p*c.b+c.tx),s.crds.push(h*c.c+p*c.d+c.ty)}for(d=0;d<l.cmds.length;d++)s.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(i,a){var s=e._lctf.getInterval(a,i);return s==-1?0:a[s+2]},e.U._applySubs=function(i,a,s,o){for(var l=i.length-a-1,u=0;u<s.tabs.length;u++)if(s.tabs[u]!=null){var c,d=s.tabs[u];if(!d.coverage||(c=e._lctf.coverageIndex(d.coverage,i[a]))!=-1){if(s.ltype==1)i[a],d.fmt==1?i[a]=i[a]+d.delta:i[a]=d.newg[c];else if(s.ltype==4)for(var h=d.vals[c],p=0;p<h.length;p++){var g=h[p],x=g.chain.length;if(!(x>l)){for(var A=!0,b=0,_=0;_<x;_++){for(;i[a+b+(1+_)]==-1;)b++;g.chain[_]!=i[a+b+(1+_)]&&(A=!1)}if(A){for(i[a]=g.nglyph,_=0;_<x+b;_++)i[a+_+1]=-1;break}}}else if(s.ltype==5&&d.fmt==2)for(var M=e._lctf.getInterval(d.cDef,i[a]),E=d.cDef[M+2],C=d.scset[E],T=0;T<C.length;T++){var B=C[T],z=B.input;if(!(z.length>l)){for(A=!0,_=0;_<z.length;_++){var R=e._lctf.getInterval(d.cDef,i[a+1+_]);if(M==-1&&d.cDef[R+2]!=z[_]){A=!1;break}}if(A){var O=B.substLookupRecords;for(p=0;p<O.length;p+=2)O[p],O[p+1]}}}else if(s.ltype==6&&d.fmt==3){if(!e.U._glsCovered(i,d.backCvg,a-d.backCvg.length)||!e.U._glsCovered(i,d.inptCvg,a)||!e.U._glsCovered(i,d.ahedCvg,a+d.inptCvg.length))continue;var U=d.lookupRec;for(T=0;T<U.length;T+=2){M=U[T];var I=o[U[T+1]];e.U._applySubs(i,a+M,I,o)}}}}},e.U._glsCovered=function(i,a,s){for(var o=0;o<a.length;o++)if(e._lctf.coverageIndex(a[o],i[s+o])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,s){for(var o={cmds:[],crds:[]},l=0,u=0;u<a.length;u++){var c=a[u];if(c!=-1){for(var d=u<a.length-1&&a[u+1]!=-1?a[u+1]:0,h=e.U.glyphToPath(i,c),p=0;p<h.crds.length;p+=2)o.crds.push(h.crds[p]+l),o.crds.push(h.crds[p+1]);for(s&&o.cmds.push(s),p=0;p<h.cmds.length;p++)o.cmds.push(h.cmds[p]);s&&o.cmds.push("X"),l+=i.hmtx.aWidth[c],u<a.length-1&&(l+=e.U.getPairAdjustment(i,c,d))}}return o},e.U.P={},e.U.P.moveTo=function(i,a,s){i.cmds.push("M"),i.crds.push(a,s)},e.U.P.lineTo=function(i,a,s){i.cmds.push("L"),i.crds.push(a,s)},e.U.P.curveTo=function(i,a,s,o,l,u,c){i.cmds.push("C"),i.crds.push(a,s,o,l,u,c)},e.U.P.qcurveTo=function(i,a,s,o,l){i.cmds.push("Q"),i.crds.push(a,s,o,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,s,o,l){for(var u=a.stack,c=a.nStems,d=a.haveWidth,h=a.width,p=a.open,g=0,x=a.x,A=a.y,b=0,_=0,M=0,E=0,C=0,T=0,B=0,z=0,R=0,O=0,U={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,U);var I=U.val;if(g+=U.size,I=="o1"||I=="o18")u.length%2!=0&&!d&&(h=u.shift()+o.nominalWidthX),c+=u.length>>1,u.length=0,d=!0;else if(I=="o3"||I=="o23")u.length%2!=0&&!d&&(h=u.shift()+o.nominalWidthX),c+=u.length>>1,u.length=0,d=!0;else if(I=="o4")u.length>1&&!d&&(h=u.shift()+o.nominalWidthX,d=!0),p&&e.U.P.closePath(l),A+=u.pop(),e.U.P.moveTo(l,x,A),p=!0;else if(I=="o5")for(;u.length>0;)x+=u.shift(),A+=u.shift(),e.U.P.lineTo(l,x,A);else if(I=="o6"||I=="o7")for(var q=u.length,X=I=="o6",$=0;$<q;$++){var k=u.shift();X?x+=k:A+=k,X=!X,e.U.P.lineTo(l,x,A)}else if(I=="o8"||I=="o24"){q=u.length;for(var P=0;P+6<=q;)b=x+u.shift(),_=A+u.shift(),M=b+u.shift(),E=_+u.shift(),x=M+u.shift(),A=E+u.shift(),e.U.P.curveTo(l,b,_,M,E,x,A),P+=6;I=="o24"&&(x+=u.shift(),A+=u.shift(),e.U.P.lineTo(l,x,A))}else{if(I=="o11")break;if(I=="o1234"||I=="o1235"||I=="o1236"||I=="o1237")I=="o1234"&&(_=A,M=(b=x+u.shift())+u.shift(),O=E=_+u.shift(),T=E,z=A,x=(B=(C=(R=M+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,b,_,M,E,R,O),e.U.P.curveTo(l,C,T,B,z,x,A)),I=="o1235"&&(b=x+u.shift(),_=A+u.shift(),M=b+u.shift(),E=_+u.shift(),R=M+u.shift(),O=E+u.shift(),C=R+u.shift(),T=O+u.shift(),B=C+u.shift(),z=T+u.shift(),x=B+u.shift(),A=z+u.shift(),u.shift(),e.U.P.curveTo(l,b,_,M,E,R,O),e.U.P.curveTo(l,C,T,B,z,x,A)),I=="o1236"&&(b=x+u.shift(),_=A+u.shift(),M=b+u.shift(),O=E=_+u.shift(),T=E,B=(C=(R=M+u.shift())+u.shift())+u.shift(),z=T+u.shift(),x=B+u.shift(),e.U.P.curveTo(l,b,_,M,E,R,O),e.U.P.curveTo(l,C,T,B,z,x,A)),I=="o1237"&&(b=x+u.shift(),_=A+u.shift(),M=b+u.shift(),E=_+u.shift(),R=M+u.shift(),O=E+u.shift(),C=R+u.shift(),T=O+u.shift(),B=C+u.shift(),z=T+u.shift(),Math.abs(B-x)>Math.abs(z-A)?x=B+u.shift():A=z+u.shift(),e.U.P.curveTo(l,b,_,M,E,R,O),e.U.P.curveTo(l,C,T,B,z,x,A));else if(I=="o14"){if(u.length>0&&!d&&(h=u.shift()+s.nominalWidthX,d=!0),u.length==4){var Z=u.shift(),H=u.shift(),ae=u.shift(),W=u.shift(),K=e.CFF.glyphBySE(s,ae),Q=e.CFF.glyphBySE(s,W);e.U._drawCFF(s.CharStrings[K],a,s,o,l),a.x=Z,a.y=H,e.U._drawCFF(s.CharStrings[Q],a,s,o,l)}p&&(e.U.P.closePath(l),p=!1)}else if(I=="o19"||I=="o20")u.length%2!=0&&!d&&(h=u.shift()+o.nominalWidthX),c+=u.length>>1,u.length=0,d=!0,g+=c+7>>3;else if(I=="o21")u.length>2&&!d&&(h=u.shift()+o.nominalWidthX,d=!0),A+=u.pop(),x+=u.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,x,A),p=!0;else if(I=="o22")u.length>1&&!d&&(h=u.shift()+o.nominalWidthX,d=!0),x+=u.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,x,A),p=!0;else if(I=="o25"){for(;u.length>6;)x+=u.shift(),A+=u.shift(),e.U.P.lineTo(l,x,A);b=x+u.shift(),_=A+u.shift(),M=b+u.shift(),E=_+u.shift(),x=M+u.shift(),A=E+u.shift(),e.U.P.curveTo(l,b,_,M,E,x,A)}else if(I=="o26")for(u.length%2&&(x+=u.shift());u.length>0;)b=x,_=A+u.shift(),x=M=b+u.shift(),A=(E=_+u.shift())+u.shift(),e.U.P.curveTo(l,b,_,M,E,x,A);else if(I=="o27")for(u.length%2&&(A+=u.shift());u.length>0;)_=A,M=(b=x+u.shift())+u.shift(),E=_+u.shift(),x=M+u.shift(),A=E,e.U.P.curveTo(l,b,_,M,E,x,A);else if(I=="o10"||I=="o29"){var te=I=="o10"?o:s;if(u.length==0)console.debug("error: empty stack");else{var le=u.pop(),de=te.Subrs[le+te.Bias];a.x=x,a.y=A,a.nStems=c,a.haveWidth=d,a.width=h,a.open=p,e.U._drawCFF(de,a,s,o,l),x=a.x,A=a.y,c=a.nStems,d=a.haveWidth,h=a.width,p=a.open}}else if(I=="o30"||I=="o31"){var ce=u.length,be=(P=0,I=="o31");for(P+=ce-(q=-3&ce);P<q;)be?(_=A,M=(b=x+u.shift())+u.shift(),A=(E=_+u.shift())+u.shift(),q-P==5?(x=M+u.shift(),P++):x=M,be=!1):(b=x,_=A+u.shift(),M=b+u.shift(),E=_+u.shift(),x=M+u.shift(),q-P==5?(A=E+u.shift(),P++):A=E,be=!0),e.U.P.curveTo(l,b,_,M,E,x,A),P+=4}else{if((I+"").charAt(0)=="o")throw console.debug("Unknown operation: "+I,i),I;u.push(I)}}}a.x=x,a.y=A,a.nStems=c,a.haveWidth=d,a.width=h,a.open=p};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n})({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function mfe(){return(function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(I,q){for(var X=new t(31),$=0;$<31;++$)X[$]=q+=1<<I[$-1];var k=new r(X[30]);for($=1;$<30;++$)for(var P=X[$];P<X[$+1];++P)k[P]=P-X[$]<<5|$;return[X,k]},l=o(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var d=o(a,0)[0],h=new t(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,h[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var x=function(I,q,X){for(var $=I.length,k=0,P=new t(q);k<$;++k)++P[I[k]-1];var Z,H=new t(q);for(k=0;k<q;++k)H[k]=H[k-1]+P[k-1]<<1;{Z=new t(1<<q);var ae=15-q;for(k=0;k<$;++k)if(I[k])for(var W=k<<4|I[k],K=q-I[k],Q=H[I[k]-1]++<<K,te=Q|(1<<K)-1;Q<=te;++Q)Z[h[Q]>>>ae]=W}return Z},A=new e(288);for(p=0;p<144;++p)A[p]=8;for(p=144;p<256;++p)A[p]=9;for(p=256;p<280;++p)A[p]=7;for(p=280;p<288;++p)A[p]=8;var b=new e(32);for(p=0;p<32;++p)b[p]=5;var _=x(A,9),M=x(b,5),E=function(I){for(var q=I[0],X=1;X<I.length;++X)I[X]>q&&(q=I[X]);return q},C=function(I,q,X){var $=q/8|0;return(I[$]|I[$+1]<<8)>>(7&q)&X},T=function(I,q){var X=q/8|0;return(I[X]|I[X+1]<<8|I[X+2]<<16)>>(7&q)},B=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],z=function(I,q,X){var $=new Error(q||B[I]);if($.code=I,Error.captureStackTrace&&Error.captureStackTrace($,z),!X)throw $;return $},R=function(I,q,X){var $=I.length;if(!$||X&&!X.l&&$<5)return q||new e(0);var k=!q||X,P=!X||X.i;X||(X={}),q||(q=new e(3*$));var Z,H=function(Ke){var ze=q.length;if(Ke>ze){var G=new e(Math.max(2*ze,Ke));G.set(q),q=G}},ae=X.f||0,W=X.p||0,K=X.b||0,Q=X.l,te=X.d,le=X.m,de=X.n,ce=8*$;do{if(!Q){X.f=ae=C(I,W,1);var be=C(I,W+1,3);if(W+=3,!be){var Te=I[(we=((Z=W)/8|0)+(7&Z&&1)+4)-4]|I[we-3]<<8,Oe=we+Te;if(Oe>$){P&&z(0);break}k&&H(K+Te),q.set(I.subarray(we,Oe),K),X.b=K+=Te,X.p=W=8*Oe;continue}if(be==1)Q=_,te=M,le=9,de=5;else if(be==2){var Fe=C(I,W,31)+257,Se=C(I,W+10,15)+4,Ve=Fe+C(I,W+5,31)+1;W+=14;for(var ve=new e(Ve),fe=new e(19),he=0;he<Se;++he)fe[s[he]]=C(I,W+3*he,7);W+=3*Se;var Be=E(fe),ue=(1<<Be)-1,xe=x(fe,Be);for(he=0;he<Ve;){var we,ie=xe[C(I,W,ue)];if(W+=15&ie,(we=ie>>>4)<16)ve[he++]=we;else{var re=0,ee=0;for(we==16?(ee=3+C(I,W,3),W+=2,re=ve[he-1]):we==17?(ee=3+C(I,W,7),W+=3):we==18&&(ee=11+C(I,W,127),W+=7);ee--;)ve[he++]=re}}var oe=ve.subarray(0,Fe),ge=ve.subarray(Fe);le=E(oe),de=E(ge),Q=x(oe,le),te=x(ge,de)}else z(1);if(W>ce){P&&z(0);break}}k&&H(K+131072);for(var De=(1<<le)-1,Le=(1<<de)-1,Ue=W;;Ue=W){var He=(re=Q[T(I,W)&De])>>>4;if((W+=15&re)>ce){P&&z(0);break}if(re||z(2),He<256)q[K++]=He;else{if(He==256){Ue=W,Q=null;break}var et=He-254;if(He>264){var Xe=i[he=He-257];et=C(I,W,(1<<Xe)-1)+u[he],W+=Xe}var We=te[T(I,W)&Le],st=We>>>4;if(We||z(3),W+=15&We,ge=d[st],st>3&&(Xe=a[st],ge+=T(I,W)&(1<<Xe)-1,W+=Xe),W>ce){P&&z(0);break}k&&H(K+131072);for(var lt=K+et;K<lt;K+=4)q[K]=q[K-ge],q[K+1]=q[K+1-ge],q[K+2]=q[K+2-ge],q[K+3]=q[K+3-ge];K=lt}}X.l=Q,X.p=Ue,X.b=K,Q&&(ae=1,X.m=le,X.d=te,X.n=de)}while(!ae);return K==q.length?q:(function(Ke,ze,G){(G==null||G>Ke.length)&&(G=Ke.length);var Ne=new(Ke instanceof t?t:Ke instanceof r?r:e)(G-ze);return Ne.set(Ke.subarray(ze,G)),Ne})(q,0,K)},O=new e(0),U=typeof TextDecoder<"u"&&new TextDecoder;try{U.decode(O,{stream:!0})}catch{}return n.convert_streams=function(I){var q=new DataView(I),X=0;function $(){var Fe=q.getUint16(X);return X+=2,Fe}function k(){var Fe=q.getUint32(X);return X+=4,Fe}function P(Fe){Te.setUint16(Oe,Fe),Oe+=2}function Z(Fe){Te.setUint32(Oe,Fe),Oe+=4}for(var H={signature:k(),flavor:k(),length:k(),numTables:$(),reserved:$(),totalSfntSize:k(),majorVersion:$(),minorVersion:$(),metaOffset:k(),metaLength:k(),metaOrigLength:k(),privOffset:k(),privLength:k()},ae=0;Math.pow(2,ae)<=H.numTables;)ae++;ae--;for(var W=16*Math.pow(2,ae),K=16*H.numTables-W,Q=12,te=[],le=0;le<H.numTables;le++)te.push({tag:k(),offset:k(),compLength:k(),origLength:k(),origChecksum:k()}),Q+=16;var de,ce=new Uint8Array(12+16*te.length+te.reduce((function(Fe,Se){return Fe+Se.origLength+4}),0)),be=ce.buffer,Te=new DataView(be),Oe=0;return Z(H.flavor),P(H.numTables),P(W),P(ae),P(K),te.forEach((function(Fe){Z(Fe.tag),Z(Fe.origChecksum),Z(Q),Z(Fe.origLength),Fe.outOffset=Q,(Q+=Fe.origLength)%4!=0&&(Q+=4-Q%4)})),te.forEach((function(Fe){var Se,Ve=I.slice(Fe.offset,Fe.offset+Fe.compLength);if(Fe.compLength!=Fe.origLength){var ve=new Uint8Array(Fe.origLength);Se=new Uint8Array(Ve,2),R(Se,ve)}else ve=new Uint8Array(Ve);ce.set(ve,Fe.outOffset);var fe=0;(Q=Fe.outOffset+Fe.origLength)%4!=0&&(fe=4-Q%4),ce.set(new Uint8Array(fe).buffer,Fe.outOffset+Fe.origLength),de=Q+fe})),be.slice(0,de)},Object.defineProperty(n,"__esModule",{value:!0}),n})({}).convert_streams}function pfe(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,s=4,o=8,l=16,u=32;let c;function d(B){if(!c){const z={R:a,L:i,D:s,C:l,U:u,T:o};c=new Map;for(let R in r){let O=0;r[R].split(",").forEach(U=>{let[I,q]=U.split("+");I=parseInt(I,36),q=q?parseInt(q,36):0,c.set(O+=I,z[R]);for(let X=q;X--;)c.set(++O,z[R])})}}return c.get(B)||u}const h=1,p=2,g=3,x=4,A=[null,"isol","init","fina","medi"];function b(B){const z=new Uint8Array(B.length);let R=u,O=h,U=-1;for(let I=0;I<B.length;I++){const q=B.codePointAt(I);let X=d(q)|0,$=h;X&o||(R&(i|s|l)?X&(a|s|l)?($=g,(O===h||O===g)&&z[U]++):X&(i|u)&&(O===p||O===x)&&z[U]--:R&(a|u)&&(O===p||O===x)&&z[U]--,O=z[I]=$,R=X,U=I,q>65535&&I++)}return z}function _(B,z){const R=[];for(let U=0;U<z.length;U++){const I=z.codePointAt(U);I>65535&&U++,R.push(n.U.codeToGlyph(B,I))}const O=B.GSUB;if(O){const{lookupList:U,featureList:I}=O;let q;const X=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,$=[];I.forEach(k=>{if(X.test(k.tag))for(let P=0;P<k.tab.length;P++){if($[k.tab[P]])continue;$[k.tab[P]]=!0;const Z=U[k.tab[P]],H=/^(isol|init|fina|medi)$/.test(k.tag);H&&!q&&(q=b(z));for(let ae=0;ae<R.length;ae++)(!q||!H||A[q[ae]]===k.tag)&&n.U._applySubs(R,ae,Z,U)}})}return R}function M(B,z){const R=new Int16Array(z.length*3);let O=0;for(;O<z.length;O++){const X=z[O];if(X===-1)continue;R[O*3+2]=B.hmtx.aWidth[X];const $=B.GPOS;if($){const k=$.lookupList;for(let P=0;P<k.length;P++){const Z=k[P];for(let H=0;H<Z.tabs.length;H++){const ae=Z.tabs[H];if(Z.ltype===1){if(n._lctf.coverageIndex(ae.coverage,X)!==-1&&ae.pos){q(ae.pos,O);break}}else if(Z.ltype===2){let W=null,K=U();if(K!==-1){const Q=n._lctf.coverageIndex(ae.coverage,z[K]);if(Q!==-1){if(ae.fmt===1){const te=ae.pairsets[Q];for(let le=0;le<te.length;le++)te[le].gid2===X&&(W=te[le])}else if(ae.fmt===2){const te=n.U._getGlyphClass(z[K],ae.classDef1),le=n.U._getGlyphClass(X,ae.classDef2);W=ae.matrix[te][le]}if(W){W.val1&&q(W.val1,K),W.val2&&q(W.val2,O);break}}}}else if(Z.ltype===4){const W=n._lctf.coverageIndex(ae.markCoverage,X);if(W!==-1){const K=U(I),Q=K===-1?-1:n._lctf.coverageIndex(ae.baseCoverage,z[K]);if(Q!==-1){const te=ae.markArray[W],le=ae.baseArray[Q][te.markClass];R[O*3]=le.x-te.x+R[K*3]-R[K*3+2],R[O*3+1]=le.y-te.y+R[K*3+1];break}}}else if(Z.ltype===6){const W=n._lctf.coverageIndex(ae.mark1Coverage,X);if(W!==-1){const K=U();if(K!==-1){const Q=z[K];if(E(B,Q)===3){const te=n._lctf.coverageIndex(ae.mark2Coverage,Q);if(te!==-1){const le=ae.mark1Array[W],de=ae.mark2Array[te][le.markClass];R[O*3]=de.x-le.x+R[K*3]-R[K*3+2],R[O*3+1]=de.y-le.y+R[K*3+1];break}}}}}}}}else if(B.kern&&!B.cff){const k=U();if(k!==-1){const P=B.kern.glyph1.indexOf(z[k]);if(P!==-1){const Z=B.kern.rval[P].glyph2.indexOf(X);Z!==-1&&(R[k*3+2]+=B.kern.rval[P].vals[Z])}}}}return R;function U(X){for(let $=O-1;$>=0;$--)if(z[$]!==-1&&(!X||X(z[$])))return $;return-1}function I(X){return E(B,X)===1}function q(X,$){for(let k=0;k<3;k++)R[$*3+k]+=X[k]||0}}function E(B,z){const R=B.GDEF&&B.GDEF.glyphClassDef;return R?n.U._getGlyphClass(z,R):0}function C(...B){for(let z=0;z<B.length;z++)if(typeof B[z]=="number")return B[z]}function T(B){const z=Object.create(null),R=B["OS/2"],O=B.hhea,U=B.head.unitsPerEm,I=C(R&&R.sTypoAscender,O&&O.ascender,U),q={unitsPerEm:U,ascender:I,descender:C(R&&R.sTypoDescender,O&&O.descender,0),capHeight:C(R&&R.sCapHeight,I),xHeight:C(R&&R.sxHeight,I),lineGap:C(R&&R.sTypoLineGap,O&&O.lineGap),supportsCodePoint(X){return n.U.codeToGlyph(B,X)>0},forEachGlyph(X,$,k,P){let Z=0;const H=1/q.unitsPerEm*$,ae=_(B,X);let W=0;const K=M(B,ae);return ae.forEach((Q,te)=>{if(Q!==-1){let le=z[Q];if(!le){const{cmds:de,crds:ce}=n.U.glyphToPath(B,Q);let be="",Te=0;for(let ve=0,fe=de.length;ve<fe;ve++){const he=t[de[ve]];be+=de[ve];for(let Be=1;Be<=he;Be++)be+=(Be>1?",":"")+ce[Te++]}let Oe,Fe,Se,Ve;if(ce.length){Oe=Fe=1/0,Se=Ve=-1/0;for(let ve=0,fe=ce.length;ve<fe;ve+=2){let he=ce[ve],Be=ce[ve+1];he<Oe&&(Oe=he),Be<Fe&&(Fe=Be),he>Se&&(Se=he),Be>Ve&&(Ve=Be)}}else Oe=Se=Fe=Ve=0;le=z[Q]={index:Q,advanceWidth:B.hmtx.aWidth[Q],xMin:Oe,yMin:Fe,xMax:Se,yMax:Ve,path:be}}P.call(null,le,Z+K[te*3]*H,K[te*3+1]*H,W),Z+=K[te*3+2]*H,k&&(Z+=k*$)}W+=X.codePointAt(W)>65535?2:1}),Z}};return q}return function(z){const R=new Uint8Array(z,0,4),O=n._bin.readASCII(R,0,4);if(O==="wOFF")z=e(z);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return T(n.parse(z)[0])}}const vfe=k1({name:"Typr Font Parser",dependencies:[hfe,mfe,pfe],init(n,e,t){const r=n(),i=e();return t(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function gfe(){return(function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(M){var E=M>>5;this.buckets.set(E,(this.buckets.get(E)||0)|1<<(31&M))},e.prototype.has=function(M){var E=this.buckets.get(M>>5);return E!==void 0&&(E&1<<(31&M))!=0},e.prototype.serialize=function(){var M=[];return this.buckets.forEach((function(E,C){M.push((+C).toString(36)+":"+E.toString(36))})),M.join(",")},e.prototype.deserialize=function(M){var E=this;this.buckets.clear(),M.split(",").forEach((function(C){var T=C.split(":");E.buckets.set(parseInt(T[0],36),parseInt(T[1],36))}))};var t=Math.pow(2,8),r=t-1,i=~r;function a(M){var E=(function(T){return T&i})(M).toString(16),C=(function(T){return(T&i)+t-1})(M).toString(16);return"codepoint-index/plane"+(M>>16)+"/"+E+"-"+C+".json"}function s(M,E){var C=M&r,T=E.codePointAt(C/6|0);return((T=(T||48)-48)&1<<C%6)!=0}function o(M,E){var C;(C=M,C.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(T){return T.split("-").map((function(B){return parseInt(B.trim(),16)}))}))).forEach((function(T){var B=T[0],z=T[1];z===void 0&&(z=B),E(B,z)}))}function l(M,E){o(M,(function(C,T){for(var B=C;B<=T;B++)E(B)}))}var u={},c={},d=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function p(M){var E=d.get(M);return E||(E=new e,l(M.ranges,(function(C){return E.add(C)})),d.set(M,E)),E}var g,x=new Map;function A(M,E,C){return M[E]?E:M[C]?C:(function(T){for(var B in T)return B})(M)}function b(M,E){var C=E;if(!M.includes(C)){C=1/0;for(var T=0;T<M.length;T++)Math.abs(M[T]-E)<Math.abs(C-E)&&(C=M[T])}return C}function _(M){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(E){g.add(E)}))),g.has(M)}return n.CodePointSet=e,n.clearCache=function(){u={},c={}},n.getFontsForString=function(M,E){E===void 0&&(E={});var C,T=E.lang;T===void 0&&(T=new RegExp("\\p{Script=Hangul}","u").test(C=M)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(C)?"ja":"en");var B=E.category;B===void 0&&(B="sans-serif");var z=E.style;z===void 0&&(z="normal");var R=E.weight;R===void 0&&(R=400);var O=(E.dataUrl||h).replace(/\/$/g,""),U=new Map,I=new Uint8Array(M.length),q={},X={},$=new Array(M.length),k=new Map,P=!1;function Z(W){var K=x.get(W);return K||(K=fetch(O+"/"+W).then((function(Q){if(!Q.ok)throw new Error(Q.statusText);return Q.json().then((function(te){if(!Array.isArray(te)||te[0]!==1)throw new Error("Incorrect schema version; need 1, got "+te[0]);return te[1]}))})).catch((function(Q){if(O!==h)return P||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+O+'", trying default CDN. '+Q.message),P=!0),O=h,x.delete(W),Z(W);throw Q})),x.set(W,K)),K}for(var H=function(W){var K=M.codePointAt(W),Q=a(K);$[W]=Q,u[Q]||k.has(Q)||k.set(Q,Z(Q).then((function(te){u[Q]=te}))),K>65535&&(W++,ae=W)},ae=0;ae<M.length;ae++)H(ae);return Promise.all(k.values()).then((function(){k.clear();for(var W=function(Q){var te=M.codePointAt(Q),le=null,de=u[$[Q]],ce=void 0;for(var be in de){var Te=X[be];if(Te===void 0&&(Te=X[be]=new RegExp(be).test(T||"en")),Te){for(var Oe in ce=be,de[be])if(s(te,de[be][Oe])){le=Oe;break}break}}if(!le){e:for(var Fe in de)if(Fe!==ce){for(var Se in de[Fe])if(s(te,de[Fe][Se])){le=Se;break e}}}le||(console.debug("No font coverage for U+"+te.toString(16)),le="latin"),$[Q]=le,c[le]||k.has(le)||k.set(le,Z("font-meta/"+le+".json").then((function(Ve){c[le]=Ve}))),te>65535&&(Q++,K=Q)},K=0;K<M.length;K++)W(K);return Promise.all(k.values())})).then((function(){for(var W,K=null,Q=0;Q<M.length;Q++){var te=M.codePointAt(Q);if(K&&(_(te)||p(K).has(te)))I[Q]=I[Q-1];else{K=c[$[Q]];var le=q[K.id];if(!le){var de=K.typeforms,ce=A(de,B,"sans-serif"),be=A(de[ce],z,"normal"),Te=b((W=de[ce])===null||W===void 0?void 0:W[be],R);le=q[K.id]=O+"/font-files/"+K.id+"/"+ce+"."+be+"."+Te+".woff"}var Oe=U.get(le);Oe==null&&(Oe=U.size,U.set(le,Oe)),I[Q]=Oe}te>65535&&(Q++,I[Q]=I[Q-1])}return{fontUrls:Array.from(U.keys()),chars:I}}))},Object.defineProperty(n,"__esModule",{value:!0}),n})({})}function xfe(n,e){const t=Object.create(null),r=Object.create(null);function i(s,o){const l=u=>{console.error(`Failure loading font ${s}`,u)};try{const u=new XMLHttpRequest;u.open("get",s,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=n(u.response);c.src=s,o(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function a(s,o){let l=t[s];l?o(l):r[s]?r[s].push(o):(r[s]=[o],i(s,u=>{u.src=s,t[s]=u,r[s].forEach(c=>c(u)),delete r[s]}))}return function(s,o,{lang:l,fonts:u=[],style:c="normal",weight:d="normal",unicodeFontsURL:h}={}){const p=new Uint8Array(s.length),g=[];s.length||_();const x=new Map,A=[];if(c!=="italic"&&(c="normal"),typeof d!="number"&&(d=d==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(E=>!E.lang||E.lang.test(l)).reverse(),u.length){let B=0;(function z(R=0){for(let O=R,U=s.length;O<U;O++){const I=s.codePointAt(O);if(B===1&&g[p[O-1]].supportsCodePoint(I)||O>0&&/\s/.test(s[O]))p[O]=p[O-1],B===2&&(A[A.length-1][1]=O);else for(let q=p[O],X=u.length;q<=X;q++)if(q===X){const $=B===2?A[A.length-1]:A[A.length]=[O,O];$[1]=O,B=2}else{p[O]=q;const{src:$,unicodeRange:k}=u[q];if(!k||M(I,k)){const P=t[$];if(!P){a($,()=>{z(O)});return}if(P.supportsCodePoint(I)){let Z=x.get(P);typeof Z!="number"&&(Z=g.length,g.push(P),x.set(P,Z)),p[O]=Z,B=1;break}}}I>65535&&O+1<U&&(p[O+1]=p[O],O++,B===2&&(A[A.length-1][1]=O))}b()})()}else A.push([0,s.length-1]),b();function b(){if(A.length){const E=A.map(C=>s.substring(C[0],C[1]+1)).join(`
`);e.getFontsForString(E,{lang:l||void 0,style:c,weight:d,dataUrl:h}).then(({fontUrls:C,chars:T})=>{const B=g.length;let z=0;A.forEach(O=>{for(let U=0,I=O[1]-O[0];U<=I;U++)p[O[0]+U]=T[z++]+B;z++});let R=0;C.forEach((O,U)=>{a(O,I=>{g[U+B]=I,++R===C.length&&_()})})})}else _()}function _(){o({chars:p,fonts:g})}function M(E,C){for(let T=0;T<C.length;T++){const[B,z=B]=C[T];if(B<=E&&E<=z)return!0}return!1}}}const yfe=k1({name:"FontResolver",dependencies:[xfe,vfe,gfe],init(n,e,t){return n(e,t())}});function bfe(n,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:g,lang:x,fonts:A,style:b,weight:_,preResolvedFonts:M,unicodeFontsURL:E},C){const T=({chars:B,fonts:z})=>{let R,O;const U=[];for(let I=0;I<B.length;I++)B[I]!==O?(O=B[I],U.push(R={start:I,end:I,fontObj:z[B[I]]})):R.end=I;C(U)};M?T(M):n(g,T,{lang:x,fonts:A,style:b,weight:_,unicodeFontsURL:E})}function o({text:g="",font:x,lang:A,sdfGlyphSize:b=64,fontSize:_=400,fontWeight:M=1,fontStyle:E="normal",letterSpacing:C=0,lineHeight:T="normal",maxWidth:B=1/0,direction:z,textAlign:R="left",textIndent:O=0,whiteSpace:U="normal",overflowWrap:I="normal",anchorX:q=0,anchorY:X=0,metricsOnly:$=!1,unicodeFontsURL:k,preResolvedFonts:P=null,includeCaretPositions:Z=!1,chunkedBoundsSize:H=8192,colorRanges:ae=null},W){const K=d(),Q={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,C=+C,B=+B,T=T||"normal",O=+O,s({text:g,lang:A,style:E,weight:M,fonts:typeof x=="string"?[{src:x}]:x,unicodeFontsURL:k,preResolvedFonts:P},te=>{Q.fontLoad=d()-K;const le=isFinite(B);let de=null,ce=null,be=null,Te=null,Oe=null,Fe=null,Se=null,Ve=null,ve=0,fe=0,he=U!=="nowrap";const Be=new Map,ue=d();let xe=O,we=0,ie=new h;const re=[ie];te.forEach(Le=>{const{fontObj:Ue}=Le,{ascender:He,descender:et,unitsPerEm:Xe,lineGap:We,capHeight:st,xHeight:lt}=Ue;let Ke=Be.get(Ue);if(!Ke){const Pe=_/Xe,$e=T==="normal"?(He-et+We)*Pe:T*_,tt=($e-(He-et)*Pe)/2,xt=Math.min($e,(He-et)*Pe),wt=(He+et)/2*Pe+xt/2;Ke={index:Be.size,src:Ue.src,fontObj:Ue,fontSizeMult:Pe,unitsPerEm:Xe,ascender:He*Pe,descender:et*Pe,capHeight:st*Pe,xHeight:lt*Pe,lineHeight:$e,baseline:-tt-He*Pe,caretTop:wt,caretBottom:wt-xt},Be.set(Ue,Ke)}const{fontSizeMult:ze}=Ke,G=g.slice(Le.start,Le.end+1);let Ne,me;Ue.forEachGlyph(G,_,C,(Pe,$e,tt,xt)=>{$e+=we,xt+=Le.start,Ne=$e,me=Pe;const wt=g.charAt(xt),kt=Pe.advanceWidth*ze,Jt=ie.count;let Ht;if("isEmpty"in Pe||(Pe.isWhitespace=!!wt&&new RegExp(i).test(wt),Pe.canBreakAfter=!!wt&&a.test(wt),Pe.isEmpty=Pe.xMin===Pe.xMax||Pe.yMin===Pe.yMax||r.test(wt)),!Pe.isWhitespace&&!Pe.isEmpty&&fe++,he&&le&&!Pe.isWhitespace&&$e+kt+xe>B&&Jt){if(ie.glyphAt(Jt-1).glyphObj.canBreakAfter)Ht=new h,xe=-$e;else for(let Fn=Jt;Fn--;)if(Fn===0&&I==="break-word"){Ht=new h,xe=-$e;break}else if(ie.glyphAt(Fn).glyphObj.canBreakAfter){Ht=ie.splitAt(Fn+1);const ar=Ht.glyphAt(0).x;xe-=ar;for(let Ir=Ht.count;Ir--;)Ht.glyphAt(Ir).x-=ar;break}Ht&&(ie.isSoftWrapped=!0,ie=Ht,re.push(ie),ve=B)}let Wt=ie.glyphAt(ie.count);Wt.glyphObj=Pe,Wt.x=$e+xe,Wt.y=tt,Wt.width=kt,Wt.charIndex=xt,Wt.fontData=Ke,wt===`
`&&(ie=new h,re.push(ie),xe=-($e+kt+C*_)+O)}),we=Ne+me.advanceWidth*ze+C*_});let ee=0;re.forEach(Le=>{let Ue=!0;for(let He=Le.count;He--;){const et=Le.glyphAt(He);Ue&&!et.glyphObj.isWhitespace&&(Le.width=et.x+et.width,Le.width>ve&&(ve=Le.width),Ue=!1);let{lineHeight:Xe,capHeight:We,xHeight:st,baseline:lt}=et.fontData;Xe>Le.lineHeight&&(Le.lineHeight=Xe);const Ke=lt-Le.baseline;Ke<0&&(Le.baseline+=Ke,Le.cap+=Ke,Le.ex+=Ke),Le.cap=Math.max(Le.cap,Le.baseline+We),Le.ex=Math.max(Le.ex,Le.baseline+st)}Le.baseline-=ee,Le.cap-=ee,Le.ex-=ee,ee+=Le.lineHeight});let oe=0,ge=0;if(q&&(typeof q=="number"?oe=-q:typeof q=="string"&&(oe=-ve*(q==="left"?0:q==="center"?.5:q==="right"?1:u(q)))),X&&(typeof X=="number"?ge=-X:typeof X=="string"&&(ge=X==="top"?0:X==="top-baseline"?-re[0].baseline:X==="top-cap"?-re[0].cap:X==="top-ex"?-re[0].ex:X==="middle"?ee/2:X==="bottom"?ee:X==="bottom-baseline"?-re[re.length-1].baseline:u(X)*ee)),!$){const Le=e.getEmbeddingLevels(g,z);de=new Uint16Array(fe),ce=new Uint8Array(fe),be=new Float32Array(fe*2),Te={},Se=[1/0,1/0,-1/0,-1/0],Ve=[],Z&&(Fe=new Float32Array(g.length*4)),ae&&(Oe=new Uint8Array(fe*3));let Ue=0,He=-1,et=-1,Xe,We;if(re.forEach((st,lt)=>{let{count:Ke,width:ze}=st;if(Ke>0){let G=0;for(let xt=Ke;xt--&&st.glyphAt(xt).glyphObj.isWhitespace;)G++;let Ne=0,me=0;if(R==="center")Ne=(ve-ze)/2;else if(R==="right")Ne=ve-ze;else if(R==="justify"&&st.isSoftWrapped){let xt=0;for(let wt=Ke-G;wt--;)st.glyphAt(wt).glyphObj.isWhitespace&&xt++;me=(ve-ze)/xt}if(me||Ne){let xt=0;for(let wt=0;wt<Ke;wt++){let kt=st.glyphAt(wt);const Jt=kt.glyphObj;kt.x+=Ne+xt,me!==0&&Jt.isWhitespace&&wt<Ke-G&&(xt+=me,kt.width+=me)}}const Pe=e.getReorderSegments(g,Le,st.glyphAt(0).charIndex,st.glyphAt(st.count-1).charIndex);for(let xt=0;xt<Pe.length;xt++){const[wt,kt]=Pe[xt];let Jt=1/0,Ht=-1/0;for(let Wt=0;Wt<Ke;Wt++)if(st.glyphAt(Wt).charIndex>=wt){let Fn=Wt,ar=Wt;for(;ar<Ke;ar++){let Ir=st.glyphAt(ar);if(Ir.charIndex>kt)break;ar<Ke-G&&(Jt=Math.min(Jt,Ir.x),Ht=Math.max(Ht,Ir.x+Ir.width))}for(let Ir=Fn;Ir<ar;Ir++){const Di=st.glyphAt(Ir);Di.x=Ht-(Di.x+Di.width-Jt)}break}}let $e;const tt=xt=>$e=xt;for(let xt=0;xt<Ke;xt++){const wt=st.glyphAt(xt);$e=wt.glyphObj;const kt=$e.index,Jt=Le.levels[wt.charIndex]&1;if(Jt){const Ht=e.getMirroredCharacter(g[wt.charIndex]);Ht&&wt.fontData.fontObj.forEachGlyph(Ht,0,0,tt)}if(Z){const{charIndex:Ht,fontData:Wt}=wt,Fn=wt.x+oe,ar=wt.x+wt.width+oe;Fe[Ht*4]=Jt?ar:Fn,Fe[Ht*4+1]=Jt?Fn:ar,Fe[Ht*4+2]=st.baseline+Wt.caretBottom+ge,Fe[Ht*4+3]=st.baseline+Wt.caretTop+ge;const Ir=Ht-He;Ir>1&&c(Fe,He,Ir),He=Ht}if(ae){const{charIndex:Ht}=wt;for(;Ht>et;)et++,ae.hasOwnProperty(et)&&(We=ae[et])}if(!$e.isWhitespace&&!$e.isEmpty){const Ht=Ue++,{fontSizeMult:Wt,src:Fn,index:ar}=wt.fontData,Ir=Te[Fn]||(Te[Fn]={});Ir[kt]||(Ir[kt]={path:$e.path,pathBounds:[$e.xMin,$e.yMin,$e.xMax,$e.yMax]});const Di=wt.x+oe,vi=wt.y+st.baseline+ge;be[Ht*2]=Di,be[Ht*2+1]=vi;const Kr=Di+$e.xMin*Wt,ca=vi+$e.yMin*Wt,yi=Di+$e.xMax*Wt,Hr=vi+$e.yMax*Wt;Kr<Se[0]&&(Se[0]=Kr),ca<Se[1]&&(Se[1]=ca),yi>Se[2]&&(Se[2]=yi),Hr>Se[3]&&(Se[3]=Hr),Ht%H===0&&(Xe={start:Ht,end:Ht,rect:[1/0,1/0,-1/0,-1/0]},Ve.push(Xe)),Xe.end++;const _r=Xe.rect;if(Kr<_r[0]&&(_r[0]=Kr),ca<_r[1]&&(_r[1]=ca),yi>_r[2]&&(_r[2]=yi),Hr>_r[3]&&(_r[3]=Hr),de[Ht]=kt,ce[Ht]=ar,ae){const mn=Ht*3;Oe[mn]=We>>16&255,Oe[mn+1]=We>>8&255,Oe[mn+2]=We&255}}}}}),Fe){const st=g.length-He;st>1&&c(Fe,He,st)}}const De=[];Be.forEach(({index:Le,src:Ue,unitsPerEm:He,ascender:et,descender:Xe,lineHeight:We,capHeight:st,xHeight:lt})=>{De[Le]={src:Ue,unitsPerEm:He,ascender:et,descender:Xe,lineHeight:We,capHeight:st,xHeight:lt}}),Q.typesetting=d()-ue,W({glyphIds:de,glyphFontIndices:ce,glyphPositions:be,glyphData:Te,fontData:De,caretPositions:Fe,glyphColors:Oe,chunkedBounds:Ve,fontSize:_,topBaseline:ge+re[0].baseline,blockBounds:[oe,ge-ee,oe+ve,ge],visibleBounds:Se,timings:Q})})}function l(g,x){o({...g,metricsOnly:!0},A=>{const[b,_,M,E]=A.blockBounds;x({width:M-b,height:E-_})})}function u(g){let x=g.match(/^([\d.]+)%$/),A=x?parseFloat(x[1]):NaN;return isNaN(A)?0:A/100}function c(g,x,A){const b=g[x*4],_=g[x*4+1],M=g[x*4+2],E=g[x*4+3],C=(_-b)/A;for(let T=0;T<A;T++){const B=(x+T)*4;g[B]=b+C*T,g[B+1]=b+C*(T+1),g[B+2]=M,g[B+3]=E}}function d(){return(self.performance||Date).now()}function h(){this.data=[]}const p=["glyphObj","x","y","width","charIndex","fontData"];return h.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(g){let x=h.flyweight;return x.data=this.data,x.index=g,x},splitAt(g){let x=new h;return x.data=this.data.splice(g*p.length),x}},h.flyweight=p.reduce((g,x,A,b)=>(Object.defineProperty(g,x,{get(){return this.data[this.index*p.length+A]},set(_){this.data[this.index*p.length+A]=_}}),g),{data:null,index:0}),{typeset:o,measure:l}}const Hm=()=>(self.performance||Date).now(),l5=_j();let uR;function Sfe(n,e,t,r,i,a,s,o,l,u,c=!0){return c?Afe(n,e,t,r,i,a,s,o,l,u).then(null,d=>(uR||(console.warn("WebGL SDF generation failed, falling back to JS",d),uR=!0),fR(n,e,t,r,i,a,s,o,l,u))):fR(n,e,t,r,i,a,s,o,l,u)}const A3=[],wfe=5;let FE=0;function Nj(){const n=Hm();for(;A3.length&&Hm()-n<wfe;)A3.shift()();FE=A3.length?setTimeout(Nj,0):0}const Afe=(...n)=>new Promise((e,t)=>{A3.push(()=>{const r=Hm();try{l5.webgl.generateIntoCanvas(...n),e({timing:Hm()-r})}catch(i){t(i)}}),FE||(FE=setTimeout(Nj,0))}),Mfe=4,_fe=2e3,cR={};let Efe=0;function fR(n,e,t,r,i,a,s,o,l,u){const c="TroikaTextSDFGenerator_JS_"+Efe++%Mfe;let d=cR[c];return d||(d=cR[c]={workerModule:k1({name:c,workerId:c,dependencies:[_j,Hm],init(h,p){const g=h().javascript.generate;return function(...x){const A=p();return{textureData:g(...x),timing:p()-A}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(n,e,t,r,i,a).then(({textureData:h,timing:p})=>{const g=Hm(),x=new Uint8Array(h.length*4);for(let A=0;A<h.length;A++)x[A*4+u]=h[A];return l5.webglUtils.renderImageData(s,x,o,l,n,e,1<<3-u),p+=Hm()-g,--d.requests===0&&(d.idleTimer=setTimeout(()=>{rfe(c)},_fe)),{timing:p}})}function Nfe(n){n._warm||(l5.webgl.isSupported(n),n._warm=!0)}const Tfe=l5.webglUtils.resizeWebGLCanvasWithoutClearing,Xx={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Cfe=new jt;function zv(){return(self.performance||Date).now()}const dR=Object.create(null);function Tj(n,e){n=Bfe({},n);const t=zv(),r=[];if(n.font&&r.push({label:"user",src:Ofe(n.font)}),n.font=r,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Xx.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||Xx.unicodeFontsURL,n.colorRanges!=null){let h={};for(let p in n.colorRanges)if(n.colorRanges.hasOwnProperty(p)){let g=n.colorRanges[p];typeof g!="number"&&(g=Cfe.set(g).getHex()),h[p]=g}n.colorRanges=h}Object.freeze(n);const{textureWidth:i,sdfExponent:a}=Xx,{sdfGlyphSize:s}=n,o=i/s*4;let l=dR[s];if(!l){const h=document.createElement("canvas");h.width=i,h.height=s*256/o,l=dR[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:h,sdfTexture:new Pi(h,void 0,void 0,void 0,ua,ua),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,Dfe(l)}const{sdfTexture:u,sdfCanvas:c}=l;Rj(n).then(h=>{const{glyphIds:p,glyphFontIndices:g,fontData:x,glyphPositions:A,fontSize:b,timings:_}=h,M=[],E=new Float32Array(p.length*4);let C=0,T=0;const B=zv(),z=x.map(q=>{let X=l.glyphsByFont.get(q.src);return X||l.glyphsByFont.set(q.src,X=new Map),X});p.forEach((q,X)=>{const $=g[X],{src:k,unitsPerEm:P}=x[$];let Z=z[$].get(q);if(!Z){const{path:Q,pathBounds:te}=h.glyphData[k][q],le=Math.max(te[2]-te[0],te[3]-te[1])/s*(Xx.sdfMargin*s+.5),de=l.glyphCount++,ce=[te[0]-le,te[1]-le,te[2]+le,te[3]+le];z[$].set(q,Z={path:Q,atlasIndex:de,sdfViewBox:ce}),M.push(Z)}const{sdfViewBox:H}=Z,ae=A[T++],W=A[T++],K=b/P;E[C++]=ae+H[0]*K,E[C++]=W+H[1]*K,E[C++]=ae+H[2]*K,E[C++]=W+H[3]*K,p[X]=Z.atlasIndex}),_.quads=(_.quads||0)+(zv()-B);const R=zv();_.sdf={};const O=c.height,U=Math.ceil(l.glyphCount/o),I=Math.pow(2,Math.ceil(Math.log2(U*s)));I>O&&(console.info(`Increasing SDF texture size ${O}->${I}`),Tfe(c,i,I),u.dispose()),Promise.all(M.map(q=>Cj(q,l,n.gpuAccelerateSDF).then(({timing:X})=>{_.sdf[q.atlasIndex]=X}))).then(()=>{M.length&&!l.contextLost&&(Dj(l),u.needsUpdate=!0),_.sdfTotal=zv()-R,_.total=zv()-t,e(Object.freeze({parameters:n,sdfTexture:u,sdfGlyphSize:s,sdfExponent:a,glyphBounds:E,glyphAtlasIndices:p,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{l.contextLost||Nfe(c)})}function Cj({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},s){if(a)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:l}=Xx,u=Math.max(t[2]-t[0],t[3]-t[1]),c=Math.floor(e/4),d=c%(o/r)*r,h=Math.floor(c/(o/r))*r,p=e%4;return Sfe(r,r,n,t,u,l,i,d,h,p,s)}function Dfe(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(a=>{r.push(Cj(a,n,!0))})}),Promise.all(r).then(()=>{Dj(n),n.sdfTexture.needsUpdate=!0})})}function Rfe({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;Tj({font:n,sdfGlyphSize:t,text:i},r)}function Bfe(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let $4;function Ofe(n){return $4||($4=typeof document>"u"?{}:document.createElement("a")),$4.href=n,$4.href}function Dj(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,a=n.sdfCanvas.getContext("webgl");let s=t.image.data;(!s||s.length!==r*i*4)&&(s=new Uint8Array(r*i*4),t.image={width:r,height:i,data:s},t.flipY=!1,t.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,s)}}const zfe=k1({name:"Typesetter",dependencies:[bfe,yfe,afe],init(n,e,t){return n(e,t())}}),Rj=k1({name:"Typesetter",dependencies:[zfe],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}});Rj.onMainThread;const hR={};function Ufe(n){let e=hR[n];return e||(e=hR[n]=new fc(1,1,n,n).translate(.5,.5,0)),e}const Ffe="aTroikaGlyphBounds",mR="aTroikaGlyphIndex",Lfe="aTroikaGlyphColor";class kfe extends o5{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ua,this.boundingBox=new ba}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Ufe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,a){this.updateAttributeData(Ffe,e,4),this.updateAttributeData(mR,t,1),this.updateAttributeData(Lfe,a,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:a,min:s,max:o,sin:l,cos:u}=Math,c=i/2,d=i*2,h=Math.abs(t),p=e[0]/h,g=e[2]/h,x=a((p+c)/d)!==a((g+c)/d)?-h:s(l(p)*h,l(g)*h),A=a((p-c)/d)!==a((g-c)/d)?h:o(l(p)*h,l(g)*h),b=a((p+i)/d)!==a((g+i)/d)?h*2:o(h-u(p)*h,h-u(g)*h);r.min.set(x,e[1],t<0?-b:0),r.max.set(A,e[3],t<0?0:b)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(mR).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let a=r[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,r){const i=this.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(this.setAttribute(e,new Wm(t,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Ife=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Pfe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,jfe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Vfe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Hfe(n){const e=UE(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new bt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new er(0,0,0,0)},uTroikaClipRect:{value:new er(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new bt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new jt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new kn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Ife,vertexTransform:Pfe,fragmentDefs:jfe,fragmentColorTransform:Vfe,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(Ej,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const ZN=new qd({color:16777215,side:Qa,transparent:!0}),pR=8421504,vR=new Mn,X4=new Ce,o_=new Ce,Fx=[],qfe=new Ce,l_="+x+y";function gR(n){return Array.isArray(n)?n[0]:n}let Bj=()=>{const n=new Ni(new fc(1,1),ZN);return Bj=()=>n,n},Oj=()=>{const n=new Ni(new fc(1,1,32,1),ZN);return Oj=()=>n,n};const Gfe={type:"syncstart"},$fe={type:"synccomplete"},zj=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Xfe=zj.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Uj=class extends Ni{constructor(){const e=new kfe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=pR,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=l_,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Gfe),Tj({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent($fe),e&&e()})))}onBeforeRender(e,t,r,i,a,s){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Hfe(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ZN.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return gR(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return gR(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:o,blockBounds:l}=i;r.uTroikaSDFTexture.value=o,r.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let u=0,c=0,d=0,h,p,g,x=0,A=0;if(t){let{outlineWidth:_,outlineOffsetX:M,outlineOffsetY:E,outlineBlur:C,outlineOpacity:T}=this;u=this._parsePercent(_)||0,c=Math.max(0,this._parsePercent(C)||0),h=T,x=this._parsePercent(M)||0,A=this._parsePercent(E)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??pR),p=this.strokeOpacity,p==null&&(p=1)),h=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(x,A),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=d,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let b=this.clipRect;if(b&&Array.isArray(b)&&b.length===4)r.uTroikaClipRect.value.fromArray(b);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=t?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new jt;(a!==o._input||typeof a=="object")&&o.set(o._input=a)}let s=this.orientation||l_;if(s!==e._orientation){let o=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let l=s!==l_&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,d,h]=l;X4.set(0,0,0)[c]=u==="-"?1:-1,o_.set(0,0,0)[h]=d==="-"?-1:1,vR.lookAt(qfe,X4.cross(o_),o_),o.setFromMatrix4(vR)}else o.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new bt){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new bt){return X4.copy(e),this.localPositionToTextCoords(this.worldToLocal(X4),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const a=r.blockBounds,s=i?Oj():Bj(),o=s.geometry,{position:l,uv:u}=o.attributes;for(let c=0;c<u.count;c++){let d=a[0]+u.getX(c)*(a[2]-a[0]);const h=a[1]+u.getY(c)*(a[3]-a[1]);let p=0;i&&(p=i-Math.cos(d/i)*i,d=Math.sin(d/i)*i),l.setXYZ(c,d,h,p)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,Fx.length=0,s.raycast(e,Fx);for(let c=0;c<Fx.length;c++)Fx[c].object=this,t.push(Fx[c])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Xfe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};zj.forEach(n=>{const e="_private_"+n;Object.defineProperty(Uj.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new ba;new jt;const Fj=Re.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:a,characters:s,onSync:o,...l},u)=>{const c=ef(({invalidate:g})=>g),[d]=Re.useState(()=>new Uj),[h,p]=Re.useMemo(()=>{const g=[];let x="";return Re.Children.forEach(a,A=>{typeof A=="string"||typeof A=="number"?x+=A:g.push(A)}),[g,x]},[a]);return Yue(()=>new Promise(g=>Rfe({font:r,characters:s},g)),["troika-text",r,s]),Re.useLayoutEffect(()=>void d.sync(()=>{c(),o&&o(d)})),Re.useEffect(()=>()=>d.dispose(),[d]),Re.createElement("primitive",mi({object:d,ref:u,font:r,text:p,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),h)});function Wfe(n,e,t,r){const i=class extends nl{constructor(s={}){const o=Object.entries(n);super({uniforms:o.reduce((l,[u,c])=>{const d=h1.clone({[u]:{value:c}});return{...l,...d}},{}),vertexShader:e,fragmentShader:t}),this.key="",o.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,s)}};return i.key=Uw.generateUUID(),i}const Yfe=()=>parseInt(D1.replace(/\D+/g,"")),Lj=Yfe(),I1=Re.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:l,...u},c)=>{const d=ef(T=>T.invalidate),h=ef(T=>T.camera),p=ef(T=>T.gl),g=ef(T=>T.events),x=ef(T=>T.setEvents),A=ef(T=>T.set),b=ef(T=>T.get),_=ef(T=>T.performance),M=e||h,E=r||g.connected||p.domElement,C=Re.useMemo(()=>new Yce(M),[M]);return L1(()=>{C.enabled&&C.update()},-1),Re.useEffect(()=>(a&&C.connect(a===!0?E:a),C.connect(E),()=>void C.dispose()),[a,E,t,C,d]),Re.useEffect(()=>{const T=R=>{d(),t&&_.regress(),s&&s(R)},B=R=>{o&&o(R)},z=R=>{l&&l(R)};return C.addEventListener("change",T),C.addEventListener("start",B),C.addEventListener("end",z),()=>{C.removeEventListener("start",B),C.removeEventListener("end",z),C.removeEventListener("change",T)}},[s,o,l,C,d,x]),Re.useEffect(()=>{if(n){const T=b().controls;return A({controls:C}),()=>A({controls:T})}},[n,C]),Re.createElement("primitive",mi({ref:c,object:C,enableDamping:i},u))}),Zfe=Wfe({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new jt,sectionColor:new jt,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new Ce,worldPlanePosition:new Ce},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Lj>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),u5=Re.forwardRef(({args:n,cellColor:e="#000000",sectionColor:t="#2080ff",cellSize:r=.5,sectionSize:i=1,followCamera:a=!1,infiniteGrid:s=!1,fadeDistance:o=100,fadeStrength:l=1,fadeFrom:u=1,cellThickness:c=.5,sectionThickness:d=1,side:h=Vs,...p},g)=>{hj({GridMaterial:Zfe});const x=Re.useRef(null);Re.useImperativeHandle(g,()=>x.current,[]);const A=new nf,b=new Ce(0,1,0),_=new Ce(0,0,0);L1(C=>{A.setFromNormalAndCoplanarPoint(b,_).applyMatrix4(x.current.matrixWorld);const T=x.current.material,B=T.uniforms.worldCamProjPosition,z=T.uniforms.worldPlanePosition;A.projectPoint(C.camera.position,B.value),z.value.set(0,0,0).applyMatrix4(x.current.matrixWorld)});const M={cellSize:r,sectionSize:i,cellColor:e,sectionColor:t,cellThickness:c,sectionThickness:d},E={fadeDistance:o,fadeStrength:l,fadeFrom:u,infiniteGrid:s,followCamera:a};return Re.createElement("mesh",mi({ref:x,frustumCulled:!1},p),Re.createElement("gridMaterial",mi({transparent:!0,"extensions-derivatives":!0,side:h},M,E)),Re.createElement("planeGeometry",{args:n}))});function Kfe(n,e){const t=n+"Geometry";return Re.forwardRef(({args:r,children:i,...a},s)=>{const o=Re.useRef(null);return Re.useImperativeHandle(s,()=>o.current),Re.useLayoutEffect(()=>void(e==null?void 0:e(o.current))),Re.createElement("mesh",mi({ref:o},a),Re.createElement(t,{attach:"geometry",args:r}),i)})}const xR=Kfe("icosahedron"),KN=Re.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:a=[-.1,.1],autoInvalidate:s=!1,...o},l)=>{const u=Re.useRef(null);Re.useImperativeHandle(l,()=>u.current,[]);const c=Re.useRef(Math.random()*1e4);return L1(d=>{var h,p;if(!e||t===0)return;s&&d.invalidate();const g=c.current+d.clock.getElapsedTime();u.current.rotation.x=Math.cos(g/4*t)/8*r,u.current.rotation.y=Math.sin(g/4*t)/8*r,u.current.rotation.z=Math.sin(g/4*t)/20*r;let x=Math.sin(g/4*t)/10;x=Uw.mapLinear(x,-.1,.1,(h=a==null?void 0:a[0])!==null&&h!==void 0?h:-.1,(p=a==null?void 0:a[1])!==null&&p!==void 0?p:.1),u.current.position.y=x*i,u.current.updateMatrix()}),Re.createElement("group",o,Re.createElement("group",{ref:u,matrixAutoUpdate:!1},n))});class Qfe extends nl{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Lj>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Jfe=n=>new Ce().setFromSpherical(new FS(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),kj=Re.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:s=1},o)=>{const l=Re.useRef(null),[u,c,d]=Re.useMemo(()=>{const p=[],g=[],x=Array.from({length:t},()=>(.5+.5*Math.random())*i),A=new jt;let b=n+e;const _=e/t;for(let M=0;M<t;M++)b-=_*Math.random(),p.push(...Jfe(b).toArray()),A.setHSL(M/t,r,.9),g.push(A.r,A.g,A.b);return[new Float32Array(p),new Float32Array(g),new Float32Array(x)]},[t,e,i,n,r]);L1(p=>l.current&&(l.current.uniforms.time.value=p.clock.getElapsedTime()*s));const[h]=Re.useState(()=>new Qfe);return Re.createElement("points",{ref:o},Re.createElement("bufferGeometry",null,Re.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),Re.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),Re.createElement("bufferAttribute",{attach:"attributes-size",args:[d,1]})),Re.createElement("primitive",{ref:l,object:h,attach:"material",blending:Y3,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),ede=({radius:n,climb:e,frequency:t,showBonds:r,animate:i})=>{const a=Re.useRef(null);L1((u,c)=>{i&&a.current&&(a.current.rotation.y+=c*.2)});const{strandA:s,strandB:o,connections:l}=Re.useMemo(()=>{const u=[],c=[],d=[],p=-40*e/2;for(let g=0;g<40;g++){const x=g*t,A=p+g*e,b=Math.cos(x)*n,_=Math.sin(x)*n,M=new Ce(b,A,_);u.push(M);const E=Math.cos(x+Math.PI)*n,C=Math.sin(x+Math.PI)*n,T=new Ce(E,A,C);c.push(T),d.push({start:M,end:T,id:g})}return{strandA:u,strandB:c,connections:d}},[n,e,t]);return S.jsxs("group",{ref:a,children:[S.jsx(Um,{points:s,color:"#22d3ee",lineWidth:3,transparent:!0,opacity:.6}),s.map((u,c)=>S.jsxs("mesh",{position:u,children:[S.jsx("sphereGeometry",{args:[.15,16,16]}),S.jsx("meshStandardMaterial",{color:"#22d3ee",emissive:"#22d3ee",emissiveIntensity:.5})]},`a-${c}`)),S.jsx(Um,{points:o,color:"#a855f7",lineWidth:3,transparent:!0,opacity:.6}),o.map((u,c)=>S.jsxs("mesh",{position:u,children:[S.jsx("sphereGeometry",{args:[.15,16,16]}),S.jsx("meshStandardMaterial",{color:"#a855f7",emissive:"#a855f7",emissiveIntensity:.5})]},`b-${c}`)),r&&l.map((u,c)=>{const d=new Ce().addVectors(u.start,u.end).multiplyScalar(.5),h=u.start.distanceTo(u.end),p=new Ce().subVectors(u.end,u.start).normalize(),g=new xs().setFromUnitVectors(new Ce(0,1,0),p);return S.jsxs("group",{children:[S.jsxs("mesh",{position:d,quaternion:g,children:[S.jsx("cylinderGeometry",{args:[.03,.03,h,8]}),S.jsx("meshStandardMaterial",{color:"white",transparent:!0,opacity:.2})]}),S.jsxs("mesh",{position:d,quaternion:g,scale:[1,.2,1],children:[S.jsx("cylinderGeometry",{args:[.06,.06,h*.4,8]}),S.jsx("meshStandardMaterial",{color:c%2===0?"#22d3ee":"#a855f7",emissive:c%2===0?"#22d3ee":"#a855f7",emissiveIntensity:.8,transparent:!0,opacity:.6})]})]},`conn-${c}`)})]})},tde=()=>{const[n,e]=Re.useState(2),[t,r]=Re.useState(.4),[i,a]=Re.useState(.6),[s,o]=Re.useState(!0),[l,u]=Re.useState(!0);return S.jsxs("div",{className:"space-y-6 h-[calc(100vh-140px)] flex flex-col pb-6",children:[S.jsx("header",{className:"flex flex-col md:flex-row justify-between items-end border-b border-white/10 pb-4 shrink-0 gap-4",children:S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[S.jsx(cF,{className:"text-cyan-400"})," Bio-Sequences"]}),S.jsxs("p",{className:"text-slate-400 text-sm max-w-2xl",children:["Modeling biological structures using interleaved mathematical sequences.",S.jsx("span",{className:"font-mono text-cyan-400",children:" a_n"})," and ",S.jsx("span",{className:"font-mono text-purple-400",children:" b_n"})," form the double helix backbone."]})]})}),S.jsxs("div",{className:"flex-1 bg-slate-950 rounded-3xl border border-slate-800 relative overflow-hidden shadow-2xl flex flex-col md:flex-row",children:[S.jsxs("div",{className:"absolute top-4 left-4 z-10 w-72 bg-slate-900/80 backdrop-blur-xl p-5 rounded-2xl border border-slate-700/50 flex flex-col gap-6 shadow-2xl",children:[S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2 mb-4",children:[S.jsx(gF,{size:14})," Helix Parameters"]}),S.jsxs("div",{className:"space-y-5",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-bold uppercase",children:[S.jsx("span",{children:"Radius (Amplitude)"}),S.jsxs("span",{className:"text-cyan-400",children:[n,"u"]})]}),S.jsx("input",{type:"range",min:"1",max:"4",step:"0.1",value:n,onChange:c=>e(parseFloat(c.target.value)),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-bold uppercase",children:[S.jsx("span",{children:"Base Pair Spacing (Climb)"}),S.jsxs("span",{className:"text-purple-400",children:[t,"u"]})]}),S.jsx("input",{type:"range",min:"0.2",max:"1",step:"0.05",value:t,onChange:c=>r(parseFloat(c.target.value)),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-bold uppercase",children:[S.jsx("span",{children:"Twist Rate (Frequency)"}),S.jsxs("span",{className:"text-pink-400",children:[i," rad"]})]}),S.jsx("input",{type:"range",min:"0.2",max:"1.5",step:"0.1",value:i,onChange:c=>a(parseFloat(c.target.value)),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsxs("button",{onClick:()=>o(!s),className:`py-2 rounded-lg text-[10px] font-bold border transition-all flex items-center justify-center gap-2 uppercase tracking-wide ${s?"bg-cyan-500/20 text-cyan-300 border-cyan-500/50":"bg-transparent text-slate-400 border-slate-600"}`,children:[S.jsx(Vd,{size:14})," Base Pairs"]}),S.jsxs("button",{onClick:()=>u(!l),className:`py-2 rounded-lg text-[10px] font-bold border transition-all flex items-center justify-center gap-2 uppercase tracking-wide ${l?"bg-purple-500/20 text-purple-300 border-purple-500/50":"bg-transparent text-slate-400 border-slate-600"}`,children:[S.jsx(t6,{size:14})," Rotation"]})]})]}),S.jsxs("div",{className:"w-full h-full",children:[S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,_rgba(168,85,247,0.1),_transparent_70%)] pointer-events-none z-0"}),S.jsxs(ip,{camera:{position:[10,0,10],fov:35},children:[S.jsx("color",{attach:"background",args:["#020617"]}),S.jsx("fog",{attach:"fog",args:["#020617",10,40]}),S.jsx("ambientLight",{intensity:.2}),S.jsx("pointLight",{position:[10,10,10],intensity:1,color:"#22d3ee"}),S.jsx("pointLight",{position:[-10,-10,-10],intensity:1,color:"#a855f7"}),S.jsx(I1,{makeDefault:!0,enableZoom:!0,enablePan:!0}),S.jsx(KN,{speed:2,rotationIntensity:.2,floatIntensity:.5,children:S.jsx(ede,{radius:n,climb:t,frequency:i,showBonds:s,animate:l})}),S.jsx(kj,{radius:100,depth:50,count:2e3,factor:4,saturation:0,fade:!0,speed:1})]}),S.jsxs("div",{className:"absolute bottom-6 right-6 pointer-events-none text-right",children:[S.jsx("h3",{className:"text-2xl font-black text-white/10 uppercase tracking-tighter",children:"Sequence Model"}),S.jsxs("div",{className:"text-[10px] text-cyan-500/50 font-mono",children:["x = r  cos(n)",S.jsx("br",{}),"z = r  sin(n)"]})]})]})]})]})};var Ij={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function In(n){return typeof n=="number"}function Pn(n){return!n||typeof n!="object"||typeof n.constructor!="function"?!1:n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0}function Cd(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function d2(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function ou(n){return n&&n.constructor.prototype.isUnit===!0||!1}function Is(n){return typeof n=="string"}var Tr=Array.isArray;function vn(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function xu(n){return Array.isArray(n)||vn(n)}function jS(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Fm(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function QN(n){return n&&n.constructor.prototype.isRange===!0||!1}function c5(n){return n&&n.constructor.prototype.isIndex===!0||!1}function nde(n){return typeof n=="boolean"}function rde(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function Pj(n){return n&&n.constructor.prototype.isHelp===!0||!1}function ide(n){return typeof n=="function"}function ade(n){return n instanceof Date}function sde(n){return n instanceof RegExp}function f5(n){return!!(n&&typeof n=="object"&&n.constructor===Object&&!Cd(n)&&!d2(n))}function ode(n){return n===null}function lde(n){return n===void 0}function Km(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function su(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function ude(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function cde(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function fde(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function vr(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function LE(n){return vr(n)||ya(n)&&n.args.length===1&&vr(n.args[0])&&"-+~".includes(n.op)}function h2(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function ih(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function P1(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function Vr(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function d5(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function ya(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function Id(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function dde(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function hde(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function Ja(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function jj(n){return n&&n.constructor.prototype.isChain===!0||!1}function Wr(n){var e=typeof n;return e==="object"?n===null?"null":Pn(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}function Rn(n){var e=typeof n;if(e==="number"||e==="string"||e==="boolean"||n===null||n===void 0)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(t){return Rn(t)});if(n instanceof Date)return new Date(n.valueOf());if(Pn(n))return n;if(f5(n))return mde(n,Rn);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function mde(n,e){var t={};for(var r in n)Qt(n,r)&&(t[r]=e(n[r]));return t}function Vj(n,e){for(var t in e)Qt(e,t)&&(n[t]=e[t]);return n}function Qm(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!Qm(n[r],e[r]))return!1;return!0}else{if(typeof n=="function")return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!Qm(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}else return n===e}}function pde(n,e,t){var r=!0,i;Object.defineProperty(n,e,{get:function(){return r&&(i=t(),r=!1),i},set:function(s){i=s,r=!1},configurable:!0,enumerable:!0})}function Qt(n,e){return n&&Object.hasOwnProperty.call(n,e)}function vde(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],a=n[i];a!==void 0&&(t[i]=a)}return t}var gde=["Matrix","Array"],xde=["number","BigNumber","Fraction"],St=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Ij)};mi(St,Ij,{MATRIX_OPTIONS:gde,NUMBER_OPTIONS:xde});function yR(){return!0}function ru(){return!1}function Uv(){}const bR="Argument is not a typed-function.";function Hj(){function n(ee){return typeof ee=="object"&&ee!==null&&ee.constructor===Object}const e=[{name:"number",test:function(ee){return typeof ee=="number"}},{name:"string",test:function(ee){return typeof ee=="string"}},{name:"boolean",test:function(ee){return typeof ee=="boolean"}},{name:"Function",test:function(ee){return typeof ee=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ee){return ee instanceof Date}},{name:"RegExp",test:function(ee){return ee instanceof RegExp}},{name:"Object",test:n},{name:"null",test:function(ee){return ee===null}},{name:"undefined",test:function(ee){return ee===void 0}}],t={name:"any",test:yR,isAny:!0};let r,i,a=0,s={createCount:0};function o(ee){const oe=r.get(ee);if(oe)return oe;let ge='Unknown type "'+ee+'"';const De=ee.toLowerCase();let Le;for(Le of i)if(Le.toLowerCase()===De){ge+='. Did you mean "'+Le+'" ?';break}throw new TypeError(ge)}function l(ee){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const ge=oe?o(oe).index:i.length,De=[];for(let Ue=0;Ue<ee.length;++Ue){if(!ee[Ue]||typeof ee[Ue].name!="string"||typeof ee[Ue].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const He=ee[Ue].name;if(r.has(He))throw new TypeError('Duplicate type name "'+He+'"');De.push(He),r.set(He,{name:He,test:ee[Ue].test,isAny:ee[Ue].isAny,index:ge+Ue,conversionsTo:[]})}const Le=i.slice(ge);i=i.slice(0,ge).concat(De).concat(Le);for(let Ue=ge+De.length;Ue<i.length;++Ue)r.get(i[Ue]).index=Ue}function u(){r=new Map,i=[],a=0,l([t],!1)}u(),l(e);function c(){let ee;for(ee of i)r.get(ee).conversionsTo=[];a=0}function d(ee){const oe=i.filter(ge=>{const De=r.get(ge);return!De.isAny&&De.test(ee)});return oe.length?oe:["any"]}function h(ee){return ee&&typeof ee=="function"&&"_typedFunctionData"in ee}function p(ee,oe,ge){if(!h(ee))throw new TypeError(bR);const De=ge&&ge.exact,Le=Array.isArray(oe)?oe.join(","):oe,Ue=E(Le),He=A(Ue);if(!De||He in ee.signatures){const st=ee._typedFunctionData.signatureMap.get(He);if(st)return st}const et=Ue.length;let Xe;if(De){Xe=[];let st;for(st in ee.signatures)Xe.push(ee._typedFunctionData.signatureMap.get(st))}else Xe=ee._typedFunctionData.signatures;for(let st=0;st<et;++st){const lt=Ue[st],Ke=[];let ze;for(ze of Xe){const G=z(ze.params,st);if(!(!G||lt.restParam&&!G.restParam)){if(!G.hasAny){const Ne=M(G);if(lt.types.some(me=>!Ne.has(me.name)))continue}Ke.push(ze)}}if(Xe=Ke,Xe.length===0)break}let We;for(We of Xe)if(We.params.length<=et)return We;throw new TypeError("Signature not found (signature: "+(ee.name||"unnamed")+"("+A(Ue,", ")+"))")}function g(ee,oe,ge){return p(ee,oe,ge).implementation}function x(ee,oe){const ge=o(oe);if(ge.test(ee))return ee;const De=ge.conversionsTo;if(De.length===0)throw new Error("There are no conversions to "+oe+" defined.");for(let Le=0;Le<De.length;Le++)if(o(De[Le].from).test(ee))return De[Le].convert(ee);throw new Error("Cannot convert "+ee+" to "+oe)}function A(ee){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return ee.map(ge=>ge.name).join(oe)}function b(ee){const oe=ee.indexOf("...")===0,De=(oe?ee.length>3?ee.slice(3):"any":ee).split("|").map(et=>o(et.trim()));let Le=!1,Ue=oe?"...":"";return{types:De.map(function(et){return Le=et.isAny||Le,Ue+=et.name+"|",{name:et.name,typeIndex:et.index,test:et.test,isAny:et.isAny,conversion:null,conversionIndex:-1}}),name:Ue.slice(0,-1),hasAny:Le,hasConversion:!1,restParam:oe}}function _(ee){const oe=ee.types.map(He=>He.name),ge=P(oe);let De=ee.hasAny,Le=ee.name;const Ue=ge.map(function(He){const et=o(He.from);return De=et.isAny||De,Le+="|"+He.from,{name:He.from,typeIndex:et.index,test:et.test,isAny:et.isAny,conversion:He,conversionIndex:He.index}});return{types:ee.types.concat(Ue),name:Le,hasAny:De,hasConversion:Ue.length>0,restParam:ee.restParam}}function M(ee){return ee.typeSet||(ee.typeSet=new Set,ee.types.forEach(oe=>ee.typeSet.add(oe.name))),ee.typeSet}function E(ee){const oe=[];if(typeof ee!="string")throw new TypeError("Signatures must be strings");const ge=ee.trim();if(ge==="")return oe;const De=ge.split(",");for(let Le=0;Le<De.length;++Le){const Ue=b(De[Le].trim());if(Ue.restParam&&Le!==De.length-1)throw new SyntaxError('Unexpected rest parameter "'+De[Le]+'": only allowed for the last parameter');if(Ue.types.length===0)return null;oe.push(Ue)}return oe}function C(ee){const oe=Te(ee);return oe?oe.restParam:!1}function T(ee){if(!ee||ee.types.length===0)return yR;if(ee.types.length===1)return o(ee.types[0].name).test;if(ee.types.length===2){const oe=o(ee.types[0].name).test,ge=o(ee.types[1].name).test;return function(Le){return oe(Le)||ge(Le)}}else{const oe=ee.types.map(function(ge){return o(ge.name).test});return function(De){for(let Le=0;Le<oe.length;Le++)if(oe[Le](De))return!0;return!1}}}function B(ee){let oe,ge,De;if(C(ee)){oe=be(ee).map(T);const Le=oe.length,Ue=T(Te(ee)),He=function(et){for(let Xe=Le;Xe<et.length;Xe++)if(!Ue(et[Xe]))return!1;return!0};return function(Xe){for(let We=0;We<oe.length;We++)if(!oe[We](Xe[We]))return!1;return He(Xe)&&Xe.length>=Le+1}}else return ee.length===0?function(Ue){return Ue.length===0}:ee.length===1?(ge=T(ee[0]),function(Ue){return ge(Ue[0])&&Ue.length===1}):ee.length===2?(ge=T(ee[0]),De=T(ee[1]),function(Ue){return ge(Ue[0])&&De(Ue[1])&&Ue.length===2}):(oe=ee.map(T),function(Ue){for(let He=0;He<oe.length;He++)if(!oe[He](Ue[He]))return!1;return Ue.length===oe.length})}function z(ee,oe){return oe<ee.length?ee[oe]:C(ee)?Te(ee):null}function R(ee,oe){const ge=z(ee,oe);return ge?M(ge):new Set}function O(ee){return ee.conversion===null||ee.conversion===void 0}function U(ee,oe){const ge=new Set;return ee.forEach(De=>{const Le=R(De.params,oe);let Ue;for(Ue of Le)ge.add(Ue)}),ge.has("any")?["any"]:Array.from(ge)}function I(ee,oe,ge){let De,Le;const Ue=ee||"unnamed";let He=ge,et;for(et=0;et<oe.length;et++){const lt=[];if(He.forEach(Ke=>{const ze=z(Ke.params,et),G=T(ze);(et<Ke.params.length||C(Ke.params))&&G(oe[et])&&lt.push(Ke)}),lt.length===0){if(Le=U(He,et),Le.length>0){const Ke=d(oe[et]);return De=new TypeError("Unexpected type of argument in function "+Ue+" (expected: "+Le.join(" or ")+", actual: "+Ke.join(" | ")+", index: "+et+")"),De.data={category:"wrongType",fn:Ue,index:et,actual:Ke,expected:Le},De}}else He=lt}const Xe=He.map(function(lt){return C(lt.params)?1/0:lt.params.length});if(oe.length<Math.min.apply(null,Xe))return Le=U(He,et),De=new TypeError("Too few arguments in function "+Ue+" (expected: "+Le.join(" or ")+", index: "+oe.length+")"),De.data={category:"tooFewArgs",fn:Ue,index:oe.length,expected:Le},De;const We=Math.max.apply(null,Xe);if(oe.length>We)return De=new TypeError("Too many arguments in function "+Ue+" (expected: "+We+", actual: "+oe.length+")"),De.data={category:"tooManyArgs",fn:Ue,index:oe.length,expectedLength:We},De;const st=[];for(let lt=0;lt<oe.length;++lt)st.push(d(oe[lt]).join("|"));return De=new TypeError('Arguments of type "'+st.join(", ")+'" do not match any of the defined signatures of function '+Ue+"."),De.data={category:"mismatch",actual:st},De}function q(ee){let oe=i.length+1;for(let ge=0;ge<ee.types.length;ge++)oe=Math.min(oe,ee.types[ge].typeIndex);return oe}function X(ee){let oe=a+1;for(let ge=0;ge<ee.types.length;ge++)O(ee.types[ge])||(oe=Math.min(oe,ee.types[ge].conversionIndex));return oe}function $(ee,oe){if(ee.hasAny){if(!oe.hasAny)return .1}else if(oe.hasAny)return-.1;if(ee.restParam){if(!oe.restParam)return .01}else if(oe.restParam)return-.01;const ge=q(ee)-q(oe);if(ge<0)return-.001;if(ge>0)return .001;const De=X(ee),Le=X(oe);if(ee.hasConversion){if(!oe.hasConversion)return(1+De)*1e-6}else if(oe.hasConversion)return-(1+Le)*1e-6;const Ue=De-Le;return Ue<0?-1e-7:Ue>0?1e-7:0}function k(ee,oe){const ge=ee.params,De=oe.params,Le=Te(ge),Ue=Te(De),He=C(ge),et=C(De);if(He&&Le.hasAny){if(!et||!Ue.hasAny)return 1e7}else if(et&&Ue.hasAny)return-1e7;let Xe=0,We=0,st;for(st of ge)st.hasAny&&++Xe,st.hasConversion&&++We;let lt=0,Ke=0;for(st of De)st.hasAny&&++lt,st.hasConversion&&++Ke;if(Xe!==lt)return(Xe-lt)*1e6;if(He&&Le.hasConversion){if(!et||!Ue.hasConversion)return 1e5}else if(et&&Ue.hasConversion)return-1e5;if(We!==Ke)return(We-Ke)*1e4;if(He){if(!et)return 1e3}else if(et)return-1e3;const ze=(ge.length-De.length)*(He?-100:100);if(ze!==0)return ze;const G=[];let Ne=0;for(let tt=0;tt<ge.length;++tt){const xt=$(ge[tt],De[tt]);G.push(xt),Ne+=xt}if(Ne!==0)return(Ne<0?-10:10)+Ne;let me,Pe=9;const $e=Pe/(G.length+1);for(me of G){if(me!==0)return(me<0?-Pe:Pe)+me;Pe-=$e}return 0}function P(ee){if(ee.length===0)return[];const oe=ee.map(o);if(ee.length===1)return oe[0].conversionsTo;const ge=new Set(ee),De=new Set;for(let Ue=0;Ue<oe.length;++Ue)for(const He of oe[Ue].conversionsTo)ge.has(He.from)||De.add(He.from);const Le=[];for(const Ue of De){let He=a+1,et=null;for(let Xe=0;Xe<oe.length;++Xe)for(const We of oe[Xe].conversionsTo)We.from===Ue&&We.index<He&&(He=We.index,et=We);Le.push(et)}return Le}function Z(ee,oe){let ge=oe,De="";if(ee.some(Ue=>Ue.hasConversion)){const Ue=C(ee),He=ee.map(H);De=He.map(et=>et.name).join(";"),ge=function(){const Xe=[],We=Ue?arguments.length-1:arguments.length;for(let st=0;st<We;st++)Xe[st]=He[st](arguments[st]);return Ue&&(Xe[We]=arguments[We].map(He[We])),oe.apply(this,Xe)}}let Le=ge;if(C(ee)){const Ue=ee.length-1;Le=function(){return ge.apply(this,Oe(arguments,0,Ue).concat([Oe(arguments,Ue)]))}}return De&&Object.defineProperty(Le,"name",{value:De}),Le}function H(ee){let oe,ge,De,Le;const Ue=[],He=[];let et="";ee.types.forEach(function(We){We.conversion&&(et+=We.conversion.from+"~>"+We.conversion.to+",",Ue.push(o(We.conversion.from).test),He.push(We.conversion.convert))}),et?et=et.slice(0,-1):et="pass";let Xe=We=>We;switch(He.length){case 0:break;case 1:oe=Ue[0],De=He[0],Xe=function(st){return oe(st)?De(st):st};break;case 2:oe=Ue[0],ge=Ue[1],De=He[0],Le=He[1],Xe=function(st){return oe(st)?De(st):ge(st)?Le(st):st};break;default:Xe=function(st){for(let lt=0;lt<He.length;lt++)if(Ue[lt](st))return He[lt](st);return st}}return Object.defineProperty(Xe,"name",{value:et}),Xe}function ae(ee){function oe(ge,De,Le){if(De<ge.length){const Ue=ge[De];let He=[];if(Ue.restParam){const et=Ue.types.filter(O);et.length<Ue.types.length&&He.push({types:et,name:"..."+et.map(Xe=>Xe.name).join("|"),hasAny:et.some(Xe=>Xe.isAny),hasConversion:!1,restParam:!0}),He.push(Ue)}else He=Ue.types.map(function(et){return{types:[et],name:et.name,hasAny:et.isAny,hasConversion:et.conversion,restParam:!1}});return Se(He,function(et){return oe(ge,De+1,Le.concat([et]))})}else return[Le]}return oe(ee,0,[])}function W(ee,oe){const ge=Math.max(ee.length,oe.length);for(let et=0;et<ge;et++){const Xe=R(ee,et),We=R(oe,et);let st=!1,lt;for(lt of We)if(Xe.has(lt)){st=!0;break}if(!st)return!1}const De=ee.length,Le=oe.length,Ue=C(ee),He=C(oe);return Ue?He?De===Le:Le>=De:He?De>=Le:De===Le}function K(ee){return ee.map(oe=>Be(oe)?fe(oe.referToSelf.callback):he(oe)?ve(oe.referTo.references,oe.referTo.callback):oe)}function Q(ee,oe,ge){const De=[];let Le;for(Le of ee){let Ue=ge[Le];if(typeof Ue!="number")throw new TypeError('No definition for referenced signature "'+Le+'"');if(Ue=oe[Ue],typeof Ue!="function")return!1;De.push(Ue)}return De}function te(ee,oe,ge){const De=K(ee),Le=new Array(De.length).fill(!1);let Ue=!0;for(;Ue;){Ue=!1;let He=!0;for(let et=0;et<De.length;++et){if(Le[et])continue;const Xe=De[et];if(Be(Xe))De[et]=Xe.referToSelf.callback(ge),De[et].referToSelf=Xe.referToSelf,Le[et]=!0,He=!1;else if(he(Xe)){const We=Q(Xe.referTo.references,De,oe);We?(De[et]=Xe.referTo.callback.apply(this,We),De[et].referTo=Xe.referTo,Le[et]=!0,He=!1):Ue=!0}}if(He&&Ue)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return De}function le(ee){const oe=/\bthis(\(|\.signatures\b)/;Object.keys(ee).forEach(ge=>{const De=ee[ge];if(oe.test(De.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function de(ee,oe){if(s.createCount++,Object.keys(oe).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&le(oe);const ge=[],De=[],Le={},Ue=[];let He;for(He in oe){if(!Object.prototype.hasOwnProperty.call(oe,He))continue;const ot=E(He);if(!ot)continue;ge.forEach(function(nn){if(W(nn,ot))throw new TypeError('Conflicting signatures "'+A(nn)+'" and "'+A(ot)+'".')}),ge.push(ot);const Tt=De.length;De.push(oe[He]);const qt=ot.map(_);let tn;for(tn of ae(qt)){const nn=A(tn);Ue.push({params:tn,name:nn,fn:Tt}),tn.every(Gt=>!Gt.hasConversion)&&(Le[nn]=Tt)}}Ue.sort(k);const et=te(De,Le,Et);let Xe;for(Xe in Le)Object.prototype.hasOwnProperty.call(Le,Xe)&&(Le[Xe]=et[Le[Xe]]);const We=[],st=new Map;for(Xe of Ue)st.has(Xe.name)||(Xe.fn=et[Xe.fn],We.push(Xe),st.set(Xe.name,Xe));const lt=We[0]&&We[0].params.length<=2&&!C(We[0].params),Ke=We[1]&&We[1].params.length<=2&&!C(We[1].params),ze=We[2]&&We[2].params.length<=2&&!C(We[2].params),G=We[3]&&We[3].params.length<=2&&!C(We[3].params),Ne=We[4]&&We[4].params.length<=2&&!C(We[4].params),me=We[5]&&We[5].params.length<=2&&!C(We[5].params),Pe=lt&&Ke&&ze&&G&&Ne&&me;for(let ot=0;ot<We.length;++ot)We[ot].test=B(We[ot].params);const $e=lt?T(We[0].params[0]):ru,tt=Ke?T(We[1].params[0]):ru,xt=ze?T(We[2].params[0]):ru,wt=G?T(We[3].params[0]):ru,kt=Ne?T(We[4].params[0]):ru,Jt=me?T(We[5].params[0]):ru,Ht=lt?T(We[0].params[1]):ru,Wt=Ke?T(We[1].params[1]):ru,Fn=ze?T(We[2].params[1]):ru,ar=G?T(We[3].params[1]):ru,Ir=Ne?T(We[4].params[1]):ru,Di=me?T(We[5].params[1]):ru;for(let ot=0;ot<We.length;++ot)We[ot].implementation=Z(We[ot].params,We[ot].fn);const vi=lt?We[0].implementation:Uv,Kr=Ke?We[1].implementation:Uv,ca=ze?We[2].implementation:Uv,yi=G?We[3].implementation:Uv,Hr=Ne?We[4].implementation:Uv,_r=me?We[5].implementation:Uv,mn=lt?We[0].params.length:-1,hi=Ke?We[1].params.length:-1,wa=ze?We[2].params.length:-1,zl=G?We[3].params.length:-1,Au=Ne?We[4].params.length:-1,Ul=me?We[5].params.length:-1,_e=Pe?6:0,Je=We.length,dt=We.map(ot=>ot.test),at=We.map(ot=>ot.implementation),Ye=function(){for(let Tt=_e;Tt<Je;Tt++)if(dt[Tt](arguments))return at[Tt].apply(this,arguments);return s.onMismatch(ee,arguments,We)};function Et(ot,Tt){return arguments.length===mn&&$e(ot)&&Ht(Tt)?vi.apply(this,arguments):arguments.length===hi&&tt(ot)&&Wt(Tt)?Kr.apply(this,arguments):arguments.length===wa&&xt(ot)&&Fn(Tt)?ca.apply(this,arguments):arguments.length===zl&&wt(ot)&&ar(Tt)?yi.apply(this,arguments):arguments.length===Au&&kt(ot)&&Ir(Tt)?Hr.apply(this,arguments):arguments.length===Ul&&Jt(ot)&&Di(Tt)?_r.apply(this,arguments):Ye.apply(this,arguments)}try{Object.defineProperty(Et,"name",{value:ee})}catch{}return Et.signatures=Le,Et._typedFunctionData={signatures:We,signatureMap:st},Et}function ce(ee,oe,ge){throw I(ee,oe,ge)}function be(ee){return Oe(ee,0,ee.length-1)}function Te(ee){return ee[ee.length-1]}function Oe(ee,oe,ge){return Array.prototype.slice.call(ee,oe,ge)}function Fe(ee,oe){for(let ge=0;ge<ee.length;ge++)if(oe(ee[ge]))return ee[ge]}function Se(ee,oe){return Array.prototype.concat.apply([],ee.map(oe))}function Ve(){const ee=be(arguments).map(ge=>A(E(ge))),oe=Te(arguments);if(typeof oe!="function")throw new TypeError("Callback function expected as last argument");return ve(ee,oe)}function ve(ee,oe){return{referTo:{references:ee,callback:oe}}}function fe(ee){if(typeof ee!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:ee}}}function he(ee){return ee&&typeof ee.referTo=="object"&&Array.isArray(ee.referTo.references)&&typeof ee.referTo.callback=="function"}function Be(ee){return ee&&typeof ee.referToSelf=="object"&&typeof ee.referToSelf.callback=="function"}function ue(ee,oe){if(!ee)return oe;if(oe&&oe!==ee){const ge=new Error("Function names do not match (expected: "+ee+", actual: "+oe+")");throw ge.data={actual:oe,expected:ee},ge}return ee}function xe(ee){let oe;for(const ge in ee)Object.prototype.hasOwnProperty.call(ee,ge)&&(h(ee[ge])||typeof ee[ge].signature=="string")&&(oe=ue(oe,ee[ge].name));return oe}function we(ee,oe){let ge;for(ge in oe)if(Object.prototype.hasOwnProperty.call(oe,ge)){if(ge in ee&&oe[ge]!==ee[ge]){const De=new Error('Signature "'+ge+'" is defined twice');throw De.data={signature:ge,sourceFunction:oe[ge],destFunction:ee[ge]},De}ee[ge]=oe[ge]}}const ie=s;s=function(ee){const oe=typeof ee=="string",ge=oe?1:0;let De=oe?ee:"";const Le={};for(let Ue=ge;Ue<arguments.length;++Ue){const He=arguments[Ue];let et={},Xe;if(typeof He=="function"?(Xe=He.name,typeof He.signature=="string"?et[He.signature]=He:h(He)&&(et=He.signatures)):n(He)&&(et=He,oe||(Xe=xe(He))),Object.keys(et).length===0){const We=new TypeError("Argument to 'typed' at index "+Ue+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw We.data={index:Ue,argument:He},We}oe||(De=ue(De,Xe)),we(Le,et)}return de(De||"",Le)},s.create=Hj,s.createCount=ie.createCount,s.onMismatch=ce,s.throwMismatchError=ce,s.createError=I,s.clear=u,s.clearConversions=c,s.addTypes=l,s._findType=o,s.referTo=Ve,s.referToSelf=fe,s.convert=x,s.findSignature=p,s.find=g,s.isTypedFunction=h,s.warnAgainstDeprecatedThis=!0,s.addType=function(ee,oe){let ge="any";oe!==!1&&r.has("Object")&&(ge="Object"),s.addTypes([ee],ge)};function re(ee){if(!ee||typeof ee.from!="string"||typeof ee.to!="string"||typeof ee.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(ee.to===ee.from)throw new SyntaxError('Illegal to define conversion from "'+ee.from+'" to itself.')}return s.addConversion=function(ee){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};re(ee);const ge=o(ee.to),De=ge.conversionsTo.find(Le=>Le.from===ee.from);if(De)if(oe&&oe.override)s.removeConversion({from:De.from,to:ee.to,convert:De.convert});else throw new Error('There is already a conversion from "'+ee.from+'" to "'+ge.name+'"');ge.conversionsTo.push({from:ee.from,to:ge.name,convert:ee.convert,index:a++})},s.addConversions=function(ee,oe){ee.forEach(ge=>s.addConversion(ge,oe))},s.removeConversion=function(ee){re(ee);const oe=o(ee.to),ge=Fe(oe.conversionsTo,Le=>Le.from===ee.from);if(!ge)throw new Error("Attempt to remove nonexistent conversion from "+ee.from+" to "+ee.to);if(ge.convert!==ee.convert)throw new Error("Conversion to remove does not match existing conversion");const De=oe.conversionsTo.indexOf(ge);oe.conversionsTo.splice(De,1)},s.resolve=function(ee,oe){if(!h(ee))throw new TypeError(bR);const ge=ee._typedFunctionData.signatures;for(let De=0;De<ge.length;++De)if(ge[De].test(oe))return ge[De];return null},s}const Kv=Hj();function on(n){return typeof n=="boolean"?!0:isFinite(n)?n===Math.round(n):!1}var W0=Math.sign||function(n){return n>0?1:n<0?-1:0},yde=Math.log2||function(e){return Math.log(e)/Math.LN2},bde=Math.log10||function(e){return Math.log(e)/Math.LN10},Sde=Math.log1p||function(n){return Math.log(n+1)},wde=Math.cbrt||function(e){if(e===0)return e;var t=e<0,r;return t&&(e=-e),isFinite(e)?(r=Math.exp(Math.log(e)/3),r=(e/(r*r)+2*r)/3):r=e,t?-r:r},Ade=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function u_(n,e,t){var r={2:"0b",8:"0o",16:"0x"},i=r[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!on(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!on(n))throw new Error("Value must be an integer");n<0&&(n=n+2**t),a="i".concat(t)}var s="";return n<0&&(n=-n,s="-"),"".concat(s).concat(i).concat(n.toString(e)).concat(a)}function qm(n,e){if(typeof e=="function")return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=qj(e);switch(t){case"fixed":return Gj(n,r);case"exponential":return $j(n,r);case"engineering":return Mde(n,r);case"bin":return u_(n,2,i);case"oct":return u_(n,8,i);case"hex":return u_(n,16,i);case"auto":return _de(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qj(n){var e="auto",t,r;if(n!==void 0)if(In(n))t=n;else if(Pn(n))t=n.toNumber();else if(f5(n))n.precision!==void 0&&(t=SR(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(r=SR(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:r}}function m2(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),a=r.indexOf(".");i+=a!==-1?a-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(o){return i-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return s.length===0&&(s.push(0),i++),{sign:t,coefficients:s,exponent:i}}function Mde(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=m2(n),r=h5(t,e),i=r.exponent,a=r.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(In(e))for(;e>a.length||i-s+1>a.length;)a.push(0);else for(var o=Math.abs(i-s)-(a.length-1),l=0;l<o;l++)a.push(0);for(var u=Math.abs(i-s),c=1;u>0;)c++,u--;var d=a.slice(c).join(""),h=In(e)&&d.length||d.match(/[1-9]/)?"."+d:"",p=a.slice(0,c).join("")+h+"e"+(i>=0?"+":"")+s.toString();return r.sign+p}function Gj(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=m2(n),r=typeof e=="number"?h5(t,t.exponent+1+e):t,i=r.coefficients,a=r.exponent+1,s=a+(e||0);return i.length<s&&(i=i.concat(r1(s-i.length))),a<0&&(i=r1(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),r.sign+i.join("")}function $j(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=m2(n),r=e?h5(t,e):t,i=r.coefficients,a=r.exponent;i.length<e&&(i=i.concat(r1(e-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function _de(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=wR(t==null?void 0:t.lowerExp,-3),i=wR(t==null?void 0:t.upperExp,5),a=m2(n),s=e?h5(a,e):a;if(s.exponent<r||s.exponent>=i)return $j(n,e);var o=s.coefficients,l=s.exponent;o.length<e&&(o=o.concat(r1(e-o.length))),o=o.concat(r1(l-o.length+1+(o.length<e?e-o.length:0))),o=r1(-l).concat(o);var u=l>0?l:0;return u<o.length-1&&o.splice(u+1,0,"."),s.sign+o.join("")}function h5(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var a=e-1;for(r[a]++;r[a]===10;)r.pop(),a===0&&(r.unshift(0),t.exponent++,a++),a--,r[a]++}}return t}function r1(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function Ede(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Nde=Number.EPSILON||2220446049250313e-31;function No(n,e,t){if(t==null)return n===e;if(n===e)return!0;if(isNaN(n)||isNaN(e))return!1;if(isFinite(n)&&isFinite(e)){var r=Math.abs(n-e);return r<=Nde?!0:r<=Math.max(Math.abs(n),Math.abs(e))*t}return!1}var Tde=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},Cde=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},Dde=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},Rde=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},Bde=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},Ode=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function zde(n,e){var t=!0,r=e>0?!0:e<0?!1:1/e===1/0;return t^r?-n:n}function SR(n,e){if(In(n))return n;if(Pn(n))return n.toNumber();e()}function wR(n,e){return In(n)?n:Pn(n)?n.toNumber():e}function c_(n,e,t){var r=n.constructor,i=new r(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!on(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(a);case 8:return"".concat(n.toOctal()).concat(a);case 16:return"".concat(n.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function Ude(n,e){if(typeof e=="function")return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=qj(e);switch(t){case"fixed":return Lde(n,r);case"exponential":return AR(n,r);case"engineering":return Fde(n,r);case"bin":return c_(n,2,i);case"oct":return c_(n,8,i);case"hex":return c_(n,16,i);case"auto":{var a=MR(e==null?void 0:e.lowerExp,-3),s=MR(e==null?void 0:e.upperExp,5);if(n.isZero())return"0";var o,l=n.toSignificantDigits(r),u=l.e;return u>=a&&u<s?o=l.toFixed():o=AR(n,r),o.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],d=arguments[4];return c!=="."?c+d:d})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fde(n,e){var t=n.e,r=t%3===0?t:t<0?t-3-t%3:t-t%3,i=n.mul(Math.pow(10,-r)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var s=n.constructor;a=new s(a).toFixed()}return a+"e"+(t>=0?"+":"")+r.toString()}function AR(n,e){return e!==void 0?n.toExponential(e-1):n.toExponential()}function Lde(n,e){return n.toFixed(e)}function MR(n,e){return In(n)?n:Pn(n)?n.toNumber():e}function kde(n,e){var t=n.length-e.length,r=n.length;return n.substring(t,r)===e}function Xn(n,e){var t=Ide(n,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Ide(n,e){if(typeof n=="number")return qm(n,e);if(Pn(n))return Ude(n,e);if(Pde(n))return!e||e.fraction!=="decimal"?n.s*n.n+"/"+n.d:n.toString();if(Array.isArray(n))return Xj(n,e);if(Is(n))return Qv(n);if(typeof n=="function")return n.syntax?String(n.syntax):"function";if(n&&typeof n=="object"){if(typeof n.format=="function")return n.format(e);if(n&&n.toString(e)!=={}.toString())return n.toString(e);var t=Object.keys(n).map(r=>Qv(r)+": "+Xn(n[r],e));return"{"+t.join(", ")+"}"}return String(n)}function Qv(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in _R?_R[i]:i,r++}return'"'+t+'"'}var _R={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function uu(n){var e=String(n);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function Xj(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)i!==0&&(t+=", "),t+=Xj(n[i],e);return t+="]",t}else return Xn(n,e)}function Pde(n){return n&&typeof n=="object"&&typeof n.s=="number"&&typeof n.n=="number"&&typeof n.d=="number"||!1}function kE(n,e){if(!Is(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wr(n)+", index: 0)");if(!Is(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wr(e)+", index: 1)");return n===e?0:n>e?1:-1}function Wn(n,e,t){if(!(this instanceof Wn))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Wn.prototype=new RangeError;Wn.prototype.constructor=RangeError;Wn.prototype.name="DimensionError";Wn.prototype.isDimensionError=!0;function mc(n,e,t){if(!(this instanceof mc))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}mc.prototype=new RangeError;mc.prototype.constructor=RangeError;mc.prototype.name="IndexError";mc.prototype.isIndexError=!0;function Un(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function Wj(n,e,t){var r,i=n.length;if(i!==e[t])throw new Wn(i,e[t]);if(t<e.length-1){var a=t+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new Wn(e.length-1,e.length,"<");Wj(n[r],e,a)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new Wn(e.length+1,e.length,">")}function ER(n,e){var t=e.length===0;if(t){if(Array.isArray(n))throw new Wn(n.length,0)}else Wj(n,e,0)}function VS(n,e){var t=n.isMatrix?n._size:Un(n),r=e._sourceSize;r.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new Wn(i,t[a])})}function $r(n,e){if(n!==void 0){if(!In(n)||!on(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof e=="number"&&n>=e)throw new mc(n,e)}}function m1(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&Tr(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Is(t)&&t.length===0)return!0}return!1}function p1(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!In(i)||!on(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Xn(e)+")")}),(In(n)||Pn(n))&&(n=[n]);var r=t!==void 0?t:0;return IE(n,e,0,r),n}function IE(n,e,t,r){var i,a,s=n.length,o=e[t],l=Math.min(s,o);if(n.length=o,t<e.length-1){var u=t+1;for(i=0;i<l;i++)a=n[i],Array.isArray(a)||(a=[a],n[i]=a),IE(a,e,u,r);for(i=l;i<o;i++)a=[],n[i]=a,IE(a,e,u,r)}else{for(i=0;i<l;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=l;i<o;i++)n[i]=r}}function JN(n,e){var t=Mr(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Wn(0,r,"!=");e=eT(e,r);var i=Yj(e);if(r!==i)throw new Wn(i,r,"!=");try{return jde(t,e)}catch(a){throw a instanceof Wn?new Wn(i,r,"!="):a}}function eT(n,e){var t=Yj(n),r=n.slice(),i=-1,a=n.indexOf(i),s=n.indexOf(i,a+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var o=a>=0,l=e%t===0;if(o)if(l)r[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return r}function Yj(n){return n.reduce((e,t)=>e*t,1)}function jde(n,e){for(var t=n,r,i=e.length-1;i>0;i--){var a=e[i];r=[];for(var s=t.length/a,o=0;o<s;o++)r.push(t.slice(o*a,(o+1)*a));t=r}return t}function HS(n,e){for(var t=Un(n);Array.isArray(n)&&n.length===1;)n=n[0],t.shift();for(var r=t.length;t[r-1]===1;)r--;return r<t.length&&(n=Zj(n,r,0),t.length=r),n}function Zj(n,e,t){var r,i;if(t<e){var a=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Zj(n[r],e,a)}else for(;Array.isArray(n);)n=n[0];return n}function Kj(n,e,t,r){var i=r||Un(n);if(t)for(var a=0;a<t;a++)n=[n],i.unshift(1);for(n=Qj(n,e,0);i.length<e;)i.push(1);return n}function Qj(n,e,t){var r,i;if(Array.isArray(n)){var a=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Qj(n[r],e,a)}else for(var s=t;s<e;s++)n=[n];return n}function Mr(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function Dd(n,e){return Array.prototype.map.call(n,e)}function m5(n,e){Array.prototype.forEach.call(n,e)}function Jj(n,e){if(Un(n).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}function qS(n,e){if(Un(n).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function NR(n,e){return Array.prototype.join.call(n,e)}function v1(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(n.length===0)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var r=1;r<n.length;r++)n[r]===n[r-1]?t++:t=0,e.push({value:n[r],identifier:t});return e}function GS(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(n.length===0)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function Hy(n,e){for(var t,r=0,i=0;i<n.length;i++){var a=n[i],s=Array.isArray(a);if(i===0&&s&&(r=a.length),s&&a.length!==r)return;var o=s?Hy(a,e):e(a);if(t===void 0)t=o;else if(t!==o)return"mixed"}return t}function eV(n,e,t,r){if(r<t){if(n.length!==e.length)throw new Wn(n.length,e.length);for(var i=[],a=0;a<n.length;a++)i[a]=eV(n[a],e[a],t,r+1);return i}else return n.concat(e)}function tV(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return eV(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function Vde(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(h=>h.length),i=Math.max(...r),a=new Array(i).fill(null),s=0;s<e.length;s++)for(var o=e[s],l=r[s],u=0;u<l;u++){var c=i-l+u;o[u]>a[c]&&(a[c]=o[u])}for(var d=0;d<e.length;d++)$S(e[d],a);return a}function $S(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var a=t-r+i;if(n[i]<e[a]&&n[i]>1||n[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[a]))}}function TR(n,e){var t=Un(n);if(Qm(t,e))return n;$S(t,e);var r=Vde(t,e),i=r.length,a=[...Array(i-t.length).fill(1),...t],s=qde(n);t.length<i&&(s=JN(s,a),t=Un(s));for(var o=0;o<i;o++)t[o]<r[o]&&(s=Hde(s,r[o],o),t=Un(s));return s}function Hde(n,e,t){return tV(...Array(e).fill(n),t)}function qde(n){return mi([],n)}function Me(n,e,t,r){function i(a){var s=vde(a,e.map(Xde));return Gde(n,e,a),t(s)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function Gde(n,e,t){var r=e.filter(a=>!$de(a)).every(a=>t[a]!==void 0);if(!r){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function $de(n){return n&&n[0]==="?"}function Xde(n){return n&&n[0]==="?"?n.slice(1):n}function Ao(n,e){if(rV(n)&&nV(n,e))return n[e];throw typeof n[e]=="function"&&tT(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function g1(n,e,t){if(rV(n)&&nV(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function Wde(n,e){return e in n}function nV(n,e){return!n||typeof n!="object"?!1:Qt(Zde,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Yde(n,e){if(!tT(n,e))throw new Error('No access to method "'+e+'"');return n[e]}function tT(n,e){return n==null||typeof n[e]!="function"||Qt(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)?!1:Qt(Kde,e)?!0:!(e in Object.prototype||e in Function.prototype)}function rV(n){return typeof n=="object"&&n&&n.constructor===Object}var Zde={length:!0,name:!0},Kde={toString:!0,valueOf:!0,toLocaleString:!0};class p5{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return Ao(this.wrappedObject,e)}set(e,t){return g1(this.wrappedObject,e,t),this}has(e){return Wde(this.wrappedObject,e)}entries(){return aV(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class iV{constructor(e,t,r){this.a=e,this.b=t,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return aV(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function aV(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function qy(){return new Map}function i1(n){if(!n)return qy();if(sV(n))return n;if(f5(n))return new p5(n);throw new Error("createMap can create maps from objects or Maps")}function Qde(n){if(n instanceof p5)return n.wrappedObject;var e={};for(var t of n.keys()){var r=n.get(t);g1(e,t,r)}return e}function sV(n){return n?n instanceof Map||n instanceof p5||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function":!1}var oV=function(){return oV=Kv.create,Kv},Jde=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],e0e=Me("typed",Jde,function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:a}=e,s=oV();return s.clear(),s.addTypes([{name:"number",test:In},{name:"Complex",test:Cd},{name:"BigNumber",test:Pn},{name:"Fraction",test:d2},{name:"Unit",test:ou},{name:"identifier",test:o=>Is&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:Is},{name:"Chain",test:jj},{name:"Array",test:Tr},{name:"Matrix",test:vn},{name:"DenseMatrix",test:jS},{name:"SparseMatrix",test:Fm},{name:"Range",test:QN},{name:"Index",test:c5},{name:"boolean",test:nde},{name:"ResultSet",test:rde},{name:"Help",test:Pj},{name:"function",test:ide},{name:"Date",test:ade},{name:"RegExp",test:sde},{name:"null",test:ode},{name:"undefined",test:lde},{name:"AccessorNode",test:Km},{name:"ArrayNode",test:su},{name:"AssignmentNode",test:ude},{name:"BlockNode",test:cde},{name:"ConditionalNode",test:fde},{name:"ConstantNode",test:vr},{name:"FunctionNode",test:ih},{name:"FunctionAssignmentNode",test:h2},{name:"IndexNode",test:P1},{name:"Node",test:Vr},{name:"ObjectNode",test:d5},{name:"OperatorNode",test:ya},{name:"ParenthesisNode",test:Id},{name:"RangeNode",test:dde},{name:"RelationalNode",test:hde},{name:"SymbolNode",test:Ja},{name:"Map",test:sV},{name:"Object",test:f5}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||f_(l),Ede(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return r||W4(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||W4(l),new r(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||W4(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||d_(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){t||f_(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){a||d_(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||W4(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||f_(l),new t(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||d_(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||t0e(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),s.onMismatch=(o,l,u)=>{var c=s.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&xu(l[0])&&u.some(h=>!h.params.includes(","))){var d=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw d.data=c.data,d}throw c},s.onMismatch=(o,l,u)=>{var c=s.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&xu(l[0])&&u.some(h=>!h.params.includes(","))){var d=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw d.data=c.data,d}throw c},s});function f_(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function W4(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function t0e(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function d_(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var n0e="ResultSet",r0e=[],i0e=Me(n0e,r0e,()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0});/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Jv=9e15,hh=1e9,PE="0123456789abcdef",XS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",WS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",jE={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Jv,maxE:Jv,crypto:!1},lV,wd,On=!0,v5="[DecimalError] ",ah=v5+"Invalid argument: ",uV=v5+"Precision limit exceeded",cV=v5+"crypto unavailable",fV="[object Decimal]",qs=Math.floor,za=Math.pow,a0e=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,s0e=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,o0e=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,dV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ac=1e7,Sn=7,l0e=9007199254740991,u0e=XS.length-1,VE=WS.length-1,Nt={toStringTag:fV};Nt.absoluteValue=Nt.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),fn(n)};Nt.ceil=function(){return fn(new this.constructor(this),this.e+1,2)};Nt.clampedTo=Nt.clamp=function(n,e){var t,r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(ah+e);return t=r.cmp(n),t<0?n:r.cmp(e)>0?e:new i(r)};Nt.comparedTo=Nt.cmp=function(n){var e,t,r,i,a=this,s=a.d,o=(n=new a.constructor(n)).d,l=a.s,u=n.s;if(!s||!o)return!l||!u?NaN:l!==u?l:s===o?0:!s^l<0?1:-1;if(!s[0]||!o[0])return s[0]?l:o[0]?-u:0;if(l!==u)return l;if(a.e!==n.e)return a.e>n.e^l<0?1:-1;for(r=s.length,i=o.length,e=0,t=r<i?r:i;e<t;++e)if(s[e]!==o[e])return s[e]>o[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1};Nt.cosine=Nt.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+Sn,r.rounding=1,t=c0e(r,gV(r,t)),r.precision=n,r.rounding=e,fn(wd==2||wd==3?t.neg():t,n,e,!0)):new r(1):new r(NaN)};Nt.cubeRoot=Nt.cbrt=function(){var n,e,t,r,i,a,s,o,l,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(On=!1,a=c.s*za(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=ps(c.d),n=c.e,(a=(n-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=za(t,1/3),n=qs((n+1)/3)-(n%3==(n<0?-1:2)),a==1/0?t="5e"+n:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),r=new d(t),r.s=c.s):r=new d(a.toString()),s=(n=d.precision)+3;;)if(o=r,l=o.times(o).times(o),u=l.plus(c),r=fi(u.plus(c).times(o),u.plus(l),s+2,1),ps(o.d).slice(0,s)===(t=ps(r.d)).slice(0,s))if(t=t.slice(s-3,s+1),t=="9999"||!i&&t=="4999"){if(!i&&(fn(o,n+1,0),o.times(o).times(o).eq(c))){r=o;break}s+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(fn(r,n+1,1),e=!r.times(r).times(r).eq(c));break}return On=!0,fn(r,n,d.rounding,e)};Nt.decimalPlaces=Nt.dp=function(){var n,e=this.d,t=NaN;if(e){if(n=e.length-1,t=(n-qs(this.e/Sn))*Sn,n=e[n],n)for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t};Nt.dividedBy=Nt.div=function(n){return fi(this,new this.constructor(n))};Nt.dividedToIntegerBy=Nt.divToInt=function(n){var e=this,t=e.constructor;return fn(fi(e,new t(n),0,1,1),t.precision,t.rounding)};Nt.equals=Nt.eq=function(n){return this.cmp(n)===0};Nt.floor=function(){return fn(new this.constructor(this),this.e+1,3)};Nt.greaterThan=Nt.gt=function(n){return this.cmp(n)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(n){var e=this.cmp(n);return e==1||e===0};Nt.hyperbolicCosine=Nt.cosh=function(){var n,e,t,r,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;t=s.precision,r=s.rounding,s.precision=t+Math.max(a.e,a.sd())+4,s.rounding=1,i=a.d.length,i<32?(n=Math.ceil(i/3),e=(1/x5(4,n)).toString()):(n=16,e="2.3283064365386962890625e-10"),a=x1(s,1,a.times(e),new s(1),!0);for(var l,u=n,c=new s(8);u--;)l=a.times(a),a=o.minus(l.times(c.minus(l.times(c))));return fn(a,s.precision=t,s.rounding=r,!0)};Nt.hyperbolicSine=Nt.sinh=function(){var n,e,t,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,r=i.d.length,r<3)i=x1(a,2,i,i,!0);else{n=1.4*Math.sqrt(r),n=n>16?16:n|0,i=i.times(1/x5(5,n)),i=x1(a,2,i,i,!0);for(var s,o=new a(5),l=new a(16),u=new a(20);n--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(u))))}return a.precision=e,a.rounding=t,fn(i,e,t,!0)};Nt.hyperbolicTangent=Nt.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+7,r.rounding=1,fi(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)};Nt.inverseCosine=Nt.acos=function(){var n=this,e=n.constructor,t=n.abs().cmp(1),r=e.precision,i=e.rounding;return t!==-1?t===0?n.isNeg()?lf(e,r,i):new e(0):new e(NaN):n.isZero()?lf(e,r+4,i).times(.5):(e.precision=r+6,e.rounding=1,n=new e(1).minus(n).div(n.plus(1)).sqrt().atan(),e.precision=r,e.rounding=i,n.times(2))};Nt.inverseHyperbolicCosine=Nt.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(n=r.precision,e=r.rounding,r.precision=n+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,On=!1,t=t.times(t).minus(1).sqrt().plus(t),On=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)};Nt.inverseHyperbolicSine=Nt.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,On=!1,t=t.times(t).plus(1).sqrt().plus(t),On=!0,r.precision=n,r.rounding=e,t.ln())};Nt.inverseHyperbolicTangent=Nt.atanh=function(){var n,e,t,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=a.precision,e=a.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?fn(new a(i),n,e,!0):(a.precision=t=r-i.e,i=fi(i.plus(1),new a(1).minus(i),t+n,1),a.precision=n+4,a.rounding=1,i=i.ln(),a.precision=n,a.rounding=e,i.times(.5))):new a(NaN)};Nt.inverseSine=Nt.asin=function(){var n,e,t,r,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,r=a.rounding,e!==-1?e===0?(n=lf(a,t+4,r).times(.5),n.s=i.s,n):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=r,i.times(2)))};Nt.inverseTangent=Nt.atan=function(){var n,e,t,r,i,a,s,o,l,u=this,c=u.constructor,d=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=VE)return s=lf(c,d+4,h).times(.25),s.s=u.s,s}else{if(!u.s)return new c(NaN);if(d+4<=VE)return s=lf(c,d+4,h).times(.5),s.s=u.s,s}for(c.precision=o=d+10,c.rounding=1,t=Math.min(28,o/Sn+2|0),n=t;n;--n)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(On=!1,e=Math.ceil(o/Sn),r=1,l=u.times(u),s=new c(u),i=u;n!==-1;)if(i=i.times(l),a=s.minus(i.div(r+=2)),i=i.times(l),s=a.plus(i.div(r+=2)),s.d[e]!==void 0)for(n=e;s.d[n]===a.d[n]&&n--;);return t&&(s=s.times(2<<t-1)),On=!0,fn(s,c.precision=d,c.rounding=h,!0)};Nt.isFinite=function(){return!!this.d};Nt.isInteger=Nt.isInt=function(){return!!this.d&&qs(this.e/Sn)>this.d.length-2};Nt.isNaN=function(){return!this.s};Nt.isNegative=Nt.isNeg=function(){return this.s<0};Nt.isPositive=Nt.isPos=function(){return this.s>0};Nt.isZero=function(){return!!this.d&&this.d[0]===0};Nt.lessThan=Nt.lt=function(n){return this.cmp(n)<0};Nt.lessThanOrEqualTo=Nt.lte=function(n){return this.cmp(n)<1};Nt.logarithm=Nt.log=function(n){var e,t,r,i,a,s,o,l,u=this,c=u.constructor,d=c.precision,h=c.rounding,p=5;if(n==null)n=new c(10),e=!0;else{if(n=new c(n),t=n.d,n.s<0||!t||!t[0]||n.eq(1))return new c(NaN);e=n.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new c(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(On=!1,o=d+p,s=Y0(u,o),r=e?YS(c,o+10):Y0(n,o),l=fi(s,r,o,1),Gy(l.d,i=d,h))do if(o+=10,s=Y0(u,o),r=e?YS(c,o+10):Y0(n,o),l=fi(s,r,o,1),!a){+ps(l.d).slice(i+1,i+15)+1==1e14&&(l=fn(l,d+1,0));break}while(Gy(l.d,i+=10,h));return On=!0,fn(l,d,h)};Nt.minus=Nt.sub=function(n){var e,t,r,i,a,s,o,l,u,c,d,h,p=this,g=p.constructor;if(n=new g(n),!p.d||!n.d)return!p.s||!n.s?n=new g(NaN):p.d?n.s=-n.s:n=new g(n.d||p.s!==n.s?p:NaN),n;if(p.s!=n.s)return n.s=-n.s,p.plus(n);if(u=p.d,h=n.d,o=g.precision,l=g.rounding,!u[0]||!h[0]){if(h[0])n.s=-n.s;else if(u[0])n=new g(p);else return new g(l===3?-0:0);return On?fn(n,o,l):n}if(t=qs(n.e/Sn),c=qs(p.e/Sn),u=u.slice(),a=c-t,a){for(d=a<0,d?(e=u,a=-a,s=h.length):(e=h,t=c,s=u.length),r=Math.max(Math.ceil(o/Sn),s)+2,a>r&&(a=r,e.length=1),e.reverse(),r=a;r--;)e.push(0);e.reverse()}else{for(r=u.length,s=h.length,d=r<s,d&&(s=r),r=0;r<s;r++)if(u[r]!=h[r]){d=u[r]<h[r];break}a=0}for(d&&(e=u,u=h,h=e,n.s=-n.s),s=u.length,r=h.length-s;r>0;--r)u[s++]=0;for(r=h.length;r>a;){if(u[--r]<h[r]){for(i=r;i&&u[--i]===0;)u[i]=ac-1;--u[i],u[r]+=ac}u[r]-=h[r]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(n.d=u,n.e=g5(u,t),On?fn(n,o,l):n):new g(l===3?-0:0)};Nt.modulo=Nt.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?fn(new r(t),r.precision,r.rounding):(On=!1,r.modulo==9?(e=fi(t,n.abs(),0,3,1),e.s*=n.s):e=fi(t,n,0,r.modulo,1),e=e.times(n),On=!0,t.minus(e))};Nt.naturalExponential=Nt.exp=function(){return HE(this)};Nt.naturalLogarithm=Nt.ln=function(){return Y0(this)};Nt.negated=Nt.neg=function(){var n=new this.constructor(this);return n.s=-n.s,fn(n)};Nt.plus=Nt.add=function(n){var e,t,r,i,a,s,o,l,u,c,d=this,h=d.constructor;if(n=new h(n),!d.d||!n.d)return!d.s||!n.s?n=new h(NaN):d.d||(n=new h(n.d||d.s===n.s?d:NaN)),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=d.d,c=n.d,o=h.precision,l=h.rounding,!u[0]||!c[0])return c[0]||(n=new h(d)),On?fn(n,o,l):n;if(a=qs(d.e/Sn),r=qs(n.e/Sn),u=u.slice(),i=a-r,i){for(i<0?(t=u,i=-i,s=c.length):(t=c,r=a,s=u.length),a=Math.ceil(o/Sn),s=a>s?a+1:s+1,i>s&&(i=s,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(s=u.length,i=c.length,s-i<0&&(i=s,t=c,c=u,u=t),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/ac|0,u[i]%=ac;for(e&&(u.unshift(e),++r),s=u.length;u[--s]==0;)u.pop();return n.d=u,n.e=g5(u,r),On?fn(n,o,l):n};Nt.precision=Nt.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(ah+n);return t.d?(e=hV(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Nt.round=function(){var n=this,e=n.constructor;return fn(new e(n),n.e+1,e.rounding)};Nt.sine=Nt.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+Sn,r.rounding=1,t=d0e(r,gV(r,t)),r.precision=n,r.rounding=e,fn(wd>2?t.neg():t,n,e,!0)):new r(NaN)};Nt.squareRoot=Nt.sqrt=function(){var n,e,t,r,i,a,s=this,o=s.d,l=s.e,u=s.s,c=s.constructor;if(u!==1||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?s:1/0);for(On=!1,u=Math.sqrt(+s),u==0||u==1/0?(e=ps(o),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=qs((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),r=new c(e)):r=new c(u.toString()),t=(l=c.precision)+3;;)if(a=r,r=a.plus(fi(s,a,t+2,1)).times(.5),ps(a.d).slice(0,t)===(e=ps(r.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(fn(a,l+1,0),a.times(a).eq(s))){r=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(fn(r,l+1,1),n=!r.times(r).eq(s));break}return On=!0,fn(r,l,c.rounding,n)};Nt.tangent=Nt.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,t=t.sin(),t.s=1,t=fi(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,fn(wd==2||wd==4?t.neg():t,n,e,!0)):new r(NaN)};Nt.times=Nt.mul=function(n){var e,t,r,i,a,s,o,l,u,c=this,d=c.constructor,h=c.d,p=(n=new d(n)).d;if(n.s*=c.s,!h||!h[0]||!p||!p[0])return new d(!n.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:!h||!p?n.s/0:n.s*0);for(t=qs(c.e/Sn)+qs(n.e/Sn),l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%ac|0,e=o/ac|0;a[i]=(a[i]+e)%ac|0}for(;!a[--s];)a.pop();return e?++t:a.shift(),n.d=a,n.e=g5(a,t),On?fn(n,d.precision,d.rounding):n};Nt.toBinary=function(n,e){return nT(this,2,n,e)};Nt.toDecimalPlaces=Nt.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(rl(n,0,hh),e===void 0?e=r.rounding:rl(e,0,8),fn(t,n+t.e+1,e))};Nt.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=vf(r,!0):(rl(n,0,hh),e===void 0?e=i.rounding:rl(e,0,8),r=fn(new i(r),n+1,e),t=vf(r,!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t};Nt.toFixed=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?t=vf(i):(rl(n,0,hh),e===void 0?e=a.rounding:rl(e,0,8),r=fn(new a(i),n+i.e+1,e),t=vf(r,!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Nt.toFraction=function(n){var e,t,r,i,a,s,o,l,u,c,d,h,p=this,g=p.d,x=p.constructor;if(!g)return new x(p);if(u=t=new x(1),r=l=new x(0),e=new x(r),a=e.e=hV(g)-p.e-1,s=a%Sn,e.d[0]=za(10,s<0?Sn+s:s),n==null)n=a>0?e:u;else{if(o=new x(n),!o.isInt()||o.lt(u))throw Error(ah+o);n=o.gt(e)?a>0?e:u:o}for(On=!1,o=new x(ps(g)),c=x.precision,x.precision=a=g.length*Sn*2;d=fi(o,e,0,1,1),i=t.plus(d.times(r)),i.cmp(n)!=1;)t=r,r=i,i=u,u=l.plus(d.times(i)),l=i,i=e,e=o.minus(d.times(i)),o=i;return i=fi(n.minus(t),r,0,1,1),l=l.plus(i.times(u)),t=t.plus(i.times(r)),l.s=u.s=p.s,h=fi(u,r,a,1).minus(p).abs().cmp(fi(l,t,a,1).minus(p).abs())<1?[u,r]:[l,t],x.precision=c,On=!0,h};Nt.toHexadecimal=Nt.toHex=function(n,e){return nT(this,16,n,e)};Nt.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),n==null){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),e===void 0?e=r.rounding:rl(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(On=!1,t=fi(t,n,0,e,1).times(n),On=!0,fn(t)):(n.s=t.s,t=n),t};Nt.toNumber=function(){return+this};Nt.toOctal=function(n,e){return nT(this,8,n,e)};Nt.toPower=Nt.pow=function(n){var e,t,r,i,a,s,o=this,l=o.constructor,u=+(n=new l(n));if(!o.d||!n.d||!o.d[0]||!n.d[0])return new l(za(+o,u));if(o=new l(o),o.eq(1))return o;if(r=l.precision,a=l.rounding,n.eq(1))return fn(o,r,a);if(e=qs(n.e/Sn),e>=n.d.length-1&&(t=u<0?-u:u)<=l0e)return i=mV(l,o,t,r),n.s<0?new l(1).div(i):fn(i,r,a);if(s=o.s,s<0){if(e<n.d.length-1)return new l(NaN);if((n.d[e]&1)==0&&(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return t=za(+o,u),e=t==0||!isFinite(t)?qs(u*(Math.log("0."+ps(o.d))/Math.LN10+o.e+1)):new l(t+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(On=!1,l.rounding=o.s=1,t=Math.min(12,(e+"").length),i=HE(n.times(Y0(o,r+t)),r),i.d&&(i=fn(i,r+5,1),Gy(i.d,r,a)&&(e=r+10,i=fn(HE(n.times(Y0(o,e+t)),e),e+5,1),+ps(i.d).slice(r+1,r+15)+1==1e14&&(i=fn(i,r+1,0)))),i.s=s,On=!0,l.rounding=a,fn(i,r,a))};Nt.toPrecision=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=vf(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(rl(n,1,hh),e===void 0?e=i.rounding:rl(e,0,8),r=fn(new i(r),n,e),t=vf(r,n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t};Nt.toSignificantDigits=Nt.toSD=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(rl(n,1,hh),e===void 0?e=r.rounding:rl(e,0,8)),fn(new r(t),n,e)};Nt.toString=function(){var n=this,e=n.constructor,t=vf(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t};Nt.truncated=Nt.trunc=function(){return fn(new this.constructor(this),this.e+1,1)};Nt.valueOf=Nt.toJSON=function(){var n=this,e=n.constructor,t=vf(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};function ps(n){var e,t,r,i=n.length-1,a="",s=n[0];if(i>0){for(a+=s,e=1;e<i;e++)r=n[e]+"",t=Sn-r.length,t&&(a+=V0(t)),a+=r;s=n[e],r=s+"",t=Sn-r.length,t&&(a+=V0(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function rl(n,e,t){if(n!==~~n||n<e||n>t)throw Error(ah+n)}function Gy(n,e,t,r){var i,a,s,o;for(a=n[0];a>=10;a/=10)--e;return--e<0?(e+=Sn,i=0):(i=Math.ceil((e+1)/Sn),e%=Sn),a=za(10,Sn-e),o=n[i]%a|0,r==null?e<3?(e==0?o=o/100|0:e==1&&(o=o/10|0),s=t<4&&o==99999||t>3&&o==49999||o==5e4||o==0):s=(t<4&&o+1==a||t>3&&o+1==a/2)&&(n[i+1]/a/100|0)==za(10,e-2)-1||(o==a/2||o==0)&&(n[i+1]/a/100|0)==0:e<4?(e==0?o=o/1e3|0:e==1?o=o/100|0:e==2&&(o=o/10|0),s=(r||t<4)&&o==9999||!r&&t>3&&o==4999):s=((r||t<4)&&o+1==a||!r&&t>3&&o+1==a/2)&&(n[i+1]/a/1e3|0)==za(10,e-3)-1,s}function M3(n,e,t){for(var r,i=[0],a,s=0,o=n.length;s<o;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=PE.indexOf(n.charAt(s++)),r=0;r<i.length;r++)i[r]>t-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}function c0e(n,e){var t,r,i;if(e.isZero())return e;r=e.d.length,r<32?(t=Math.ceil(r/3),i=(1/x5(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=x1(n,1,e.times(i),new n(1));for(var a=t;a--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return n.precision-=t,e}var fi=(function(){function n(r,i,a){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%a|0,o=s/a|0;return o&&r.unshift(o),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function t(r,i,a,s){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*s+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s,o,l){var u,c,d,h,p,g,x,A,b,_,M,E,C,T,B,z,R,O,U,I,q=r.constructor,X=r.s==i.s?1:-1,$=r.d,k=i.d;if(!$||!$[0]||!k||!k[0])return new q(!r.s||!i.s||($?k&&$[0]==k[0]:!k)?NaN:$&&$[0]==0||!k?X*0:X/0);for(l?(p=1,c=r.e-i.e):(l=ac,p=Sn,c=qs(r.e/p)-qs(i.e/p)),U=k.length,R=$.length,b=new q(X),_=b.d=[],d=0;k[d]==($[d]||0);d++);if(k[d]>($[d]||0)&&c--,a==null?(T=a=q.precision,s=q.rounding):o?T=a+(r.e-i.e)+1:T=a,T<0)_.push(1),g=!0;else{if(T=T/p+2|0,d=0,U==1){for(h=0,k=k[0],T++;(d<R||h)&&T--;d++)B=h*l+($[d]||0),_[d]=B/k|0,h=B%k|0;g=h||d<R}else{for(h=l/(k[0]+1)|0,h>1&&(k=n(k,h,l),$=n($,h,l),U=k.length,R=$.length),z=U,M=$.slice(0,U),E=M.length;E<U;)M[E++]=0;I=k.slice(),I.unshift(0),O=k[0],k[1]>=l/2&&++O;do h=0,u=e(k,M,U,E),u<0?(C=M[0],U!=E&&(C=C*l+(M[1]||0)),h=C/O|0,h>1?(h>=l&&(h=l-1),x=n(k,h,l),A=x.length,E=M.length,u=e(x,M,A,E),u==1&&(h--,t(x,U<A?I:k,A,l))):(h==0&&(u=h=1),x=k.slice()),A=x.length,A<E&&x.unshift(0),t(M,x,E,l),u==-1&&(E=M.length,u=e(k,M,U,E),u<1&&(h++,t(M,U<E?I:k,E,l))),E=M.length):u===0&&(h++,M=[0]),_[d++]=h,u&&M[0]?M[E++]=$[z]||0:(M=[$[z]],E=1);while((z++<R||M[0]!==void 0)&&T--);g=M[0]!==void 0}_[0]||_.shift()}if(p==1)b.e=c,lV=g;else{for(d=1,h=_[0];h>=10;h/=10)d++;b.e=d+c*p-1,fn(b,o?a+b.e+1:a,s,g)}return b}})();function fn(n,e,t,r){var i,a,s,o,l,u,c,d,h,p=n.constructor;e:if(e!=null){if(d=n.d,!d)return n;for(i=1,o=d[0];o>=10;o/=10)i++;if(a=e-i,a<0)a+=Sn,s=e,c=d[h=0],l=c/za(10,i-s-1)%10|0;else if(h=Math.ceil((a+1)/Sn),o=d.length,h>=o)if(r){for(;o++<=h;)d.push(0);c=l=0,i=1,a%=Sn,s=a-Sn+1}else break e;else{for(c=o=d[h],i=1;o>=10;o/=10)i++;a%=Sn,s=a-Sn+i,l=s<0?0:c/za(10,i-s-1)%10|0}if(r=r||e<0||d[h+1]!==void 0||(s<0?c:c%za(10,i-s-1)),u=t<4?(l||r)&&(t==0||t==(n.s<0?3:2)):l>5||l==5&&(t==4||r||t==6&&(a>0?s>0?c/za(10,i-s):0:d[h-1])%10&1||t==(n.s<0?8:7)),e<1||!d[0])return d.length=0,u?(e-=n.e+1,d[0]=za(10,(Sn-e%Sn)%Sn),n.e=-e||0):d[0]=n.e=0,n;if(a==0?(d.length=h,o=1,h--):(d.length=h+1,o=za(10,Sn-a),d[h]=s>0?(c/za(10,i-s)%za(10,s)|0)*o:0),u)for(;;)if(h==0){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(n.e++,d[0]==ac&&(d[0]=1));break}else{if(d[h]+=o,d[h]!=ac)break;d[h--]=0,o=1}for(a=d.length;d[--a]===0;)d.pop()}return On&&(n.e>p.maxE?(n.d=null,n.e=NaN):n.e<p.minE&&(n.e=0,n.d=[0])),n}function vf(n,e,t){if(!n.isFinite())return vV(n);var r,i=n.e,a=ps(n.d),s=a.length;return e?(t&&(r=t-s)>0?a=a.charAt(0)+"."+a.slice(1)+V0(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n.e<0?"e":"e+")+n.e):i<0?(a="0."+V0(-i-1)+a,t&&(r=t-s)>0&&(a+=V0(r))):i>=s?(a+=V0(i+1-s),t&&(r=t-i-1)>0&&(a=a+"."+V0(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(a+="."),a+=V0(r))),a}function g5(n,e){var t=n[0];for(e*=Sn;t>=10;t/=10)e++;return e}function YS(n,e,t){if(e>u0e)throw On=!0,t&&(n.precision=t),Error(uV);return fn(new n(XS),e,1,!0)}function lf(n,e,t){if(e>VE)throw Error(uV);return fn(new n(WS),e,t,!0)}function hV(n){var e=n.length-1,t=e*Sn+1;if(e=n[e],e){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function V0(n){for(var e="";n--;)e+="0";return e}function mV(n,e,t,r){var i,a=new n(1),s=Math.ceil(r/Sn+4);for(On=!1;;){if(t%2&&(a=a.times(e),DR(a.d,s)&&(i=!0)),t=qs(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),DR(e.d,s)}return On=!0,a}function CR(n){return n.d[n.d.length-1]&1}function pV(n,e,t){for(var r,i,a=new n(e[0]),s=0;++s<e.length;){if(i=new n(e[s]),!i.s){a=i;break}r=a.cmp(i),(r===t||r===0&&a.s===t)&&(a=i)}return a}function HE(n,e){var t,r,i,a,s,o,l,u=0,c=0,d=0,h=n.constructor,p=h.rounding,g=h.precision;if(!n.d||!n.d[0]||n.e>17)return new h(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(On=!1,l=g):l=e,o=new h(.03125);n.e>-2;)n=n.times(o),d+=5;for(r=Math.log(za(2,d))/Math.LN10*2+5|0,l+=r,t=a=s=new h(1),h.precision=l;;){if(a=fn(a.times(n),l,1),t=t.times(++c),o=s.plus(fi(a,t,l,1)),ps(o.d).slice(0,l)===ps(s.d).slice(0,l)){for(i=d;i--;)s=fn(s.times(s),l,1);if(e==null)if(u<3&&Gy(s.d,l-r,p,u))h.precision=l+=10,t=a=o=new h(1),c=0,u++;else return fn(s,h.precision=g,p,On=!0);else return h.precision=g,s}s=o}}function Y0(n,e){var t,r,i,a,s,o,l,u,c,d,h,p=1,g=10,x=n,A=x.d,b=x.constructor,_=b.rounding,M=b.precision;if(x.s<0||!A||!A[0]||!x.e&&A[0]==1&&A.length==1)return new b(A&&!A[0]?-1/0:x.s!=1?NaN:A?0:x);if(e==null?(On=!1,c=M):c=e,b.precision=c+=g,t=ps(A),r=t.charAt(0),Math.abs(a=x.e)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)x=x.times(n),t=ps(x.d),r=t.charAt(0),p++;a=x.e,r>1?(x=new b("0."+t),a++):x=new b(r+"."+t.slice(1))}else return u=YS(b,c+2,M).times(a+""),x=Y0(new b(r+"."+t.slice(1)),c-g).plus(u),b.precision=M,e==null?fn(x,M,_,On=!0):x;for(d=x,l=s=x=fi(x.minus(1),x.plus(1),c,1),h=fn(x.times(x),c,1),i=3;;){if(s=fn(s.times(h),c,1),u=l.plus(fi(s,new b(i),c,1)),ps(u.d).slice(0,c)===ps(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(YS(b,c+2,M).times(a+""))),l=fi(l,new b(p),c,1),e==null)if(Gy(l.d,c-g,_,o))b.precision=c+=g,u=s=x=fi(d.minus(1),d.plus(1),c,1),h=fn(x.times(x),c,1),i=o=1;else return fn(l,b.precision=M,_,On=!0);else return b.precision=M,l;l=u,i+=2}}function vV(n){return String(n.s*n.s/0)}function _3(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%Sn,t<0&&(r+=Sn),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Sn;r<i;)n.d.push(+e.slice(r,r+=Sn));e=e.slice(r),r=Sn-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),On&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function f0e(n,e){var t,r,i,a,s,o,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),dV.test(e))return _3(n,e)}else if(e==="Infinity"||e==="NaN")return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(s0e.test(e))t=16,e=e.toLowerCase();else if(a0e.test(e))t=2;else if(o0e.test(e))t=8;else throw Error(ah+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),s=a>=0,r=n.constructor,s&&(e=e.replace(".",""),o=e.length,a=o-a,i=mV(r,new r(t),a,a*2)),u=M3(e,t,ac),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new r(n.s*0):(n.e=g5(u,c),n.d=u,On=!1,s&&(n=fi(n,i,o*4)),l&&(n=n.times(Math.abs(l)<54?za(2,l):sh.pow(2,l))),On=!0,n)}function d0e(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:x1(n,2,e,e);t=1.4*Math.sqrt(r),t=t>16?16:t|0,e=e.times(1/x5(5,t)),e=x1(n,2,e,e);for(var i,a=new n(5),s=new n(16),o=new n(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(s.times(i).minus(o))));return e}function x1(n,e,t,r,i){var a,s,o,l,u=n.precision,c=Math.ceil(u/Sn);for(On=!1,l=t.times(t),o=new n(r);;){if(s=fi(o.times(l),new n(e++*e++),u,1),o=i?r.plus(s):r.minus(s),r=fi(s.times(l),new n(e++*e++),u,1),s=o.plus(r),s.d[c]!==void 0){for(a=c;s.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=r,r=s,s=a}return On=!0,s.d.length=c+1,s}function x5(n,e){for(var t=n;--e;)t*=n;return t}function gV(n,e){var t,r=e.s<0,i=lf(n,n.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return wd=r?4:1,e;if(t=e.divToInt(i),t.isZero())wd=r?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return wd=CR(t)?r?2:3:r?4:1,e;wd=CR(t)?r?1:4:r?3:2}return e.minus(i).abs()}function nT(n,e,t,r){var i,a,s,o,l,u,c,d,h,p=n.constructor,g=t!==void 0;if(g?(rl(t,1,hh),r===void 0?r=p.rounding:rl(r,0,8)):(t=p.precision,r=p.rounding),!n.isFinite())c=vV(n);else{for(c=vf(n),s=c.indexOf("."),g?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,s>=0&&(c=c.replace(".",""),h=new p(1),h.e=c.length-s,h.d=M3(vf(h),10,i),h.e=h.d.length),d=M3(c,10,i),a=l=d.length;d[--l]==0;)d.pop();if(!d[0])c=g?"0p+0":"0";else{if(s<0?a--:(n=new p(n),n.d=d,n.e=a,n=fi(n,h,t,r,0,i),d=n.d,a=n.e,u=lV),s=d[t],o=i/2,u=u||d[t+1]!==void 0,u=r<4?(s!==void 0||u)&&(r===0||r===(n.s<0?3:2)):s>o||s===o&&(r===4||u||r===6&&d[t-1]&1||r===(n.s<0?8:7)),d.length=t,u)for(;++d[--t]>i-1;)d[t]=0,t||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,c="";s<l;s++)c+=PE.charAt(d[s]);if(g){if(l>1)if(e==16||e==8){for(s=e==16?4:3,--l;l%s;l++)c+="0";for(d=M3(c,i,e),l=d.length;!d[l-1];--l);for(s=1,c="1.";s<l;s++)c+=PE.charAt(d[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return n.s<0?"-"+c:c}function DR(n,e){if(n.length>e)return n.length=e,!0}function h0e(n){return new this(n).abs()}function m0e(n){return new this(n).acos()}function p0e(n){return new this(n).acosh()}function v0e(n,e){return new this(n).plus(e)}function g0e(n){return new this(n).asin()}function x0e(n){return new this(n).asinh()}function y0e(n){return new this(n).atan()}function b0e(n){return new this(n).atanh()}function S0e(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,a=r+4;return!n.s||!e.s?t=new this(NaN):!n.d&&!e.d?(t=lf(this,a,1).times(e.s>0?.25:.75),t.s=n.s):!e.d||n.isZero()?(t=e.s<0?lf(this,r,i):new this(0),t.s=n.s):!n.d||e.isZero()?(t=lf(this,a,1).times(.5),t.s=n.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(fi(n,e,a,1)),e=lf(this,a,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(fi(n,e,a,1)),t}function w0e(n){return new this(n).cbrt()}function A0e(n){return fn(n=new this(n),n.e+1,2)}function M0e(n,e,t){return new this(n).clamp(e,t)}function _0e(n){if(!n||typeof n!="object")throw Error(v5+"Object expected");var e,t,r,i=n.defaults===!0,a=["precision",1,hh,"rounding",0,8,"toExpNeg",-Jv,0,"toExpPos",0,Jv,"maxE",0,Jv,"minE",-Jv,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=jE[t]),(r=n[t])!==void 0)if(qs(r)===r&&r>=a[e+1]&&r<=a[e+2])this[t]=r;else throw Error(ah+t+": "+r);if(t="crypto",i&&(this[t]=jE[t]),(r=n[t])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(cV);else this[t]=!1;else throw Error(ah+t+": "+r);return this}function E0e(n){return new this(n).cos()}function N0e(n){return new this(n).cosh()}function xV(n){var e,t,r;function i(a){var s,o,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,RR(a)){u.s=a.s,On?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(s=0,o=a;o>=10;o/=10)s++;On?s>i.maxE?(u.e=NaN,u.d=null):s<i.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[a]):(u.e=s,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return _3(u,a.toString())}if(l==="string")return(o=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(o===43&&(a=a.slice(1)),u.s=1),dV.test(a)?_3(u,a):f0e(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,_3(u,a.toString());throw Error(ah+a)}if(i.prototype=Nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=_0e,i.clone=xV,i.isDecimal=RR,i.abs=h0e,i.acos=m0e,i.acosh=p0e,i.add=v0e,i.asin=g0e,i.asinh=x0e,i.atan=y0e,i.atanh=b0e,i.atan2=S0e,i.cbrt=w0e,i.ceil=A0e,i.clamp=M0e,i.cos=E0e,i.cosh=N0e,i.div=T0e,i.exp=C0e,i.floor=D0e,i.hypot=R0e,i.ln=B0e,i.log=O0e,i.log10=U0e,i.log2=z0e,i.max=F0e,i.min=L0e,i.mod=k0e,i.mul=I0e,i.pow=P0e,i.random=j0e,i.round=V0e,i.sign=H0e,i.sin=q0e,i.sinh=G0e,i.sqrt=$0e,i.sub=X0e,i.sum=W0e,i.tan=Y0e,i.tanh=Z0e,i.trunc=K0e,n===void 0&&(n={}),n&&n.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function T0e(n,e){return new this(n).div(e)}function C0e(n){return new this(n).exp()}function D0e(n){return fn(n=new this(n),n.e+1,3)}function R0e(){var n,e,t=new this(0);for(On=!1,n=0;n<arguments.length;)if(e=new this(arguments[n++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return On=!0,new this(1/0);t=e}return On=!0,t.sqrt()}function RR(n){return n instanceof sh||n&&n.toStringTag===fV||!1}function B0e(n){return new this(n).ln()}function O0e(n,e){return new this(n).log(e)}function z0e(n){return new this(n).log(2)}function U0e(n){return new this(n).log(10)}function F0e(){return pV(this,arguments,-1)}function L0e(){return pV(this,arguments,1)}function k0e(n,e){return new this(n).mod(e)}function I0e(n,e){return new this(n).mul(e)}function P0e(n,e){return new this(n).pow(e)}function j0e(n){var e,t,r,i,a=0,s=new this(1),o=[];if(n===void 0?n=this.precision:rl(n,1,hh),r=Math.ceil(n/Sn),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));a<r;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);a<r;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(o.push(i%1e7),a+=4);a=r/4}else throw Error(cV);else for(;a<r;)o[a++]=Math.random()*1e7|0;for(r=o[--a],n%=Sn,r&&n&&(i=za(10,Sn-n),o[a]=(r/i|0)*i);o[a]===0;a--)o.pop();if(a<0)t=0,o=[0];else{for(t=-1;o[0]===0;t-=Sn)o.shift();for(r=1,i=o[0];i>=10;i/=10)r++;r<Sn&&(t-=Sn-r)}return s.e=t,s.d=o,s}function V0e(n){return fn(n=new this(n),n.e+1,this.rounding)}function H0e(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function q0e(n){return new this(n).sin()}function G0e(n){return new this(n).sinh()}function $0e(n){return new this(n).sqrt()}function X0e(n,e){return new this(n).sub(e)}function W0e(){var n=0,e=arguments,t=new this(e[n]);for(On=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return On=!0,fn(t,this.precision,this.rounding)}function Y0e(n){return new this(n).tan()}function Z0e(n){return new this(n).tanh()}function K0e(n){return fn(n=new this(n),n.e+1,1)}Nt[Symbol.for("nodejs.util.inspect.custom")]=Nt.toString;Nt[Symbol.toStringTag]="Decimal";var sh=Nt.constructor=xV(jE);XS=new sh(XS);WS=new sh(WS);var Q0e="BigNumber",J0e=["?on","config"],ehe=Me(Q0e,J0e,n=>{var{on:e,config:t}=n,r=sh.clone({precision:t.precision,modulo:sh.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Ls=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:(Math.exp(n)+Math.exp(-n))*.5},iu=Math.sinh||function(n){return Math.abs(n)<1e-9?n:(Math.exp(n)-Math.exp(-n))*.5},the=n=>{const e=Math.sin(.5*n);return-2*e*e},h_=function(n,e){return n=Math.abs(n),e=Math.abs(e),n<e&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},Fv=function(){throw SyntaxError("Invalid Param")};function m_(n,e){const t=Math.abs(n),r=Math.abs(e);return n===0?Math.log(r):e===0?Math.log(t):t<3e3&&r<3e3?Math.log(n*n+e*e)*.5:(n=n*.5,e=e*.5,.5*Math.log(n*n+e*e)+Math.LN2)}const nhe={re:0,im:0},Nm=function(n,e){const t=nhe;if(n==null)t.re=t.im=0;else if(e!==void 0)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return vt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return vt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else n.length===2?(t.re=n[0],t.im=n[1]):Fv();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;r===null&&Fv();for(let s=0;s<r.length;s++){const o=r[s];o===" "||o==="	"||o===`
`||(o==="+"?i++:o==="-"?a++:o==="i"||o==="I"?(i+a===0&&Fv(),r[s+1]!==" "&&!isNaN(r[s+1])?(t.im+=parseFloat((a%2?"-":"")+r[s+1]),s++):t.im+=parseFloat((a%2?"-":"")+"1"),i=a=0):((i+a===0||isNaN(o))&&Fv(),r[s+1]==="i"||r[s+1]==="I"?(t.im+=parseFloat((a%2?"-":"")+o),s++):t.re+=parseFloat((a%2?"-":"")+o),i=a=0))}i+a>0&&Fv();break;case"number":t.im=0,t.re=n;break;default:Fv()}return isNaN(t.re)||isNaN(t.im),t};function vt(n,e){if(!(this instanceof vt))return new vt(n,e);const t=Nm(n,e);this.re=t.re,this.im=t.im}vt.prototype={re:0,im:0,sign:function(){const n=h_(this.re,this.im);return new vt(this.re/n,this.im/n)},add:function(n,e){const t=Nm(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?vt.NAN:vt.INFINITY:new vt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=Nm(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?vt.NAN:vt.INFINITY:new vt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=Nm(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),a=this.re===0&&this.im===0,s=t.re===0&&t.im===0;return r&&s||i&&a?vt.NAN:r||i?vt.INFINITY:t.im===0&&this.im===0?new vt(this.re*t.re,0):new vt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=Nm(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),a=this.re===0&&this.im===0,s=t.re===0&&t.im===0;if(a&&s||r&&i)return vt.NAN;if(s||r)return vt.INFINITY;if(a||i)return vt.ZERO;if(t.im===0)return new vt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const o=t.re/t.im,l=t.re*o+t.im;return new vt((this.re*o+this.im)/l,(this.im*o-this.re)/l)}else{const o=t.im/t.re,l=t.im*o+t.re;return new vt((this.re+this.im*o)/l,(this.im-this.re*o)/l)}},pow:function(n,e){const t=Nm(n,e),r=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return vt.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new vt(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new vt(Math.pow(this.im,t.re),0);case 1:return new vt(0,Math.pow(this.im,t.re));case 2:return new vt(-Math.pow(this.im,t.re),0);case 3:return new vt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return vt.ZERO;const a=Math.atan2(this.im,this.re),s=m_(this.re,this.im);let o=Math.exp(t.re*s-t.im*a),l=t.im*s+t.re*a;return new vt(o*Math.cos(l),o*Math.sin(l))},sqrt:function(){const n=this.re,e=this.im;if(e===0)return n>=0?new vt(Math.sqrt(n),0):new vt(0,Math.sqrt(-n));const t=h_(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new vt(r,e<0?-i:i):new vt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new vt(n,0):new vt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new vt(Math.expm1(n)*Math.cos(e)+the(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return e===0&&n>0?new vt(Math.log(n),0):new vt(m_(n,e),Math.atan2(e,n))},abs:function(){return h_(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new vt(Math.sin(n)*Ls(e),Math.cos(n)*iu(e))},cos:function(){const n=this.re,e=this.im;return new vt(Math.cos(n)*Ls(e),-Math.sin(n)*iu(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+Ls(e);return new vt(Math.sin(n)/t,iu(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-Ls(e);return new vt(-Math.sin(n)/t,iu(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*Ls(2*e)+.5*Math.cos(2*n);return new vt(Math.cos(n)*Ls(e)/t,Math.sin(n)*iu(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*Ls(2*e)-.5*Math.cos(2*n);return new vt(Math.sin(n)*Ls(e)/t,-Math.cos(n)*iu(e)/t)},asin:function(){const n=this.re,e=this.im,t=new vt(e*e-n*n+1,-2*n*e).sqrt(),r=new vt(t.re-e,t.im+n).log();return new vt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new vt(e*e-n*n+1,-2*n*e).sqrt(),r=new vt(t.re-e,t.im+n).log();return new vt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(n===0){if(e===1)return new vt(0,1/0);if(e===-1)return new vt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new vt((1-e*e-n*n)/t,-2*n/t).log();return new vt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(e===0)return new vt(Math.atan2(1,n),0);const t=n*n+e*e;return t!==0?new vt(n/t,-e/t).atan():new vt(n!==0?n/0:0,e!==0?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new vt(0,1/0);const t=n*n+e*e;return t!==0?new vt(n/t,-e/t).acos():new vt(n!==0?n/0:0,e!==0?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new vt(Math.PI/2,1/0);const t=n*n+e*e;return t!==0?new vt(n/t,-e/t).asin():new vt(n!==0?n/0:0,e!==0?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new vt(iu(n)*Math.cos(e),Ls(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new vt(Ls(n)*Math.cos(e),iu(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=Ls(n)+Math.cos(e);return new vt(iu(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=Ls(n)-Math.cos(e);return new vt(iu(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-Ls(2*n);return new vt(-2*iu(n)*Math.cos(e)/t,2*Ls(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+Ls(2*n);return new vt(2*Ls(n)*Math.cos(e)/t,-2*iu(n)*Math.sin(e)/t)},asinh:function(){const n=this.re,e=this.im;if(e===0){if(n===0)return new vt(0,0);const a=Math.abs(n),s=Math.log(a+Math.sqrt(a*a+1));return new vt(n<0?-s:s,0)}const t=n*n-e*e+1,r=2*n*e,i=new vt(t,r).sqrt();return new vt(n+i.re,e+i.im).log()},acosh:function(){const n=this.re,e=this.im;if(e===0){if(n>1)return new vt(Math.log(n+Math.sqrt(n-1)*Math.sqrt(n+1)),0);if(n<-1){const i=Math.sqrt(n*n-1);return new vt(Math.log(-n+i),Math.PI)}return new vt(0,Math.acos(n))}const t=new vt(n-1,e).sqrt(),r=new vt(n+1,e).sqrt();return new vt(n+t.re*r.re-t.im*r.im,e+t.re*r.im+t.im*r.re).log()},atanh:function(){const n=this.re,e=this.im;if(e===0){if(n===0)return new vt(0,0);if(n===1)return new vt(1/0,0);if(n===-1)return new vt(-1/0,0);if(-1<n&&n<1)return new vt(.5*Math.log((1+n)/(1-n)),0);if(n>1){const l=(n+1)/(n-1);return new vt(.5*Math.log(l),-Math.PI/2)}const o=(1+n)/(1-n);return new vt(.5*Math.log(-o),Math.PI/2)}const t=1-n,r=1+n,i=t*t+e*e;if(i===0)return new vt(n!==-1?n/0:0,e!==0?e/0:0);const a=(r*t-e*e)/i,s=(e*t+r*e)/i;return new vt(m_(a,s)/2,Math.atan2(s,a)/2)},acoth:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new vt(0,Math.PI/2);const t=n*n+e*e;return t!==0?new vt(n/t,-e/t).atanh():new vt(n!==0?n/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(e===0){if(n===0)return new vt(1/0,0);const r=1/n;return new vt(Math.log(r+Math.sqrt(r*r+1)),0)}const t=n*n+e*e;return t!==0?new vt(n/t,-e/t).asinh():new vt(n!==0?n/0:0,e!==0?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return vt.INFINITY;const t=n*n+e*e;return t!==0?new vt(n/t,-e/t).acosh():new vt(n!==0?n/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return vt.INFINITY;if(this.isInfinite())return vt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new vt(n/t,-e/t)},conjugate:function(){return new vt(this.re,-this.im)},neg:function(){return new vt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new vt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new vt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new vt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=Nm(n,e);return Math.abs(t.re-this.re)<=vt.EPSILON&&Math.abs(t.im-this.im)<=vt.EPSILON},clone:function(){return new vt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<vt.EPSILON&&(n=0),Math.abs(e)<vt.EPSILON&&(e=0),e===0?t+n:(n!==0?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),e!==1&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};vt.ZERO=new vt(0,0);vt.ONE=new vt(1,0);vt.I=new vt(0,1);vt.PI=new vt(Math.PI,0);vt.E=new vt(Math.E,0);vt.INFINITY=new vt(1/0,1/0);vt.NAN=new vt(NaN,NaN);vt.EPSILON=1e-15;var rhe="Complex",ihe=[],ahe=Me(rhe,ihe,()=>(Object.defineProperty(vt,"name",{value:"Complex"}),vt.prototype.constructor=vt,vt.prototype.type="Complex",vt.prototype.isComplex=!0,vt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},vt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},vt.prototype.format=function(n){var e="",t=this.im,r=this.re,i=qm(this.re,n),a=qm(this.im,n),s=In(n)?n:n?n.precision:null;if(s!==null){var o=Math.pow(10,-s);Math.abs(r/t)<o&&(r=0),Math.abs(t/r)<o&&(t=0)}return t===0?e=i:r===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},vt.fromPolar=function(n){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return vt(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],r=arguments[1];if(In(t)){if(ou(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),In(r))return new vt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},vt.prototype.valueOf=vt.prototype.toString,vt.fromJSON=function(n){return new vt(n)},vt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},vt),{isClass:!0}),p_={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var BR;function she(){return BR||(BR=1,(function(n,e){(function(t){var r=2e3,i={s:1,n:0,d:1};function a(b,_){if(isNaN(b=parseInt(b,10)))throw x();return b*_}function s(b,_){if(_===0)throw g();var M=Object.create(p.prototype);M.s=b<0?-1:1,b=b<0?-b:b;var E=h(b,_);return M.n=b/E,M.d=_/E,M}function o(b){for(var _={},M=b,E=2,C=4;C<=M;){for(;M%E===0;)M/=E,_[E]=(_[E]||0)+1;C+=1+2*E++}return M!==b?M>1&&(_[M]=(_[M]||0)+1):_[b]=(_[b]||0)+1,_}var l=function(b,_){var M=0,E=1,C=1,T=0,B=0,z=0,R=1,O=1,U=0,I=1,q=1,X=1,$=1e7,k;if(b!=null)if(_!==void 0){if(M=b,E=_,C=M*E,M%1!==0||E%1!==0)throw A()}else switch(typeof b){case"object":{if("d"in b&&"n"in b)M=b.n,E=b.d,"s"in b&&(M*=b.s);else if(0 in b)M=b[0],1 in b&&(E=b[1]);else throw x();C=M*E;break}case"number":{if(b<0&&(C=b,b=-b),b%1===0)M=b;else if(b>0){for(b>=1&&(O=Math.pow(10,Math.floor(1+Math.log(b)/Math.LN10)),b/=O);I<=$&&X<=$;)if(k=(U+q)/(I+X),b===k){I+X<=$?(M=U+q,E=I+X):X>I?(M=q,E=X):(M=U,E=I);break}else b>k?(U+=q,I+=X):(q+=U,X+=I),I>$?(M=q,E=X):(M=U,E=I);M*=O}else(isNaN(b)||isNaN(_))&&(E=M=NaN);break}case"string":{if(I=b.match(/\d+|./g),I===null)throw x();if(I[U]==="-"?(C=-1,U++):I[U]==="+"&&U++,I.length===U+1?B=a(I[U++],C):I[U+1]==="."||I[U]==="."?(I[U]!=="."&&(T=a(I[U++],C)),U++,(U+1===I.length||I[U+1]==="("&&I[U+3]===")"||I[U+1]==="'"&&I[U+3]==="'")&&(B=a(I[U],C),R=Math.pow(10,I[U].length),U++),(I[U]==="("&&I[U+2]===")"||I[U]==="'"&&I[U+2]==="'")&&(z=a(I[U+1],C),O=Math.pow(10,I[U+1].length)-1,U+=3)):I[U+1]==="/"||I[U+1]===":"?(B=a(I[U],C),R=a(I[U+2],1),U+=3):I[U+3]==="/"&&I[U+1]===" "&&(T=a(I[U],C),B=a(I[U+2],C),R=a(I[U+4],1),U+=5),I.length<=U){E=R*O,C=M=z+E*T+O*B;break}}default:throw x()}if(E===0)throw g();i.s=C<0?-1:1,i.n=Math.abs(M),i.d=Math.abs(E)};function u(b,_,M){for(var E=1;_>0;b=b*b%M,_>>=1)_&1&&(E=E*b%M);return E}function c(b,_){for(;_%2===0;_/=2);for(;_%5===0;_/=5);if(_===1)return 0;for(var M=10%_,E=1;M!==1;E++)if(M=M*10%_,E>r)return 0;return E}function d(b,_,M){for(var E=1,C=u(10,M,_),T=0;T<300;T++){if(E===C)return T;E=E*10%_,C=C*10%_}return 0}function h(b,_){if(!b)return _;if(!_)return b;for(;;){if(b%=_,!b)return _;if(_%=b,!_)return b}}function p(b,_){if(l(b,_),this instanceof p)b=h(i.d,i.n),this.s=i.s,this.n=i.n/b,this.d=i.d/b;else return s(i.s*i.n,i.d)}var g=function(){return new Error("Division by Zero")},x=function(){return new Error("Invalid argument")},A=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(b,_){return l(b,_),s(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(b,_){return l(b,_),s(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(b,_){return l(b,_),s(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(b,_){return l(b,_),s(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(b,_){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(b===void 0)return s(this.s*this.n%this.d,1);if(l(b,_),i.n===0&&this.d===0)throw g();return s(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(b,_){return l(b,_),s(h(i.n,this.n)*h(i.d,this.d),i.d*this.d)},lcm:function(b,_){return l(b,_),i.n===0&&this.n===0?s(0,1):s(i.n*this.n,h(i.n,this.n)*h(i.d,this.d))},ceil:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):s(Math.ceil(b*this.s*this.n/this.d),b)},floor:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):s(Math.floor(b*this.s*this.n/this.d),b)},round:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):s(Math.round(b*this.s*this.n/this.d),b)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(b,_){if(l(b,_),i.d===1)return i.s<0?s(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):s(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var M=o(this.n),E=o(this.d),C=1,T=1;for(var B in M)if(B!=="1"){if(B==="0"){C=0;break}if(M[B]*=i.n,M[B]%i.d===0)M[B]/=i.d;else return null;C*=Math.pow(B,M[B])}for(var B in E)if(B!=="1"){if(E[B]*=i.n,E[B]%i.d===0)E[B]/=i.d;else return null;T*=Math.pow(B,E[B])}return i.s<0?s(T,C):s(C,T)},equals:function(b,_){return l(b,_),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(b,_){l(b,_);var M=this.s*this.n*i.d-i.s*i.n*this.d;return(0<M)-(M<0)},simplify:function(b){if(isNaN(this.n)||isNaN(this.d))return this;b=b||.001;for(var _=this.abs(),M=_.toContinued(),E=1;E<M.length;E++){for(var C=s(M[E-1],1),T=E-2;T>=0;T--)C=C.inverse().add(M[T]);if(Math.abs(C.sub(_).valueOf())<b)return C.mul(this.s)}return this},divisible:function(b,_){return l(b,_),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(b){var _,M="",E=this.n,C=this.d;return this.s<0&&(M+="-"),C===1?M+=E:(b&&(_=Math.floor(E/C))>0&&(M+=_,M+=" ",E%=C),M+=E,M+="/",M+=C),M},toLatex:function(b){var _,M="",E=this.n,C=this.d;return this.s<0&&(M+="-"),C===1?M+=E:(b&&(_=Math.floor(E/C))>0&&(M+=_,E%=C),M+="\\frac{",M+=E,M+="}{",M+=C,M+="}"),M},toContinued:function(){var b,_=this.n,M=this.d,E=[];if(isNaN(_)||isNaN(M))return E;do E.push(Math.floor(_/M)),b=_%M,_=M,M=b;while(_!==1);return E},toString:function(b){var _=this.n,M=this.d;if(isNaN(_)||isNaN(M))return"NaN";b=b||15;var E=c(_,M),C=d(_,M,E),T=this.s<0?"-":"";if(T+=_/M|0,_%=M,_*=10,_&&(T+="."),E){for(var B=C;B--;)T+=_/M|0,_%=M,_*=10;T+="(";for(var B=E;B--;)T+=_/M|0,_%=M,_*=10;T+=")"}else for(var B=b;_&&B--;)T+=_/M|0,_%=M,_*=10;return T}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,n.exports=p})()})(p_)),p_.exports}var ohe=she();const md=jd(ohe);var lhe="Fraction",uhe=[],che=Me(lhe,uhe,()=>(Object.defineProperty(md,"name",{value:"Fraction"}),md.prototype.constructor=md,md.prototype.type="Fraction",md.prototype.isFraction=!0,md.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},md.fromJSON=function(n){return new md(n)},md),{isClass:!0}),fhe="Range",dhe=[],hhe=Me(fhe,dhe,()=>{function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,s=r!=null;if(i){if(Pn(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(Pn(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(s){if(Pn(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=s?parseFloat(r):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),r=t.map(function(a){return parseFloat(a)}),i=r.some(function(a){return isNaN(a)});if(i)return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,t=this.start,r=this.step,i=this.end,a=i-t;return W0(r)===W0(a)?e=Math.ceil(a/r):a===0&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,r=this.step,i=this.end,a=0;if(r>0)for(;t<i;)e(t,[a],this),t+=r,a++;else if(r<0)for(;t>i;)e(t,[a],this),t+=r,a++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,i,a){t[i[0]]=e(r,i,a)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=qm(this.start,e);return this.step!==1&&(t+=":"+qm(this.step,e)),t+=":"+qm(this.end,e),t},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0}),mhe="Matrix",phe=[],vhe=Me(mhe,phe,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function ghe(n){var e=0,t=1,r=Object.create(null),i=Object.create(null),a=0,s=function(l){var u=i[l];if(u&&(delete r[u],delete i[l],--e,t===u)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(r,++t););}};return n=Math.abs(n),{hit:function(l){var u=i[l],c=++a;if(r[c]=l,i[l]=c,!u)return++e,e<=n?void 0:(l=r[t],s(l),l);if(delete r[u],t===u)for(;!Object.prototype.hasOwnProperty.call(r,++t););},delete:s,clear:function(){e=a=0,t=1,r=Object.create(null),i=Object.create(null)}}}function p2(n){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function r(){typeof r.cache!="object"&&(r.cache={values:new Map,lru:ghe(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=e(i);if(r.cache.values.has(s))return r.cache.lru.hit(s),r.cache.values.get(s);var o=n.apply(n,i);return r.cache.values.set(s,o),r.cache.values.delete(r.cache.lru.hit(s)),o}}function yV(n){return Object.keys(n.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)}var xhe="DenseMatrix",yhe=["Matrix"],bhe=Me(xhe,yhe,n=>{var{Matrix:e}=n;function t(c,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Is(d))throw new Error("Invalid datatype: "+d);if(vn(c))c.type==="DenseMatrix"?(this._data=Rn(c._data),this._size=Rn(c._size),this._datatype=d||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=d||c._datatype);else if(c&&Tr(c.data)&&Tr(c.size))this._data=c.data,this._size=c.size,ER(this._data,this._size),this._datatype=d||c.datatype;else if(Tr(c))this._data=u(c),this._size=Un(this._data),ER(this._data,this._size),this._datatype=d;else{if(c)throw new TypeError("Unsupported type of data ("+Wr(c)+")");this._data=[],this._size=[0],this._datatype=d}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,d){return new t(c,d)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Hy(this._data,Wr)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,d){return new t(c,d)},t.prototype.subset=function(c,d,h){switch(arguments.length){case 1:return r(this,c);case 2:case 3:return a(this,c,d,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){if(!Tr(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Wn(c.length,this._size.length);for(var d=0;d<c.length;d++)$r(c[d],this._size[d]);for(var h=this._data,p=0,g=c.length;p<g;p++){var x=c[p];$r(x,h.length),h=h[x]}return h},t.prototype.set=function(c,d,h){if(!Tr(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Wn(c.length,this._size.length,"<");var p,g,x,A=c.map(function(_){return _+1});l(this,A,h);var b=this._data;for(p=0,g=c.length-1;p<g;p++)x=c[p],$r(x,b.length),b=b[x];return x=c[c.length-1],$r(x,b.length),b[x]=d,this};function r(c,d){if(!c5(d))throw new TypeError("Invalid index");var h=d.isScalar();if(h)return c.get(d.min());var p=d.size();if(p.length!==c._size.length)throw new Wn(p.length,c._size.length);for(var g=d.min(),x=d.max(),A=0,b=c._size.length;A<b;A++)$r(g[A],c._size[A]),$r(x[A],c._size[A]);return new t(i(c._data,d,p.length,0),c._datatype)}function i(c,d,h,p){var g=p===h-1,x=d.dimension(p);return g?x.map(function(A){return $r(A,c.length),c[A]}).valueOf():x.map(function(A){$r(A,c.length);var b=c[A];return i(b,d,h,p+1)}).valueOf()}function a(c,d,h,p){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var g=d.size(),x=d.isScalar(),A;if(vn(h)?(A=h.size(),h=h.valueOf()):A=Un(h),x){if(A.length!==0)throw new TypeError("Scalar expected");c.set(d.min(),h,p)}else{if(!Qm(A,g))try{A.length===0?h=TR([h],g):h=TR(h,g),A=Un(h)}catch{}if(g.length<c._size.length)throw new Wn(g.length,c._size.length,"<");if(A.length<g.length){for(var b=0,_=0;g[b]===1&&A[b]===1;)b++;for(;g[b]===1;)_++,b++;h=Kj(h,g.length,_,A)}if(!Qm(g,A))throw new Wn(g,A,">");var M=d.max().map(function(T){return T+1});l(c,M,p);var E=g.length,C=0;s(c._data,d,h,E,C)}return c}function s(c,d,h,p,g){var x=g===p-1,A=d.dimension(g);x?A.forEach(function(b,_){$r(b),c[b]=h[_[0]]}):A.forEach(function(b,_){$r(b),s(c[b],d,h[_[0]],p,g+1)})}t.prototype.resize=function(c,d,h){if(!xu(c))throw new TypeError("Array or Matrix expected");var p=c.valueOf().map(x=>Array.isArray(x)&&x.length===1?x[0]:x),g=h?this.clone():this;return o(g,p,d)};function o(c,d,h){if(d.length===0){for(var p=c._data;Tr(p);)p=p[0];return p}return c._size=d.slice(0),c._data=p1(c._data,c._size,h),c}t.prototype.reshape=function(c,d){var h=d?this.clone():this;h._data=JN(h._data,c);var p=h._size.reduce((g,x)=>g*x);return h._size=eT(c,p),h};function l(c,d,h){for(var p=c._size.slice(0),g=!1;p.length<d.length;)p.push(0),g=!0;for(var x=0,A=d.length;x<A;x++)d[x]>p[x]&&(p[x]=d[x],g=!0);g&&o(c,p,h)}t.prototype.clone=function(){var c=new t({data:Rn(this._data),size:Rn(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var d=this,h=yV(c),p=function A(b,_){return Tr(b)?b.map(function(M,E){return A(M,_.concat(E))}):h===1?c(b):h===2?c(b,_):c(b,_,d)},g=p(this._data,[]),x=this._datatype!==void 0?Hy(g,Wr):void 0;return new t(g,x)},t.prototype.forEach=function(c){var d=this,h=function p(g,x){Tr(g)?g.forEach(function(A,b){p(A,x.concat(b))}):c(g,x,d)};h(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*d(h,p){if(Tr(h))for(var g=0;g<h.length;g++)yield*d(h[g],p.concat(g));else yield{value:h,index:p}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var p of h)c.push(new t([p],this._datatype));return c},t.prototype.columns=function(){var c=this,d=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,g=function(b){var _=p.map(M=>[M[b]]);d.push(new t(_,c._datatype))},x=0;x<h[1];x++)g(x);return d},t.prototype.toArray=function(){return Rn(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return Xn(this._data,c)},t.prototype.toString=function(){return Xn(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(Pn(c)&&(c=c.toNumber()),!In(c)||!on(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var d=c>0?c:0,h=c<0?-c:0,p=this._size[0],g=this._size[1],x=Math.min(p-h,g-d),A=[],b=0;b<x;b++)A[b]=this._data[b+h][b+d];return new t({data:A,size:[x],datatype:this._datatype})},t.diagonal=function(c,d,h,p){if(!Tr(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(B){if(Pn(B)&&(B=B.toNumber()),!In(B)||!on(B)||B<1)throw new Error("Size values must be positive integers");return B}),h){if(Pn(h)&&(h=h.toNumber()),!In(h)||!on(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,x=h<0?-h:0,A=c[0],b=c[1],_=Math.min(A-x,b-g),M;if(Tr(d)){if(d.length!==_)throw new Error("Invalid value array length");M=function(z){return d[z]}}else if(vn(d)){var E=d.size();if(E.length!==1||E[0]!==_)throw new Error("Invalid matrix length");M=function(z){return d.get([z])}}else M=function(){return d};p||(p=Pn(M(0))?M(0).mul(0):0);var C=[];if(c.length>0){C=p1(C,c,p);for(var T=0;T<_;T++)C[T+x][T+g]=M(T)}return new t({data:C,size:[A,b]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,d){if(!In(c)||!on(c)||!In(d)||!on(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return $r(c,this._size[0]),$r(d,this._size[0]),t._swapRows(c,d,this._data),this},t._swapRows=function(c,d,h){var p=h[c];h[c]=h[d],h[d]=p};function u(c){return vn(c)?u(c.valueOf()):Tr(c)?c.map(u):c}return t},{isClass:!0}),OR="clone",She=["typed"],whe=Me(OR,She,n=>{var{typed:e}=n;return e(OR,{any:Rn})});function bV(n){var e=n.length,t=n[0].length,r,i,a=[];for(i=0;i<t;i++){var s=[];for(r=0;r<e;r++)s.push(n[r][i]);a.push(s)}return a}function j1(n){for(var e=0;e<n.length;e++)if(xu(n[e]))return!0;return!1}function Pd(n,e){vn(n)&&(n=n.valueOf());for(var t=0,r=n.length;t<r;t++){var i=n[t];Array.isArray(i)?Pd(i,e):e(i)}}function Zn(n,e,t){return n&&typeof n.map=="function"?n.map(function(r){return Zn(r,e)}):e(n)}function y5(n,e,t){var r=Array.isArray(n)?Un(n):n.size();if(e<0||e>=r.length)throw new mc(e,r.length);return vn(n)?n.create(ZS(n.valueOf(),e,t)):ZS(n,e,t)}function ZS(n,e,t){var r,i,a,s;if(e<=0)if(Array.isArray(n[0])){for(s=bV(n),i=[],r=0;r<s.length;r++)i[r]=ZS(s[r],e-1,t);return i}else{for(a=n[0],r=1;r<n.length;r++)a=t(a,n[r]);return a}else{for(i=[],r=0;r<n.length;r++)i[r]=ZS(n[r],e-1,t);return i}}function zR(n,e,t,r,i,a,s,o,l,u,c){var d=n._values,h=n._index,p=n._ptr,g,x,A,b;if(r)for(x=p[e],A=p[e+1],g=x;g<A;g++)b=h[g],t[b]!==a?(t[b]=a,s.push(b),r[b]=d[g]):(r[b]=o(r[b],d[g]),i[b]=a);else for(x=p[e],A=p[e+1],g=x;g<A;g++)b=h[g],t[b]!==a?(t[b]=a,s.push(b)):i[b]=a}var UR="isInteger",Ahe=["typed"],Mhe=Me(UR,Ahe,n=>{var{typed:e}=n;return e(UR,{number:on,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),pc="number",V1="number, number";function SV(n){return Math.abs(n)}SV.signature=pc;function wV(n,e){return n+e}wV.signature=V1;function AV(n,e){return n-e}AV.signature=V1;function MV(n,e){return n*e}MV.signature=V1;function _V(n){return-n}_V.signature=pc;function EV(n){return n}EV.signature=pc;function Wx(n){return wde(n)}Wx.signature=pc;function NV(n){return n*n*n}NV.signature=pc;function TV(n){return Math.exp(n)}TV.signature=pc;function CV(n){return Ade(n)}CV.signature=pc;function DV(n,e){if(!on(n)||!on(e))throw new Error("Parameters in function lcm must be integer numbers");if(n===0||e===0)return 0;for(var t,r=n*e;e!==0;)t=e,e=n%t,n=t;return Math.abs(r/n)}DV.signature=V1;function _he(n,e){return Math.log(n)}function RV(n){return bde(n)}RV.signature=pc;function BV(n){return yde(n)}BV.signature=pc;function FR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(n===0)return t?1/0:0;if(!isFinite(n))return t?0:n;var r=Math.pow(Math.abs(n),1/e);return r=n<0?-r:r,t?1/r:r}function qE(n){return W0(n)}qE.signature=pc;function OV(n){return n*n}OV.signature=pc;function zV(n,e){var t,r,i,a=0,s=1,o=1,l=0;if(!on(n)||!on(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=Math.floor(n/e),i=n-r*e,t=a,a=s-r*a,s=t,t=o,o=l-r*o,l=t,n=e,e=i;var u;return n<0?u=[-n,-s,-l]:u=[n,n?s:0,l],u}zV.signature=V1;function UV(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}UV.signature=V1;function Lx(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!on(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Gj(n,e))}var Ehe="number",H1="number, number";function FV(n,e){if(!on(n)||!on(e))throw new Error("Integers expected in function bitAnd");return n&e}FV.signature=H1;function LV(n){if(!on(n))throw new Error("Integer expected in function bitNot");return~n}LV.signature=Ehe;function kV(n,e){if(!on(n)||!on(e))throw new Error("Integers expected in function bitOr");return n|e}kV.signature=H1;function IV(n,e){if(!on(n)||!on(e))throw new Error("Integers expected in function bitXor");return n^e}IV.signature=H1;function PV(n,e){if(!on(n)||!on(e))throw new Error("Integers expected in function leftShift");return n<<e}PV.signature=H1;function jV(n,e){if(!on(n)||!on(e))throw new Error("Integers expected in function rightArithShift");return n>>e}jV.signature=H1;function VV(n,e){if(!on(n)||!on(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}VV.signature=H1;function Ad(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return Ad(n,t)*Ad(t+1,e)}function HV(n,e){if(!on(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!on(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,r=1,i=e<t?t+1:e+1,a=2,s=e<t?e:t,o=i;o<=n;++o)for(r*=o;a<=s&&r%a===0;)r/=a,++a;return a<=s&&(r/=Ad(a,s)),r}HV.signature="number, number";var Nhe=Math.PI,The=2*Math.PI,Che=Math.E,Dhe=1.618033988749895,Rhe="number",rT="number, number";function qV(n){return!n}qV.signature=Rhe;function GV(n,e){return!!(n||e)}GV.signature=rT;function $V(n,e){return!!n!=!!e}$V.signature=rT;function XV(n,e){return!!(n&&e)}XV.signature=rT;function KS(n){var e;if(on(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:Ad(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*KS(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,r=t*n,i=r*n,a=i*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*n))}--n,e=a1[0];for(var s=1;s<a1.length;++s)e+=a1[s]/(n+s);var o=n+WV+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,n+.5)*Math.exp(-o)*e}KS.signature="number";var WV=4.7421875,a1=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],YV=.9189385332046728,Bhe=5,Ohe=7,LR=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function QS(n){if(n<0)return NaN;if(n===0)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-QS(1-n);n=n-1;for(var e=n+Bhe+.5,t=LR[0],r=Ohe-1;r>=1;r--)t+=LR[r]/(n+r);return YV+(n+.5)*Math.log(e)-e+Math.log(t)}QS.signature="number";var $s="number";function ZV(n){return Tde(n)}ZV.signature=$s;function KV(n){return Math.atan(1/n)}KV.signature=$s;function QV(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}QV.signature=$s;function JV(n){return Math.asin(1/n)}JV.signature=$s;function eH(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}eH.signature=$s;function tH(n){return Math.acos(1/n)}tH.signature=$s;function nH(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}nH.signature=$s;function rH(n){return Cde(n)}rH.signature=$s;function iH(n){return Dde(n)}iH.signature=$s;function aH(n){return 1/Math.tan(n)}aH.signature=$s;function sH(n){var e=Math.exp(2*n);return(e+1)/(e-1)}sH.signature=$s;function oH(n){return 1/Math.sin(n)}oH.signature=$s;function lH(n){return n===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*W0(n)}lH.signature=$s;function uH(n){return 1/Math.cos(n)}uH.signature=$s;function cH(n){return 2/(Math.exp(n)+Math.exp(-n))}cH.signature=$s;function fH(n){return Bde(n)}fH.signature=$s;var b5="number";function dH(n){return n<0}dH.signature=b5;function hH(n){return n>0}hH.signature=b5;function mH(n){return n===0}mH.signature=b5;function pH(n){return Number.isNaN(n)}pH.signature=b5;var kR="isNegative",zhe=["typed"],Uhe=Me(kR,zhe,n=>{var{typed:e}=n;return e(kR,{number:dH,BigNumber:function(r){return r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s<0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),IR="isNumeric",Fhe=["typed"],Lhe=Me(IR,Fhe,n=>{var{typed:e}=n;return e(IR,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),PR="hasNumericValue",khe=["typed","isNumeric"],Ihe=Me(PR,khe,n=>{var{typed:e,isNumeric:t}=n;return e(PR,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})}),jR="isPositive",Phe=["typed"],jhe=Me(jR,Phe,n=>{var{typed:e}=n;return e(jR,{number:hH,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),VR="isZero",Vhe=["typed"],Hhe=Me(VR,Vhe,n=>{var{typed:e}=n;return e(VR,{number:mH,BigNumber:function(r){return r.isZero()},Complex:function(r){return r.re===0&&r.im===0},Fraction:function(r){return r.d===1&&r.n===0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),HR="isNaN",qhe=["typed"],Ghe=Me(HR,qhe,n=>{var{typed:e}=n;return e(HR,{number:pH,BigNumber:function(r){return r.isNaN()},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":function(r){return Zn(r,Number.isNaN)}})}),qR="typeOf",$he=["typed"],Xhe=Me(qR,$he,n=>{var{typed:e}=n;return e(qR,{any:Wr})});function yu(n,e,t){if(t==null)return n.eq(e);if(n.eq(e))return!0;if(n.isNaN()||e.isNaN())return!1;if(n.isFinite()&&e.isFinite()){var r=n.minus(e).abs();if(r.isZero())return!0;var i=n.constructor.max(n.abs(),e.abs());return r.lte(i.times(t))}return!1}function Whe(n,e,t){return No(n.re,e.re,t)&&No(n.im,e.im,t)}var q1=Me("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),JS="equalScalar",Yhe=["typed","config"],Zhe=Me(JS,Yhe,n=>{var{typed:e,config:t}=n,r=q1({typed:e});return e(JS,{"boolean, boolean":function(a,s){return a===s},"number, number":function(a,s){return No(a,s,t.epsilon)},"BigNumber, BigNumber":function(a,s){return a.eq(s)||yu(a,s,t.epsilon)},"Fraction, Fraction":function(a,s){return a.equals(s)},"Complex, Complex":function(a,s){return Whe(a,s,t.epsilon)}},r)});Me(JS,["typed","config"],n=>{var{typed:e,config:t}=n;return e(JS,{"number, number":function(i,a){return No(i,a,t.epsilon)}})});var Khe="SparseMatrix",Qhe=["typed","equalScalar","Matrix"],Jhe=Me(Khe,Qhe,n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(x,A){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(A&&!Is(A))throw new Error("Invalid datatype: "+A);if(vn(x))a(this,x,A);else if(x&&Tr(x.index)&&Tr(x.ptr)&&Tr(x.size))this._values=x.values,this._index=x.index,this._ptr=x.ptr,this._size=x.size,this._datatype=A||x.datatype;else if(Tr(x))s(this,x,A);else{if(x)throw new TypeError("Unsupported type of data ("+Wr(x)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=A}}function a(x,A,b){A.type==="SparseMatrix"?(x._values=A._values?Rn(A._values):void 0,x._index=Rn(A._index),x._ptr=Rn(A._ptr),x._size=Rn(A._size),x._datatype=b||A._datatype):s(x,A.valueOf(),b||A._datatype)}function s(x,A,b){x._values=[],x._index=[],x._ptr=[],x._datatype=b;var _=A.length,M=0,E=t,C=0;if(Is(b)&&(E=e.find(t,[b,b])||t,C=e.convert(0,b)),_>0){var T=0;do{x._ptr.push(x._index.length);for(var B=0;B<_;B++){var z=A[B];if(Tr(z)){if(T===0&&M<z.length&&(M=z.length),T<z.length){var R=z[T];E(R,C)||(x._values.push(R),x._index.push(B))}}else T===0&&M<1&&(M=1),E(z,C)||(x._values.push(z),x._index.push(B))}T++}while(T<M)}x._ptr.push(x._index.length),x._size=[_,M]}i.prototype=new r,i.prototype.createSparseMatrix=function(x,A){return new i(x,A)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Hy(this._values,Wr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(x,A){return new i(x,A)},i.prototype.density=function(){var x=this._size[0],A=this._size[1];return x!==0&&A!==0?this._index.length/(x*A):0},i.prototype.subset=function(x,A,b){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,x);case 2:case 3:return l(this,x,A,b);default:throw new SyntaxError("Wrong number of arguments")}};function o(x,A){if(!c5(A))throw new TypeError("Invalid index");var b=A.isScalar();if(b)return x.get(A.min());var _=A.size();if(_.length!==x._size.length)throw new Wn(_.length,x._size.length);var M,E,C,T,B=A.min(),z=A.max();for(M=0,E=x._size.length;M<E;M++)$r(B[M],x._size[M]),$r(z[M],x._size[M]);var R=x._values,O=x._index,U=x._ptr,I=A.dimension(0),q=A.dimension(1),X=[],$=[];I.forEach(function(H,ae){$[H]=ae[0],X[H]=!0});var k=R?[]:void 0,P=[],Z=[];return q.forEach(function(H){for(Z.push(P.length),C=U[H],T=U[H+1];C<T;C++)M=O[C],X[M]===!0&&(P.push($[M]),k&&k.push(R[C]))}),Z.push(P.length),new i({values:k,index:P,ptr:Z,size:_,datatype:x._datatype})}function l(x,A,b,_){if(!A||A.isIndex!==!0)throw new TypeError("Invalid index");var M=A.size(),E=A.isScalar(),C;if(vn(b)?(C=b.size(),b=b.toArray()):C=Un(b),E){if(C.length!==0)throw new TypeError("Scalar expected");x.set(A.min(),b,_)}else{if(M.length!==1&&M.length!==2)throw new Wn(M.length,x._size.length,"<");if(C.length<M.length){for(var T=0,B=0;M[T]===1&&C[T]===1;)T++;for(;M[T]===1;)B++,T++;b=Kj(b,M.length,B,C)}if(!Qm(M,C))throw new Wn(M,C,">");if(M.length===1){var z=A.dimension(0);z.forEach(function(U,I){$r(U),x.set([U,0],b[I[0]],_)})}else{var R=A.dimension(0),O=A.dimension(1);R.forEach(function(U,I){$r(U),O.forEach(function(q,X){$r(q),x.set([U,q],b[I[0]][X[0]],_)})})}}return x}i.prototype.get=function(x){if(!Tr(x))throw new TypeError("Array expected");if(x.length!==this._size.length)throw new Wn(x.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var A=x[0],b=x[1];$r(A,this._size[0]),$r(b,this._size[1]);var _=u(A,this._ptr[b],this._ptr[b+1],this._index);return _<this._ptr[b+1]&&this._index[_]===A?this._values[_]:0},i.prototype.set=function(x,A,b){if(!Tr(x))throw new TypeError("Array expected");if(x.length!==this._size.length)throw new Wn(x.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var _=x[0],M=x[1],E=this._size[0],C=this._size[1],T=t,B=0;Is(this._datatype)&&(T=e.find(t,[this._datatype,this._datatype])||t,B=e.convert(0,this._datatype)),(_>E-1||M>C-1)&&(h(this,Math.max(_+1,E),Math.max(M+1,C),b),E=this._size[0],C=this._size[1]),$r(_,E),$r(M,C);var z=u(_,this._ptr[M],this._ptr[M+1],this._index);return z<this._ptr[M+1]&&this._index[z]===_?T(A,B)?c(z,M,this._values,this._index,this._ptr):this._values[z]=A:T(A,B)||d(z,_,M,A,this._values,this._index,this._ptr),this};function u(x,A,b,_){if(b-A===0)return b;for(var M=A;M<b;M++)if(_[M]===x)return M;return A}function c(x,A,b,_,M){b.splice(x,1),_.splice(x,1);for(var E=A+1;E<M.length;E++)M[E]--}function d(x,A,b,_,M,E,C){M.splice(x,0,_),E.splice(x,0,A);for(var T=b+1;T<C.length;T++)C[T]++}i.prototype.resize=function(x,A,b){if(!xu(x))throw new TypeError("Array or Matrix expected");var _=x.valueOf().map(E=>Array.isArray(E)&&E.length===1?E[0]:E);if(_.length!==2)throw new Error("Only two dimensions matrix are supported");_.forEach(function(E){if(!In(E)||!on(E)||E<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Xn(_)+")")});var M=b?this.clone():this;return h(M,_[0],_[1],A)};function h(x,A,b,_){var M=_||0,E=t,C=0;Is(x._datatype)&&(E=e.find(t,[x._datatype,x._datatype])||t,C=e.convert(0,x._datatype),M=e.convert(M,x._datatype));var T=!E(M,C),B=x._size[0],z=x._size[1],R,O,U;if(b>z){for(O=z;O<b;O++)if(x._ptr[O]=x._values.length,T)for(R=0;R<B;R++)x._values.push(M),x._index.push(R);x._ptr[b]=x._values.length}else b<z&&(x._ptr.splice(b+1,z-b),x._values.splice(x._ptr[b],x._values.length),x._index.splice(x._ptr[b],x._index.length));if(z=b,A>B){if(T){var I=0;for(O=0;O<z;O++){x._ptr[O]=x._ptr[O]+I,U=x._ptr[O+1]+I;var q=0;for(R=B;R<A;R++,q++)x._values.splice(U+q,0,M),x._index.splice(U+q,0,R),I++}x._ptr[z]=x._values.length}}else if(A<B){var X=0;for(O=0;O<z;O++){x._ptr[O]=x._ptr[O]-X;var $=x._ptr[O],k=x._ptr[O+1]-X;for(U=$;U<k;U++)R=x._index[U],R>A-1&&(x._values.splice(U,1),x._index.splice(U,1),X++)}x._ptr[O]=x._values.length}return x._size[0]=A,x._size[1]=b,x}i.prototype.reshape=function(x,A){if(!Tr(x))throw new TypeError("Array expected");if(x.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");x.forEach(function(H){if(!In(H)||!on(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Xn(x)+")")});var b=this._size[0]*this._size[1];x=eT(x,b);var _=x[0]*x[1];if(b!==_)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var M=A?this.clone():this;if(this._size[0]===x[0]&&this._size[1]===x[1])return M;for(var E=[],C=0;C<M._ptr.length;C++)for(var T=0;T<M._ptr[C+1]-M._ptr[C];T++)E.push(C);for(var B=M._values.slice(),z=M._index.slice(),R=0;R<M._index.length;R++){var O=z[R],U=E[R],I=O*M._size[1]+U;E[R]=I%x[1],z[R]=Math.floor(I/x[1])}M._values.length=0,M._index.length=0,M._ptr.length=x[1]+1,M._size=x.slice();for(var q=0;q<M._ptr.length;q++)M._ptr[q]=0;for(var X=0;X<B.length;X++){var $=z[X],k=E[X],P=B[X],Z=u($,M._ptr[k],M._ptr[k+1],M._index);d(Z,$,k,P,M._values,M._index,M._ptr)}return M},i.prototype.clone=function(){var x=new i({values:this._values?Rn(this._values):void 0,index:Rn(this._index),ptr:Rn(this._ptr),size:Rn(this._size),datatype:this._datatype});return x},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(x,A){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var b=this,_=this._size[0],M=this._size[1],E=yV(x),C=function(B,z,R){return E===1?x(B):E===2?x(B,[z,R]):x(B,[z,R],b)};return p(this,0,_-1,0,M-1,C,A)};function p(x,A,b,_,M,E,C){var T=[],B=[],z=[],R=t,O=0;Is(x._datatype)&&(R=e.find(t,[x._datatype,x._datatype])||t,O=e.convert(0,x._datatype));for(var U=function(Q,te,le){Q=E(Q,te,le),R(Q,O)||(T.push(Q),B.push(te))},I=_;I<=M;I++){z.push(T.length);var q=x._ptr[I],X=x._ptr[I+1];if(C)for(var $=q;$<X;$++){var k=x._index[$];k>=A&&k<=b&&U(x._values[$],k-A,I-_)}else{for(var P={},Z=q;Z<X;Z++){var H=x._index[Z];P[H]=x._values[Z]}for(var ae=A;ae<=b;ae++){var W=ae in P?P[ae]:0;U(W,ae-A,I-_)}}}return z.push(T.length),new i({values:T,index:B,ptr:z,size:[b-A+1,M-_+1]})}i.prototype.forEach=function(x,A){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var b=this,_=this._size[0],M=this._size[1],E=0;E<M;E++){var C=this._ptr[E],T=this._ptr[E+1];if(A)for(var B=C;B<T;B++){var z=this._index[B];x(this._values[B],[z,E],b)}else{for(var R={},O=C;O<T;O++){var U=this._index[O];R[U]=this._values[O]}for(var I=0;I<_;I++){var q=I in R?R[I]:0;x(q,[I,E],b)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var x=this._size[1],A=0;A<x;A++)for(var b=this._ptr[A],_=this._ptr[A+1],M=b;M<_;M++){var E=this._index[M];yield{value:this._values[M],index:[E,A]}}},i.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)};function g(x,A,b,_,M){var E=_[0],C=_[1],T=[],B,z;for(B=0;B<E;B++)for(T[B]=[],z=0;z<C;z++)T[B][z]=0;for(z=0;z<C;z++)for(var R=b[z],O=b[z+1],U=R;U<O;U++)B=A[U],T[B][z]=x?M?Rn(x[U]):x[U]:1;return T}return i.prototype.format=function(x){for(var A=this._size[0],b=this._size[1],_=this.density(),M="Sparse Matrix ["+Xn(A,x)+" x "+Xn(b,x)+"] density: "+Xn(_,x)+`
`,E=0;E<b;E++)for(var C=this._ptr[E],T=this._ptr[E+1],B=C;B<T;B++){var z=this._index[B];M+=`
    (`+Xn(z,x)+", "+Xn(E,x)+") ==> "+(this._values?Xn(this._values[B],x):"X")}return M},i.prototype.toString=function(){return Xn(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(x){if(x){if(Pn(x)&&(x=x.toNumber()),!In(x)||!on(x))throw new TypeError("The parameter k must be an integer number")}else x=0;var A=x>0?x:0,b=x<0?-x:0,_=this._size[0],M=this._size[1],E=Math.min(_-b,M-A),C=[],T=[],B=[];B[0]=0;for(var z=A;z<M&&C.length<E;z++)for(var R=this._ptr[z],O=this._ptr[z+1],U=R;U<O;U++){var I=this._index[U];if(I===z-A+b){C.push(this._values[U]),T[C.length-1]=I-b;break}}return B.push(C.length),new i({values:C,index:T,ptr:B,size:[E,1]})},i.fromJSON=function(x){return new i(x)},i.diagonal=function(x,A,b,_,M){if(!Tr(x))throw new TypeError("Array expected, size parameter");if(x.length!==2)throw new Error("Only two dimensions matrix are supported");if(x=x.map(function(H){if(Pn(H)&&(H=H.toNumber()),!In(H)||!on(H)||H<1)throw new Error("Size values must be positive integers");return H}),b){if(Pn(b)&&(b=b.toNumber()),!In(b)||!on(b))throw new TypeError("The parameter k must be an integer number")}else b=0;var E=t,C=0;Is(M)&&(E=e.find(t,[M,M])||t,C=e.convert(0,M));var T=b>0?b:0,B=b<0?-b:0,z=x[0],R=x[1],O=Math.min(z-B,R-T),U;if(Tr(A)){if(A.length!==O)throw new Error("Invalid value array length");U=function(ae){return A[ae]}}else if(vn(A)){var I=A.size();if(I.length!==1||I[0]!==O)throw new Error("Invalid matrix length");U=function(ae){return A.get([ae])}}else U=function(){return A};for(var q=[],X=[],$=[],k=0;k<R;k++){$.push(q.length);var P=k-T;if(P>=0&&P<O){var Z=U(P);E(Z,C)||(X.push(P+B),q.push(Z))}}return $.push(q.length),new i({values:q,index:X,ptr:$,size:[z,R]})},i.prototype.swapRows=function(x,A){if(!In(x)||!on(x)||!In(A)||!on(A))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return $r(x,this._size[0]),$r(A,this._size[0]),i._swapRows(x,A,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(x,A,b,_,M){for(var E=_[x],C=_[x+1],T=E;T<C;T++)M(b[T],A[T])},i._swapRows=function(x,A,b,_,M,E){for(var C=0;C<b;C++){var T=E[C],B=E[C+1],z=u(x,T,B,M),R=u(A,T,B,M);if(z<B&&R<B&&M[z]===x&&M[R]===A){if(_){var O=_[z];_[z]=_[R],_[R]=O}continue}if(z<B&&M[z]===x&&(R>=B||M[R]!==A)){var U=_?_[z]:void 0;M.splice(R,0,A),_&&_.splice(R,0,U),M.splice(R<=z?z+1:z,1),_&&_.splice(R<=z?z+1:z,1);continue}if(R<B&&M[R]===A&&(z>=B||M[z]!==x)){var I=_?_[R]:void 0;M.splice(z,0,x),_&&_.splice(z,0,I),M.splice(z<=R?R+1:R,1),_&&_.splice(z<=R?R+1:R,1)}}},i},{isClass:!0}),eme="number",tme=["typed"];function nme(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:n,radix:t,integerPart:r,fractionalPart:i}}else return null}function rme(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++){var i=parseInt(n.fractionalPart[r],n.radix);t+=i/Math.pow(n.radix,r+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+n.input+'" is not a valid number');return a}var ime=Me(eme,tme,n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=nme(i);if(a)return rme(a);var s=0,o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(s=Number(o[2]),i=o[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(o){if(l>2**s-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(s-1)&&(l=l-2**s)}return l},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(r=>i=>Zn(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t}),GR="string",ame=["typed"],sme=Me(GR,ame,n=>{var{typed:e}=n;return e(GR,{"":function(){return""},number:qm,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t)),any:function(r){return String(r)}})}),$R="boolean",ome=["typed"],lme=Me($R,ome,n=>{var{typed:e}=n;return e($R,{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(r);if(r!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),ume="bignumber",cme=["typed","BigNumber"],fme=Me(ume,cme,n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var s=a[2],o=t(a[1]),l=new t(2).pow(Number(s));if(o.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new t(2).pow(Number(s)-1);return o.gte(u)?o.sub(l):o}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>Zn(i,r))})}),dme="complex",hme=["typed","Complex"],mme=Me(dme,hme,n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>Zn(i,r))})}),pme="fraction",vme=["typed","Fraction"],gme=Me(pme,vme,n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Zn(i,r))})}),XR="matrix",xme=["typed","Matrix","DenseMatrix","SparseMatrix"],yme=Me(XR,xme,n=>{var{typed:e,Matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(XR,{"":function(){return a([])},string:function(o){return a([],o)},"string, string":function(o,l){return a([],o,l)},Array:function(o){return a(o)},Matrix:function(o){return a(o,o.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,o,l){if(o==="dense"||o==="default"||o===void 0)return new r(s,l);if(o==="sparse")return new i(s,l);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),WR="matrixFromFunction",bme=["typed","matrix","isZero"],Sme=Me(WR,bme,n=>{var{typed:e,matrix:t,isZero:r}=n;return e(WR,{"Array | Matrix, function, string, string":function(s,o,l,u){return i(s,o,l,u)},"Array | Matrix, function, string":function(s,o,l){return i(s,o,l)},"Matrix, function":function(s,o){return i(s,o,"dense")},"Array, function":function(s,o){return i(s,o,"dense").toArray()},"Array | Matrix, string, function":function(s,o,l){return i(s,l,o)},"Array | Matrix, string, string, function":function(s,o,l,u){return i(s,u,o,l)}});function i(a,s,o,l){var u;return l!==void 0?u=t(o,l):u=t(o),u.resize(a),u.forEach(function(c,d){var h=s(d);r(h)||u.set(d,h)}),u}}),YR="matrixFromRows",wme=["typed","matrix","flatten","size"],Ame=Me(YR,wme,n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(YR,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(u=>u.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=s(o[0]),u=[];for(var c of o){var d=s(c);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(d|0));u.push(r(c))}return u}function s(o){var l=i(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),ZR="matrixFromColumns",Mme=["typed","matrix","flatten","size"],_me=Me(ZR,Mme,n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(ZR,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(u=>u.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=s(o[0]),u=[],c=0;c<l;c++)u[c]=[];for(var d of o){var h=s(d);if(h!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(h|0));for(var p=r(d),g=0;g<l;g++)u[g].push(p[g])}return u}function s(o){var l=i(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),KR="splitUnit",Eme=["typed"],Nme=Me(KR,Eme,n=>{var{typed:e}=n;return e(KR,{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),QR="unaryMinus",Tme=["typed"],Cme=Me(QR,Tme,n=>{var{typed:e}=n;return e(QR,{number:_V,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),JR="unaryPlus",Dme=["typed","config","BigNumber"],Rme=Me(JR,Dme,n=>{var{typed:e,config:t,BigNumber:r}=n;return e(JR,{number:EV,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Zn(a,i)),"boolean | string":function(a){return t.number==="BigNumber"?new r(+a):+a}})}),eB="abs",Bme=["typed"],Ome=Me(eB,Bme,n=>{var{typed:e}=n;return e(eB,{number:SV,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),tB="apply",zme=["typed","isInteger"],iT=Me(tB,zme,n=>{var{typed:e,isInteger:t}=n;return e(tB,{"Array | Matrix, number | BigNumber, function":function(i,a,s){if(!t(a))throw new TypeError("Integer number expected for dimension");var o=Array.isArray(i)?Un(i):i.size();if(a<0||a>=o.length)throw new mc(a,o.length);return vn(i)?i.create(ew(i.valueOf(),a,s)):ew(i,a,s)}})});function ew(n,e,t){var r,i,a;if(e<=0)if(Array.isArray(n[0])){for(a=Ume(n),i=[],r=0;r<a.length;r++)i[r]=ew(a[r],e-1,t);return i}else return t(n);else{for(i=[],r=0;r<n.length;r++)i[r]=ew(n[r],e-1,t);return i}}function Ume(n){var e=n.length,t=n[0].length,r,i,a=[];for(i=0;i<t;i++){var s=[];for(r=0;r<e;r++)s.push(n[r][i]);a.push(s)}return a}var nB="addScalar",Fme=["typed"],Lme=Me(nB,Fme,n=>{var{typed:e}=n;return e(nB,{"number, number":wV,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),rB="subtractScalar",kme=["typed"],Ime=Me(rB,kme,n=>{var{typed:e}=n;return e(rB,{"number, number":AV,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),iB="cbrt",Pme=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],jme=Me(iB,Pme,n=>{var{config:e,typed:t,isNegative:r,unaryMinus:i,matrix:a,Complex:s,BigNumber:o,Fraction:l}=n;return t(iB,{number:Wx,Complex:u,"Complex, boolean":u,BigNumber:function(h){return h.cbrt()},Unit:c});function u(d,h){var p=d.arg()/3,g=d.abs(),x=new s(Wx(g),0).mul(new s(0,p).exp());if(h){var A=[x,new s(Wx(g),0).mul(new s(0,p+Math.PI*2/3).exp()),new s(Wx(g),0).mul(new s(0,p-Math.PI*2/3).exp())];return e.matrix==="Array"?A:a(A)}else return x}function c(d){if(d.value&&Cd(d.value)){var h=d.clone();return h.value=1,h=h.pow(1/3),h.value=u(d.value),h}else{var p=r(d.value);p&&(d.value=i(d.value));var g;Pn(d.value)?g=new o(1).div(3):d2(d.value)?g=new l(1,3):g=1/3;var x=d.pow(g);return p&&(x.value=i(x.value)),x}}}),Vme="matAlgo11xS0s",Hme=["typed","equalScalar"],ys=Me(Vme,Hme,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,s,o){var l=i._values,u=i._index,c=i._ptr,d=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=d[0],g=d[1],x,A=t,b=0,_=s;typeof h=="string"&&(x=h,A=e.find(t,[x,x]),b=e.convert(0,x),a=e.convert(a,x),_=e.find(s,[x,x]));for(var M=[],E=[],C=[],T=0;T<g;T++){C[T]=E.length;for(var B=c[T],z=c[T+1],R=B;R<z;R++){var O=u[R],U=o?_(a,l[R]):_(l[R],a);A(U,b)||(E.push(O),M.push(U))}}return C[g]=E.length,i.createSparseMatrix({values:M,index:E,ptr:C,size:[p,g],datatype:x})}}),qme="matAlgo12xSfs",Gme=["typed","DenseMatrix"],Pa=Me(qme,Gme,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,a,s,o){var l=i._values,u=i._index,c=i._ptr,d=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=d[0],g=d[1],x,A=s;typeof h=="string"&&(x=h,a=e.convert(a,x),A=e.find(s,[x,x]));for(var b=[],_=[],M=[],E=0;E<g;E++){for(var C=E+1,T=c[E],B=c[E+1],z=T;z<B;z++){var R=u[z];_[R]=l[z],M[R]=C}for(var O=0;O<p;O++)E===0&&(b[O]=[]),M[O]===C?b[O][E]=o?A(a,_[O]):A(_[O],a):b[O][E]=o?A(a,0):A(0,a)}return new t({data:b,size:[p,g],datatype:x})}}),$me="matAlgo14xDs",Xme=["typed"],vc=Me($me,Xme,n=>{var{typed:e}=n;return function(i,a,s,o){var l=i._data,u=i._size,c=i._datatype,d,h=s;typeof c=="string"&&(d=c,a=e.convert(a,d),h=e.find(s,[d,d]));var p=u.length>0?t(h,0,u,u[0],l,a,o):[];return i.createDenseMatrix({data:p,size:Rn(u),datatype:d})};function t(r,i,a,s,o,l,u){var c=[];if(i===a.length-1)for(var d=0;d<s;d++)c[d]=u?r(l,o[d]):r(o[d],l);else for(var h=0;h<s;h++)c[h]=t(r,i+1,a,a[i+1],o[h],l,u);return c}}),GE="ceil",Wme=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Yme=Me(GE,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(GE,{number:function(a){return No(a,r(a),t.epsilon)?r(a):Math.ceil(a)},"number, number":function(a,s){if(No(a,r(a,s),t.epsilon))return r(a,s);var[o,l]="".concat(a,"e").split("e"),u=Math.ceil(Number("".concat(o,"e").concat(Number(l)+s)));return[o,l]="".concat(u,"e").split("e"),Number("".concat(o,"e").concat(Number(l)-s))}})}),Zme=Me(GE,Wme,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}=n,l=ys({typed:e,equalScalar:a}),u=Pa({typed:e,DenseMatrix:o}),c=vc({typed:e}),d=Yme({typed:e,config:t,round:r});return e("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,g){return p.ceil(g)},"Complex, BigNumber":function(p,g){return p.ceil(g.toNumber())},BigNumber:function(p){return yu(p,r(p),t.epsilon)?r(p):p.ceil()},"BigNumber, BigNumber":function(p,g){return yu(p,r(p,g),t.epsilon)?r(p,g):p.toDecimalPlaces(g.toNumber(),sh.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,g){return p.ceil(g)},"Fraction, BigNumber":function(p,g){return p.ceil(g.toNumber())},"Array | Matrix":e.referToSelf(h=>p=>Zn(p,h)),"Array, number | BigNumber":e.referToSelf(h=>(p,g)=>Zn(p,x=>h(x,g))),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(p,g)=>l(p,g,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(p,g)=>c(p,g,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(p,g)=>c(i(g),p,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(p,g)=>a(p,0)?s(g.size(),g.storage()):g.storage()==="dense"?c(g,p,h,!0):u(g,p,h,!0))})}),aB="cube",Kme=["typed"],Qme=Me(aB,Kme,n=>{var{typed:e}=n;return e(aB,{number:NV,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})}),sB="exp",Jme=["typed"],epe=Me(sB,Jme,n=>{var{typed:e}=n;return e(sB,{number:TV,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),oB="expm1",tpe=["typed","Complex"],npe=Me(oB,tpe,n=>{var{typed:e,Complex:t}=n;return e(oB,{number:CV,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),$E="fix",rpe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],ipe=Me($E,["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:r}=n;return e($E,{number:function(a){return a>0?r(a):t(a)},"number, number":function(a,s){return a>0?r(a,s):t(a,s)}})}),ape=Me($E,rpe,n=>{var{typed:e,Complex:t,matrix:r,ceil:i,floor:a,equalScalar:s,zeros:o,DenseMatrix:l}=n,u=Pa({typed:e,DenseMatrix:l}),c=vc({typed:e}),d=ipe({typed:e,ceil:i,floor:a});return e("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(p){return new t(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,g){return new t(p.re>0?a(p.re,g):i(p.re,g),p.im>0?a(p.im,g):i(p.im,g))},"Complex, BigNumber":function(p,g){var x=g.toNumber();return new t(p.re>0?a(p.re,x):i(p.re,x),p.im>0?a(p.im,x):i(p.im,x))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,g){return p.isNegative()?i(p,g):a(p,g)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,g){return p.s<0?i(p,g):a(p,g)},"Array | Matrix":e.referToSelf(h=>p=>Zn(p,h)),"Array | Matrix, number | BigNumber":e.referToSelf(h=>(p,g)=>Zn(p,x=>h(x,g))),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(p,g)=>c(r(g),p,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(p,g)=>s(p,0)?o(g.size(),g.storage()):g.storage()==="dense"?c(g,p,h,!0):u(g,p,h,!0))})}),XE="floor",spe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],ope=Me(XE,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(XE,{number:function(a){return No(a,r(a),t.epsilon)?r(a):Math.floor(a)},"number, number":function(a,s){if(No(a,r(a,s),t.epsilon))return r(a,s);var[o,l]="".concat(a,"e").split("e"),u=Math.floor(Number("".concat(o,"e").concat(Number(l)+s)));return[o,l]="".concat(u,"e").split("e"),Number("".concat(o,"e").concat(Number(l)-s))}})}),vH=Me(XE,spe,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}=n,l=ys({typed:e,equalScalar:a}),u=Pa({typed:e,DenseMatrix:o}),c=vc({typed:e}),d=ope({typed:e,config:t,round:r});return e("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,g){return p.floor(g)},"Complex, BigNumber":function(p,g){return p.floor(g.toNumber())},BigNumber:function(p){return yu(p,r(p),t.epsilon)?r(p):p.floor()},"BigNumber, BigNumber":function(p,g){return yu(p,r(p,g),t.epsilon)?r(p,g):p.toDecimalPlaces(g.toNumber(),sh.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,g){return p.floor(g)},"Fraction, BigNumber":function(p,g){return p.floor(g.toNumber())},"Array | Matrix":e.referToSelf(h=>p=>Zn(p,h)),"Array, number | BigNumber":e.referToSelf(h=>(p,g)=>Zn(p,x=>h(x,g))),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(p,g)=>l(p,g,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(p,g)=>c(p,g,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(p,g)=>c(i(g),p,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(p,g)=>a(p,0)?s(g.size(),g.storage()):g.storage()==="dense"?c(g,p,h,!0):u(g,p,h,!0))})}),lpe="matAlgo02xDS0",upe=["typed","equalScalar"],gc=Me(lpe,upe,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,s,o){var l=i._data,u=i._size,c=i._datatype||i.getDataType(),d=a._values,h=a._index,p=a._ptr,g=a._size,x=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==g.length)throw new Wn(u.length,g.length);if(u[0]!==g[0]||u[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+g+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var A=u[0],b=u[1],_,M=t,E=0,C=s;typeof c=="string"&&c===x&&c!=="mixed"&&(_=c,M=e.find(t,[_,_]),E=e.convert(0,_),C=e.find(s,[_,_]));for(var T=[],B=[],z=[],R=0;R<b;R++){z[R]=B.length;for(var O=p[R],U=p[R+1],I=O;I<U;I++){var q=h[I],X=o?C(d[I],l[q][R]):C(l[q][R],d[I]);M(X,E)||(B.push(q),T.push(X))}}return z[b]=B.length,a.createSparseMatrix({values:T,index:B,ptr:z,size:[A,b],datatype:c===i._datatype&&x===a._datatype?_:void 0})}}),cpe="matAlgo03xDSf",fpe=["typed"],Ro=Me(cpe,fpe,n=>{var{typed:e}=n;return function(r,i,a,s){var o=r._data,l=r._size,u=r._datatype||r.getDataType(),c=i._values,d=i._index,h=i._ptr,p=i._size,g=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==p.length)throw new Wn(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var x=l[0],A=l[1],b,_=0,M=a;typeof u=="string"&&u===g&&u!=="mixed"&&(b=u,_=e.convert(0,b),M=e.find(a,[b,b]));for(var E=[],C=0;C<x;C++)E[C]=[];for(var T=[],B=[],z=0;z<A;z++){for(var R=z+1,O=h[z],U=h[z+1],I=O;I<U;I++){var q=d[I];T[q]=s?M(c[I],o[q][z]):M(o[q][z],c[I]),B[q]=R}for(var X=0;X<x;X++)B[X]===R?E[X][z]=T[X]:E[X][z]=s?M(_,o[X][z]):M(o[X][z],_)}return r.createDenseMatrix({data:E,size:[x,A],datatype:u===r._datatype&&g===i._datatype?b:void 0})}}),dpe="matAlgo05xSfSf",hpe=["typed","equalScalar"],S5=Me(dpe,hpe,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=a._values,p=a._index,g=a._ptr,x=a._size,A=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==x.length)throw new Wn(c.length,x.length);if(c[0]!==x[0]||c[1]!==x[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+x+")");var b=c[0],_=c[1],M,E=t,C=0,T=s;typeof d=="string"&&d===A&&d!=="mixed"&&(M=d,E=e.find(t,[M,M]),C=e.convert(0,M),T=e.find(s,[M,M]));var B=o&&h?[]:void 0,z=[],R=[],O=B?[]:void 0,U=B?[]:void 0,I=[],q=[],X,$,k,P;for($=0;$<_;$++){R[$]=z.length;var Z=$+1;for(k=u[$],P=u[$+1];k<P;k++)X=l[k],z.push(X),I[X]=Z,O&&(O[X]=o[k]);for(k=g[$],P=g[$+1];k<P;k++)X=p[k],I[X]!==Z&&z.push(X),q[X]=Z,U&&(U[X]=h[k]);if(B)for(k=R[$];k<z.length;){X=z[k];var H=I[X],ae=q[X];if(H===Z||ae===Z){var W=H===Z?O[X]:C,K=ae===Z?U[X]:C,Q=T(W,K);E(Q,C)?z.splice(k,1):(B.push(Q),k++)}}}return R[_]=z.length,i.createSparseMatrix({values:B,index:z,ptr:R,size:[b,_],datatype:d===i._datatype&&A===a._datatype?M:void 0})}}),mpe="matAlgo13xDD",ppe=["typed"],vpe=Me(mpe,ppe,n=>{var{typed:e}=n;return function(i,a,s){var o=i._data,l=i._size,u=i._datatype,c=a._data,d=a._size,h=a._datatype,p=[];if(l.length!==d.length)throw new Wn(l.length,d.length);for(var g=0;g<l.length;g++){if(l[g]!==d[g])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");p[g]=l[g]}var x,A=s;typeof u=="string"&&u===h&&(x=u,A=e.find(s,[x,x]));var b=p.length>0?t(A,0,p,p[0],o,c):[];return i.createDenseMatrix({data:b,size:p,datatype:x})};function t(r,i,a,s,o,l){var u=[];if(i===a.length-1)for(var c=0;c<s;c++)u[c]=r(o[c],l[c]);else for(var d=0;d<s;d++)u[d]=t(r,i+1,a,a[i+1],o[d],l[d]);return u}}),gpe="broadcast",xpe=["concat"],ype=Me(gpe,xpe,n=>{var{concat:e}=n;return function(i,a){var s=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((g,x)=>g===a._size[x]))return[i,a];for(var o=t(i._size,s,0),l=t(a._size,s,0),u=[],c=0;c<s;c++)u[c]=Math.max(o[c],l[c]);$S(o,u),$S(l,u);var d=i.clone(),h=a.clone();d._size.length<s?d.reshape(t(d._size,s,1)):h._size.length<s&&h.reshape(t(h._size,s,1));for(var p=0;p<s;p++)d._size[p]<u[p]&&(d=r(d,u[p],p)),h._size[p]<u[p]&&(h=r(h,u[p],p));return[d,h]};function t(i,a,s){return[...Array(a-i.length).fill(s),...i]}function r(i,a,s){return e(...Array(a).fill(i),s)}}),bpe="matrixAlgorithmSuite",Spe=["typed","matrix","concat"],ni=Me(bpe,Spe,n=>{var{typed:e,matrix:t,concat:r}=n,i=vpe({typed:e}),a=vc({typed:e}),s=ype({concat:r});return function(l){var u=l.elop,c=l.SD||l.DS,d;u?(d={"DenseMatrix, DenseMatrix":(x,A)=>i(...s(x,A),u),"Array, Array":(x,A)=>i(...s(t(x),t(A)),u).valueOf(),"Array, DenseMatrix":(x,A)=>i(...s(t(x),A),u),"DenseMatrix, Array":(x,A)=>i(...s(x,t(A)),u)},l.SS&&(d["SparseMatrix, SparseMatrix"]=(x,A)=>l.SS(...s(x,A),u,!1)),l.DS&&(d["DenseMatrix, SparseMatrix"]=(x,A)=>l.DS(...s(x,A),u,!1),d["Array, SparseMatrix"]=(x,A)=>l.DS(...s(t(x),A),u,!1)),c&&(d["SparseMatrix, DenseMatrix"]=(x,A)=>c(...s(A,x),u,!0),d["SparseMatrix, Array"]=(x,A)=>c(...s(t(A),x),u,!0))):(d={"DenseMatrix, DenseMatrix":e.referToSelf(x=>(A,b)=>i(...s(A,b),x)),"Array, Array":e.referToSelf(x=>(A,b)=>i(...s(t(A),t(b)),x).valueOf()),"Array, DenseMatrix":e.referToSelf(x=>(A,b)=>i(...s(t(A),b),x)),"DenseMatrix, Array":e.referToSelf(x=>(A,b)=>i(...s(A,t(b)),x))},l.SS&&(d["SparseMatrix, SparseMatrix"]=e.referToSelf(x=>(A,b)=>l.SS(...s(A,b),x,!1))),l.DS&&(d["DenseMatrix, SparseMatrix"]=e.referToSelf(x=>(A,b)=>l.DS(...s(A,b),x,!1)),d["Array, SparseMatrix"]=e.referToSelf(x=>(A,b)=>l.DS(...s(t(A),b),x,!1))),c&&(d["SparseMatrix, DenseMatrix"]=e.referToSelf(x=>(A,b)=>c(...s(b,A),x,!0)),d["SparseMatrix, Array"]=e.referToSelf(x=>(A,b)=>c(...s(t(b),A),x,!0))));var h=l.scalar||"any",p=l.Ds||l.Ss;p&&(u?(d["DenseMatrix,"+h]=(x,A)=>a(x,A,u,!1),d[h+", DenseMatrix"]=(x,A)=>a(A,x,u,!0),d["Array,"+h]=(x,A)=>a(t(x),A,u,!1).valueOf(),d[h+", Array"]=(x,A)=>a(t(A),x,u,!0).valueOf()):(d["DenseMatrix,"+h]=e.referToSelf(x=>(A,b)=>a(A,b,x,!1)),d[h+", DenseMatrix"]=e.referToSelf(x=>(A,b)=>a(b,A,x,!0)),d["Array,"+h]=e.referToSelf(x=>(A,b)=>a(t(A),b,x,!1).valueOf()),d[h+", Array"]=e.referToSelf(x=>(A,b)=>a(t(b),A,x,!0).valueOf())));var g=l.sS!==void 0?l.sS:l.Ss;return u?(l.Ss&&(d["SparseMatrix,"+h]=(x,A)=>l.Ss(x,A,u,!1)),g&&(d[h+", SparseMatrix"]=(x,A)=>g(A,x,u,!0))):(l.Ss&&(d["SparseMatrix,"+h]=e.referToSelf(x=>(A,b)=>l.Ss(A,b,x,!1))),g&&(d[h+", SparseMatrix"]=e.referToSelf(x=>(A,b)=>g(b,A,x,!0)))),u&&u.signatures&&Vj(d,u.signatures),d}}),lB="mod",wpe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],gH=Me(lB,wpe,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o,concat:l}=n,u=vH({typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}),c=gc({typed:e,equalScalar:a}),d=Ro({typed:e}),h=S5({typed:e,equalScalar:a}),p=ys({typed:e,equalScalar:a}),g=Pa({typed:e,DenseMatrix:o}),x=ni({typed:e,matrix:i,concat:l});return e(lB,{"number, number":A,"BigNumber, BigNumber":function(_,M){return M.isZero()?_:_.sub(M.mul(u(_.div(M))))},"Fraction, Fraction":function(_,M){return M.equals(0)?_:_.sub(M.mul(u(_.div(M))))}},x({SS:h,DS:d,SD:c,Ss:p,sS:g}));function A(b,_){return _===0?b:b-_*u(b/_)}}),Ape="matAlgo01xDSid",Mpe=["typed"],mh=Me(Ape,Mpe,n=>{var{typed:e}=n;return function(r,i,a,s){var o=r._data,l=r._size,u=r._datatype||r.getDataType(),c=i._values,d=i._index,h=i._ptr,p=i._size,g=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==p.length)throw new Wn(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var x=l[0],A=l[1],b=typeof u=="string"&&u!=="mixed"&&u===g?u:void 0,_=b?e.find(a,[b,b]):a,M,E,C=[];for(M=0;M<x;M++)C[M]=[];var T=[],B=[];for(E=0;E<A;E++){for(var z=E+1,R=h[E],O=h[E+1],U=R;U<O;U++)M=d[U],T[M]=s?_(c[U],o[M][E]):_(o[M][E],c[U]),B[M]=z;for(M=0;M<x;M++)B[M]===z?C[M][E]=T[M]:C[M][E]=o[M][E]}return r.createDenseMatrix({data:C,size:[x,A],datatype:u===r._datatype&&g===i._datatype?b:void 0})}}),_pe="matAlgo04xSidSid",Epe=["typed","equalScalar"],aT=Me(_pe,Epe,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=a._values,p=a._index,g=a._ptr,x=a._size,A=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==x.length)throw new Wn(c.length,x.length);if(c[0]!==x[0]||c[1]!==x[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+x+")");var b=c[0],_=c[1],M,E=t,C=0,T=s;typeof d=="string"&&d===A&&d!=="mixed"&&(M=d,E=e.find(t,[M,M]),C=e.convert(0,M),T=e.find(s,[M,M]));var B=o&&h?[]:void 0,z=[],R=[],O=o&&h?[]:void 0,U=o&&h?[]:void 0,I=[],q=[],X,$,k,P,Z;for($=0;$<_;$++){R[$]=z.length;var H=$+1;for(P=u[$],Z=u[$+1],k=P;k<Z;k++)X=l[k],z.push(X),I[X]=H,O&&(O[X]=o[k]);for(P=g[$],Z=g[$+1],k=P;k<Z;k++)if(X=p[k],I[X]===H){if(O){var ae=T(O[X],h[k]);E(ae,C)?I[X]=null:O[X]=ae}}else z.push(X),q[X]=H,U&&(U[X]=h[k]);if(O&&U)for(k=R[$];k<z.length;)X=z[k],I[X]===H?(B[k]=O[X],k++):q[X]===H?(B[k]=U[X],k++):z.splice(k,1)}return R[_]=z.length,i.createSparseMatrix({values:B,index:z,ptr:R,size:[b,_],datatype:d===i._datatype&&A===a._datatype?M:void 0})}}),Npe="matAlgo10xSids",Tpe=["typed","DenseMatrix"],ap=Me(Npe,Tpe,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,a,s,o){var l=i._values,u=i._index,c=i._ptr,d=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=d[0],g=d[1],x,A=s;typeof h=="string"&&(x=h,a=e.convert(a,x),A=e.find(s,[x,x]));for(var b=[],_=[],M=[],E=0;E<g;E++){for(var C=E+1,T=c[E],B=c[E+1],z=T;z<B;z++){var R=u[z];_[R]=l[z],M[R]=C}for(var O=0;O<p;O++)E===0&&(b[O]=[]),M[O]===C?b[O][E]=o?A(a,_[O]):A(_[O],a):b[O][E]=a}return new t({data:b,size:[p,g],datatype:x})}});function sp(n,e,t,r){if(!(this instanceof sp))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=r,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(r!=null?"-"+r:"")+" expected)",this.stack=new Error().stack}sp.prototype=new Error;sp.prototype.constructor=Error;sp.prototype.name="ArgumentsError";sp.prototype.isArgumentsError=!0;var uB="gcd",Cpe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],v_="number | BigNumber | Fraction | Matrix | Array",Dpe="".concat(v_,", ").concat(v_,", ...").concat(v_);function cB(n){return!n.some(e=>Array.isArray(e))}var Rpe=Me(uB,Cpe,n=>{var{typed:e,matrix:t,config:r,round:i,equalScalar:a,zeros:s,BigNumber:o,DenseMatrix:l,concat:u}=n,c=gH({typed:e,config:r,round:i,matrix:t,equalScalar:a,zeros:s,DenseMatrix:l,concat:u}),d=mh({typed:e}),h=aT({typed:e,equalScalar:a}),p=ap({typed:e,DenseMatrix:l}),g=ni({typed:e,matrix:t,concat:u});return e(uB,{"number, number":x,"BigNumber, BigNumber":A,"Fraction, Fraction":(b,_)=>b.gcd(_)},g({SS:h,DS:d,Ss:p}),{[Dpe]:e.referToSelf(b=>(_,M,E)=>{for(var C=b(_,M),T=0;T<E.length;T++)C=b(C,E[T]);return C}),Array:e.referToSelf(b=>_=>{if(_.length===1&&Array.isArray(_[0])&&cB(_[0]))return b(..._[0]);if(cB(_))return b(..._);throw new sp("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(b=>_=>b(_.toArray()))});function x(b,_){if(!on(b)||!on(_))throw new Error("Parameters in function gcd must be integer numbers");for(var M;_!==0;)M=c(b,_),b=_,_=M;return b<0?-b:b}function A(b,_){if(!b.isInt()||!_.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var M=new o(0);!_.isZero();){var E=c(b,_);b=_,_=E}return b.lt(M)?b.neg():b}}),Bpe="matAlgo06xS0S0",Ope=["typed","equalScalar"],w5=Me(Bpe,Ope,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,s){var o=i._values,l=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,d=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new Wn(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var p=l[0],g=l[1],x,A=t,b=0,_=s;typeof u=="string"&&u===h&&u!=="mixed"&&(x=u,A=e.find(t,[x,x]),b=e.convert(0,x),_=e.find(s,[x,x]));for(var M=o&&c?[]:void 0,E=[],C=[],T=M?[]:void 0,B=[],z=[],R=0;R<g;R++){C[R]=E.length;var O=R+1;if(zR(i,R,B,T,z,O,E,_),zR(a,R,B,T,z,O,E,_),T)for(var U=C[R];U<E.length;){var I=E[U];if(z[I]===O){var q=T[I];A(q,b)?E.splice(U,1):(M.push(q),U++)}else E.splice(U,1)}else for(var X=C[R];X<E.length;){var $=E[X];z[$]!==O?E.splice(X,1):X++}}return C[g]=E.length,i.createSparseMatrix({values:M,index:E,ptr:C,size:[p,g],datatype:u===i._datatype&&h===a._datatype?x:void 0})}}),fB="lcm",zpe=["typed","matrix","equalScalar","concat"],Upe=Me(fB,zpe,n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,a=gc({typed:e,equalScalar:r}),s=w5({typed:e,equalScalar:r}),o=ys({typed:e,equalScalar:r}),l=ni({typed:e,matrix:t,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(h=>(p,g,x)=>{for(var A=h(p,g),b=0;b<x.length;b++)A=h(A,x[b]);return A}),e(fB,{"number, number":DV,"BigNumber, BigNumber":d,"Fraction, Fraction":(h,p)=>h.lcm(p)},l({SS:s,DS:a,Ss:o}),c);function d(h,p){if(!h.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(h.isZero())return h;if(p.isZero())return p;for(var g=h.times(p);!p.isZero();){var x=p;p=h.mod(x),h=x}return g.div(h).abs()}}),dB="log10",Fpe=["typed","config","Complex"],Lpe=Me(dB,Fpe,n=>{var{typed:e,config:t,Complex:r}=n;return e(dB,{number:function(a){return a>=0||t.predictable?RV(a):new r(a,0).log().div(Math.LN10)},Complex:function(a){return new r(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new r(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>Zn(a,i))})}),hB="log2",kpe=["typed","config","Complex"],Ipe=Me(hB,kpe,n=>{var{typed:e,config:t,Complex:r}=n;return e(hB,{number:function(s){return s>=0||t.predictable?BV(s):i(new r(s,0))},Complex:i,BigNumber:function(s){return!s.isNegative()||t.predictable?s.log(2):i(new r(s.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>s=>Zn(s,a))});function i(a){var s=Math.sqrt(a.re*a.re+a.im*a.im);return new r(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),Ppe="multiplyScalar",jpe=["typed"],Vpe=Me(Ppe,jpe,n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":MV,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})}),mB="multiply",Hpe=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],qpe=Me(mB,Hpe,n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:a,dot:s}=n,o=ys({typed:e,equalScalar:a}),l=vc({typed:e});function u(C,T){switch(C.length){case 1:switch(T.length){case 1:if(C[0]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+T[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+T.length+" dimensions)")}break;case 2:switch(T.length){case 1:if(C[1]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+T[0]+")");break;case 2:if(C[1]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+T[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+T.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function c(C,T,B){if(B===0)throw new Error("Cannot multiply two empty vectors");return s(C,T)}function d(C,T){if(T.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(C,T)}function h(C,T){var B=C._data,z=C._size,R=C._datatype||C.getDataType(),O=T._data,U=T._size,I=T._datatype||T.getDataType(),q=z[0],X=U[1],$,k=r,P=i;R&&I&&R===I&&typeof R=="string"&&R!=="mixed"&&($=R,k=e.find(r,[$,$]),P=e.find(i,[$,$]));for(var Z=[],H=0;H<X;H++){for(var ae=P(B[0],O[0][H]),W=1;W<q;W++)ae=k(ae,P(B[W],O[W][H]));Z[H]=ae}return C.createDenseMatrix({data:Z,size:[X],datatype:R===C._datatype&&I===T._datatype?$:void 0})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":x,"SparseMatrix, any":_}),g=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":A,"DenseMatrix, SparseMatrix":b,"SparseMatrix, DenseMatrix":M,"SparseMatrix, SparseMatrix":E});function x(C,T){var B=C._data,z=C._size,R=C._datatype||C.getDataType(),O=T._data,U=T._datatype||T.getDataType(),I=z[0],q=z[1],X,$=r,k=i;R&&U&&R===U&&typeof R=="string"&&R!=="mixed"&&(X=R,$=e.find(r,[X,X]),k=e.find(i,[X,X]));for(var P=[],Z=0;Z<I;Z++){for(var H=B[Z],ae=k(H[0],O[0]),W=1;W<q;W++)ae=$(ae,k(H[W],O[W]));P[Z]=ae}return C.createDenseMatrix({data:P,size:[I],datatype:R===C._datatype&&U===T._datatype?X:void 0})}function A(C,T){var B=C._data,z=C._size,R=C._datatype||C.getDataType(),O=T._data,U=T._size,I=T._datatype||T.getDataType(),q=z[0],X=z[1],$=U[1],k,P=r,Z=i;R&&I&&R===I&&typeof R=="string"&&R!=="mixed"&&R!=="mixed"&&(k=R,P=e.find(r,[k,k]),Z=e.find(i,[k,k]));for(var H=[],ae=0;ae<q;ae++){var W=B[ae];H[ae]=[];for(var K=0;K<$;K++){for(var Q=Z(W[0],O[0][K]),te=1;te<X;te++)Q=P(Q,Z(W[te],O[te][K]));H[ae][K]=Q}}return C.createDenseMatrix({data:H,size:[q,$],datatype:R===C._datatype&&I===T._datatype?k:void 0})}function b(C,T){var B=C._data,z=C._size,R=C._datatype||C.getDataType(),O=T._values,U=T._index,I=T._ptr,q=T._size,X=T._datatype||T._data===void 0?T._datatype:T.getDataType();if(!O)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var $=z[0],k=q[1],P,Z=r,H=i,ae=a,W=0;R&&X&&R===X&&typeof R=="string"&&R!=="mixed"&&(P=R,Z=e.find(r,[P,P]),H=e.find(i,[P,P]),ae=e.find(a,[P,P]),W=e.convert(0,P));for(var K=[],Q=[],te=[],le=T.createSparseMatrix({values:K,index:Q,ptr:te,size:[$,k],datatype:R===C._datatype&&X===T._datatype?P:void 0}),de=0;de<k;de++){te[de]=Q.length;var ce=I[de],be=I[de+1];if(be>ce)for(var Te=0,Oe=0;Oe<$;Oe++){for(var Fe=Oe+1,Se=void 0,Ve=ce;Ve<be;Ve++){var ve=U[Ve];Te!==Fe?(Se=H(B[Oe][ve],O[Ve]),Te=Fe):Se=Z(Se,H(B[Oe][ve],O[Ve]))}Te===Fe&&!ae(Se,W)&&(Q.push(Oe),K.push(Se))}}return te[k]=Q.length,le}function _(C,T){var B=C._values,z=C._index,R=C._ptr,O=C._datatype||C._data===void 0?C._datatype:C.getDataType();if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var U=T._data,I=T._datatype||T.getDataType(),q=C._size[0],X=T._size[0],$=[],k=[],P=[],Z,H=r,ae=i,W=a,K=0;O&&I&&O===I&&typeof O=="string"&&O!=="mixed"&&(Z=O,H=e.find(r,[Z,Z]),ae=e.find(i,[Z,Z]),W=e.find(a,[Z,Z]),K=e.convert(0,Z));var Q=[],te=[];P[0]=0;for(var le=0;le<X;le++){var de=U[le];if(!W(de,K))for(var ce=R[le],be=R[le+1],Te=ce;Te<be;Te++){var Oe=z[Te];te[Oe]?Q[Oe]=H(Q[Oe],ae(de,B[Te])):(te[Oe]=!0,k.push(Oe),Q[Oe]=ae(de,B[Te]))}}for(var Fe=k.length,Se=0;Se<Fe;Se++){var Ve=k[Se];$[Se]=Q[Ve]}return P[1]=k.length,C.createSparseMatrix({values:$,index:k,ptr:P,size:[q,1],datatype:O===C._datatype&&I===T._datatype?Z:void 0})}function M(C,T){var B=C._values,z=C._index,R=C._ptr,O=C._datatype||C._data===void 0?C._datatype:C.getDataType();if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var U=T._data,I=T._datatype||T.getDataType(),q=C._size[0],X=T._size[0],$=T._size[1],k,P=r,Z=i,H=a,ae=0;O&&I&&O===I&&typeof O=="string"&&O!=="mixed"&&(k=O,P=e.find(r,[k,k]),Z=e.find(i,[k,k]),H=e.find(a,[k,k]),ae=e.convert(0,k));for(var W=[],K=[],Q=[],te=C.createSparseMatrix({values:W,index:K,ptr:Q,size:[q,$],datatype:O===C._datatype&&I===T._datatype?k:void 0}),le=[],de=[],ce=0;ce<$;ce++){Q[ce]=K.length;for(var be=ce+1,Te=0;Te<X;Te++){var Oe=U[Te][ce];if(!H(Oe,ae))for(var Fe=R[Te],Se=R[Te+1],Ve=Fe;Ve<Se;Ve++){var ve=z[Ve];de[ve]!==be?(de[ve]=be,K.push(ve),le[ve]=Z(Oe,B[Ve])):le[ve]=P(le[ve],Z(Oe,B[Ve]))}}for(var fe=Q[ce],he=K.length,Be=fe;Be<he;Be++){var ue=K[Be];W[Be]=le[ue]}}return Q[$]=K.length,te}function E(C,T){var B=C._values,z=C._index,R=C._ptr,O=C._datatype||C._data===void 0?C._datatype:C.getDataType(),U=T._values,I=T._index,q=T._ptr,X=T._datatype||T._data===void 0?T._datatype:T.getDataType(),$=C._size[0],k=T._size[1],P=B&&U,Z,H=r,ae=i;O&&X&&O===X&&typeof O=="string"&&O!=="mixed"&&(Z=O,H=e.find(r,[Z,Z]),ae=e.find(i,[Z,Z]));for(var W=P?[]:void 0,K=[],Q=[],te=C.createSparseMatrix({values:W,index:K,ptr:Q,size:[$,k],datatype:O===C._datatype&&X===T._datatype?Z:void 0}),le=P?[]:void 0,de=[],ce,be,Te,Oe,Fe,Se,Ve,ve,fe=0;fe<k;fe++){Q[fe]=K.length;var he=fe+1;for(Fe=q[fe],Se=q[fe+1],Oe=Fe;Oe<Se;Oe++)if(ve=I[Oe],P)for(be=R[ve],Te=R[ve+1],ce=be;ce<Te;ce++)Ve=z[ce],de[Ve]!==he?(de[Ve]=he,K.push(Ve),le[Ve]=ae(U[Oe],B[ce])):le[Ve]=H(le[Ve],ae(U[Oe],B[ce]));else for(be=R[ve],Te=R[ve+1],ce=be;ce<Te;ce++)Ve=z[ce],de[Ve]!==he&&(de[Ve]=he,K.push(Ve));if(P)for(var Be=Q[fe],ue=K.length,xe=Be;xe<ue;xe++){var we=K[xe];W[xe]=le[we]}}return Q[k]=K.length,te}return e(mB,i,{"Array, Array":e.referTo("Matrix, Matrix",C=>(T,B)=>{u(Un(T),Un(B));var z=C(t(T),t(B));return vn(z)?z.valueOf():z}),"Matrix, Matrix":function(T,B){var z=T.size(),R=B.size();return u(z,R),z.length===1?R.length===1?c(T,B,z[0]):d(T,B):R.length===1?p(T,B):g(T,B)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(T,B)=>C(T,t(B))),"Array, Matrix":e.referToSelf(C=>(T,B)=>C(t(T,B.storage()),B)),"SparseMatrix, any":function(T,B){return o(T,B,i,!1)},"DenseMatrix, any":function(T,B){return l(T,B,i,!1)},"any, SparseMatrix":function(T,B){return o(B,T,i,!0)},"any, DenseMatrix":function(T,B){return l(B,T,i,!0)},"Array, any":function(T,B){return l(t(T),B,i,!1).valueOf()},"any, Array":function(T,B){return l(t(B),T,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(C=>(T,B,z)=>{for(var R=C(T,B),O=0;O<z.length;O++)R=C(R,z[O]);return R})})}),pB="nthRoot",Gpe=["typed","matrix","equalScalar","BigNumber","concat"],$pe=Me(pB,Gpe,n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,concat:a}=n,s=mh({typed:e}),o=gc({typed:e,equalScalar:r}),l=w5({typed:e,equalScalar:r}),u=ys({typed:e,equalScalar:r}),c=ni({typed:e,matrix:t,concat:a});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(pB,{number:FR,"number, number":FR,BigNumber:p=>h(p,new i(2)),"BigNumber, BigNumber":h,Complex:d,"Complex, number":d,Array:e.referTo("DenseMatrix,number",p=>g=>p(t(g),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",p=>g=>p(g,2)),SparseMatrix:e.referTo("SparseMatrix,number",p=>g=>p(g,2)),"SparseMatrix, SparseMatrix":e.referToSelf(p=>(g,x)=>{if(x.density()===1)return l(g,x,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(p=>(g,x)=>{if(x.density()===1)return s(g,x,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",p=>(g,x)=>p(t(g),x)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(g,x)=>{if(x.density()===1)return u(x,g,p,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:o,Ss:u,sS:!1}));function h(p,g){var x=i.precision,A=i.clone({precision:x+2}),b=new i(0),_=new A(1),M=g.isNegative();if(M&&(g=g.neg()),g.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!g.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return M?new A(1/0):0;if(!p.isFinite())return M?b:p;var E=p.abs().pow(_.div(g));return E=p.isNeg()?E.neg():E,new i((M?_.div(E):E).toPrecision(x))}}),vB="sign",Xpe=["typed","BigNumber","Fraction","complex"],Wpe=Me(vB,Xpe,n=>{var{typed:e,BigNumber:t,complex:r,Fraction:i}=n;return e(vB,{number:qE,Complex:function(s){return s.im===0?r(qE(s.re)):s.sign()},BigNumber:function(s){return new t(s.cmp(0))},Fraction:function(s){return new i(s.s,1)},"Array | Matrix":e.referToSelf(a=>s=>Zn(s,a)),Unit:e.referToSelf(a=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,s.valueType())(s.value)})})}),Ype="sqrt",Zpe=["config","typed","Complex"],Kpe=Me(Ype,Zpe,n=>{var{config:e,typed:t,Complex:r}=n;return t("sqrt",{number:i,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():i(s.toNumber())},Unit:function(s){return s.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new r(a,0).sqrt()}}),gB="square",Qpe=["typed"],Jpe=Me(gB,Qpe,n=>{var{typed:e}=n;return e(gB,{number:OV,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),xB="subtract",eve=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],tve=Me(xB,eve,n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:o}=n,l=mh({typed:e}),u=Ro({typed:e}),c=S5({typed:e,equalScalar:r}),d=ap({typed:e,DenseMatrix:s}),h=Pa({typed:e,DenseMatrix:s}),p=ni({typed:e,matrix:t,concat:o});return e(xB,{"any, any":i},p({elop:i,SS:c,DS:l,SD:u,Ss:h,sS:d}))}),yB="xgcd",nve=["typed","config","matrix","BigNumber"],rve=Me(yB,nve,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e(yB,{"number, number":function(o,l){var u=zV(o,l);return t.matrix==="Array"?u:r(u)},"BigNumber, BigNumber":a});function a(s,o){var l,u,c,d=new i(0),h=new i(1),p=d,g=h,x=h,A=d;if(!s.isInt()||!o.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!o.isZero();)u=s.div(o).floor(),c=s.mod(o),l=p,p=g.minus(u.times(p)),g=l,l=x,x=A.minus(u.times(x)),A=l,s=o,o=c;var b;return s.lt(d)?b=[s.neg(),g.neg(),A.neg()]:b=[s,s.isZero()?0:g,A],t.matrix==="Array"?b:r(b)}}),bB="invmod",ive=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],ave=Me(bB,ive,n=>{var{typed:e,config:t,BigNumber:r,xgcd:i,equal:a,smaller:s,mod:o,add:l,isInteger:u}=n;return e(bB,{"number, number":c,"BigNumber, BigNumber":c});function c(d,h){if(!u(d)||!u(h))throw new Error("Parameters in function invmod must be integer numbers");if(d=o(d,h),a(h,0))throw new Error("Divisor must be non zero");var p=i(d,h);p=p.valueOf();var[g,x]=p;return a(g,r(1))?(x=o(x,h),s(x,r(0))&&(x=l(x,h)),x):NaN}}),sve="matAlgo09xS0Sf",ove=["typed","equalScalar"],xH=Me(sve,ove,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=a._values,p=a._index,g=a._ptr,x=a._size,A=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==x.length)throw new Wn(c.length,x.length);if(c[0]!==x[0]||c[1]!==x[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+x+")");var b=c[0],_=c[1],M,E=t,C=0,T=s;typeof d=="string"&&d===A&&d!=="mixed"&&(M=d,E=e.find(t,[M,M]),C=e.convert(0,M),T=e.find(s,[M,M]));var B=o&&h?[]:void 0,z=[],R=[],O=B?[]:void 0,U=[],I,q,X,$,k;for(q=0;q<_;q++){R[q]=z.length;var P=q+1;if(O)for($=g[q],k=g[q+1],X=$;X<k;X++)I=p[X],U[I]=P,O[I]=h[X];for($=u[q],k=u[q+1],X=$;X<k;X++)if(I=l[X],O){var Z=U[I]===P?O[I]:C,H=T(o[X],Z);E(H,C)||(z.push(I),B.push(H))}else z.push(I)}return R[_]=z.length,i.createSparseMatrix({values:B,index:z,ptr:R,size:[b,_],datatype:d===i._datatype&&A===a._datatype?M:void 0})}}),SB="dotMultiply",lve=["typed","matrix","equalScalar","multiplyScalar","concat"],uve=Me(SB,lve,n=>{var{typed:e,matrix:t,equalScalar:r,multiplyScalar:i,concat:a}=n,s=gc({typed:e,equalScalar:r}),o=xH({typed:e,equalScalar:r}),l=ys({typed:e,equalScalar:r}),u=ni({typed:e,matrix:t,concat:a});return e(SB,u({elop:i,SS:o,DS:s,Ss:l}))});function cve(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return sT(n,e,function(r,i){return r&i})}function $y(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var r=n.plus(new e(1));return r.s=-r.s||null,e.config({precision:t}),r}function fve(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var r=new t(-1);return n.isZero()||e.eq(r)||n.eq(e)?e:e.isZero()||n.eq(r)?n:!n.isFinite()||!e.isFinite()?!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?r:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n:sT(n,e,function(i,a){return i|a})}function sT(n,e,t){var r=n.constructor,i,a,s=+(n.s<0),o=+(e.s<0);if(s){i=Y4($y(n));for(var l=0;l<i.length;++l)i[l]^=1}else i=Y4(n);if(o){a=Y4($y(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=Y4(e);var c,d,h;i.length<=a.length?(c=i,d=a,h=s):(c=a,d=i,h=o);var p=c.length,g=d.length,x=t(s,o)^1,A=new r(x^1),b=new r(1),_=new r(2),M=r.precision;for(r.config({precision:1e9});p>0;)t(c[--p],d[--g])===x&&(A=A.plus(b)),b=b.times(_);for(;g>0;)t(h,d[--g])===x&&(A=A.plus(b)),b=b.times(_);return r.config({precision:M}),x===0&&(A.s=-A.s),A}function Y4(n){for(var e=n.d,t=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var s=t.length;t.charAt(s)==="0";)s--;var o=n.e,l=t.slice(0,s+1||1),u=l.length;if(o>0)if(++o>u)for(o-=u;o--;)l+="0";else o<u&&(l=l.slice(0,o)+"."+l.slice(o));for(var c=[0],d=0;d<l.length;){for(var h=c.length;h--;)c[h]*=10;c[0]+=parseInt(l.charAt(d++));for(var p=0;p<c.length;++p)c[p]>1&&((c[p+1]===null||c[p+1]===void 0)&&(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function dve(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var r=new t(-1);return n.eq(r)?$y(e):e.eq(r)?$y(n):!n.isFinite()||!e.isFinite()?!n.isFinite()&&!e.isFinite()?r:new t(n.isNegative()===e.isNegative()?1/0:-1/0):sT(n,e,function(i,a){return i^a})}function hve(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:!n.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e))}function mve(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var wB="bitAnd",pve=["typed","matrix","equalScalar","concat"],yH=Me(wB,pve,n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,a=gc({typed:e,equalScalar:r}),s=w5({typed:e,equalScalar:r}),o=ys({typed:e,equalScalar:r}),l=ni({typed:e,matrix:t,concat:i});return e(wB,{"number, number":FV,"BigNumber, BigNumber":cve},l({SS:s,DS:a,Ss:o}))}),AB="bitNot",vve=["typed"],gve=Me(AB,vve,n=>{var{typed:e}=n;return e(AB,{number:LV,BigNumber:$y,"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),MB="bitOr",xve=["typed","matrix","equalScalar","DenseMatrix","concat"],bH=Me(MB,xve,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,s=mh({typed:e}),o=aT({typed:e,equalScalar:r}),l=ap({typed:e,DenseMatrix:i}),u=ni({typed:e,matrix:t,concat:a});return e(MB,{"number, number":kV,"BigNumber, BigNumber":fve},u({SS:o,DS:s,Ss:l}))}),yve="matAlgo07xSSf",bve=["typed","DenseMatrix"],wf=Me(yve,bve,n=>{var{typed:e,DenseMatrix:t}=n;return function(a,s,o){var l=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=s._size,d=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(l.length!==c.length)throw new Wn(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var h=l[0],p=l[1],g,x=0,A=o;typeof u=="string"&&u===d&&u!=="mixed"&&(g=u,x=e.convert(0,g),A=e.find(o,[g,g]));var b,_,M=[];for(b=0;b<h;b++)M[b]=[];var E=[],C=[],T=[],B=[];for(_=0;_<p;_++){var z=_+1;for(r(a,_,T,E,z),r(s,_,B,C,z),b=0;b<h;b++){var R=T[b]===z?E[b]:x,O=B[b]===z?C[b]:x;M[b][_]=A(R,O)}}return new t({data:M,size:[h,p],datatype:u===a._datatype&&d===s._datatype?g:void 0})};function r(i,a,s,o,l){for(var u=i._values,c=i._index,d=i._ptr,h=d[a],p=d[a+1];h<p;h++){var g=c[h];s[g]=l,o[g]=u[h]}}}),_B="bitXor",Sve=["typed","matrix","DenseMatrix","concat"],wve=Me(_B,Sve,n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i}=n,a=Ro({typed:e}),s=wf({typed:e,DenseMatrix:r}),o=Pa({typed:e,DenseMatrix:r}),l=ni({typed:e,matrix:t,concat:i});return e(_B,{"number, number":IV,"BigNumber, BigNumber":dve},l({SS:s,DS:a,Ss:o}))}),EB="arg",Ave=["typed"],Mve=Me(EB,Ave,n=>{var{typed:e}=n;return e(EB,{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),NB="conj",_ve=["typed"],Eve=Me(NB,_ve,n=>{var{typed:e}=n;return e(NB,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),TB="im",Nve=["typed"],Tve=Me(TB,Nve,n=>{var{typed:e}=n;return e(TB,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),CB="re",Cve=["typed"],Dve=Me(CB,Cve,n=>{var{typed:e}=n;return e(CB,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),DB="not",Rve=["typed"],Bve=Me(DB,Rve,n=>{var{typed:e}=n;return e(DB,{"null | undefined":()=>!0,number:qV,Complex:function(r){return r.re===0&&r.im===0},BigNumber:function(r){return r.isZero()||r.isNaN()},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),RB="or",Ove=["typed","matrix","equalScalar","DenseMatrix","concat"],SH=Me(RB,Ove,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,s=Ro({typed:e}),o=S5({typed:e,equalScalar:r}),l=Pa({typed:e,DenseMatrix:i}),u=ni({typed:e,matrix:t,concat:a});return e(RB,{"number, number":GV,"Complex, Complex":function(d,h){return d.re!==0||d.im!==0||h.re!==0||h.im!==0},"BigNumber, BigNumber":function(d,h){return!d.isZero()&&!d.isNaN()||!h.isZero()&&!h.isNaN()},"Unit, Unit":e.referToSelf(c=>(d,h)=>c(d.value||0,h.value||0))},u({SS:o,DS:s,Ss:l}))}),BB="xor",zve=["typed","matrix","DenseMatrix","concat"],Uve=Me(BB,zve,n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i}=n,a=Ro({typed:e}),s=wf({typed:e,DenseMatrix:r}),o=Pa({typed:e,DenseMatrix:r}),l=ni({typed:e,matrix:t,concat:i});return e(BB,{"number, number":$V,"Complex, Complex":function(c,d){return(c.re!==0||c.im!==0)!=(d.re!==0||d.im!==0)},"BigNumber, BigNumber":function(c,d){return(!c.isZero()&&!c.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":e.referToSelf(u=>(c,d)=>u(c.value||0,d.value||0))},l({SS:s,DS:a,Ss:o}))}),OB="concat",Fve=["typed","matrix","isInteger"],wH=Me(OB,Fve,n=>{var{typed:e,matrix:t,isInteger:r}=n;return e(OB,{"...Array | Matrix | number | BigNumber":function(a){var s,o=a.length,l=-1,u,c=!1,d=[];for(s=0;s<o;s++){var h=a[s];if(vn(h)&&(c=!0),In(h)||Pn(h)){if(s!==o-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=h.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||s>0&&l>u)throw new mc(l,u+1)}else{var p=Rn(h).valueOf(),g=Un(p);if(d[s]=p,u=l,l=g.length-1,s>0&&l!==u)throw new Wn(u+1,l+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var x=d.shift();d.length;)x=tV(x,d.shift(),l);return c?t(x):x},"...string":function(a){return a.join("")}})}),zB="column",Lve=["typed","Index","matrix","range"],AH=Me(zB,Lve,n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e(zB,{"Matrix, number":a,"Array, number":function(o,l){return a(r(Rn(o)),l).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");$r(o,s.size()[1]);var l=i(0,s.size()[0]),u=new t(l,o),c=s.subset(u);return vn(c)?c:r([[c]])}}),UB="count",kve=["typed","size","prod"],Ive=Me(UB,kve,n=>{var{typed:e,size:t,prod:r}=n;return e(UB,{string:function(a){return a.length},"Matrix | Array":function(a){return r(t(a))}})}),FB="cross",Pve=["typed","matrix","subtract","multiply"],jve=Me(FB,Pve,n=>{var{typed:e,matrix:t,subtract:r,multiply:i}=n;return e(FB,{"Matrix, Matrix":function(o,l){return t(a(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return t(a(o.toArray(),l))},"Array, Matrix":function(o,l){return t(a(o,l.toArray()))},"Array, Array":a});function a(s,o){var l=Math.max(Un(s).length,Un(o).length);s=HS(s),o=HS(o);var u=Un(s),c=Un(o);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var d=[r(i(s[1],o[2]),i(s[2],o[1])),r(i(s[2],o[0]),i(s[0],o[2])),r(i(s[0],o[1]),i(s[1],o[0]))];return l>1?[d]:d}}),LB="diag",Vve=["typed","matrix","DenseMatrix","SparseMatrix"],Hve=Me(LB,Vve,n=>{var{typed:e,matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(LB,{Array:function(u){return a(u,0,Un(u),null)},"Array, number":function(u,c){return a(u,c,Un(u),null)},"Array, BigNumber":function(u,c){return a(u,c.toNumber(),Un(u),null)},"Array, string":function(u,c){return a(u,0,Un(u),c)},"Array, number, string":function(u,c,d){return a(u,c,Un(u),d)},"Array, BigNumber, string":function(u,c,d){return a(u,c.toNumber(),Un(u),d)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return a(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return a(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return a(u,0,u.size(),c)},"Matrix, number, string":function(u,c,d){return a(u,c,u.size(),d)},"Matrix, BigNumber, string":function(u,c,d){return a(u,c.toNumber(),u.size(),d)}});function a(l,u,c,d){if(!on(u))throw new TypeError("Second parameter in function diag must be an integer");var h=u>0?u:0,p=u<0?-u:0;switch(c.length){case 1:return s(l,u,d,c[0],p,h);case 2:return o(l,u,d,c,p,h)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(l,u,c,d,h,p){var g=[d+h,d+p];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var x=c==="sparse"?i.diagonal(g,l,u):r.diagonal(g,l,u);return c!==null?x:x.valueOf()}function o(l,u,c,d,h,p){if(vn(l)){var g=l.diagonal(u);return c!==null?c!==g.storage()?t(g,c):g:g.valueOf()}for(var x=Math.min(d[0]-h,d[1]-p),A=[],b=0;b<x;b++)A[b]=l[b+h][b+p];return c!==null?t(A):A}});function G1(n,e,t,r,i){if(Kv.isTypedFunction(n)){var a=[e,t,r],s=Kv.resolve(n,a);if(s)return d(s.implementation,a);var o=[e,t],l=Kv.resolve(n,o);if(l)return d(l.implementation,o);var u=[e],c=Kv.resolve(n,u);return c?d(c.implementation,u):d(n,a)}else return n(e,t,r);function d(h,p){try{return h.apply(h,p)}catch(A){var g;if(A instanceof TypeError&&((g=A.data)===null||g===void 0?void 0:g.category)==="wrongType"){var x=[];throw x.push("value: ".concat(Wr(e))),p.length>=2&&x.push("index: ".concat(Wr(t))),p.length>=3&&x.push("array: ".concat(Wr(r))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(n.name,"(").concat(x.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(n.name,": ").concat(A.message))}}}var qve="filter",Gve=["typed"],$ve=Me(qve,Gve,n=>{var{typed:e}=n;return e("filter",{"Array, function":kB,"Matrix, function":function(r,i){return r.create(kB(r.toArray(),i))},"Array, RegExp":qS,"Matrix, RegExp":function(r,i){return r.create(qS(r.toArray(),i))}})});function kB(n,e){return Jj(n,function(t,r,i){return G1(e,t,[r],i,"filter")})}var IB="flatten",Xve=["typed","matrix"],Wve=Me(IB,Xve,n=>{var{typed:e,matrix:t}=n;return e(IB,{Array:function(i){return Mr(i)},Matrix:function(i){var a=Mr(i.toArray());return t(a)}})}),PB="forEach",Yve=["typed"],Zve=Me(PB,Yve,n=>{var{typed:e}=n;return e(PB,{"Array, function":Kve,"Matrix, function":function(r,i){r.forEach(i)}})});function Kve(n,e){var t=function r(i,a){if(Array.isArray(i))m5(i,function(s,o){r(s,a.concat(o))});else return G1(e,i,a,n,"forEach")};t(n,[])}var jB="getMatrixDataType",Qve=["typed"],Jve=Me(jB,Qve,n=>{var{typed:e}=n;return e(jB,{Array:function(r){return Hy(r,Wr)},Matrix:function(r){return r.getDataType()}})}),VB="identity",e1e=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],t1e=Me(VB,e1e,n=>{var{typed:e,config:t,matrix:r,BigNumber:i,DenseMatrix:a,SparseMatrix:s}=n;return e(VB,{"":function(){return t.matrix==="Matrix"?r([]):[]},string:function(c){return r(c)},"number | BigNumber":function(c){return l(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,d){return l(c,c,d)},"number | BigNumber, number | BigNumber":function(c,d){return l(c,d,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,d,h){return l(c,d,h)},Array:function(c){return o(c)},"Array, string":function(c,d){return o(c,d)},Matrix:function(c){return o(c.valueOf(),c.storage())},"Matrix, string":function(c,d){return o(c.valueOf(),d)}});function o(u,c){switch(u.length){case 0:return c?r(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,d){var h=Pn(u)||Pn(c)?i:null;if(Pn(u)&&(u=u.toNumber()),Pn(c)&&(c=c.toNumber()),!on(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!on(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var p=h?new i(1):1,g=h?new h(0):0,x=[u,c];if(d){if(d==="sparse")return s.diagonal(x,p,0,g);if(d==="dense")return a.diagonal(x,p,0,g);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var A=p1([],x,g),b=u<c?u:c,_=0;_<b;_++)A[_][_]=p;return A}}),HB="kron",n1e=["typed","matrix","multiplyScalar"],r1e=Me(HB,n1e,n=>{var{typed:e,matrix:t,multiplyScalar:r}=n;return e(HB,{"Matrix, Matrix":function(s,o){return t(i(s.toArray(),o.toArray()))},"Matrix, Array":function(s,o){return t(i(s.toArray(),o))},"Array, Matrix":function(s,o){return t(i(s,o.toArray()))},"Array, Array":i});function i(a,s){if(Un(a).length===1&&(a=[a]),Un(s).length===1&&(s=[s]),Un(a).length>2||Un(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(s.length)+")");var o=[],l=[];return a.map(function(u){return s.map(function(c){return l=[],o.push(l),u.map(function(d){return c.map(function(h){return l.push(r(d,h))})})})})&&o}}),qB="map",i1e=["typed"],a1e=Me(qB,i1e,n=>{var{typed:e}=n;return e(qB,{"Array, function":s1e,"Matrix, function":function(r,i){return r.map(i)}})});function s1e(n,e){var t=function r(i,a){return Array.isArray(i)?i.map(function(s,o){return r(s,a.concat(o))}):G1(e,i,a,n,"map")};return t(n,[])}var GB="diff",o1e=["typed","matrix","subtract","number"],MH=Me(GB,o1e,n=>{var{typed:e,matrix:t,subtract:r,number:i}=n;return e(GB,{"Array | Matrix":function(c){return vn(c)?t(s(c.toArray())):s(c)},"Array | Matrix, number":function(c,d){if(!on(d))throw new RangeError("Dimension must be a whole number");return vn(c)?t(a(c.toArray(),d)):a(c,d)},"Array, BigNumber":e.referTo("Array,number",u=>(c,d)=>u(c,i(d))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,d)=>u(c,i(d)))});function a(u,c){if(vn(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var d=[];return u.forEach(h=>{d.push(a(h,c-1))}),d}else{if(c===0)return s(u);throw RangeError("Cannot have negative dimension")}}function s(u){for(var c=[],d=u.length,h=1;h<d;h++)c.push(o(u[h-1],u[h]));return c}function o(u,c){vn(u)&&(u=u.toArray()),vn(c)&&(c=c.toArray());var d=Array.isArray(u),h=Array.isArray(c);if(d&&h)return l(u,c);if(!d&&!h)return r(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],h=u.length,p=0;p<h;p++)d.push(o(u[p],c[p]));return d}}),l1e="ones",u1e=["typed","config","matrix","BigNumber"],c1e=Me(l1e,u1e,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var d=u.pop();return a(u,d)}else return t.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=s(l),d=c?new i(1):1;if(o(l),u){var h=r(u);return l.length>0?h.resize(l,d):h}else{var p=[];return l.length>0?p1(p,l,d):p}}function s(l){var u=!1;return l.forEach(function(c,d,h){Pn(c)&&(u=!0,h[d]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!on(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function oT(){throw new Error('No "bignumber" implementation available')}function _H(){throw new Error('No "fraction" implementation available')}function EH(){throw new Error('No "matrix" implementation available')}var $B="range",f1e=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],NH=Me($B,f1e,n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:l,add:u,isPositive:c}=n;return e($B,{string:h,"string, boolean":h,"number, number":function(A,b){return d(p(A,b,1,!1))},"number, number, number":function(A,b,_){return d(p(A,b,_,!1))},"number, number, boolean":function(A,b,_){return d(p(A,b,1,_))},"number, number, number, boolean":function(A,b,_,M){return d(p(A,b,_,M))},"BigNumber, BigNumber":function(A,b){var _=A.constructor;return d(p(A,b,new _(1),!1))},"BigNumber, BigNumber, BigNumber":function(A,b,_){return d(p(A,b,_,!1))},"BigNumber, BigNumber, boolean":function(A,b,_){var M=A.constructor;return d(p(A,b,new M(1),_))},"BigNumber, BigNumber, BigNumber, boolean":function(A,b,_,M){return d(p(A,b,_,M))},"Unit, Unit, Unit":function(A,b,_){return d(p(A,b,_,!1))},"Unit, Unit, Unit, boolean":function(A,b,_,M){return d(p(A,b,_,M))}});function d(x){return t.matrix==="Matrix"?r?r(x):EH():x}function h(x,A){var b=g(x);if(!b)throw new SyntaxError('String "'+x+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&oT(),d(p(i(b.start),i(b.end),i(b.step)))):d(p(b.start,b.end,b.step,A))}function p(x,A,b,_){for(var M=[],E=c(b)?_?s:a:_?l:o,C=x;E(C,A);)M.push(C),C=u(C,b);return M}function g(x){var A=x.split(":"),b=A.map(function(M){return Number(M)}),_=b.some(function(M){return isNaN(M)});if(_)return null;switch(b.length){case 2:return{start:b[0],end:b[1],step:1};case 3:return{start:b[0],end:b[2],step:b[1]};default:return null}}}),XB="reshape",d1e=["typed","isInteger","matrix"],h1e=Me(XB,d1e,n=>{var{typed:e,isInteger:t}=n;return e(XB,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(s){if(!t(s))throw new TypeError("Invalid size for dimension: "+s)}),JN(i,a)}})}),m1e="resize",p1e=["config","matrix"],v1e=Me(m1e,p1e,n=>{var{config:e,matrix:t}=n;return function(a,s,o){if(arguments.length!==2&&arguments.length!==3)throw new sp("resize",arguments.length,2,3);if(vn(s)&&(s=s.valueOf()),Pn(s[0])&&(s=s.map(function(c){return Pn(c)?c.toNumber():c})),vn(a))return a.resize(s,o,!0);if(typeof a=="string")return r(a,s,o);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(s.length===0){for(;Array.isArray(a);)a=a[0];return Rn(a)}else{Array.isArray(a)||(a=[a]),a=Rn(a);var u=p1(a,s,o);return l?t(u):u}};function r(i,a,s){if(s!==void 0){if(typeof s!="string"||s.length!==1)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(a.length!==1)throw new Wn(a.length,1);var o=a[0];if(typeof o!="number"||!on(o))throw new TypeError("Invalid size, must contain positive integers (size: "+Xn(a)+")");if(i.length>o)return i.substring(0,o);if(i.length<o){for(var l=i,u=0,c=o-i.length;u<c;u++)l+=s;return l}else return i}}),WB="rotate",g1e=["typed","multiply","rotationMatrix"],x1e=Me(WB,g1e,n=>{var{typed:e,multiply:t,rotationMatrix:r}=n;return e(WB,{"Array , number | BigNumber | Complex | Unit":function(s,o){i(s,2);var l=t(r(o),s);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,o){return i(s,2),t(r(o),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,l){i(s,3);var u=t(r(o,l),s);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,l){return i(s,3),t(r(o,l),s)}});function i(a,s){var o=Array.isArray(a)?Un(a):a.size();if(o.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o.length===2&&o[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}}),YB="rotationMatrix",y1e=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],b1e=Me(YB,y1e,n=>{var{typed:e,config:t,multiplyScalar:r,addScalar:i,unaryMinus:a,norm:s,BigNumber:o,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:d,sin:h}=n;return e(YB,{"":function(){return t.matrix==="Matrix"?l([]):[]},string:function(M){return l(M)},"number | BigNumber | Complex | Unit":function(M){return p(M,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(M,E){return p(M,E)},"number | BigNumber | Complex | Unit, Array":function(M,E){var C=l(E);return g(C),b(M,C,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(M,E){g(E);var C=E.storage()||(t.matrix==="Matrix"?"dense":void 0);return b(M,E,C)},"number | BigNumber | Complex | Unit, Array, string":function(M,E,C){var T=l(E);return g(T),b(M,T,C)},"number | BigNumber | Complex | Unit, Matrix, string":function(M,E,C){return g(E),b(M,E,C)}});function p(_,M){var E=Pn(_),C=E?new o(-1):-1,T=d(_),B=h(_),z=[[T,r(C,B)],[B,T]];return A(z,M)}function g(_){var M=_.size();if(M.length<1||M[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function x(_){return _.reduce((M,E)=>r(M,E))}function A(_,M){if(M){if(M==="sparse")return new c(_);if(M==="dense")return new u(_);throw new TypeError('Unknown matrix type "'.concat(M,'"'))}return _}function b(_,M,E){var C=s(M);if(C===0)throw new RangeError("Rotation around zero vector");var T=Pn(_)?o:null,B=T?new T(1):1,z=T?new T(-1):-1,R=T?new T(M.get([0])/C):M.get([0])/C,O=T?new T(M.get([1])/C):M.get([1])/C,U=T?new T(M.get([2])/C):M.get([2])/C,I=d(_),q=i(B,a(I)),X=h(_),$=i(I,x([R,R,q])),k=i(x([R,O,q]),x([z,U,X])),P=i(x([R,U,q]),x([O,X])),Z=i(x([R,O,q]),x([U,X])),H=i(I,x([O,O,q])),ae=i(x([O,U,q]),x([z,R,X])),W=i(x([R,U,q]),x([z,O,X])),K=i(x([O,U,q]),x([R,X])),Q=i(I,x([U,U,q])),te=[[$,k,P],[Z,H,ae],[W,K,Q]];return A(te,E)}}),ZB="row",S1e=["typed","Index","matrix","range"],TH=Me(ZB,S1e,n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e(ZB,{"Matrix, number":a,"Array, number":function(o,l){return a(r(Rn(o)),l).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");$r(o,s.size()[0]);var l=i(0,s.size()[1]),u=new t(o,l),c=s.subset(u);return vn(c)?c:r([[c]])}}),KB="size",w1e=["typed","config","?matrix"],A1e=Me(KB,w1e,n=>{var{typed:e,config:t,matrix:r}=n;return e(KB,{Matrix:function(a){return a.create(a.size())},Array:Un,string:function(a){return t.matrix==="Array"?[a.length]:r([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:r?r([]):EH()}})}),QB="squeeze",M1e=["typed","matrix"],_1e=Me(QB,M1e,n=>{var{typed:e,matrix:t}=n;return e(QB,{Array:function(i){return HS(Rn(i))},Matrix:function(i){var a=HS(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return Rn(i)}})}),JB="subset",E1e=["typed","matrix","zeros","add"],CH=Me(JB,E1e,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n;return e(JB,{"Matrix, Index":function(o,l){return m1(l)?t():(VS(o,l),o.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(o,l){var u=s(t(o),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":T1e,"string, Index":N1e,"Matrix, Index, any, any":function(o,l,u,c){return m1(l)?o:(VS(o,l),o.clone().subset(l,a(u,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u,c){var d=s(t(o),l,u,c);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u){return s(t(o),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u){return s(o,l,u,void 0)}}),"string, Index, string":eO,"string, Index, string, string":eO,"Object, Index, any":C1e});function a(s,o){if(typeof s=="string")throw new Error("can't boradcast a string");if(o._isScalar)return s;var l=o.size();if(l.every(u=>u>0))try{return i(s,r(l))}catch{return s}else return s}});function N1e(n,e){if(!c5(e))throw new TypeError("Index expected");if(m1(e))return"";if(VS(Array.from(n),e),e.size().length!==1)throw new Wn(e.size().length,1);var t=n.length;$r(e.min()[0],t),$r(e.max()[0],t);var r=e.dimension(0),i="";return r.forEach(function(a){i+=n.charAt(a)}),i}function eO(n,e,t,r){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(m1(e))return n;if(VS(Array.from(n),e),e.size().length!==1)throw new Wn(e.size().length,1);if(r!==void 0){if(typeof r!="string"||r.length!==1)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new Wn(i.size()[0],t.length);var s=n.length;$r(e.min()[0]),$r(e.max()[0]);for(var o=[],l=0;l<s;l++)o[l]=n.charAt(l);if(i.forEach(function(d,h){o[d]=t.charAt(h[0])}),o.length>s)for(var u=s-1,c=o.length;u<c;u++)o[u]||(o[u]=r);return o.join("")}function T1e(n,e){if(!m1(e)){if(e.size().length!==1)throw new Wn(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Ao(n,t)}}function C1e(n,e,t){if(m1(e))return n;if(e.size().length!==1)throw new Wn(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Rn(n);return g1(i,r,t),i}var tO="transpose",D1e=["typed","matrix"],R1e=Me(tO,D1e,n=>{var{typed:e,matrix:t}=n;return e(tO,{Array:s=>r(t(s)).valueOf(),Matrix:r,any:Rn});function r(s){var o=s.size(),l;switch(o.length){case 1:l=s.clone();break;case 2:{var u=o[0],c=o[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Xn(o)+")");switch(s.storage()){case"dense":l=i(s,u,c);break;case"sparse":l=a(s,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Xn(o)+")")}return l}function i(s,o,l){for(var u=s._data,c=[],d,h=0;h<l;h++){d=c[h]=[];for(var p=0;p<o;p++)d[p]=Rn(u[p][h])}return s.createDenseMatrix({data:c,size:[l,o],datatype:s._datatype})}function a(s,o,l){for(var u=s._values,c=s._index,d=s._ptr,h=u?[]:void 0,p=[],g=[],x=[],A=0;A<o;A++)x[A]=0;var b,_,M;for(b=0,_=c.length;b<_;b++)x[c[b]]++;for(var E=0,C=0;C<o;C++)g.push(E),E+=x[C],x[C]=g[C];for(g.push(E),M=0;M<l;M++)for(var T=d[M],B=d[M+1],z=T;z<B;z++){var R=x[c[z]]++;p[R]=M,u&&(h[R]=Rn(u[z]))}return s.createSparseMatrix({values:h,index:p,ptr:g,size:[l,o],datatype:s._datatype})}}),nO="ctranspose",B1e=["typed","transpose","conj"],O1e=Me(nO,B1e,n=>{var{typed:e,transpose:t,conj:r}=n;return e(nO,{any:function(a){return r(t(a))}})}),rO="zeros",z1e=["typed","config","matrix","BigNumber"],U1e=Me(rO,z1e,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e(rO,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var d=u.pop();return a(u,d)}else return t.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=s(l),d=c?new i(0):0;if(o(l),u){var h=r(u);return l.length>0?h.resize(l,d):h}else{var p=[];return l.length>0?p1(p,l,d):p}}function s(l){var u=!1;return l.forEach(function(c,d,h){Pn(c)&&(u=!0,h[d]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!on(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),iO="fft",F1e=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],L1e=Me(iO,F1e,n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,divideScalar:a,exp:s,tau:o,i:l,dotDivide:u,conj:c,pow:d,ceil:h,log2:p}=n;return e(iO,{Array:g,Matrix:function(M){return M.create(g(M.toArray()))}});function g(_){var M=Un(_);return M.length===1?b(_,M[0]):x(_.map(E=>g(E,M.slice(1))),0)}function x(_,M){var E=Un(_);if(M!==0)return new Array(E[0]).fill(0).map((T,B)=>x(_[B],M-1));if(E.length===1)return b(_);function C(T){var B=Un(T);return new Array(B[1]).fill(0).map((z,R)=>new Array(B[0]).fill(0).map((O,U)=>T[U][R]))}return C(x(C(_),1))}function A(_){for(var M=_.length,E=s(a(i(-1,i(l,o)),M)),C=[],T=1-M;T<M;T++)C.push(d(E,a(d(T,2),2)));for(var B=d(2,h(p(M+M-1))),z=[...new Array(M).fill(0).map((k,P)=>i(_[P],C[M-1+P])),...new Array(B-M).fill(0)],R=[...new Array(M+M-1).fill(0).map((k,P)=>a(1,C[P])),...new Array(B-(M+M-1)).fill(0)],O=b(z),U=b(R),I=new Array(B).fill(0).map((k,P)=>i(O[P],U[P])),q=u(c(g(c(I))),B),X=[],$=M-1;$<M+M-1;$++)X.push(i(q[$],C[$]));return X}function b(_){var M=_.length;if(M===1)return[_[0]];if(M%2===0){for(var E=[...b(_.filter((z,R)=>R%2===0)),...b(_.filter((z,R)=>R%2===1))],C=0;C<M/2;C++){var T=E[C],B=i(E[C+M/2],s(i(i(o,l),a(-C,M))));E[C]=r(T,B),E[C+M/2]=r(T,i(-1,B))}return E}else return A(_)}}),aO="ifft",k1e=["typed","fft","dotDivide","conj"],I1e=Me(aO,k1e,n=>{var{typed:e,fft:t,dotDivide:r,conj:i}=n;return e(aO,{"Array | Matrix":function(s){var o=vn(s)?s.size():Un(s);return r(i(t(i(s))),o.reduce((l,u)=>l*u,1))}})});function Xy(n){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(n)}function P1e(n,e){if(Xy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function j1e(n){var e=P1e(n,"string");return Xy(e)=="symbol"?e:e+""}function Fa(n,e,t){return(e=j1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function V1e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(t),!0).forEach(function(r){Fa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var H1e="solveODE",q1e=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],G1e=Me(H1e,q1e,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,max:s,map:o,abs:l,isPositive:u,isNegative:c,larger:d,smaller:h,matrix:p,bignumber:g,unaryMinus:x}=n;function A(z){return function(R,O,U,I){var q=!(O.length===2&&(O.every(T)||O.every(ou)));if(q)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var X=O[0],$=O[1],k=d($,X),P=I.firstStep;if(P!==void 0&&!u(P))throw new Error('"firstStep" must be positive');var Z=I.maxStep;if(Z!==void 0&&!u(Z))throw new Error('"maxStep" must be positive');var H=I.minStep;if(H&&c(H))throw new Error('"minStep" must be positive or zero');var ae=[X,$,P,H,Z].filter(ee=>ee!==void 0);if(!(ae.every(T)||ae.every(ou)))throw new Error('Inconsistent type of "t" dependant variables');for(var W=1,K=I.tol?I.tol:1e-4,Q=I.minDelta?I.minDelta:.2,te=I.maxDelta?I.maxDelta:5,le=I.maxIter?I.maxIter:1e4,de=[X,$,...U,Z,H].some(Pn),[ce,be,Te,Oe]=de?[g(z.a),g(z.c),g(z.b),g(z.bp)]:[z.a,z.c,z.b,z.bp],Fe=P?k?P:x(P):a(r($,X),W),Se=[X],Ve=[U],ve=r(Te,Oe),fe=0,he=0,Be=E(k),ue=C(k);Be(Se[fe],$);){var xe=[];Fe=ue(Se[fe],$,Fe),xe.push(R(Se[fe],Ve[fe]));for(var we=1;we<be.length;++we)xe.push(R(t(Se[fe],i(be[we],Fe)),t(Ve[fe],i(Fe,ce[we],xe))));var ie=s(l(o(i(ve,xe),ee=>ou(ee)?ee.value:ee)));ie<K&&K/ie>1/4&&(Se.push(t(Se[fe],Fe)),Ve.push(t(Ve[fe],i(Fe,Te,xe))),fe++);var re=.84*(K/ie)**(1/5);if(h(re,Q)?re=Q:d(re,te)&&(re=te),re=de?g(re):re,Fe=i(Fe,re),Z&&d(l(Fe),Z)?Fe=k?Z:x(Z):H&&h(l(Fe),H)&&(Fe=k?H:x(H)),he++,he>le)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Se,y:Ve}}}function b(z,R,O,U){var I=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],q=[null,1/2,3/4,1],X=[2/9,1/3,4/9,0],$=[7/24,1/4,1/3,1/8],k={a:I,c:q,b:X,bp:$};return A(k)(z,R,O,U)}function _(z,R,O,U){var I=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],q=[null,1/5,3/10,4/5,8/9,1,1],X=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],$=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],k={a:I,c:q,b:X,bp:$};return A(k)(z,R,O,U)}function M(z,R,O,U){var I=U.method?U.method:"RK45",q={RK23:b,RK45:_};if(I.toUpperCase()in q){var X=V1e({},U);return delete X.method,q[I.toUpperCase()](z,R,O,X)}else{var $=Object.keys(q).map(P=>'"'.concat(P,'"')),k="".concat($.slice(0,-1).join(", ")," and ").concat($.slice(-1));throw new Error('Unavailable method "'.concat(I,'". Available methods are ').concat(k))}}function E(z){return z?h:d}function C(z){var R=z?d:h;return function(O,U,I){var q=t(O,I);return R(q,U)?r(U,O):I}}function T(z){return Pn(z)||In(z)}function B(z,R,O,U){var I=M(z,R.toArray(),O.toArray(),U);return{t:p(I.t),y:p(I.y)}}return e("solveODE",{"function, Array, Array, Object":M,"function, Matrix, Matrix, Object":B,"function, Array, Array":(z,R,O)=>M(z,R,O,{}),"function, Matrix, Matrix":(z,R,O)=>B(z,R,O,{}),"function, Array, number | BigNumber | Unit":(z,R,O)=>{var U=M(z,R,[O],{});return{t:U.t,y:U.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit":(z,R,O)=>{var U=M(z,R.toArray(),[O],{});return{t:p(U.t),y:p(U.y.map(I=>I[0]))}},"function, Array, number | BigNumber | Unit, Object":(z,R,O,U)=>{var I=M(z,R,[O],U);return{t:I.t,y:I.y.map(q=>q[0])}},"function, Matrix, number | BigNumber | Unit, Object":(z,R,O,U)=>{var I=M(z,R.toArray(),[O],U);return{t:p(I.t),y:p(I.y.map(q=>q[0]))}}})}),$1e="erf",X1e=["typed"],W1e=Me($1e,X1e,n=>{var{typed:e}=n;return e("name",{number:function(s){var o=Math.abs(s);return o>=K1e?W0(s):o<=Y1e?W0(s)*t(o):o<=4?W0(s)*(1-r(o)):W0(s)*(1-i(o))},"Array | Matrix":e.referToSelf(a=>s=>Zn(s,a))});function t(a){var s=a*a,o=pd[0][4]*s,l=s,u;for(u=0;u<3;u+=1)o=(o+pd[0][u])*s,l=(l+Lv[0][u])*s;return a*(o+pd[0][3])/(l+Lv[0][3])}function r(a){var s=pd[1][8]*a,o=a,l;for(l=0;l<7;l+=1)s=(s+pd[1][l])*a,o=(o+Lv[1][l])*a;var u=(s+pd[1][7])/(o+Lv[1][7]),c=parseInt(a*16)/16,d=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-d)*u}function i(a){var s=1/(a*a),o=pd[2][5]*s,l=s,u;for(u=0;u<4;u+=1)o=(o+pd[2][u])*s,l=(l+Lv[2][u])*s;var c=s*(o+pd[2][4])/(l+Lv[2][4]);c=(Z1e-c)/a,s=parseInt(a*16)/16;var d=(a-s)*(a+s);return Math.exp(-s*s)*Math.exp(-d)*c}}),Y1e=.46875,Z1e=.5641895835477563,pd=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Lv=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],K1e=Math.pow(2,53),oO="zeta",Q1e=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],J1e=Me(oO,Q1e,n=>{var{typed:e,config:t,multiply:r,pow:i,divide:a,factorial:s,equal:o,smallerEq:l,isNegative:u,gamma:c,sin:d,subtract:h,add:p,Complex:g,BigNumber:x,pi:A}=n;return e(oO,{number:T=>b(T,B=>B,()=>20),BigNumber:T=>b(T,B=>new x(B),()=>Math.abs(Math.log10(t.epsilon))),Complex:_});function b(T,B,z){return o(T,0)?B(-.5):o(T,1)?B(NaN):isFinite(T)?M(T,B,z,R=>R):u(T)?B(NaN):B(1)}function _(T){return T.re===0&&T.im===0?new g(-.5):T.re===1?new g(NaN,NaN):T.re===1/0&&T.im===0?new g(1):T.im===1/0||T.re===-1/0?new g(NaN,NaN):M(T,B=>B,B=>Math.round(1.3*15+.9*Math.abs(B.im)),B=>B.re)}function M(T,B,z,R){var O=z(T);if(R(T)>-(O-1)/2)return C(T,B(O),B);var U=r(i(2,T),i(B(A),h(T,1)));return U=r(U,d(r(a(B(A),2),T))),U=r(U,c(h(1,T))),r(U,M(h(1,T),B,z,R))}function E(T,B){for(var z=T,R=T;l(R,B);R=p(R,1)){var O=a(r(s(p(B,h(R,1))),i(4,R)),r(s(h(B,R)),s(r(2,R))));z=p(z,O)}return r(B,z)}function C(T,B,z){for(var R=a(1,r(E(z(0),B),h(1,i(2,h(1,T))))),O=z(0),U=z(1);l(U,B);U=p(U,1))O=p(O,a(r((-1)**(U-1),E(U,B)),i(U,T)));return r(R,O)}}),lO="mode",ege=["typed","isNaN","isNumeric"],tge=Me(lO,ege,n=>{var{typed:e,isNaN:t,isNumeric:r}=n;return e(lO,{"Array | Matrix":i,"...":function(s){return i(s)}});function i(a){a=Mr(a.valueOf());var s=a.length;if(s===0)throw new Error("Cannot calculate mode of an empty array");for(var o={},l=[],u=0,c=0;c<a.length;c++){var d=a[c];if(r(d)&&t(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in o||(o[d]=0),o[d]++,o[d]===u?l.push(d):o[d]>u&&(u=o[d],l=[d])}return l}});function To(n,e,t){var r;return String(n).indexOf("Unexpected type")!==-1?(r=arguments.length>2?" (type: "+Wr(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(n).indexOf("complex numbers")!==-1?(r=arguments.length>2?" (type: "+Wr(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):n}var uO="prod",nge=["typed","config","multiplyScalar","numeric"],rge=Me(uO,nge,n=>{var{typed:e,config:t,multiplyScalar:r,numeric:i}=n;return e(uO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(o,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(o){return a(o)}});function a(s){var o;if(Pd(s,function(l){try{o=o===void 0?l:r(o,l)}catch(u){throw To(u,"prod",l)}}),typeof o=="string"&&(o=i(o,t.number)),o===void 0)throw new Error("Cannot calculate prod of an empty array");return o}}),cO="format",ige=["typed"],age=Me(cO,ige,n=>{var{typed:e}=n;return e(cO,{any:Xn,"any, Object | function | number | BigNumber":Xn})}),fO="bin",sge=["typed","format"],oge=Me(fO,sge,n=>{var{typed:e,format:t}=n;return e(fO,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"bin",wordSize:a})}})}),dO="oct",lge=["typed","format"],uge=Me(dO,lge,n=>{var{typed:e,format:t}=n;return e(dO,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"oct",wordSize:a})}})}),hO="hex",cge=["typed","format"],fge=Me(hO,cge,n=>{var{typed:e,format:t}=n;return e(hO,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"hex",wordSize:a})}})}),DH=/\$([\w.]+)/g,mO="print",dge=["typed"],RH=Me(mO,dge,n=>{var{typed:e}=n;return e(mO,{"string, Object | Array":pO,"string, Object | Array, number | Object":pO})});function pO(n,e,t){return n.replace(DH,function(r,i){var a=i.split("."),s=e[a.shift()];for(s!==void 0&&s.isMatrix&&(s=s.toArray());a.length&&s!==void 0;){var o=a.shift();s=o?s[o]:s+"."}return s!==void 0?Is(s)?s:Xn(s,t):r})}var vO="to",hge=["typed","matrix","concat"],mge=Me(vO,hge,n=>{var{typed:e,matrix:t,concat:r}=n,i=ni({typed:e,matrix:t,concat:r});return e(vO,{"Unit, Unit | string":(a,s)=>a.to(s)},i({Ds:!0}))}),gO="isPrime",pge=["typed"],vge=Me(gO,pge,n=>{var{typed:e}=n;return e(gO,{number:function(r){if(r*0!==0)return!1;if(r<=3)return r>1;if(r%2===0||r%3===0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i===0||r%(i+2)===0)return!1;return!0},BigNumber:function(r){if(r.toNumber()*0!==0)return!1;if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function s(_,M,E){for(var C=1;!M.eq(0);)M.mod(2).eq(0)?(M=M.div(2),_=_.mul(_).mod(E)):(M=M.sub(1),C=_.mul(C).mod(E));return C}var o=r.constructor.clone({precision:r.toFixed(0).length*2});r=new o(r);for(var l=0,u=r.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(r.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(_=>_<r);else{var d=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));c=[];for(var h=2;h<=d;h+=1)c.push(d)}for(var p=0;p<c.length;p+=1){var g=c[p],x=s(r.sub(r).add(g),u,r);if(!x.eq(1)){for(var A=0,b=x;!b.eq(r.sub(1));A+=1,b=b.mul(b).mod(r))if(A===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>r=>Zn(r,t))})}),gge="numeric",xge=["number","?bignumber","?fraction"],yge=Me(gge,xge,n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:s=>e(s),BigNumber:t?s=>t(s):oT,Fraction:r?s=>r(s):_H};return function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Wr(o);if(!(c in i))throw new TypeError("Cannot convert "+o+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+o+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===c?o:a[l](o)}}),xO="divideScalar",bge=["typed","numeric"],Sge=Me(xO,bge,n=>{var{typed:e,numeric:t}=n;return e(xO,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),yO="pow",wge=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Age=Me(yO,wge,n=>{var{typed:e,config:t,identity:r,multiply:i,matrix:a,inv:s,number:o,fraction:l,Complex:u}=n;return e(yO,{"number, number":c,"Complex, Complex":function(g,x){return g.pow(x)},"BigNumber, BigNumber":function(g,x){return x.isInteger()||g>=0||t.predictable?g.pow(x):new u(g.toNumber(),0).pow(x.toNumber(),0)},"Fraction, Fraction":function(g,x){var A=g.pow(x);if(A!=null)return A;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(g.valueOf(),x.valueOf())},"Array, number":d,"Array, BigNumber":function(g,x){return d(g,x.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(g,x){return h(g,x.toNumber())},"Unit, number | BigNumber":function(g,x){return g.pow(x)}});function c(p,g){if(t.predictable&&!on(g)&&p<0)try{var x=l(g),A=o(x);if((g===A||Math.abs((g-A)/g)<1e-14)&&x.d%2===1)return(x.n%2===0?1:-1)*Math.pow(-p,g)}catch{}return t.predictable&&(p<-1&&g===1/0||p>-1&&p<0&&g===-1/0)?NaN:on(g)||p>=0||t.predictable?UV(p,g):p*p<1&&g===1/0||p*p>1&&g===-1/0?0:new u(p,0).pow(g,0)}function d(p,g){if(!on(g))throw new TypeError("For A^b, b must be an integer (value is "+g+")");var x=Un(p);if(x.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+x.length+" dimensions)");if(x[0]!==x[1])throw new Error("For A^b, A must be square (size is "+x[0]+"x"+x[1]+")");if(g<0)try{return d(s(p),-g)}catch(_){throw _.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+g+")"):_}for(var A=r(x[0]).valueOf(),b=p;g>=1;)(g&1)===1&&(A=i(b,A)),g>>=1,b=i(b,b);return A}function h(p,g){return a(d(p.valueOf(),g))}}),kv="Number of decimals in function round must be an integer",bO="round",Mge=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],_ge=Me(bO,Mge,n=>{var{typed:e,config:t,matrix:r,equalScalar:i,zeros:a,BigNumber:s,DenseMatrix:o}=n,l=ys({typed:e,equalScalar:i}),u=Pa({typed:e,DenseMatrix:o}),c=vc({typed:e});function d(h){return Math.abs(m2(h).exponent)}return e(bO,{number:function(p){var g=Lx(p,d(t.epsilon)),x=No(p,g,t.epsilon)?g:p;return Lx(x)},"number, number":function(p,g){var x=d(t.epsilon);if(g>=x)return Lx(p,g);var A=Lx(p,x),b=No(p,A,t.epsilon)?A:p;return Lx(b,g)},"number, BigNumber":function(p,g){if(!g.isInteger())throw new TypeError(kv);return new s(p).toDecimalPlaces(g.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,g){if(g%1)throw new TypeError(kv);return p.round(g)},"Complex, BigNumber":function(p,g){if(!g.isInteger())throw new TypeError(kv);var x=g.toNumber();return p.round(x)},BigNumber:function(p){var g=new s(p).toDecimalPlaces(d(t.epsilon)),x=yu(p,g,t.epsilon)?g:p;return x.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,g){if(!g.isInteger())throw new TypeError(kv);var x=d(t.epsilon);if(g>=x)return p.toDecimalPlaces(g.toNumber());var A=p.toDecimalPlaces(x),b=yu(p,A,t.epsilon)?A:p;return b.toDecimalPlaces(g.toNumber())},Fraction:function(p){return p.round()},"Fraction, number":function(p,g){if(g%1)throw new TypeError(kv);return p.round(g)},"Fraction, BigNumber":function(p,g){if(!g.isInteger())throw new TypeError(kv);return p.round(g.toNumber())},"Unit, number, Unit":e.referToSelf(h=>function(p,g,x){var A=p.toNumeric(x);return x.multiply(h(A,g))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(p,g,x)=>h(p,g.toNumber(),x)),"Unit, Unit":e.referToSelf(h=>(p,g)=>h(p,0,g)),"Array | Matrix, number, Unit":e.referToSelf(h=>(p,g,x)=>Zn(p,A=>h(A,g,x))),"Array | Matrix, BigNumber, Unit":e.referToSelf(h=>(p,g,x)=>h(p,g.toNumber(),x)),"Array | Matrix, Unit":e.referToSelf(h=>(p,g)=>h(p,0,g)),"Array | Matrix":e.referToSelf(h=>p=>Zn(p,h)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(p,g)=>l(p,g,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(p,g)=>c(p,g,h,!1)),"Array, number | BigNumber":e.referToSelf(h=>(p,g)=>c(r(p),g,h,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(h=>(p,g)=>i(p,0)?a(g.size(),g.storage()):u(g,p,h,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(h=>(p,g)=>i(p,0)?a(g.size(),g.storage()):c(g,p,h,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(h=>(p,g)=>c(r(g),p,h,!0).valueOf())})}),SO="log",Ege=["config","typed","divideScalar","Complex"],Nge=Me(SO,Ege,n=>{var{typed:e,config:t,divideScalar:r,Complex:i}=n;return e(SO,{number:function(s){return s>=0||t.predictable?_he(s):new i(s,0).log()},Complex:function(s){return s.log()},BigNumber:function(s){return!s.isNegative()||t.predictable?s.ln():new i(s.toNumber(),0).log()},"any, any":e.referToSelf(a=>(s,o)=>r(a(s),a(o)))})}),wO="log1p",Tge=["typed","config","divideScalar","log","Complex"],Cge=Me(wO,Tge,n=>{var{typed:e,config:t,divideScalar:r,log:i,Complex:a}=n;return e(wO,{number:function(l){return l>=-1||t.predictable?Sde(l):s(new a(l,0))},Complex:s,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||t.predictable?u.ln():s(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>l=>Zn(l,o)),"any, any":e.referToSelf(o=>(l,u)=>r(o(l),i(u)))});function s(o){var l=o.re+1;return new a(Math.log(Math.sqrt(l*l+o.im*o.im)),Math.atan2(o.im,l))}}),AO="nthRoots",Dge=["config","typed","divideScalar","Complex"],Rge=Me(AO,Dge,n=>{var{typed:e,config:t,divideScalar:r,Complex:i}=n,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function s(o,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(o===0||o.abs()===0)return[new i(0,0)];var u=typeof o=="number",c;(u||o.re===0||o.im===0)&&(u?c=2*+(o<0):o.im===0?c=2*+(o.re<0):c=2*+(o.im<0)+1);for(var d=o.arg(),h=o.abs(),p=[],g=Math.pow(h,1/l),x=0;x<l;x++){var A=(c+4*x)/l;if(A===Math.round(A)){p.push(a[A%4](g));continue}p.push(new i({r:g,phi:(d+2*Math.PI*x)/l}))}return p}return e(AO,{Complex:function(l){return s(l,2)},"Complex, number":s})}),MO="dotPow",Bge=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],Oge=Me(MO,Bge,n=>{var{typed:e,equalScalar:t,matrix:r,pow:i,DenseMatrix:a,concat:s}=n,o=Ro({typed:e}),l=wf({typed:e,DenseMatrix:a}),u=ys({typed:e,equalScalar:t}),c=Pa({typed:e,DenseMatrix:a}),d=ni({typed:e,matrix:r,concat:s}),h={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(h[p]=i.signatures[p]);var g=e(h);return e(MO,d({elop:g,SS:l,DS:o,Ss:u,sS:c}))}),_O="dotDivide",zge=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],Uge=Me(_O,zge,n=>{var{typed:e,matrix:t,equalScalar:r,divideScalar:i,DenseMatrix:a,concat:s}=n,o=gc({typed:e,equalScalar:r}),l=Ro({typed:e}),u=wf({typed:e,DenseMatrix:a}),c=ys({typed:e,equalScalar:r}),d=Pa({typed:e,DenseMatrix:a}),h=ni({typed:e,matrix:t,concat:s});return e(_O,h({elop:i,SS:u,DS:l,SD:o,Ss:c,sS:d}))});function v2(n){var{DenseMatrix:e}=n;return function(r,i,a){var s=r.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Xn(s)+")");var o=s[0],l=s[1];if(o!==l)throw new RangeError("Matrix must be square (size: "+Xn(s)+")");var u=[];if(vn(i)){var c=i.size(),d=i._data;if(c.length===1){if(c[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var h=0;h<o;h++)u[h]=[d[h]];return new e({data:u,size:[o,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==o||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(jS(i)){if(a){u=[];for(var p=0;p<o;p++)u[p]=[d[p][0]];return new e({data:u,size:[o,1],datatype:i._datatype})}return i}if(Fm(i)){for(var g=0;g<o;g++)u[g]=[0];for(var x=i._values,A=i._index,b=i._ptr,_=b[1],M=b[0];M<_;M++){var E=A[M];u[E][0]=x[M]}return new e({data:u,size:[o,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Tr(i)){var C=Un(i);if(C.length===1){if(C[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var T=0;T<o;T++)u[T]=[i[T]];return new e({data:u,size:[o,1]})}if(C.length===2){if(C[0]!==o||C[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var B=0;B<o;B++)u[B]=[i[B][0]];return new e({data:u,size:[o,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var EO="lsolve",Fge=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Lge=Me(EO,Fge,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=n,l=v2({DenseMatrix:o});return e(EO,{"SparseMatrix, Array | Matrix":function(h,p){return c(h,p)},"DenseMatrix, Array | Matrix":function(h,p){return u(h,p)},"Array, Array | Matrix":function(h,p){var g=t(h),x=u(g,p);return x.valueOf()}});function u(d,h){h=l(d,h,!0);for(var p=h._data,g=d._size[0],x=d._size[1],A=[],b=d._data,_=0;_<x;_++){var M=p[_][0]||0,E=void 0;if(s(M,0))E=0;else{var C=b[_][_];if(s(C,0))throw new Error("Linear system cannot be solved since matrix is singular");E=r(M,C);for(var T=_+1;T<g;T++)p[T]=[a(p[T][0]||0,i(E,b[T][_]))]}A[_]=[E]}return new o({data:A,size:[g,1]})}function c(d,h){h=l(d,h,!0);for(var p=h._data,g=d._size[0],x=d._size[1],A=d._values,b=d._index,_=d._ptr,M=[],E=0;E<x;E++){var C=p[E][0]||0;if(s(C,0))M[E]=[0];else{for(var T=0,B=[],z=[],R=_[E],O=_[E+1],U=R;U<O;U++){var I=b[U];I===E?T=A[U]:I>E&&(B.push(A[U]),z.push(I))}if(s(T,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=r(C,T),X=0,$=z.length;X<$;X++){var k=z[X];p[k]=[a(p[k][0]||0,i(q,B[X]))]}M[E]=[q]}}return new o({data:M,size:[g,1]})}}),NO="usolve",kge=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Ige=Me(NO,kge,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=n,l=v2({DenseMatrix:o});return e(NO,{"SparseMatrix, Array | Matrix":function(h,p){return c(h,p)},"DenseMatrix, Array | Matrix":function(h,p){return u(h,p)},"Array, Array | Matrix":function(h,p){var g=t(h),x=u(g,p);return x.valueOf()}});function u(d,h){h=l(d,h,!0);for(var p=h._data,g=d._size[0],x=d._size[1],A=[],b=d._data,_=x-1;_>=0;_--){var M=p[_][0]||0,E=void 0;if(s(M,0))E=0;else{var C=b[_][_];if(s(C,0))throw new Error("Linear system cannot be solved since matrix is singular");E=r(M,C);for(var T=_-1;T>=0;T--)p[T]=[a(p[T][0]||0,i(E,b[T][_]))]}A[_]=[E]}return new o({data:A,size:[g,1]})}function c(d,h){h=l(d,h,!0);for(var p=h._data,g=d._size[0],x=d._size[1],A=d._values,b=d._index,_=d._ptr,M=[],E=x-1;E>=0;E--){var C=p[E][0]||0;if(s(C,0))M[E]=[0];else{for(var T=0,B=[],z=[],R=_[E],O=_[E+1],U=O-1;U>=R;U--){var I=b[U];I===E?T=A[U]:I<E&&(B.push(A[U]),z.push(I))}if(s(T,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=r(C,T),X=0,$=z.length;X<$;X++){var k=z[X];p[k]=[a(p[k][0],i(q,B[X]))]}M[E]=[q]}}return new o({data:M,size:[g,1]})}}),TO="lsolveAll",Pge=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],jge=Me(TO,Pge,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=n,l=v2({DenseMatrix:o});return e(TO,{"SparseMatrix, Array | Matrix":function(h,p){return c(h,p)},"DenseMatrix, Array | Matrix":function(h,p){return u(h,p)},"Array, Array | Matrix":function(h,p){var g=t(h),x=u(g,p);return x.map(A=>A.valueOf())}});function u(d,h){for(var p=[l(d,h,!0)._data.map(z=>z[0])],g=d._data,x=d._size[0],A=d._size[1],b=0;b<A;b++)for(var _=p.length,M=0;M<_;M++){var E=p[M];if(s(g[b][b],0))if(s(E[b],0)){if(M===0){var T=[...E];T[b]=1;for(var B=b+1;B<A;B++)T[B]=a(T[B],g[B][b]);p.push(T)}}else{if(M===0)return[];p.splice(M,1),M-=1,_-=1}else{E[b]=r(E[b],g[b][b]);for(var C=b+1;C<A;C++)E[C]=a(E[C],i(E[b],g[C][b]))}}return p.map(z=>new o({data:z.map(R=>[R]),size:[x,1]}))}function c(d,h){for(var p=[l(d,h,!0)._data.map(W=>W[0])],g=d._size[0],x=d._size[1],A=d._values,b=d._index,_=d._ptr,M=0;M<x;M++)for(var E=p.length,C=0;C<E;C++){for(var T=p[C],B=[],z=[],R=_[M],O=_[M+1],U=0,I=R;I<O;I++){var q=b[I];q===M?U=A[I]:q>M&&(B.push(A[I]),z.push(q))}if(s(U,0))if(s(T[M],0)){if(C===0){var P=[...T];P[M]=1;for(var Z=0,H=z.length;Z<H;Z++){var ae=z[Z];P[ae]=a(P[ae],B[Z])}p.push(P)}}else{if(C===0)return[];p.splice(C,1),C-=1,E-=1}else{T[M]=r(T[M],U);for(var X=0,$=z.length;X<$;X++){var k=z[X];T[k]=a(T[k],i(T[M],B[X]))}}}return p.map(W=>new o({data:W.map(K=>[K]),size:[g,1]}))}}),CO="usolveAll",Vge=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Hge=Me(CO,Vge,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=n,l=v2({DenseMatrix:o});return e(CO,{"SparseMatrix, Array | Matrix":function(h,p){return c(h,p)},"DenseMatrix, Array | Matrix":function(h,p){return u(h,p)},"Array, Array | Matrix":function(h,p){var g=t(h),x=u(g,p);return x.map(A=>A.valueOf())}});function u(d,h){for(var p=[l(d,h,!0)._data.map(z=>z[0])],g=d._data,x=d._size[0],A=d._size[1],b=A-1;b>=0;b--)for(var _=p.length,M=0;M<_;M++){var E=p[M];if(s(g[b][b],0))if(s(E[b],0)){if(M===0){var T=[...E];T[b]=1;for(var B=b-1;B>=0;B--)T[B]=a(T[B],g[B][b]);p.push(T)}}else{if(M===0)return[];p.splice(M,1),M-=1,_-=1}else{E[b]=r(E[b],g[b][b]);for(var C=b-1;C>=0;C--)E[C]=a(E[C],i(E[b],g[C][b]))}}return p.map(z=>new o({data:z.map(R=>[R]),size:[x,1]}))}function c(d,h){for(var p=[l(d,h,!0)._data.map(W=>W[0])],g=d._size[0],x=d._size[1],A=d._values,b=d._index,_=d._ptr,M=x-1;M>=0;M--)for(var E=p.length,C=0;C<E;C++){for(var T=p[C],B=[],z=[],R=_[M],O=_[M+1],U=0,I=O-1;I>=R;I--){var q=b[I];q===M?U=A[I]:q<M&&(B.push(A[I]),z.push(q))}if(s(U,0))if(s(T[M],0)){if(C===0){var P=[...T];P[M]=1;for(var Z=0,H=z.length;Z<H;Z++){var ae=z[Z];P[ae]=a(P[ae],B[Z])}p.push(P)}}else{if(C===0)return[];p.splice(C,1),C-=1,E-=1}else{T[M]=r(T[M],U);for(var X=0,$=z.length;X<$;X++){var k=z[X];T[k]=a(T[k],i(T[M],B[X]))}}}return p.map(W=>new o({data:W.map(K=>[K]),size:[g,1]}))}}),qge="matAlgo08xS0Sid",Gge=["typed","equalScalar"],lT=Me(qge,Gge,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=a._values,p=a._index,g=a._ptr,x=a._size,A=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==x.length)throw new Wn(c.length,x.length);if(c[0]!==x[0]||c[1]!==x[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+x+")");if(!o||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var b=c[0],_=c[1],M,E=t,C=0,T=s;typeof d=="string"&&d===A&&d!=="mixed"&&(M=d,E=e.find(t,[M,M]),C=e.convert(0,M),T=e.find(s,[M,M]));for(var B=[],z=[],R=[],O=[],U=[],I,q,X,$,k=0;k<_;k++){R[k]=z.length;var P=k+1;for(q=u[k],X=u[k+1],I=q;I<X;I++)$=l[I],U[$]=P,O[$]=o[I],z.push($);for(q=g[k],X=g[k+1],I=q;I<X;I++)$=p[I],U[$]===P&&(O[$]=T(O[$],h[I]));for(I=R[k];I<z.length;){$=z[I];var Z=O[$];E(Z,C)?z.splice(I,1):(B.push(Z),I++)}}return R[_]=z.length,i.createSparseMatrix({values:B,index:z,ptr:R,size:[b,_],datatype:d===i._datatype&&A===a._datatype?M:void 0})}}),uT=Me("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,a)=>r(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,a)=>r(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,a)=>r(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,a)=>r(i,t(a)).valueOf())}}),DO="leftShift",$ge=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Xge=Me(DO,$ge,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:s}=n,o=mh({typed:e}),l=gc({typed:e,equalScalar:r}),u=lT({typed:e,equalScalar:r}),c=ap({typed:e,DenseMatrix:a}),d=ys({typed:e,equalScalar:r}),h=vc({typed:e}),p=ni({typed:e,matrix:t,concat:s}),g=uT({typed:e,matrix:t});return e(DO,{"number, number":PV,"BigNumber, BigNumber":hve,"SparseMatrix, number | BigNumber":e.referToSelf(x=>(A,b)=>r(b,0)?A.clone():d(A,b,x,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(x=>(A,b)=>r(b,0)?A.clone():h(A,b,x,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(x=>(A,b)=>r(A,0)?i(b.size(),b.storage()):c(b,A,x,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(x=>(A,b)=>r(A,0)?i(b.size(),b.storage()):h(b,A,x,!0))},g,p({SS:u,DS:o,SD:l}))}),RO="rightArithShift",Wge=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Yge=Me(RO,Wge,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:s}=n,o=mh({typed:e}),l=gc({typed:e,equalScalar:r}),u=lT({typed:e,equalScalar:r}),c=ap({typed:e,DenseMatrix:a}),d=ys({typed:e,equalScalar:r}),h=vc({typed:e}),p=ni({typed:e,matrix:t,concat:s}),g=uT({typed:e,matrix:t});return e(RO,{"number, number":jV,"BigNumber, BigNumber":mve,"SparseMatrix, number | BigNumber":e.referToSelf(x=>(A,b)=>r(b,0)?A.clone():d(A,b,x,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(x=>(A,b)=>r(b,0)?A.clone():h(A,b,x,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(x=>(A,b)=>r(A,0)?i(b.size(),b.storage()):c(b,A,x,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(x=>(A,b)=>r(A,0)?i(b.size(),b.storage()):h(b,A,x,!0))},g,p({SS:u,DS:o,SD:l}))}),BO="rightLogShift",Zge=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Kge=Me(BO,Zge,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:s}=n,o=mh({typed:e}),l=gc({typed:e,equalScalar:r}),u=lT({typed:e,equalScalar:r}),c=ap({typed:e,DenseMatrix:a}),d=ys({typed:e,equalScalar:r}),h=vc({typed:e}),p=ni({typed:e,matrix:t,concat:s}),g=uT({typed:e,matrix:t});return e(BO,{"number, number":VV,"SparseMatrix, number | BigNumber":e.referToSelf(x=>(A,b)=>r(b,0)?A.clone():d(A,b,x,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(x=>(A,b)=>r(b,0)?A.clone():h(A,b,x,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(x=>(A,b)=>r(A,0)?i(b.size(),b.storage()):c(b,A,x,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(x=>(A,b)=>r(A,0)?i(b.size(),b.storage()):h(b,A,x,!0))},g,p({SS:u,DS:o,SD:l}))}),OO="and",Qge=["typed","matrix","equalScalar","zeros","not","concat"],BH=Me(OO,Qge,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:s}=n,o=gc({typed:e,equalScalar:r}),l=w5({typed:e,equalScalar:r}),u=ys({typed:e,equalScalar:r}),c=vc({typed:e}),d=ni({typed:e,matrix:t,concat:s});return e(OO,{"number, number":XV,"Complex, Complex":function(p,g){return(p.re!==0||p.im!==0)&&(g.re!==0||g.im!==0)},"BigNumber, BigNumber":function(p,g){return!p.isZero()&&!g.isZero()&&!p.isNaN()&&!g.isNaN()},"Unit, Unit":e.referToSelf(h=>(p,g)=>h(p.value||0,g.value||0)),"SparseMatrix, any":e.referToSelf(h=>(p,g)=>a(g)?i(p.size(),p.storage()):u(p,g,h,!1)),"DenseMatrix, any":e.referToSelf(h=>(p,g)=>a(g)?i(p.size(),p.storage()):c(p,g,h,!1)),"any, SparseMatrix":e.referToSelf(h=>(p,g)=>a(p)?i(p.size(),p.storage()):u(g,p,h,!0)),"any, DenseMatrix":e.referToSelf(h=>(p,g)=>a(p)?i(p.size(),p.storage()):c(g,p,h,!0)),"Array, any":e.referToSelf(h=>(p,g)=>h(t(p),g).valueOf()),"any, Array":e.referToSelf(h=>(p,g)=>h(p,t(g)).valueOf())},d({SS:l,DS:o}))}),tw="compare",Jge=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],exe=Me(tw,Jge,n=>{var{typed:e,config:t,equalScalar:r,matrix:i,BigNumber:a,Fraction:s,DenseMatrix:o,concat:l}=n,u=Ro({typed:e}),c=S5({typed:e,equalScalar:r}),d=Pa({typed:e,DenseMatrix:o}),h=ni({typed:e,matrix:i,concat:l}),p=q1({typed:e});return e(tw,txe({typed:e,config:t}),{"boolean, boolean":function(x,A){return x===A?0:x>A?1:-1},"BigNumber, BigNumber":function(x,A){return yu(x,A,t.epsilon)?new a(0):new a(x.cmp(A))},"Fraction, Fraction":function(x,A){return new s(x.compare(A))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,h({SS:c,DS:u,Ss:d}))}),txe=Me(tw,["typed","config"],n=>{var{typed:e,config:t}=n;return e(tw,{"number, number":function(i,a){return No(i,a,t.epsilon)?0:i>a?1:-1}})}),g_,zO;function nxe(){return zO||(zO=1,g_=function n(e,t){var r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,o=/^0/,l=function(M){return n.insensitive&&(""+M).toLowerCase()||""+M},u=l(e).replace(i,"")||"",c=l(t).replace(i,"")||"",d=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(u.match(s),16)||d.length!==1&&u.match(a)&&Date.parse(u),g=parseInt(c.match(s),16)||p&&c.match(a)&&Date.parse(c)||null,x,A;if(g){if(p<g)return-1;if(p>g)return 1}for(var b=0,_=Math.max(d.length,h.length);b<_;b++){if(x=!(d[b]||"").match(o)&&parseFloat(d[b])||d[b]||0,A=!(h[b]||"").match(o)&&parseFloat(h[b])||h[b]||0,isNaN(x)!==isNaN(A))return isNaN(x)?1:-1;if(typeof x!=typeof A&&(x+="",A+=""),x<A)return-1;if(x>A)return 1}return 0}),g_}var rxe=nxe();const Iv=jd(rxe);var UO="compareNatural",ixe=["typed","compare"],axe=Me(UO,ixe,n=>{var{typed:e,compare:t}=n,r=t.signatures["boolean,boolean"];return e(UO,{"any, any":i});function i(l,u){var c=Wr(l),d=Wr(u),h;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(d==="number"||d==="BigNumber"||d==="Fraction"))return h=t(l,u),h.toString()!=="0"?h>0?1:-1:Iv(c,d);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(c)||p.includes(d))return h=a(i,l,u),h!==0?h:Iv(c,d);if(c!==d)return Iv(c,d);if(c==="Complex")return sxe(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):s(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return r(l,u);if(c==="string")return Iv(l,u);if(c==="Object")return o(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(l,u,c){return Fm(u)&&Fm(c)?s(l,u.toJSON().values,c.toJSON().values):Fm(u)?a(l,u.toArray(),c):Fm(c)?a(l,u,c.toArray()):jS(u)?a(l,u.toJSON().data,c):jS(c)?a(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?s(l,u,c):a(l,u,[c]):a(l,[u],c)}function s(l,u,c){for(var d=0,h=Math.min(u.length,c.length);d<h;d++){var p=l(u[d],c[d]);if(p!==0)return p}return u.length>c.length?1:u.length<c.length?-1:0}function o(l,u,c){var d=Object.keys(u),h=Object.keys(c);d.sort(Iv),h.sort(Iv);var p=s(l,d,h);if(p!==0)return p;for(var g=0;g<d.length;g++){var x=l(u[d[g]],c[h[g]]);if(x!==0)return x}return 0}});function sxe(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}var FO="compareText",oxe=["typed","matrix","concat"];kE.signature="any, any";var lxe=Me(FO,oxe,n=>{var{typed:e,matrix:t,concat:r}=n,i=ni({typed:e,matrix:t,concat:r});return e(FO,kE,i({elop:kE,Ds:!0}))}),nw="equal",uxe=["typed","matrix","equalScalar","DenseMatrix","concat"],cxe=Me(nw,uxe,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,s=Ro({typed:e}),o=wf({typed:e,DenseMatrix:i}),l=Pa({typed:e,DenseMatrix:i}),u=ni({typed:e,matrix:t,concat:a});return e(nw,fxe({typed:e,equalScalar:r}),u({elop:r,SS:o,DS:s,Ss:l}))}),fxe=Me(nw,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(nw,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})}),LO="equalText",dxe=["typed","compareText","isZero"],hxe=Me(LO,dxe,n=>{var{typed:e,compareText:t,isZero:r}=n;return e(LO,{"any, any":function(a,s){return r(t(a,s))}})}),rw="smaller",mxe=["typed","config","matrix","DenseMatrix","concat"],pxe=Me(rw,mxe,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,s=Ro({typed:e}),o=wf({typed:e,DenseMatrix:i}),l=Pa({typed:e,DenseMatrix:i}),u=ni({typed:e,matrix:r,concat:a}),c=q1({typed:e});return e(rw,vxe({typed:e,config:t}),{"boolean, boolean":(d,h)=>d<h,"BigNumber, BigNumber":function(h,p){return h.lt(p)&&!yu(h,p,t.epsilon)},"Fraction, Fraction":(d,h)=>d.compare(h)===-1,"Complex, Complex":function(h,p){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:o,DS:s,Ss:l}))}),vxe=Me(rw,["typed","config"],n=>{var{typed:e,config:t}=n;return e(rw,{"number, number":function(i,a){return i<a&&!No(i,a,t.epsilon)}})}),iw="smallerEq",gxe=["typed","config","matrix","DenseMatrix","concat"],xxe=Me(iw,gxe,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,s=Ro({typed:e}),o=wf({typed:e,DenseMatrix:i}),l=Pa({typed:e,DenseMatrix:i}),u=ni({typed:e,matrix:r,concat:a}),c=q1({typed:e});return e(iw,yxe({typed:e,config:t}),{"boolean, boolean":(d,h)=>d<=h,"BigNumber, BigNumber":function(h,p){return h.lte(p)||yu(h,p,t.epsilon)},"Fraction, Fraction":(d,h)=>d.compare(h)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:o,DS:s,Ss:l}))}),yxe=Me(iw,["typed","config"],n=>{var{typed:e,config:t}=n;return e(iw,{"number, number":function(i,a){return i<=a||No(i,a,t.epsilon)}})}),aw="larger",bxe=["typed","config","matrix","DenseMatrix","concat"],Sxe=Me(aw,bxe,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,s=Ro({typed:e}),o=wf({typed:e,DenseMatrix:i}),l=Pa({typed:e,DenseMatrix:i}),u=ni({typed:e,matrix:r,concat:a}),c=q1({typed:e});return e(aw,wxe({typed:e,config:t}),{"boolean, boolean":(d,h)=>d>h,"BigNumber, BigNumber":function(h,p){return h.gt(p)&&!yu(h,p,t.epsilon)},"Fraction, Fraction":(d,h)=>d.compare(h)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:o,DS:s,Ss:l}))}),wxe=Me(aw,["typed","config"],n=>{var{typed:e,config:t}=n;return e(aw,{"number, number":function(i,a){return i>a&&!No(i,a,t.epsilon)}})}),sw="largerEq",Axe=["typed","config","matrix","DenseMatrix","concat"],Mxe=Me(sw,Axe,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,s=Ro({typed:e}),o=wf({typed:e,DenseMatrix:i}),l=Pa({typed:e,DenseMatrix:i}),u=ni({typed:e,matrix:r,concat:a}),c=q1({typed:e});return e(sw,_xe({typed:e,config:t}),{"boolean, boolean":(d,h)=>d>=h,"BigNumber, BigNumber":function(h,p){return h.gte(p)||yu(h,p,t.epsilon)},"Fraction, Fraction":(d,h)=>d.compare(h)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:o,DS:s,Ss:l}))}),_xe=Me(sw,["typed","config"],n=>{var{typed:e,config:t}=n;return e(sw,{"number, number":function(i,a){return i>=a||No(i,a,t.epsilon)}})}),kO="deepEqual",Exe=["typed","equal"],Nxe=Me(kO,Exe,n=>{var{typed:e,equal:t}=n;return e(kO,{"any, any":function(a,s){return r(a.valueOf(),s.valueOf())}});function r(i,a){if(Array.isArray(i))if(Array.isArray(a)){var s=i.length;if(s!==a.length)return!1;for(var o=0;o<s;o++)if(!r(i[o],a[o]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}}),ow="unequal",Txe=["typed","config","equalScalar","matrix","DenseMatrix","concat"],Cxe=Me(ow,Txe,n=>{var{typed:e,config:t,equalScalar:r,matrix:i,DenseMatrix:a,concat:s}=n,o=Ro({typed:e}),l=wf({typed:e,DenseMatrix:a}),u=Pa({typed:e,DenseMatrix:a}),c=ni({typed:e,matrix:i,concat:s});return e(ow,Dxe({typed:e,equalScalar:r}),c({elop:d,SS:l,DS:o,Ss:u}));function d(h,p){return!r(h,p)}}),Dxe=Me(ow,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(ow,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})}),IO="partitionSelect",Rxe=["typed","isNumeric","isNaN","compare"],Bxe=Me(IO,Rxe,n=>{var{typed:e,isNumeric:t,isNaN:r,compare:i}=n,a=i,s=(u,c)=>-i(u,c);return e(IO,{"Array | Matrix, number":function(c,d){return o(c,d,a)},"Array | Matrix, number, string":function(c,d,h){if(h==="asc")return o(c,d,a);if(h==="desc")return o(c,d,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(u,c,d){if(!on(c)||c<0)throw new Error("k must be a non-negative integer");if(vn(u)){var h=u.size();if(h.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,d)}if(Array.isArray(u))return l(u,c,d)}function l(u,c,d){if(c>=u.length)throw new Error("k out of bounds");for(var h=0;h<u.length;h++)if(t(u[h])&&r(u[h]))return u[h];for(var p=0,g=u.length-1;p<g;){for(var x=p,A=g,b=u[Math.floor(Math.random()*(g-p+1))+p];x<A;)if(d(u[x],b)>=0){var _=u[A];u[A]=u[x],u[x]=_,--A}else++x;d(u[x],b)>0&&--x,c<=x?g=x:p=x+1}return u[c]}}),PO="sort",Oxe=["typed","matrix","compare","compareNatural"],zxe=Me(PO,Oxe,n=>{var{typed:e,matrix:t,compare:r,compareNatural:i}=n,a=r,s=(c,d)=>-r(c,d);return e(PO,{Array:function(d){return l(d),d.sort(a)},Matrix:function(d){return u(d),t(d.toArray().sort(a),d.storage())},"Array, function":function(d,h){return l(d),d.sort(h)},"Matrix, function":function(d,h){return u(d),t(d.toArray().sort(h),d.storage())},"Array, string":function(d,h){return l(d),d.sort(o(h))},"Matrix, string":function(d,h){return u(d),t(d.toArray().sort(o(h)),d.storage())}});function o(c){if(c==="asc")return a;if(c==="desc")return s;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(Un(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),jO="max",Uxe=["typed","config","numeric","larger"],OH=Me(jO,Uxe,n=>{var{typed:e,config:t,numeric:r,larger:i}=n;return e(jO,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(l,u){return y5(l,u.valueOf(),a)},"...":function(l){if(j1(l))throw new TypeError("Scalar values expected in function max");return s(l)}});function a(o,l){try{return i(o,l)?o:l}catch(u){throw To(u,"max",l)}}function s(o){var l;if(Pd(o,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw To(c,"max",u)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=r(l,t.number)),l}}),VO="min",Fxe=["typed","config","numeric","smaller"],zH=Me(VO,Fxe,n=>{var{typed:e,config:t,numeric:r,smaller:i}=n;return e(VO,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(l,u){return y5(l,u.valueOf(),a)},"...":function(l){if(j1(l))throw new TypeError("Scalar values expected in function min");return s(l)}});function a(o,l){try{return i(o,l)?o:l}catch(u){throw To(u,"min",l)}}function s(o){var l;if(Pd(o,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw To(c,"min",u)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=r(l,t.number)),l}}),Lxe="ImmutableDenseMatrix",kxe=["smaller","DenseMatrix"],Ixe=Me(Lxe,kxe,n=>{var{smaller:e,DenseMatrix:t}=n;function r(i,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Is(a))throw new Error("Invalid datatype: "+a);if(vn(i)||Tr(i)){var s=new t(i,a);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(i&&Tr(i.data)&&Tr(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Wr(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return r.prototype=new t,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return vn(a)?new r({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Rn(this._data),size:Rn(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},r.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},r},{isClass:!0}),Pxe="Index",jxe=["ImmutableDenseMatrix","getMatrixDataType"],Vxe=Me(Pxe,jxe,n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function r(a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,o=arguments.length;s<o;s++){var l=arguments[s],u=Tr(l),c=vn(l),d=null;if(QN(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var h=void 0;t(l)==="boolean"?(u&&(h=i(HO(l).valueOf())),c&&(h=i(HO(l._data).valueOf())),d=l.valueOf().length):h=i(l.valueOf()),this._dimensions.push(h);var p=h.size();(p.length!==1||p[0]!==1||d!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(i([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(d)}}r.prototype.type="Index",r.prototype.isIndex=!0;function i(a){for(var s=0,o=a.length;s<o;s++)if(typeof a[s]!="number"||!on(a[s]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return r.prototype.clone=function(){var a=new r;return a._dimensions=Rn(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},r.create=function(a){var s=new r;return r.apply(s,a),s},r.prototype.size=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?1:l.size()[0]}return a},r.prototype.max=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.max()}return a},r.prototype.min=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.min()}return a},r.prototype.forEach=function(a){for(var s=0,o=this._dimensions.length;s<o;s++)a(this._dimensions[s],s,this)},r.prototype.dimension=function(a){return this._dimensions[a]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a.push(typeof l=="string"?l:l.toArray())}return a},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(a){return r.create(a.dimensions)},r},{isClass:!0});function HO(n){var e=[];return n.forEach((t,r)=>{t&&e.push(r)}),e}var Hxe="FibonacciHeap",qxe=["smaller","larger"],Gxe=Me(Hxe,qxe,n=>{var{smaller:e,larger:t}=n,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,d){var h={key:c,value:d,degree:0};if(this._minimum){var p=this._minimum;h.left=p,h.right=p.right,p.right=h,h.right.left=h,e(c,p.key)&&(this._minimum=h)}else h.left=h,h.right=h,this._minimum=h;return this._size++,h},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var d=this._minimum,h=c.degree,p=c.child;h>0;){var g=p.right;p.left.right=p.right,p.right.left=p.left,p.left=d,p.right=d.right,d.right=p,p.right.left=p,p.parent=null,p=g,h--}return c.left.right=c.right,c.right.left=c.left,c===c.right?d=null:(d=c.right,d=u(d,this._size)),this._size--,this._minimum=d,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,d,h){d.key=h;var p=d.parent;return p&&e(d.key,p.key)&&(s(c,d,p),o(c,p)),e(d.key,c.key)&&(c=d),c}function s(c,d,h){d.left.right=d.right,d.right.left=d.left,h.degree--,h.child===d&&(h.child=d.right),h.degree===0&&(h.child=null),d.left=c,d.right=c.right,c.right=d,d.right.left=d,d.parent=null,d.mark=!1}function o(c,d){var h=d.parent;h&&(d.mark?(s(c,d,h),o(h)):d.mark=!0)}var l=function(d,h){d.left.right=d.right,d.right.left=d.left,d.parent=h,h.child?(d.left=h.child,d.right=h.child.right,h.child.right=d,d.right.left=d):(h.child=d,d.right=d,d.left=d),h.degree++,d.mark=!1};function u(c,d){var h=Math.floor(Math.log(d)*r)+1,p=new Array(h),g=0,x=c;if(x)for(g++,x=x.right;x!==c;)g++,x=x.right;for(var A;g>0;){for(var b=x.degree,_=x.right;A=p[b],!!A;){if(t(x.key,A.key)){var M=A;A=x,x=M}l(A,x),p[b]=null,b++}p[b]=x,x=_,g--}c=null;for(var E=0;E<h;E++)A=p[E],A&&(c?(A.left.right=A.right,A.right.left=A.left,A.left=c,A.right=c.right,c.right=A,A.right.left=A,e(A.key,c.key)&&(c=A)):c=A);return c}return i},{isClass:!0}),$xe="Spa",Xxe=["addScalar","equalScalar","FibonacciHeap"],Wxe=Me($xe,Xxe,n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:r}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,s){if(this._values[a])this._values[a].value=s;else{var o=this._heap.insert(a,s);this._values[a]=o}},i.prototype.get=function(a){var s=this._values[a];return s?s.value:0},i.prototype.accumulate=function(a,s){var o=this._values[a];o?o.value=e(o.value,s):(o=this._heap.insert(a,s),this._values[a]=o)},i.prototype.forEach=function(a,s,o){var l=this._heap,u=this._values,c=[],d=l.extractMinimum();for(d&&c.push(d);d&&d.key<=s;)d.key>=a&&(t(d.value,0)||o(d.key,d.value,this)),d=l.extractMinimum(),d&&c.push(d);for(var h=0;h<c.length;h++){var p=c[h];d=l.insert(p.key,p.value),u[d.key]=d}},i.prototype.swap=function(a,s){var o=this._values[a],l=this._values[s];if(!o&&l)o=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=o,this._values[s]=void 0;else if(o&&!l)l=this._heap.insert(s,o.value),this._heap.remove(o),this._values[s]=l,this._values[a]=void 0;else if(o&&l){var u=o.value;o.value=l.value,l.value=u}},i},{isClass:!0}),Yxe=p2(function(n){return new n(1).exp()},{hasher:A5}),Zxe=p2(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:A5}),cT=p2(function(n){return n.acos(-1)},{hasher:A5}),Kxe=p2(function(n){return cT(n).times(2)},{hasher:A5});function A5(n){return n[0].precision}function qO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function x_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(t),!0).forEach(function(r){Fa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Qxe="Unit",Jxe=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],eye=Me(Qxe,Jxe,n=>{var{on:e,config:t,addScalar:r,subtractScalar:i,multiplyScalar:a,divideScalar:s,pow:o,abs:l,fix:u,round:c,equal:d,isNumeric:h,format:p,number:g,Complex:x,BigNumber:A,Fraction:b}=n,_=g;function M(fe,he){if(!(this instanceof M))throw new Error("Constructor must be called with the new operator");if(!(fe==null||h(fe)||Cd(fe)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,he===void 0)this.units=[],this.dimensions=Z.map(ue=>0);else if(typeof he=="string"){var Be=M.parse(he);this.units=Be.units,this.dimensions=Be.dimensions}else if(ou(he)&&he.value===null)this.fixPrefix=he.fixPrefix,this.skipAutomaticSimplification=he.skipAutomaticSimplification,this.dimensions=he.dimensions.slice(0),this.units=he.units.map(ue=>mi({},ue));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(fe)}Object.defineProperty(M,"name",{value:"Unit"}),M.prototype.constructor=M,M.prototype.type="Unit",M.prototype.isUnit=!0;var E,C,T;function B(){for(;T===" "||T==="	";)O()}function z(fe){return fe>="0"&&fe<="9"||fe==="."}function R(fe){return fe>="0"&&fe<="9"}function O(){C++,T=E.charAt(C)}function U(fe){C=fe,T=E.charAt(C)}function I(){var fe="",he=C;if(T==="+"?O():T==="-"&&(fe+=T,O()),!z(T))return U(he),null;if(T==="."){if(fe+=T,O(),!R(T))return U(he),null}else{for(;R(T);)fe+=T,O();T==="."&&(fe+=T,O())}for(;R(T);)fe+=T,O();if(T==="E"||T==="e"){var Be="",ue=C;if(Be+=T,O(),(T==="+"||T==="-")&&(Be+=T,O()),!R(T))return U(ue),fe;for(fe=fe+Be;R(T);)fe+=T,O()}return fe}function q(){for(var fe="";R(T)||M.isValidAlpha(T);)fe+=T,O();var he=fe.charAt(0);return M.isValidAlpha(he)?fe:null}function X(fe){return T===fe?(O(),fe):null}M.parse=function(fe,he){if(he=he||{},E=fe,C=-1,T="",typeof E!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var Be=new M;Be.units=[];var ue=1,xe=!1;O(),B();var we=I(),ie=null;if(we){if(t.number==="BigNumber")ie=new A(we);else if(t.number==="Fraction")try{ie=new b(we)}catch{ie=parseFloat(we)}else ie=parseFloat(we);B(),X("*")?(ue=1,xe=!0):X("/")&&(ue=-1,xe=!0)}for(var re=[],ee=1;;){for(B();T==="(";)re.push(ue),ee*=ue,ue=1,O(),B();var oe=void 0;if(T){var ge=T;if(oe=q(),oe===null)throw new SyntaxError('Unexpected "'+ge+'" in "'+E+'" at index '+C.toString())}else break;var De=$(oe);if(De===null)throw new SyntaxError('Unit "'+oe+'" not found.');var Le=ue*ee;if(B(),X("^")){B();var Ue=I();if(Ue===null)throw new SyntaxError('In "'+fe+'", "^" must be followed by a floating-point number');Le*=Ue}Be.units.push({unit:De.unit,prefix:De.prefix,power:Le});for(var He=0;He<Z.length;He++)Be.dimensions[He]+=(De.unit.dimensions[He]||0)*Le;for(B();T===")";){if(re.length===0)throw new SyntaxError('Unmatched ")" in "'+E+'" at index '+C.toString());ee/=re.pop(),O(),B()}if(xe=!1,X("*")?(ue=1,xe=!0):X("/")?(ue=-1,xe=!0):ue=1,De.unit.base){var et=De.unit.base.key;de.auto[et]={unit:De.unit,prefix:De.prefix}}}if(B(),T)throw new SyntaxError('Could not parse: "'+fe+'"');if(xe)throw new SyntaxError('Trailing characters: "'+fe+'"');if(re.length!==0)throw new SyntaxError('Unmatched "(" in "'+E+'"');if(Be.units.length===0&&!he.allowNoUnits)throw new SyntaxError('"'+fe+'" contains no units');return Be.value=ie!==void 0?Be._normalize(ie):null,Be},M.prototype.clone=function(){var fe=new M;fe.fixPrefix=this.fixPrefix,fe.skipAutomaticSimplification=this.skipAutomaticSimplification,fe.value=Rn(this.value),fe.dimensions=this.dimensions.slice(0),fe.units=[];for(var he=0;he<this.units.length;he++){fe.units[he]={};for(var Be in this.units[he])Qt(this.units[he],Be)&&(fe.units[he][Be]=this.units[he][Be])}return fe},M.prototype.valueType=function(){return Wr(this.value)},M.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},M.prototype._normalize=function(fe){if(fe==null||this.units.length===0)return fe;for(var he=fe,Be=M._getNumberConverter(Wr(fe)),ue=0;ue<this.units.length;ue++){var xe=Be(this.units[ue].unit.value),we=Be(this.units[ue].prefix.value),ie=Be(this.units[ue].power);he=a(he,o(a(xe,we),ie))}return he},M.prototype._denormalize=function(fe,he){if(fe==null||this.units.length===0)return fe;for(var Be=fe,ue=M._getNumberConverter(Wr(fe)),xe=0;xe<this.units.length;xe++){var we=ue(this.units[xe].unit.value),ie=ue(this.units[xe].prefix.value),re=ue(this.units[xe].power);Be=s(Be,o(a(we,ie),re))}return Be};var $=p2(fe=>{if(Qt(Q,fe)){var he=Q[fe],Be=he.prefixes[""];return{unit:he,prefix:Be}}for(var ue in Q)if(Qt(Q,ue)&&kde(fe,ue)){var xe=Q[ue],we=fe.length-ue.length,ie=fe.substring(0,we),re=Qt(xe.prefixes,ie)?xe.prefixes[ie]:void 0;if(re!==void 0)return{unit:xe,prefix:re}}return null},{hasher:fe=>fe[0],limit:100});M.isValuelessUnit=function(fe){return $(fe)!==null},M.prototype.hasBase=function(fe){if(typeof fe=="string"&&(fe=H[fe]),!fe)return!1;for(var he=0;he<Z.length;he++)if(Math.abs((this.dimensions[he]||0)-(fe.dimensions[he]||0))>1e-12)return!1;return!0},M.prototype.equalBase=function(fe){for(var he=0;he<Z.length;he++)if(Math.abs((this.dimensions[he]||0)-(fe.dimensions[he]||0))>1e-12)return!1;return!0},M.prototype.equals=function(fe){return this.equalBase(fe)&&d(this.value,fe.value)},M.prototype.multiply=function(fe){for(var he=this.clone(),Be=ou(fe)?fe:new M(fe),ue=0;ue<Z.length;ue++)he.dimensions[ue]=(this.dimensions[ue]||0)+(Be.dimensions[ue]||0);for(var xe=0;xe<Be.units.length;xe++){var we=x_({},Be.units[xe]);he.units.push(we)}if(this.value!==null||Be.value!==null){var ie=this.value===null?this._normalize(1):this.value,re=Be.value===null?Be._normalize(1):Be.value;he.value=a(ie,re)}else he.value=null;return ou(fe)&&(he.skipAutomaticSimplification=!1),k(he)},M.prototype.divideInto=function(fe){return new M(fe).divide(this)},M.prototype.divide=function(fe){for(var he=this.clone(),Be=ou(fe)?fe:new M(fe),ue=0;ue<Z.length;ue++)he.dimensions[ue]=(this.dimensions[ue]||0)-(Be.dimensions[ue]||0);for(var xe=0;xe<Be.units.length;xe++){var we=x_(x_({},Be.units[xe]),{},{power:-Be.units[xe].power});he.units.push(we)}if(this.value!==null||Be.value!==null){var ie=this.value===null?this._normalize(1):this.value,re=Be.value===null?Be._normalize(1):Be.value;he.value=s(ie,re)}else he.value=null;return ou(fe)&&(he.skipAutomaticSimplification=!1),k(he)},M.prototype.pow=function(fe){for(var he=this.clone(),Be=0;Be<Z.length;Be++)he.dimensions[Be]=(this.dimensions[Be]||0)*fe;for(var ue=0;ue<he.units.length;ue++)he.units[ue].power*=fe;return he.value!==null?he.value=o(he.value,fe):he.value=null,he.skipAutomaticSimplification=!1,k(he)};function k(fe){return fe.equalBase(H.NONE)&&fe.value!==null&&!t.predictable?fe.value:fe}M.prototype.abs=function(){var fe=this.clone();if(fe.value!==null)if(fe._isDerived()||fe.units.length===0||fe.units[0].unit.offset===0)fe.value=l(fe.value);else{var he=fe._numberConverter(),Be=he(fe.units[0].unit.value),ue=he(fe.units[0].unit.offset),xe=a(Be,ue);fe.value=i(l(r(fe.value,xe)),xe)}for(var we in fe.units)(fe.units[we].unit.name==="VA"||fe.units[we].unit.name==="VAR")&&(fe.units[we].unit=Q.W);return fe},M.prototype.to=function(fe){var he=this.value===null?this._normalize(1):this.value,Be;if(typeof fe=="string")Be=M.parse(fe);else if(ou(fe))Be=fe.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(Be))throw new Error("Units do not match ('".concat(Be.toString(),"' != '").concat(this.toString(),"')"));if(Be.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||Be.units.length===0||this.units[0].unit.offset===Be.units[0].unit.offset)Be.value=Rn(he);else{var ue=M._getNumberConverter(Wr(he)),xe=this.units[0].unit.value,we=this.units[0].unit.offset,ie=a(xe,we),re=Be.units[0].unit.value,ee=Be.units[0].unit.offset,oe=a(re,ee);Be.value=r(he,ue(i(ie,oe)))}return Be.fixPrefix=!0,Be.skipAutomaticSimplification=!0,Be},M.prototype.toNumber=function(fe){return _(this.toNumeric(fe))},M.prototype.toNumeric=function(fe){var he;return fe?he=this.to(fe):he=this.clone(),he._isDerived()||he.units.length===0?he._denormalize(he.value):he._denormalize(he.value,he.units[0].prefix.value)},M.prototype.toString=function(){return this.format()},M.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},M.fromJSON=function(fe){var he=new M(fe.value,fe.unit);return he.fixPrefix=fe.fixPrefix||!1,he},M.prototype.valueOf=M.prototype.toString,M.prototype.simplify=function(){var fe=this.clone(),he=[],Be;for(var ue in ce)if(Qt(ce,ue)&&fe.hasBase(H[ue])){Be=ue;break}if(Be==="NONE")fe.units=[];else{var xe;if(Be&&Qt(ce,Be)&&(xe=ce[Be]),xe)fe.units=[{unit:xe.unit,prefix:xe.prefix,power:1}];else{for(var we=!1,ie=0;ie<Z.length;ie++){var re=Z[ie];Math.abs(fe.dimensions[ie]||0)>1e-12&&(Qt(ce,re)?he.push({unit:ce[re].unit,prefix:ce[re].prefix,power:fe.dimensions[ie]||0}):we=!0)}he.length<fe.units.length&&!we&&(fe.units=he)}}return fe},M.prototype.toSI=function(){for(var fe=this.clone(),he=[],Be=0;Be<Z.length;Be++){var ue=Z[Be];if(Math.abs(fe.dimensions[Be]||0)>1e-12)if(Qt(de.si,ue))he.push({unit:de.si[ue].unit,prefix:de.si[ue].prefix,power:fe.dimensions[Be]||0});else throw new Error("Cannot express custom unit "+ue+" in SI units")}return fe.units=he,fe.fixPrefix=!0,fe.skipAutomaticSimplification=!0,this.value!==null?(fe.value=null,this.to(fe)):fe},M.prototype.formatUnits=function(){for(var fe="",he="",Be=0,ue=0,xe=0;xe<this.units.length;xe++)this.units[xe].power>0?(Be++,fe+=" "+this.units[xe].prefix.name+this.units[xe].unit.name,Math.abs(this.units[xe].power-1)>1e-15&&(fe+="^"+this.units[xe].power)):this.units[xe].power<0&&ue++;if(ue>0)for(var we=0;we<this.units.length;we++)this.units[we].power<0&&(Be>0?(he+=" "+this.units[we].prefix.name+this.units[we].unit.name,Math.abs(this.units[we].power+1)>1e-15&&(he+="^"+-this.units[we].power)):(he+=" "+this.units[we].prefix.name+this.units[we].unit.name,he+="^"+this.units[we].power));fe=fe.substr(1),he=he.substr(1),Be>1&&ue>0&&(fe="("+fe+")"),ue>1&&Be>0&&(he="("+he+")");var ie=fe;return Be>0&&ue>0&&(ie+=" / "),ie+=he,ie},M.prototype.format=function(fe){var he=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),Be=!1;typeof he.value<"u"&&he.value!==null&&Cd(he.value)&&(Be=Math.abs(he.value.re)<1e-14);for(var ue in he.units)Qt(he.units,ue)&&he.units[ue].unit&&(he.units[ue].unit.name==="VA"&&Be?he.units[ue].unit=Q.VAR:he.units[ue].unit.name==="VAR"&&!Be&&(he.units[ue].unit=Q.VA));he.units.length===1&&!he.fixPrefix&&Math.abs(he.units[0].power-Math.round(he.units[0].power))<1e-14&&(he.units[0].prefix=he._bestPrefix());var xe=he._denormalize(he.value),we=he.value!==null?p(xe,fe||{}):"",ie=he.formatUnits();return he.value&&Cd(he.value)&&(we="("+we+")"),ie.length>0&&we.length>0&&(we+=" "),we+=ie,we},M.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var fe=this.value!==null?l(this.value):0,he=l(this.units[0].unit.value),Be=this.units[0].prefix;if(fe===0)return Be;var ue=this.units[0].power,xe=Math.log(fe/Math.pow(Be.value*he,ue))/Math.LN10-1.2;if(xe>-2.200001&&xe<1.800001)return Be;xe=Math.abs(xe);var we=this.units[0].unit.prefixes;for(var ie in we)if(Qt(we,ie)){var re=we[ie];if(re.scientific){var ee=Math.abs(Math.log(fe/Math.pow(re.value*he,ue))/Math.LN10-1.2);(ee<xe||ee===xe&&re.name.length<Be.name.length)&&(Be=re,xe=ee)}}return Be},M.prototype.splitUnit=function(fe){for(var he=this.clone(),Be=[],ue=0;ue<fe.length&&(he=he.to(fe[ue]),ue!==fe.length-1);ue++){var xe=he.toNumeric(),we=c(xe),ie=void 0,re=d(we,xe);re?ie=we:ie=u(he.toNumeric());var ee=new M(ie,fe[ue].toString());Be.push(ee),he=i(he,ee)}for(var oe=0,ge=0;ge<Be.length;ge++)oe=r(oe,Be[ge].value);return d(oe,this.value)&&(he.value=0),Be.push(he),Be};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=mi({},P.SHORT,P.LONG),P.BINARY_SHORT=mi({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=mi({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var Z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],H={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ae in H)Qt(H,ae)&&(H[ae].key=ae);var W={},K={name:"",base:W,value:1,offset:0,dimensions:Z.map(fe=>0)},Q={meter:{name:"meter",base:H.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:H.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:H.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:H.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:H.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:H.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:H.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:H.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:H.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:H.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:H.SURFACE,prefixes:P.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:H.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:H.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:H.SURFACE,prefixes:P.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:H.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:H.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:H.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:H.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:H.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:H.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:H.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:H.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:H.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:H.VOLUME,prefixes:P.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:H.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:H.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:H.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:H.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:H.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:H.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:H.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:H.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:H.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:H.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:H.VOLUME,prefixes:P.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:H.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:H.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:H.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:H.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:H.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:H.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:H.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:H.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},obl:{name:"obl",base:H.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},g:{name:"g",base:H.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:H.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:H.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:H.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:H.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:H.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:H.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:H.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:H.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:H.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:H.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:H.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:H.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:H.TIME,prefixes:P.NONE,value:7*86400,offset:0},month:{name:"month",base:H.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:H.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:H.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:H.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:H.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:H.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:H.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:H.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:H.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:H.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:H.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:0},degC:{name:"degC",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:273.15},degF:{name:"degF",base:H.TEMPERATURE,prefixes:P.SHORT,value:new b(5,9),offset:459.67},degR:{name:"degR",base:H.TEMPERATURE,prefixes:P.SHORT,value:new b(5,9),offset:0},kelvin:{name:"kelvin",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:0},celsius:{name:"celsius",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:H.TEMPERATURE,prefixes:P.LONG,value:new b(5,9),offset:459.67},rankine:{name:"rankine",base:H.TEMPERATURE,prefixes:P.LONG,value:new b(5,9),offset:0},mol:{name:"mol",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:H.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:H.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:H.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:H.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:H.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:H.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:H.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:H.FORCE,prefixes:P.NONE,value:9.80665,offset:0},J:{name:"J",base:H.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:H.ENERGY,prefixes:P.LONG,value:1,offset:0},erg:{name:"erg",base:H.ENERGY,prefixes:P.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:H.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:H.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:H.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:H.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:H.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:H.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:H.POWER,prefixes:P.SHORT,value:x.I,offset:0},VA:{name:"VA",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:H.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:H.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:H.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:H.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:H.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:H.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:H.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:H.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:H.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:H.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:H.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:H.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:H.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:H.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:H.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:H.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:H.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:H.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:H.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:H.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:H.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},te={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function le(fe){if(fe.number==="BigNumber"){var he=cT(A);Q.rad.value=new A(1),Q.deg.value=he.div(180),Q.grad.value=he.div(200),Q.cycle.value=he.times(2),Q.arcsec.value=he.div(648e3),Q.arcmin.value=he.div(10800)}else Q.rad.value=1,Q.deg.value=Math.PI/180,Q.grad.value=Math.PI/200,Q.cycle.value=Math.PI*2,Q.arcsec.value=Math.PI/648e3,Q.arcmin.value=Math.PI/10800;Q.radian.value=Q.rad.value,Q.degree.value=Q.deg.value,Q.gradian.value=Q.grad.value}le(t),e&&e("config",function(fe,he){fe.number!==he.number&&le(fe)});var de={si:{NONE:{unit:K,prefix:P.NONE[""]},LENGTH:{unit:Q.m,prefix:P.SHORT[""]},MASS:{unit:Q.g,prefix:P.SHORT.k},TIME:{unit:Q.s,prefix:P.SHORT[""]},CURRENT:{unit:Q.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:Q.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:Q.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:Q.mol,prefix:P.SHORT[""]},ANGLE:{unit:Q.rad,prefix:P.SHORT[""]},BIT:{unit:Q.bits,prefix:P.SHORT[""]},FORCE:{unit:Q.N,prefix:P.SHORT[""]},ENERGY:{unit:Q.J,prefix:P.SHORT[""]},POWER:{unit:Q.W,prefix:P.SHORT[""]},PRESSURE:{unit:Q.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:Q.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:Q.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:Q.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:Q.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:Q.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:Q.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:Q.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:Q.T,prefix:P.SHORT[""]},FREQUENCY:{unit:Q.Hz,prefix:P.SHORT[""]}}};de.cgs=JSON.parse(JSON.stringify(de.si)),de.cgs.LENGTH={unit:Q.m,prefix:P.SHORT.c},de.cgs.MASS={unit:Q.g,prefix:P.SHORT[""]},de.cgs.FORCE={unit:Q.dyn,prefix:P.SHORT[""]},de.cgs.ENERGY={unit:Q.erg,prefix:P.NONE[""]},de.us=JSON.parse(JSON.stringify(de.si)),de.us.LENGTH={unit:Q.ft,prefix:P.NONE[""]},de.us.MASS={unit:Q.lbm,prefix:P.NONE[""]},de.us.TEMPERATURE={unit:Q.degF,prefix:P.NONE[""]},de.us.FORCE={unit:Q.lbf,prefix:P.NONE[""]},de.us.ENERGY={unit:Q.BTU,prefix:P.BTU[""]},de.us.POWER={unit:Q.hp,prefix:P.NONE[""]},de.us.PRESSURE={unit:Q.psi,prefix:P.NONE[""]},de.auto=JSON.parse(JSON.stringify(de.si));var ce=de.auto;M.setUnitSystem=function(fe){if(Qt(de,fe))ce=de[fe];else throw new Error("Unit system "+fe+" does not exist. Choices are: "+Object.keys(de).join(", "))},M.getUnitSystem=function(){for(var fe in de)if(Qt(de,fe)&&de[fe]===ce)return fe},M.typeConverters={BigNumber:function(he){return he!=null&&he.isFraction?new A(he.n).div(he.d).times(he.s):new A(he+"")},Fraction:function(he){return new b(he)},Complex:function(he){return he},number:function(he){return he!=null&&he.isFraction?g(he):he}},M.prototype._numberConverter=function(){var fe=M.typeConverters[this.valueType()];if(fe)return fe;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},M._getNumberConverter=function(fe){if(!M.typeConverters[fe])throw new TypeError('Unsupported type "'+fe+'"');return M.typeConverters[fe]};for(var be in Q)if(Qt(Q,be)){var Te=Q[be];Te.dimensions=Te.base.dimensions}for(var Oe in te)if(Qt(te,Oe)){var Fe=Q[te[Oe]],Se={};for(var Ve in Fe)Qt(Fe,Ve)&&(Se[Ve]=Fe[Ve]);Se.name=Oe,Q[Oe]=Se}M.isValidAlpha=function(he){return/^[a-zA-Z]$/.test(he)};function ve(fe){for(var he=0;he<fe.length;he++){if(T=fe.charAt(he),he===0&&!M.isValidAlpha(T))throw new Error('Invalid unit name (must begin with alpha character): "'+fe+'"');if(he>0&&!(M.isValidAlpha(T)||R(T)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+fe+'"')}}return M.createUnit=function(fe,he){if(typeof fe!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(he&&he.override){for(var Be in fe)if(Qt(fe,Be)&&M.deleteUnit(Be),fe[Be].aliases)for(var ue=0;ue<fe[Be].aliases.length;ue++)M.deleteUnit(fe[Be].aliases[ue])}var xe;for(var we in fe)Qt(fe,we)&&(xe=M.createUnitSingle(we,fe[we]));return xe},M.createUnitSingle=function(fe,he){if((typeof he>"u"||he===null)&&(he={}),typeof fe!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Qt(Q,fe))throw new Error('Cannot create unit "'+fe+'": a unit with that name already exists');ve(fe);var Be=null,ue=[],xe=0,we,ie,re;if(he&&he.type==="Unit")Be=he.clone();else if(typeof he=="string")he!==""&&(we=he);else if(typeof he=="object")we=he.definition,ie=he.prefixes,xe=he.offset,re=he.baseName,he.aliases&&(ue=he.aliases.valueOf());else throw new TypeError('Cannot create unit "'+fe+'" from "'+he.toString()+'": expecting "string" or "Unit" or "Object"');if(ue){for(var ee=0;ee<ue.length;ee++)if(Qt(Q,ue[ee]))throw new Error('Cannot create alias "'+ue[ee]+'": a unit with that name already exists')}if(we&&typeof we=="string"&&!Be)try{Be=M.parse(we,{allowNoUnits:!0})}catch(G){throw G.message='Could not create unit "'+fe+'" from "'+we+'": '+G.message,G}else we&&we.type==="Unit"&&(Be=we.clone());ue=ue||[],xe=xe||0,ie&&ie.toUpperCase?ie=P[ie.toUpperCase()]||P.NONE:ie=P.NONE;var oe={};if(Be){oe={name:fe,value:Be.value,dimensions:Be.dimensions.slice(0),prefixes:ie,offset:xe};var Ue=!1;for(var He in H)if(Qt(H,He)){for(var et=!0,Xe=0;Xe<Z.length;Xe++)if(Math.abs((oe.dimensions[Xe]||0)-(H[He].dimensions[Xe]||0))>1e-12){et=!1;break}if(et){Ue=!0,oe.base=H[He];break}}if(!Ue){re=re||fe+"_STUFF";var We={dimensions:Be.dimensions.slice(0)};We.key=re,H[re]=We,ce[re]={unit:oe,prefix:P.NONE[""]},oe.base=H[re]}}else{if(re=re||fe+"_STUFF",Z.indexOf(re)>=0)throw new Error('Cannot create new base unit "'+fe+'": a base unit with that name already exists (and cannot be overridden)');Z.push(re);for(var ge in H)Qt(H,ge)&&(H[ge].dimensions[Z.length-1]=0);for(var De={dimensions:[]},Le=0;Le<Z.length;Le++)De.dimensions[Le]=0;De.dimensions[Z.length-1]=1,De.key=re,H[re]=De,oe={name:fe,value:1,dimensions:H[re].dimensions.slice(0),prefixes:ie,offset:xe,base:H[re]},ce[re]={unit:oe,prefix:P.NONE[""]}}M.UNITS[fe]=oe;for(var st=0;st<ue.length;st++){var lt=ue[st],Ke={};for(var ze in oe)Qt(oe,ze)&&(Ke[ze]=oe[ze]);Ke.name=lt,M.UNITS[lt]=Ke}return delete $.cache,new M(null,fe)},M.deleteUnit=function(fe){delete M.UNITS[fe],delete $.cache},M.PREFIXES=P,M.BASE_DIMENSIONS=Z,M.BASE_UNITS=H,M.UNIT_SYSTEMS=de,M.UNITS=Q,M},{isClass:!0}),GO="unit",tye=["typed","Unit"],nye=Me(GO,tye,n=>{var{typed:e,Unit:t}=n;return e(GO,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Zn(i,r))})}),$O="sparse",rye=["typed","SparseMatrix"],iye=Me($O,rye,n=>{var{typed:e,SparseMatrix:t}=n;return e($O,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})}),XO="createUnit",aye=["typed","Unit"],sye=Me(XO,aye,n=>{var{typed:e,Unit:t}=n;return e(XO,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,s){var o={};return o[i]=a,t.createUnit(o,s)},"string, Unit | string | Object":function(i,a){var s={};return s[i]=a,t.createUnit(s,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})}),WO="acos",oye=["typed","config","Complex"],lye=Me(WO,oye,n=>{var{typed:e,config:t,Complex:r}=n;return e(WO,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new r(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),YO="acosh",uye=["typed","config","Complex"],cye=Me(YO,uye,n=>{var{typed:e,config:t,Complex:r}=n;return e(YO,{number:function(a){return a>=1||t.predictable?ZV(a):a<=-1?new r(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new r(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),ZO="acot",fye=["typed","BigNumber"],dye=Me(ZO,fye,n=>{var{typed:e,BigNumber:t}=n;return e(ZO,{number:KV,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})}),KO="acoth",hye=["typed","config","Complex","BigNumber"],mye=Me(KO,hye,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(KO,{number:function(s){return s>=1||s<=-1||t.predictable?QV(s):new r(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new i(1).div(s).atanh()}})}),QO="acsc",pye=["typed","config","Complex","BigNumber"],vye=Me(QO,pye,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(QO,{number:function(s){return s<=-1||s>=1||t.predictable?JV(s):new r(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new i(1).div(s).asin()}})}),JO="acsch",gye=["typed","BigNumber"],xye=Me(JO,gye,n=>{var{typed:e,BigNumber:t}=n;return e(JO,{number:eH,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})}),ez="asec",yye=["typed","config","Complex","BigNumber"],bye=Me(ez,yye,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(ez,{number:function(s){return s<=-1||s>=1||t.predictable?tH(s):new r(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new i(1).div(s).acos()}})}),tz="asech",Sye=["typed","config","Complex","BigNumber"],wye=Me(tz,Sye,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(tz,{number:function(s){if(s<=1&&s>=-1||t.predictable){var o=1/s;if(o>0||t.predictable)return nH(s);var l=Math.sqrt(o*o-1);return new r(Math.log(l-o),Math.PI)}return new r(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new i(1).div(s).acosh()}})}),nz="asin",Aye=["typed","config","Complex"],Mye=Me(nz,Aye,n=>{var{typed:e,config:t,Complex:r}=n;return e(nz,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new r(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),_ye="asinh",Eye=["typed"],Nye=Me(_ye,Eye,n=>{var{typed:e}=n;return e("asinh",{number:rH,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),Tye="atan",Cye=["typed"],Dye=Me(Tye,Cye,n=>{var{typed:e}=n;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),rz="atan2",Rye=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Bye=Me(rz,Rye,n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,DenseMatrix:a,concat:s}=n,o=gc({typed:e,equalScalar:r}),l=Ro({typed:e}),u=xH({typed:e,equalScalar:r}),c=ys({typed:e,equalScalar:r}),d=Pa({typed:e,DenseMatrix:a}),h=ni({typed:e,matrix:t,concat:s});return e(rz,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,g)=>i.atan2(p,g)},h({scalar:"number | BigNumber",SS:u,DS:l,SD:o,Ss:c,sS:d}))}),iz="atanh",Oye=["typed","config","Complex"],zye=Me(iz,Oye,n=>{var{typed:e,config:t,Complex:r}=n;return e(iz,{number:function(a){return a<=1&&a>=-1||t.predictable?iH(a):new r(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),$1=Me("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,r.valueType())(r.value)})}}),az="cos",Uye=["typed"],Fye=Me(az,Uye,n=>{var{typed:e}=n,t=$1({typed:e});return e(az,{number:Math.cos,"Complex | BigNumber":r=>r.cos()},t)}),sz="cosh",Lye=["typed"],kye=Me(sz,Lye,n=>{var{typed:e}=n;return e(sz,{number:Rde,"Complex | BigNumber":t=>t.cosh()})}),oz="cot",Iye=["typed","BigNumber"],Pye=Me(oz,Iye,n=>{var{typed:e,BigNumber:t}=n,r=$1({typed:e});return e(oz,{number:aH,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},r)}),lz="coth",jye=["typed","BigNumber"],Vye=Me(lz,jye,n=>{var{typed:e,BigNumber:t}=n;return e(lz,{number:sH,Complex:r=>r.coth(),BigNumber:r=>new t(1).div(r.tanh())})}),uz="csc",Hye=["typed","BigNumber"],qye=Me(uz,Hye,n=>{var{typed:e,BigNumber:t}=n,r=$1({typed:e});return e(uz,{number:oH,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},r)}),cz="csch",Gye=["typed","BigNumber"],$ye=Me(cz,Gye,n=>{var{typed:e,BigNumber:t}=n;return e(cz,{number:lH,Complex:r=>r.csch(),BigNumber:r=>new t(1).div(r.sinh())})}),fz="sec",Xye=["typed","BigNumber"],Wye=Me(fz,Xye,n=>{var{typed:e,BigNumber:t}=n,r=$1({typed:e});return e(fz,{number:uH,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},r)}),dz="sech",Yye=["typed","BigNumber"],Zye=Me(dz,Yye,n=>{var{typed:e,BigNumber:t}=n;return e(dz,{number:cH,Complex:r=>r.sech(),BigNumber:r=>new t(1).div(r.cosh())})}),hz="sin",Kye=["typed"],Qye=Me(hz,Kye,n=>{var{typed:e}=n,t=$1({typed:e});return e(hz,{number:Math.sin,"Complex | BigNumber":r=>r.sin()},t)}),mz="sinh",Jye=["typed"],e2e=Me(mz,Jye,n=>{var{typed:e}=n;return e(mz,{number:fH,"Complex | BigNumber":t=>t.sinh()})}),pz="tan",t2e=["typed"],n2e=Me(pz,t2e,n=>{var{typed:e}=n,t=$1({typed:e});return e(pz,{number:Math.tan,"Complex | BigNumber":r=>r.tan()},t)}),r2e="tanh",i2e=["typed"],a2e=Me(r2e,i2e,n=>{var{typed:e}=n;return e("tanh",{number:Ode,"Complex | BigNumber":t=>t.tanh()})}),vz="setCartesian",s2e=["typed","size","subset","compareNatural","Index","DenseMatrix"],o2e=Me(vz,s2e,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:s}=n;return e(vz,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(r(t(l),new a(0))!==0&&r(t(u),new a(0))!==0){var d=Mr(Array.isArray(l)?l:l.toArray()).sort(i),h=Mr(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var p=0;p<d.length;p++)for(var g=0;g<h.length;g++)c.push([d[p],h[g]])}return Array.isArray(l)&&Array.isArray(u)?c:new s(c)}})}),gz="setDifference",l2e=["typed","size","subset","compareNatural","Index","DenseMatrix"],u2e=Me(gz,l2e,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:s}=n;return e(gz,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(t(l),new a(0))===0)c=[];else{if(r(t(u),new a(0))===0)return Mr(l.toArray());var d=v1(Mr(Array.isArray(l)?l:l.toArray()).sort(i)),h=v1(Mr(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var p,g=0;g<d.length;g++){p=!1;for(var x=0;x<h.length;x++)if(i(d[g].value,h[x].value)===0&&d[g].identifier===h[x].identifier){p=!0;break}p||c.push(d[g])}}return Array.isArray(l)&&Array.isArray(u)?GS(c):new s(GS(c))}})}),xz="setDistinct",c2e=["typed","size","subset","compareNatural","Index","DenseMatrix"],f2e=Me(xz,c2e,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:s}=n;return e(xz,{"Array | Matrix":function(l){var u;if(r(t(l),new a(0))===0)u=[];else{var c=Mr(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var d=1;d<c.length;d++)i(c[d],c[d-1])!==0&&u.push(c[d])}return Array.isArray(l)?u:new s(u)}})}),yz="setIntersect",d2e=["typed","size","subset","compareNatural","Index","DenseMatrix"],h2e=Me(yz,d2e,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:s}=n;return e(yz,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(t(l),new a(0))===0||r(t(u),new a(0))===0)c=[];else{var d=v1(Mr(Array.isArray(l)?l:l.toArray()).sort(i)),h=v1(Mr(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var p=0;p<d.length;p++)for(var g=0;g<h.length;g++)if(i(d[p].value,h[g].value)===0&&d[p].identifier===h[g].identifier){c.push(d[p]);break}}return Array.isArray(l)&&Array.isArray(u)?GS(c):new s(GS(c))}})}),bz="setIsSubset",m2e=["typed","size","subset","compareNatural","Index"],p2e=Me(bz,m2e,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(bz,{"Array | Matrix, Array | Matrix":function(o,l){if(r(t(o),new a(0))===0)return!0;if(r(t(l),new a(0))===0)return!1;for(var u=v1(Mr(Array.isArray(o)?o:o.toArray()).sort(i)),c=v1(Mr(Array.isArray(l)?l:l.toArray()).sort(i)),d,h=0;h<u.length;h++){d=!1;for(var p=0;p<c.length;p++)if(i(u[h].value,c[p].value)===0&&u[h].identifier===c[p].identifier){d=!0;break}if(d===!1)return!1}return!0}})}),Sz="setMultiplicity",v2e=["typed","size","subset","compareNatural","Index"],g2e=Me(Sz,v2e,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(Sz,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(o,l){if(r(t(l),new a(0))===0)return 0;for(var u=Mr(Array.isArray(l)?l:l.toArray()),c=0,d=0;d<u.length;d++)i(u[d],o)===0&&c++;return c}})}),wz="setPowerset",x2e=["typed","size","subset","compareNatural","Index"],y2e=Me(wz,x2e,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(wz,{"Array | Matrix":function(u){if(r(t(u),new a(0))===0)return[];for(var c=Mr(Array.isArray(u)?u:u.toArray()).sort(i),d=[],h=0;h.toString(2).length<=c.length;)d.push(s(c,h.toString(2).split("").reverse())),h++;return o(d)}});function s(l,u){for(var c=[],d=0;d<u.length;d++)u[d]==="1"&&c.push(l[d]);return c}function o(l){for(var u=[],c=l.length-1;c>0;c--)for(var d=0;d<c;d++)l[d].length>l[d+1].length&&(u=l[d],l[d]=l[d+1],l[d+1]=u);return l}}),Az="setSize",b2e=["typed","compareNatural"],S2e=Me(Az,b2e,n=>{var{typed:e,compareNatural:t}=n;return e(Az,{"Array | Matrix":function(i){return Array.isArray(i)?Mr(i).length:Mr(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?Mr(i).length:Mr(i.toArray()).length;for(var s=Mr(Array.isArray(i)?i:i.toArray()).sort(t),o=1,l=1;l<s.length;l++)t(s[l],s[l-1])!==0&&o++;return o}})}),Mz="setSymDifference",w2e=["typed","size","concat","subset","setDifference","Index"],A2e=Me(Mz,w2e,n=>{var{typed:e,size:t,concat:r,subset:i,setDifference:a,Index:s}=n;return e(Mz,{"Array | Matrix, Array | Matrix":function(l,u){if(i(t(l),new s(0))===0)return Mr(u);if(i(t(u),new s(0))===0)return Mr(l);var c=Mr(l),d=Mr(u);return r(a(c,d),a(d,c))}})}),_z="setUnion",M2e=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],_2e=Me(_z,M2e,n=>{var{typed:e,size:t,concat:r,subset:i,setIntersect:a,setSymDifference:s,Index:o}=n;return e(_z,{"Array | Matrix, Array | Matrix":function(u,c){if(i(t(u),new o(0))===0)return Mr(c);if(i(t(c),new o(0))===0)return Mr(u);var d=Mr(u),h=Mr(c);return r(s(d,h),a(d,h))}})}),Ez="add",E2e=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],N2e=Me(Ez,E2e,n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:o}=n,l=mh({typed:e}),u=aT({typed:e,equalScalar:i}),c=ap({typed:e,DenseMatrix:a}),d=ni({typed:e,matrix:t,concat:o});return e(Ez,{"any, any":r,"any, any, ...any":e.referToSelf(h=>(p,g,x)=>{for(var A=h(p,g),b=0;b<x.length;b++)A=h(A,x[b]);return A})},d({elop:r,DS:l,SS:u,Ss:c}))}),Nz="hypot",T2e=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],C2e=Me(Nz,T2e,n=>{var{typed:e,abs:t,addScalar:r,divideScalar:i,multiplyScalar:a,sqrt:s,smaller:o,isPositive:l}=n;return e(Nz,{"... number | BigNumber":u,Array:u,Matrix:c=>u(Mr(c.toArray()))});function u(c){for(var d=0,h=0,p=0;p<c.length;p++){if(Cd(c[p]))throw new TypeError("Unexpected type of argument to hypot");var g=t(c[p]);o(h,g)?(d=a(d,a(i(h,g),i(h,g))),d=r(d,1),h=g):d=r(d,l(g)?a(i(g,h),i(g,h)):g)}return a(h,s(d))}}),Tz="norm",D2e=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],R2e=Me(Tz,D2e,n=>{var{typed:e,abs:t,add:r,pow:i,conj:a,sqrt:s,multiply:o,equalScalar:l,larger:u,smaller:c,matrix:d,ctranspose:h,eigs:p}=n;return e(Tz,{number:Math.abs,Complex:function(z){return z.abs()},BigNumber:function(z){return z.abs()},boolean:function(z){return Math.abs(z)},Array:function(z){return T(d(z),2)},Matrix:function(z){return T(z,2)},"Array, number | BigNumber | string":function(z,R){return T(d(z),R)},"Matrix, number | BigNumber | string":function(z,R){return T(z,R)}});function g(B){var z=0;return B.forEach(function(R){var O=t(R);u(O,z)&&(z=O)},!0),z}function x(B){var z;return B.forEach(function(R){var O=t(R);(!z||c(O,z))&&(z=O)},!0),z||0}function A(B,z){if(z===Number.POSITIVE_INFINITY||z==="inf")return g(B);if(z===Number.NEGATIVE_INFINITY||z==="-inf")return x(B);if(z==="fro")return T(B,2);if(typeof z=="number"&&!isNaN(z)){if(!l(z,0)){var R=0;return B.forEach(function(O){R=r(i(t(O),z),R)},!0),i(R,1/z)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function b(B){var z=0;return B.forEach(function(R,O){z=r(z,o(R,a(R)))}),t(s(z))}function _(B){var z=[],R=0;return B.forEach(function(O,U){var I=U[1],q=r(z[I]||0,t(O));u(q,R)&&(R=q),z[I]=q},!0),R}function M(B){var z=B.size();if(z[0]!==z[1])throw new RangeError("Invalid matrix dimensions");var R=h(B),O=o(R,B),U=p(O).values.toArray(),I=U[U.length-1];return t(s(I))}function E(B){var z=[],R=0;return B.forEach(function(O,U){var I=U[0],q=r(z[I]||0,t(O));u(q,R)&&(R=q),z[I]=q},!0),R}function C(B,z){if(z===1)return _(B);if(z===Number.POSITIVE_INFINITY||z==="inf")return E(B);if(z==="fro")return b(B);if(z===2)return M(B);throw new Error("Unsupported parameter value "+z)}function T(B,z){var R=B.size();if(R.length===1)return A(B,z);if(R.length===2){if(R[0]&&R[1])return C(B,z);throw new RangeError("Invalid matrix dimensions")}}}),Cz="dot",B2e=["typed","addScalar","multiplyScalar","conj","size"],O2e=Me(Cz,B2e,n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:a}=n;return e(Cz,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":l});function s(c,d){var h=u(c),p=u(d),g,x;if(h.length===1)g=h[0];else if(h.length===2&&h[1]===1)g=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(p.length===1)x=p[0];else if(p.length===2&&p[1]===1)x=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(g!==x)throw new RangeError("Vectors must have equal length ("+g+" != "+x+")");if(g===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return g}function o(c,d){var h=s(c,d),p=vn(c)?c._data:c,g=vn(c)?c._datatype||c.getDataType():void 0,x=vn(d)?d._data:d,A=vn(d)?d._datatype||d.getDataType():void 0,b=u(c).length===2,_=u(d).length===2,M=t,E=r;if(g&&A&&g===A&&typeof g=="string"&&g!=="mixed"){var C=g;M=e.find(t,[C,C]),E=e.find(r,[C,C])}if(!b&&!_){for(var T=E(i(p[0]),x[0]),B=1;B<h;B++)T=M(T,E(i(p[B]),x[B]));return T}if(!b&&_){for(var z=E(i(p[0]),x[0][0]),R=1;R<h;R++)z=M(z,E(i(p[R]),x[R][0]));return z}if(b&&!_){for(var O=E(i(p[0][0]),x[0]),U=1;U<h;U++)O=M(O,E(i(p[U][0]),x[U]));return O}if(b&&_){for(var I=E(i(p[0][0]),x[0][0]),q=1;q<h;q++)I=M(I,E(i(p[q][0]),x[q][0]));return I}}function l(c,d){s(c,d);for(var h=c._index,p=c._values,g=d._index,x=d._values,A=0,b=t,_=r,M=0,E=0;M<h.length&&E<g.length;){var C=h[M],T=g[E];if(C<T){M++;continue}if(C>T){E++;continue}C===T&&(A=b(A,_(p[M],x[E])),M++,E++)}return A}function u(c){return vn(c)?c.size():a(c)}}),z2e="trace",U2e=["typed","matrix","add"],F2e=Me(z2e,U2e,n=>{var{typed:e,matrix:t,add:r}=n;return e("trace",{Array:function(o){return i(t(o))},SparseMatrix:a,DenseMatrix:i,any:Rn});function i(s){var o=s._size,l=s._data;switch(o.length){case 1:if(o[0]===1)return Rn(l[0]);throw new RangeError("Matrix must be square (size: "+Xn(o)+")");case 2:{var u=o[0],c=o[1];if(u===c){for(var d=0,h=0;h<u;h++)d=r(d,l[h][h]);return d}else throw new RangeError("Matrix must be square (size: "+Xn(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Xn(o)+")")}}function a(s){var o=s._values,l=s._index,u=s._ptr,c=s._size,d=c[0],h=c[1];if(d===h){var p=0;if(o.length>0)for(var g=0;g<h;g++)for(var x=u[g],A=u[g+1],b=x;b<A;b++){var _=l[b];if(_===g){p=r(p,o[b]);break}if(_>g)break}return p}throw new RangeError("Matrix must be square (size: "+Xn(c)+")")}}),Dz="index",L2e=["typed","Index"],k2e=Me(Dz,L2e,n=>{var{typed:e,Index:t}=n;return e(Dz,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(o){return Pn(o)?o.toNumber():Tr(o)||vn(o)?o.map(function(l){return Pn(l)?l.toNumber():l}):o}),s=new t;return t.apply(s,a),s}})}),UH=new Set(["end"]),I2e="Node",P2e=["mathWithTransform"],j2e=Me(I2e,P2e,n=>{var{mathWithTransform:e}=n;function t(i){for(var a of[...UH])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class r{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),s={},o=null;function l(u){var c=i1(u);return t(c),a(c,s,o)}return{evaluate:l}}_compile(a,s){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Vr(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function s(o,l){o.forEach(function(u,c,d){l(u,c,d),s(u,l)})}s(this,a)}transform(a){function s(o,l,u){var c=a(o,l,u);return c!==o?c:o.map(s)}return s(this,null,null)}filter(a){var s=[];return this.traverse(function(o,l,u){a(o,l,u)&&s.push(o)}),s}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Qm(this,a):!1}toString(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return r},{isClass:!0,isNode:!0});function Bo(n){return n&&n.isIndexError?new mc(n.index+1,n.min+1,n.max!==void 0?n.max+1:void 0):n}function FH(n){var{subset:e}=n;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&typeof r.subset=="function")return r.subset(i);if(typeof r=="string")return e(r,i);if(typeof r=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Ao(r,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Bo(a)}}}var Z4="AccessorNode",V2e=["subset","Node"],H2e=Me(Z4,V2e,n=>{var{subset:e,Node:t}=n,r=FH({subset:e});function i(s){return!(Km(s)||su(s)||vr(s)||ih(s)||d5(s)||Id(s)||Ja(s))}class a extends t{constructor(o,l){if(super(),!Vr(o))throw new TypeError('Node expected for parameter "object"');if(!P1(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=o,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Z4}get isAccessorNode(){return!0}_compile(o,l){var u=this.object._compile(o,l),c=this.index._compile(o,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(p,g,x){return Ao(u(p,g,x),d)}}else return function(p,g,x){var A=u(p,g,x),b=c(p,g,A);return r(A,b)}}forEach(o){o(this.object,"object",this),o(this.index,"index",this)}map(o){return new a(this._ifNode(o(this.object,"object",this)),this._ifNode(o(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(o){var l=this.object.toString(o);return i(this.object)&&(l="("+l+")"),l+this.index.toString(o)}_toHTML(o){var l=this.object.toHTML(o);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(o)}_toTex(o){var l=this.object.toTex(o);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(o)}toJSON(){return{mathjs:Z4,object:this.object,index:this.index}}static fromJSON(o){return new a(o.object,o.index)}}return Fa(a,"name",Z4),a},{isClass:!0,isNode:!0}),K4="ArrayNode",q2e=["Node"],G2e=Me(K4,q2e,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Vr))throw new TypeError("Array containing Nodes expected")}get type(){return K4}get isArrayNode(){return!0}_compile(i,a){var s=Dd(this.items,function(u){return u._compile(i,a)}),o=i.config.matrix!=="Array";if(o){var l=i.matrix;return function(c,d,h){return l(Dd(s,function(p){return p(c,d,h)}))}}else return function(c,d,h){return Dd(s,function(p){return p(c,d,h)})}}forEach(i){for(var a=0;a<this.items.length;a++){var s=this.items[a];i(s,"items["+a+"]",this)}}map(i){for(var a=[],s=0;s<this.items.length;s++)a[s]=this._ifNode(i(this.items[s],"items["+s+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(s){return s.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:K4,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(s){return s.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(s,o){var l=s.some(su)&&!s.every(su),u=o||l,c=u?"&":"\\\\",d=s.map(function(h){return h.items?a(h.items,!o):h.toTex(i)}).join(c);return l||!u||u&&!o?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}return a(this.items,!1)}}return Fa(t,"name",K4),t},{isClass:!0,isNode:!0});function $2e(n){var{subset:e,matrix:t}=n;return function(i,a,s){try{if(Array.isArray(i)){var o=t(i).subset(a,s).valueOf();return o.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,s);if(typeof i=="string")return e(i,a,s);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return g1(i,a.getObjectProperty(),s),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Bo(l)}}}var rc=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Q4(n,e){if(!e||e!=="auto")return n;for(var t=n;Id(t);)t=t.content;return t}function Xr(n,e,t,r){var i=n;e!=="keep"&&(i=n.getContent());for(var a=i.getIdentifier(),s=null,o=0;o<rc.length;o++)if(a in rc[o]){s=o;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var l=Q4(i.args[0],e);!(vr(l)&&r&&r.getIdentifier()==="OperatorNode:divide"&&LE(Q4(r.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&LE(Q4(l.args[0],e))&&vr(Q4(l.args[1])))&&(s+=1)}return s}function kx(n,e){var t=n;e!=="keep"&&(t=n.getContent());var r=t.getIdentifier(),i=Xr(t,e);if(i===null)return null;var a=rc[i][r];if(Qt(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+r+"' has the invalid associativity '"+a.associativity+"'.")}return null}function y_(n,e,t){var r=t!=="keep"?n.getContent():n,i=t!=="keep"?n.getContent():e,a=r.getIdentifier(),s=i.getIdentifier(),o=Xr(r,t);if(o===null)return null;var l=rc[o][a];if(Qt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===s)return!0;return!1}return null}function X2e(n){var e="OperatorNode:"+n;for(var t of rc)if(e in t)return t[e].op;return null}var J4="AssignmentNode",W2e=["subset","?matrix","Node"],Y2e=Me(J4,W2e,n=>{var{subset:e,matrix:t,Node:r}=n,i=FH({subset:e}),a=$2e({subset:e,matrix:t});function s(l,u,c){u||(u="keep");var d=Xr(l,u,c),h=Xr(l.value,u,c);return u==="all"||h!==null&&h<=d}class o extends r{constructor(u,c,d){if(super(),this.object=u,this.index=d?c:null,this.value=d||c,!Ja(u)&&!Km(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Ja(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!P1(this.index))throw new TypeError('IndexNode expected as "index"');if(!Vr(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return J4}get isAssignmentNode(){return!0}_compile(u,c){var d=this.object._compile(u,c),h=this.index?this.index._compile(u,c):null,p=this.value._compile(u,c),g=this.object.name;if(this.index)if(this.index.isObjectProperty()){var x=this.index.getObjectProperty();return function(E,C,T){var B=d(E,C,T),z=p(E,C,T);return g1(B,x,z),z}}else{if(Ja(this.object))return function(E,C,T){var B=d(E,C,T),z=p(E,C,T),R=h(E,C,B);return E.set(g,a(B,R,z)),z};var A=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var b=this.object.index.getObjectProperty();return function(E,C,T){var B=A(E,C,T),z=Ao(B,b),R=h(E,C,z),O=p(E,C,T);return g1(B,b,a(z,R,O)),O}}else{var _=this.object.index._compile(u,c);return function(E,C,T){var B=A(E,C,T),z=_(E,C,B),R=i(B,z),O=h(E,C,R),U=p(E,C,T);return a(B,z,a(R,O,U)),U}}}else{if(!Ja(this.object))throw new TypeError("SymbolNode expected as object");return function(E,C,T){var B=p(E,C,T);return E.set(g,B),B}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),d=this.index?this._ifNode(u(this.index,"index",this)):null,h=this._ifNode(u(this.value,"value",this));return new o(c,d,h)}clone(){return new o(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),d=this.index?this.index.toString(u):"",h=this.value.toString(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(h="("+h+")"),c+d+" = "+h}toJSON(){return{mathjs:J4,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new o(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),d=this.index?this.index.toHTML(u):"",h=this.value.toHTML(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(h='<span class="math-paranthesis math-round-parenthesis">(</span>'+h+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(u){var c=this.object.toTex(u),d=this.index?this.index.toTex(u):"",h=this.value.toTex(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(h="\\left(".concat(h,"\\right)")),c+d+"="+h}}return Fa(o,"name",J4),o},{isClass:!0,isNode:!0}),e3="BlockNode",Z2e=["ResultSet","Node"],K2e=Me(e3,Z2e,n=>{var{ResultSet:e,Node:t}=n;class r extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(s){var o=s&&s.node,l=s&&s.visible!==void 0?s.visible:!0;if(!Vr(o))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:o,visible:l}})}get type(){return e3}get isBlockNode(){return!0}_compile(a,s){var o=Dd(this.blocks,function(l){return{evaluate:l.node._compile(a,s),visible:l.visible}});return function(u,c,d){var h=[];return m5(o,function(g){var x=g.evaluate(u,c,d);g.visible&&h.push(x)}),new e(h)}}forEach(a){for(var s=0;s<this.blocks.length;s++)a(this.blocks[s].node,"blocks["+s+"].node",this)}map(a){for(var s=[],o=0;o<this.blocks.length;o++){var l=this.blocks[o],u=this._ifNode(a(l.node,"blocks["+o+"].node",this));s[o]={node:u,visible:l.visible}}return new r(s)}clone(){var a=this.blocks.map(function(s){return{node:s.node,visible:s.visible}});return new r(a)}_toString(a){return this.blocks.map(function(s){return s.node.toString(a)+(s.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:e3,blocks:this.blocks}}static fromJSON(a){return new r(a.blocks)}_toHTML(a){return this.blocks.map(function(s){return s.node.toHTML(a)+(s.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(s){return s.node.toTex(a)+(s.visible?"":";")}).join(`\\;\\;
`)}}return Fa(r,"name",e3),r},{isClass:!0,isNode:!0}),t3="ConditionalNode",Q2e=["Node"],J2e=Me(t3,Q2e,n=>{var{Node:e}=n;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Pn(i))return!i.isZero();if(Cd(i))return!!(i.re||i.im);if(ou(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Wr(i)+'"')}class r extends e{constructor(a,s,o){if(super(),!Vr(a))throw new TypeError("Parameter condition must be a Node");if(!Vr(s))throw new TypeError("Parameter trueExpr must be a Node");if(!Vr(o))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=s,this.falseExpr=o}get type(){return t3}get isConditionalNode(){return!0}_compile(a,s){var o=this.condition._compile(a,s),l=this.trueExpr._compile(a,s),u=this.falseExpr._compile(a,s);return function(d,h,p){return t(o(d,h,p))?l(d,h,p):u(d,h,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new r(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=Xr(this,s,a&&a.implicit),l=this.condition.toString(a),u=Xr(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l="("+l+")");var c=this.trueExpr.toString(a),d=Xr(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=o)&&(c="("+c+")");var h=this.falseExpr.toString(a),p=Xr(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=o)&&(h="("+h+")"),l+" ? "+c+" : "+h}toJSON(){return{mathjs:t3,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new r(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=Xr(this,s,a&&a.implicit),l=this.condition.toHTML(a),u=Xr(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),d=Xr(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=o)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(a),p=Xr(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=o)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+h}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Fa(r,"name",t3),r},{isClass:!0,isNode:!0}),b_,Rz;function ebe(){if(Rz)return b_;Rz=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},t={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},r=function(a,s){return n({},a,s)};return b_=function(i){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.preserveFormatting,o=s===void 0?!1:s,l=a.escapeMapFn,u=l===void 0?r:l,c=String(i),d="",h=u(n({},e),o?n({},t):{}),p=Object.keys(h),g=function(){var A=!1;p.forEach(function(b,_){A||c.length>=b.length&&c.slice(0,b.length)===b&&(d+=h[p[_]],c=c.slice(b.length,c.length),A=!0)}),A||(d+=c.slice(0,1),c=c.slice(1,c.length))};c;)g();return d},b_}var tbe=ebe();const nbe=jd(tbe);var WE={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Ar={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Bz={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Ar.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Ar.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Ar.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Ar.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Ar.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Ar.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Ar.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Ar.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Ar.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Ar.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Ar.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Ar.bitAnd,"${args[1]}\\right)")},bitNot:{1:Ar.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Ar.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Ar.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Ar.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Ar.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Ar.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Ar.and,"${args[1]}\\right)")},not:{1:Ar.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Ar.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Ar.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Ar.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Ar.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Ar.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Ar.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Ar.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Ar.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Ar.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Ar.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Ar.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Ar.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Ar.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(WE.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},rbe="\\mathrm{${name}}\\left(${args}\\right)",Oz={deg:"^\\circ"};function YE(n){return nbe(n,{preserveFormatting:!0})}function LH(n,e){return e=typeof e>"u"?!1:e,e?Qt(Oz,n)?Oz[n]:"\\mathrm{"+YE(n)+"}":Qt(WE,n)?WE[n]:YE(n)}var n3="ConstantNode",ibe=["Node"],abe=Me(n3,ibe,n=>{var{Node:e}=n;class t extends e{constructor(i){super(),this.value=i}get type(){return n3}get isConstantNode(){return!0}_compile(i,a){var s=this.value;return function(){return s}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return Xn(this.value,i)}_toHTML(i){var a=this._toString(i);switch(Wr(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:n3,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i),s=Wr(this.value);switch(s){case"string":return"\\mathtt{"+YE(a)+"}";case"number":case"BigNumber":{var o=s==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!o)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return l!==-1?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a}case"Fraction":return this.value.toLatex();default:return a}}}return Fa(t,"name",n3),t},{isClass:!0,isNode:!0}),r3="FunctionAssignmentNode",sbe=["typed","Node"],obe=Me(r3,sbe,n=>{var{typed:e,Node:t}=n;function r(a,s,o){var l=Xr(a,s,o),u=Xr(a.expr,s,o);return s==="all"||u!==null&&u<=l}class i extends t{constructor(s,o,l){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(o))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Vr(l))throw new TypeError('Node expected for parameter "expr"');if(UH.has(s))throw new Error('Illegal function name, "'+s+'" is a reserved keyword');var u=new Set;for(var c of o){var d=typeof c=="string"?c:c.name;if(u.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));u.add(d)}this.name=s,this.params=o.map(function(h){return h&&h.name||h}),this.types=o.map(function(h){return h&&h.type||"any"}),this.expr=l}get type(){return r3}get isFunctionAssignmentNode(){return!0}_compile(s,o){var l=Object.create(o);m5(this.params,function(g){l[g]=!0});var u=this.expr._compile(s,l),c=this.name,d=this.params,h=NR(this.types,","),p=c+"("+NR(this.params,", ")+")";return function(x,A,b){var _={};_[h]=function(){for(var E=Object.create(A),C=0;C<d.length;C++)E[d[C]]=arguments[C];return u(x,E,b)};var M=e(c,_);return M.syntax=p,x.set(c,M),M}}forEach(s){s(this.expr,"expr",this)}map(s){var o=this._ifNode(s(this.expr,"expr",this));return new i(this.name,this.params.slice(0),o)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toString(s);return r(this,o,s&&s.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var s=this.types;return{mathjs:r3,name:this.name,params:this.params.map(function(o,l){return{name:o,type:s[l]}}),expr:this.expr}}static fromJSON(s){return new i(s.name,s.params,s.expr)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+uu(this.params[u])+"</span>");var c=this.expr.toHTML(s);return r(this,o,s&&s.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+uu(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toTex(s);return r(this,o,s&&s.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(LH).join(",")+"\\right)="+l}}return Fa(i,"name",r3),i},{isClass:!0,isNode:!0}),i3="IndexNode",lbe=["Node","size"],ube=Me(i3,lbe,n=>{var{Node:e,size:t}=n;class r extends e{constructor(a,s){if(super(),this.dimensions=a,this.dotNotation=s||!1,!Array.isArray(a)||!a.every(Vr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return i3}get isIndexNode(){return!0}_compile(a,s){var o=Dd(this.dimensions,function(u,c){var d=u.filter(g=>g.isSymbolNode&&g.name==="end").length>0;if(d){var h=Object.create(s);h.end=!0;var p=u._compile(a,h);return function(x,A,b){if(!vn(b)&&!Tr(b)&&!Is(b))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Wr(b));var _=t(b).valueOf(),M=Object.create(A);return M.end=_[c],p(x,M,b)}}else return u._compile(a,s)}),l=Ao(a,"index");return function(c,d,h){var p=Dd(o,function(g){return g(c,d,h)});return l(...p)}}forEach(a){for(var s=0;s<this.dimensions.length;s++)a(this.dimensions[s],"dimensions["+s+"]",this)}map(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this._ifNode(a(this.dimensions[o],"dimensions["+o+"]",this));return new r(s,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&vr(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:i3,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new r(a.dimensions,a.dotNotation)}_toHTML(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this.dimensions[o].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+uu(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var s=this.dimensions.map(function(o){return o.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+s.join(",")+"}"}}return Fa(r,"name",i3),r},{isClass:!0,isNode:!0}),a3="ObjectNode",cbe=["Node"],fbe=Me(a3,cbe,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return Vr(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return a3}get isObjectNode(){return!0}_compile(i,a){var s={};for(var o in this.properties)if(Qt(this.properties,o)){var l=Qv(o),u=JSON.parse(l),c=Ao(this.properties,o);s[u]=c._compile(i,a)}return function(h,p,g){var x={};for(var A in s)Qt(s,A)&&(x[A]=s[A](h,p,g));return x}}forEach(i){for(var a in this.properties)Qt(this.properties,a)&&i(this.properties[a],"properties["+Qv(a)+"]",this)}map(i){var a={};for(var s in this.properties)Qt(this.properties,s)&&(a[s]=this._ifNode(i(this.properties[s],"properties["+Qv(s)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)Qt(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var s in this.properties)Qt(this.properties,s)&&a.push(Qv(s)+": "+this.properties[s].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:a3,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var s in this.properties)Qt(this.properties,s)&&a.push('<span class="math-symbol math-property">'+uu(s)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[s].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var s in this.properties)Qt(this.properties,s)&&a.push("\\mathbf{"+s+":} & "+this.properties[s].toTex(i)+"\\\\");var o="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return o}}return Fa(t,"name",a3),t},{isClass:!0,isNode:!0});function Yx(n,e){return new iV(n,new p5(e),new Set(Object.keys(e)))}var s3="OperatorNode",dbe=["Node"],hbe=Me(s3,dbe,n=>{var{Node:e}=n;function t(a,s){var o=a;if(s==="auto")for(;Id(o);)o=o.content;return vr(o)?!0:ya(o)?t(o.args[0],s):!1}function r(a,s,o,l,u){var c=Xr(a,s,o),d=kx(a,s);if(s==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(O){switch(O.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var h;switch(l.length){case 0:h=[];break;case 1:{var p=Xr(l[0],s,o,a);if(u&&p!==null){var g,x;if(s==="keep"?(g=l[0].getIdentifier(),x=a.getIdentifier()):(g=l[0].getContent().getIdentifier(),x=a.getContent().getIdentifier()),rc[c][x].latexLeftParens===!1){h=[!1];break}if(rc[p][g].latexParens===!1){h=[!1];break}}if(p===null){h=[!1];break}if(p<=c){h=[!0];break}h=[!1]}break;case 2:{var A,b=Xr(l[0],s,o,a),_=y_(a,l[0],s);b===null?A=!1:b===c&&d==="right"&&!_||b<c?A=!0:A=!1;var M,E=Xr(l[1],s,o,a),C=y_(a,l[1],s);if(E===null?M=!1:E===c&&d==="left"&&!C||E<c?M=!0:M=!1,u){var T,B,z;s==="keep"?(T=a.getIdentifier(),B=a.args[0].getIdentifier(),z=a.args[1].getIdentifier()):(T=a.getContent().getIdentifier(),B=a.args[0].getContent().getIdentifier(),z=a.args[1].getContent().getIdentifier()),b!==null&&(rc[c][T].latexLeftParens===!1&&(A=!1),rc[b][B].latexParens===!1&&(A=!1)),E!==null&&(rc[c][T].latexRightParens===!1&&(M=!1),rc[E][z].latexParens===!1&&(M=!1))}h=[A,M]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(h=l.map(function(O){var U=Xr(O,s,o,a),I=y_(a,O,s),q=kx(O,s);return U===null?!1:c===U&&d===q&&!I?!0:U<c}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&s!=="all"&&o==="hide")for(var R=1;R<h.length;++R)t(l[R],s)&&!h[R-1]&&(s!=="keep"||!Id(l[R-1]))&&(h[R]=!0);return h}class i extends e{constructor(s,o,l,u,c){if(super(),typeof s!="string")throw new TypeError('string expected for parameter "op"');if(typeof o!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Vr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=s,this.fn=o,this.args=l||[]}get type(){return s3}get isOperatorNode(){return!0}_compile(s,o){if(typeof this.fn!="string"||!tT(s,this.fn))throw s[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=Ao(s,this.fn),u=Dd(this.args,function(g){return g._compile(s,o)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(x,A,b){return l(c,s,Yx(x,A))}}else if(u.length===1){var d=u[0];return function(x,A,b){return l(d(x,A,b))}}else if(u.length===2){var h=u[0],p=u[1];return function(x,A,b){return l(h(x,A,b),p(x,A,b))}}else return function(x,A,b){return l.apply(null,Dd(u,function(_){return _(x,A,b)}))}}forEach(s){for(var o=0;o<this.args.length;o++)s(this.args[o],"args["+o+"]",this)}map(s){for(var o=[],l=0;l<this.args.length;l++)o[l]=this._ifNode(s(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,o,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=r(this,o,l,u,!1);if(u.length===1){var d=kx(this,o),h=u[0].toString(s);c[0]&&(h="("+h+")");var p=/[a-zA-Z]+/.test(this.op);return d==="right"?this.op+(p?" ":"")+h:d==="left"?h+(p?" ":"")+this.op:h+this.op}else if(u.length===2){var g=u[0].toString(s),x=u[1].toString(s);return c[0]&&(g="("+g+")"),c[1]&&(x="("+x+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?g+" "+x:g+" "+this.op+" "+x}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var A=u.map(function(b,_){return b=b.toString(s),c[_]&&(b="("+b+")"),b});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?A.join(" "):A.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:s3,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(s){return new i(s.op,s.fn,s.args,s.implicit,s.isPercentage)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=r(this,o,l,u,!1);if(u.length===1){var d=kx(this,o),h=u[0].toHTML(s);return c[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+uu(this.op)+"</span>"+h:h+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+uu(this.op)+"</span>"}else if(u.length===2){var p=u[0].toHTML(s),g=u[1].toHTML(s);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+g:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+uu(this.op)+"</span>"+g}else{var x=u.map(function(A,b){return A=A.toHTML(s),c[b]&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>'),A});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?x.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):x.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+uu(this.op)+"</span>"):'<span class="math-function">'+uu(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+x.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=r(this,o,l,u,!0),d=Ar[this.fn];if(d=typeof d>"u"?this.op:d,u.length===1){var h=kx(this,o),p=u[0].toTex(s);return c[0]&&(p="\\left(".concat(p,"\\right)")),h==="right"?d+p:p+d}else if(u.length===2){var g=u[0],x=g.toTex(s);c[0]&&(x="\\left(".concat(x,"\\right)"));var A=u[1],b=A.toTex(s);c[1]&&(b="\\left(".concat(b,"\\right)"));var _;switch(o==="keep"?_=g.getIdentifier():_=g.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+x+"}{"+b+"}";case"OperatorNode:pow":switch(x="{"+x+"}",b="{"+b+"}",_){case"ConditionalNode":case"OperatorNode:divide":x="\\left(".concat(x,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return x+"~"+b}return x+d+b}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var M=u.map(function(E,C){return E=E.toTex(s),c[C]&&(E="\\left(".concat(E,"\\right)")),E});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?M.join("~"):M.join(d)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(E){return E.toTex(s)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Fa(i,"name",s3),i},{isClass:!0,isNode:!0}),o3="ParenthesisNode",mbe=["Node"],pbe=Me(o3,mbe,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),!Vr(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return o3}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:o3,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Fa(t,"name",o3),t},{isClass:!0,isNode:!0}),l3="RangeNode",vbe=["Node"],gbe=Me(l3,vbe,n=>{var{Node:e}=n;function t(i,a,s){var o=Xr(i,a,s),l={},u=Xr(i.start,a,s);if(l.start=u!==null&&u<=o||a==="all",i.step){var c=Xr(i.step,a,s);l.step=c!==null&&c<=o||a==="all"}var d=Xr(i.end,a,s);return l.end=d!==null&&d<=o||a==="all",l}class r extends e{constructor(a,s,o){if(super(),!Vr(a))throw new TypeError("Node expected");if(!Vr(s))throw new TypeError("Node expected");if(o&&!Vr(o))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=s,this.step=o||null}get type(){return l3}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(s){return Ja(s)&&s.name==="end"});return a.length>0}_compile(a,s){var o=a.range,l=this.start._compile(a,s),u=this.end._compile(a,s);if(this.step){var c=this.step._compile(a,s);return function(h,p,g){return o(l(h,p,g),u(h,p,g),c(h,p,g))}}else return function(h,p,g){return o(l(h,p,g),u(h,p,g))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new r(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=t(this,s,a&&a.implicit),l,u=this.start.toString(a);if(o.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(a);o.step&&(c="("+c+")"),l+=":"+c}var d=this.end.toString(a);return o.end&&(d="("+d+")"),l+=":"+d,l}toJSON(){return{mathjs:l3,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new r(a.start,a.end,a.step)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=t(this,s,a&&a.implicit),l,u=this.start.toHTML(a);if(o.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(a);o.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var d=this.end.toHTML(a);return o.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+d,l}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=t(this,s,a&&a.implicit),l=this.start.toTex(a);if(o.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);o.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(a);return o.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Fa(r,"name",l3),r},{isClass:!0,isNode:!0}),u3="RelationalNode",xbe=["Node"],ybe=Me(u3,xbe,n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(a,s){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(s))throw new TypeError("Parameter params must be an array");if(a.length!==s.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=s}get type(){return u3}get isRelationalNode(){return!0}_compile(a,s){var o=this,l=this.params.map(u=>u._compile(a,s));return function(c,d,h){for(var p,g=l[0](c,d,h),x=0;x<o.conditionals.length;x++){p=g,g=l[x+1](c,d,h);var A=Ao(a,o.conditionals[x]);if(!A(p,g))return!1}return!0}}forEach(a){this.params.forEach((s,o)=>a(s,"params["+o+"]",this),this)}map(a){return new r(this.conditionals.slice(),this.params.map((s,o)=>this._ifNode(a(s,"params["+o+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=Xr(this,s,a&&a.implicit),l=this.params.map(function(d,h){var p=Xr(d,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?"("+d.toString(a)+")":d.toString(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+t[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:u3,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new r(a.conditionals,a.params)}_toHTML(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=Xr(this,s,a&&a.implicit),l=this.params.map(function(d,h){var p=Xr(d,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+uu(t[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=Xr(this,s,a&&a.implicit),l=this.params.map(function(d,h){var p=Xr(d,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?"\\left("+d.toTex(a)+"\right)":d.toTex(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=Ar[this.conditionals[c]]+l[c+1];return u}}return Fa(r,"name",u3),r},{isClass:!0,isNode:!0}),bbe="SymbolNode",Sbe=["math","?Unit","Node"],wbe=Me(bbe,Sbe,n=>{var{math:e,Unit:t,Node:r}=n;function i(s){return t?t.isValuelessUnit(s):!1}class a extends r{constructor(o){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');this.name=o}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(o,l){var u=this.name;if(l[u]===!0)return function(d,h,p){return Ao(h,u)};if(u in o)return function(d,h,p){return d.has(u)?d.get(u):Ao(o,u)};var c=i(u);return function(d,h,p){return d.has(u)?d.get(u):c?new t(null,u):a.onUndefinedSymbol(u)}}forEach(o){}map(o){return this.clone()}static onUndefinedSymbol(o){throw new Error("Undefined symbol "+o)}clone(){return new a(this.name)}_toString(o){return this.name}_toHTML(o){var l=uu(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(o){return new a(o.name)}_toTex(o){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=LH(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0}),c3="FunctionNode",Abe=["math","Node","SymbolNode"],Mbe=Me(c3,Abe,n=>{var e,{math:t,Node:r,SymbolNode:i}=n,a=l=>Xn(l,{truncate:78});function s(l,u,c){for(var d="",h=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,g;(g=h.exec(l))!==null;)if(d+=l.substring(p,g.index),p=g.index,g[0]==="$$")d+="$",p++;else{p+=g[0].length;var x=u[g[1]];if(!x)throw new ReferenceError("Template: Property "+g[1]+" does not exist.");if(g[2]===void 0)switch(typeof x){case"string":d+=x;break;case"object":if(Vr(x))d+=x.toTex(c);else if(Array.isArray(x))d+=x.map(function(A,b){if(Vr(A))return A.toTex(c);throw new TypeError("Template: "+g[1]+"["+b+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+g[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+g[1]+" has to be a Node, String or array of Nodes")}else if(Vr(x[g[2]]&&x[g[2]]))d+=x[g[2]].toTex(c);else throw new TypeError("Template: "+g[1]+"["+g[2]+"] is not a Node.")}return d+=l.slice(p),d}class o extends r{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!Vr(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Vr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return c3}get isFunctionNode(){return!0}_compile(u,c){var d=this.args.map(z=>z._compile(u,c));if(Ja(this.fn)){var h=this.fn.name;if(c[h]){var b=this.args;return function(R,O,U){var I=Ao(O,h);if(typeof I!="function")throw new TypeError("Argument '".concat(h,"' was not a function; received: ").concat(a(I)));if(I.rawArgs)return I(b,u,Yx(R,O));var q=d.map(X=>X(R,O,U));return I.apply(I,q)}}else{var p=h in u?Ao(u,h):void 0,g=typeof p=="function"&&p.rawArgs===!0,x=z=>{var R;if(z.has(h))R=z.get(h);else if(h in u)R=Ao(u,h);else return o.onUndefinedFunction(h);if(typeof R=="function")return R;throw new TypeError("'".concat(h,`' is not a function; its value is:
  `).concat(a(R)))};if(g){var A=this.args;return function(R,O,U){var I=x(R);return I(A,u,Yx(R,O))}}else switch(d.length){case 0:return function(R,O,U){var I=x(R);return I()};case 1:return function(R,O,U){var I=x(R),q=d[0];return I(q(R,O,U))};case 2:return function(R,O,U){var I=x(R),q=d[0],X=d[1];return I(q(R,O,U),X(R,O,U))};default:return function(R,O,U){var I=x(R),q=d.map(X=>X(R,O,U));return I(...q)}}}}else if(Km(this.fn)&&P1(this.fn.index)&&this.fn.index.isObjectProperty()){var _=this.fn.object._compile(u,c),M=this.fn.index.getObjectProperty(),E=this.args;return function(R,O,U){var I=_(R,O,U),q=Yde(I,M);if(q!=null&&q.rawArgs)return q(E,u,Yx(R,O));var X=d.map($=>$(R,O,U));return q.apply(I,X)}}else{var C=this.fn.toString(),T=this.fn._compile(u,c),B=this.args;return function(R,O,U){var I=T(R,O,U);if(typeof I!="function")throw new TypeError("Expression '".concat(C,"' did not evaluate to a function; value is:")+`
  `.concat(a(I)));if(I.rawArgs)return I(B,u,Yx(R,O));var q=d.map(X=>X(R,O,U));return I.apply(I,q)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),d=[],h=0;h<this.args.length;h++)d[h]=this._ifNode(u(this.args[h],"args["+h+"]",this));return new o(c,d)}clone(){return new o(this.fn,this.args.slice(0))}toString(u){var c,d=this.fn.toString(u);return u&&typeof u.handler=="object"&&Qt(u.handler,d)&&(c=u.handler[d](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(h){return h.toString(u)}),d=h2(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return d+"("+c.join(", ")+")"}toJSON(){return{mathjs:c3,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(d){return d.toHTML(u)});return'<span class="math-function">'+uu(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&Qt(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(p){return p.toTex(u)}),d;Bz[this.name]&&(d=Bz[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(d=t[this.name].toTex);var h;switch(typeof d){case"function":h=d(this,u);break;case"string":h=s(d,this,u);break;case"object":switch(typeof d[c.length]){case"function":h=d[c.length](this,u);break;case"string":h=s(d[c.length],this,u);break}}return typeof h<"u"?h:s(rbe,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=o,Fa(o,"name",c3),Fa(o,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Fa(o,"fromJSON",function(l){return new e(l.fn,l.args)}),o},{isClass:!0,isNode:!0}),zz="parse",_be=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Ebe=Me(zz,_be,n=>{var{typed:e,numeric:t,config:r,AccessorNode:i,ArrayNode:a,AssignmentNode:s,BlockNode:o,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:d,IndexNode:h,ObjectNode:p,OperatorNode:g,ParenthesisNode:x,RangeNode:A,RelationalNode:b,SymbolNode:_}=n,M=e(zz,{string:function(Ne){return W(Ne,{})},"Array | Matrix":function(Ne){return E(Ne,{})},"string, Object":function(Ne,me){var Pe=me.nodes!==void 0?me.nodes:{};return W(Ne,Pe)},"Array | Matrix, Object":E});function E(G){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=Ne.nodes!==void 0?Ne.nodes:{};return Zn(G,function(Pe){if(typeof Pe!="string")throw new TypeError("String expected");return W(Pe,me)})}var C={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},T={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},B={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},z={true:!0,false:!1,null:null,undefined:void 0},R=["NaN","Infinity"],O={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function U(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:C.NULL,nestingLevel:0,conditionalLevel:null}}function I(G,Ne){return G.expression.substr(G.index,Ne)}function q(G){return I(G,1)}function X(G){G.index++}function $(G){return G.expression.charAt(G.index-1)}function k(G){return G.expression.charAt(G.index+1)}function P(G){for(G.tokenType=C.NULL,G.token="",G.comment="";;){if(q(G)==="#")for(;q(G)!==`
`&&q(G)!=="";)G.comment+=q(G),X(G);if(M.isWhitespace(q(G),G.nestingLevel))X(G);else break}if(q(G)===""){G.tokenType=C.DELIMITER;return}if(q(G)===`
`&&!G.nestingLevel){G.tokenType=C.DELIMITER,G.token=q(G),X(G);return}var Ne=q(G),me=I(G,2),Pe=I(G,3);if(Pe.length===3&&T[Pe]){G.tokenType=C.DELIMITER,G.token=Pe,X(G),X(G),X(G);return}if(me.length===2&&T[me]){G.tokenType=C.DELIMITER,G.token=me,X(G),X(G);return}if(T[Ne]){G.tokenType=C.DELIMITER,G.token=Ne,X(G);return}if(M.isDigitDot(Ne)){G.tokenType=C.NUMBER;var $e=I(G,2);if($e==="0b"||$e==="0o"||$e==="0x"){for(G.token+=q(G),X(G),G.token+=q(G),X(G);M.isHexDigit(q(G));)G.token+=q(G),X(G);if(q(G)===".")for(G.token+=".",X(G);M.isHexDigit(q(G));)G.token+=q(G),X(G);else if(q(G)==="i")for(G.token+="i",X(G);M.isDigit(q(G));)G.token+=q(G),X(G);return}if(q(G)==="."){if(G.token+=q(G),X(G),!M.isDigit(q(G))){G.tokenType=C.DELIMITER;return}}else{for(;M.isDigit(q(G));)G.token+=q(G),X(G);M.isDecimalMark(q(G),k(G))&&(G.token+=q(G),X(G))}for(;M.isDigit(q(G));)G.token+=q(G),X(G);if(q(G)==="E"||q(G)==="e"){if(M.isDigit(k(G))||k(G)==="-"||k(G)==="+"){if(G.token+=q(G),X(G),(q(G)==="+"||q(G)==="-")&&(G.token+=q(G),X(G)),!M.isDigit(q(G)))throw Ke(G,'Digit expected, got "'+q(G)+'"');for(;M.isDigit(q(G));)G.token+=q(G),X(G);if(M.isDecimalMark(q(G),k(G)))throw Ke(G,'Digit expected, got "'+q(G)+'"')}else if(k(G)===".")throw X(G),Ke(G,'Digit expected, got "'+q(G)+'"')}return}if(M.isAlpha(q(G),$(G),k(G))){for(;M.isAlpha(q(G),$(G),k(G))||M.isDigit(q(G));)G.token+=q(G),X(G);Qt(B,G.token)?G.tokenType=C.DELIMITER:G.tokenType=C.SYMBOL;return}for(G.tokenType=C.UNKNOWN;q(G)!=="";)G.token+=q(G),X(G);throw Ke(G,'Syntax error in part "'+G.token+'"')}function Z(G){do P(G);while(G.token===`
`)}function H(G){G.nestingLevel++}function ae(G){G.nestingLevel--}M.isAlpha=function(Ne,me,Pe){return M.isValidLatinOrGreek(Ne)||M.isValidMathSymbol(Ne,Pe)||M.isValidMathSymbol(me,Ne)},M.isValidLatinOrGreek=function(Ne){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Ne)},M.isValidMathSymbol=function(Ne,me){return/^[\uD835]$/.test(Ne)&&/^[\uDC00-\uDFFF]$/.test(me)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(me)},M.isWhitespace=function(Ne,me){return Ne===" "||Ne==="	"||Ne===`
`&&me>0},M.isDecimalMark=function(Ne,me){return Ne==="."&&me!=="/"&&me!=="*"&&me!=="^"},M.isDigitDot=function(Ne){return Ne>="0"&&Ne<="9"||Ne==="."},M.isDigit=function(Ne){return Ne>="0"&&Ne<="9"},M.isHexDigit=function(Ne){return Ne>="0"&&Ne<="9"||Ne>="a"&&Ne<="f"||Ne>="A"&&Ne<="F"};function W(G,Ne){var me=U();mi(me,{expression:G,extraNodes:Ne}),P(me);var Pe=K(me);if(me.token!=="")throw me.tokenType===C.DELIMITER?ze(me,"Unexpected operator "+me.token):Ke(me,'Unexpected part "'+me.token+'"');return Pe}function K(G){var Ne,me=[],Pe;for(G.token!==""&&G.token!==`
`&&G.token!==";"&&(Ne=Q(G),G.comment&&(Ne.comment=G.comment));G.token===`
`||G.token===";";)me.length===0&&Ne&&(Pe=G.token!==";",me.push({node:Ne,visible:Pe})),P(G),G.token!==`
`&&G.token!==";"&&G.token!==""&&(Ne=Q(G),G.comment&&(Ne.comment=G.comment),Pe=G.token!==";",me.push({node:Ne,visible:Pe}));return me.length>0?new o(me):(Ne||(Ne=new u(void 0),G.comment&&(Ne.comment=G.comment)),Ne)}function Q(G){var Ne,me,Pe,$e,tt=te(G);if(G.token==="="){if(Ja(tt))return Ne=tt.name,Z(G),Pe=Q(G),new s(new _(Ne),Pe);if(Km(tt))return Z(G),Pe=Q(G),new s(tt.object,tt.index,Pe);if(ih(tt)&&Ja(tt.fn)&&($e=!0,me=[],Ne=tt.name,tt.args.forEach(function(xt,wt){Ja(xt)?me[wt]=xt.name:$e=!1}),$e))return Z(G),Pe=Q(G),new c(Ne,me,Pe);throw Ke(G,"Invalid left hand side of assignment operator =")}return tt}function te(G){for(var Ne=le(G);G.token==="?";){var me=G.conditionalLevel;G.conditionalLevel=G.nestingLevel,Z(G);var Pe=Ne,$e=Q(G);if(G.token!==":")throw Ke(G,"False part of conditional expression expected");G.conditionalLevel=null,Z(G);var tt=Q(G);Ne=new l(Pe,$e,tt),G.conditionalLevel=me}return Ne}function le(G){for(var Ne=de(G);G.token==="or";)Z(G),Ne=new g("or","or",[Ne,de(G)]);return Ne}function de(G){for(var Ne=ce(G);G.token==="xor";)Z(G),Ne=new g("xor","xor",[Ne,ce(G)]);return Ne}function ce(G){for(var Ne=be(G);G.token==="and";)Z(G),Ne=new g("and","and",[Ne,be(G)]);return Ne}function be(G){for(var Ne=Te(G);G.token==="|";)Z(G),Ne=new g("|","bitOr",[Ne,Te(G)]);return Ne}function Te(G){for(var Ne=Oe(G);G.token==="^|";)Z(G),Ne=new g("^|","bitXor",[Ne,Oe(G)]);return Ne}function Oe(G){for(var Ne=Fe(G);G.token==="&";)Z(G),Ne=new g("&","bitAnd",[Ne,Fe(G)]);return Ne}function Fe(G){for(var Ne=[Se(G)],me=[],Pe={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Qt(Pe,G.token);){var $e={name:G.token,fn:Pe[G.token]};me.push($e),Z(G),Ne.push(Se(G))}return Ne.length===1?Ne[0]:Ne.length===2?new g(me[0].name,me[0].fn,Ne):new b(me.map(tt=>tt.fn),Ne)}function Se(G){var Ne,me,Pe,$e;Ne=Ve(G);for(var tt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Qt(tt,G.token);)me=G.token,Pe=tt[me],Z(G),$e=[Ne,Ve(G)],Ne=new g(me,Pe,$e);return Ne}function Ve(G){var Ne,me,Pe,$e;Ne=ve(G);for(var tt={to:"to",in:"to"};Qt(tt,G.token);)me=G.token,Pe=tt[me],Z(G),me==="in"&&G.token===""?Ne=new g("*","multiply",[Ne,new _("in")],!0):($e=[Ne,ve(G)],Ne=new g(me,Pe,$e));return Ne}function ve(G){var Ne,me=[];if(G.token===":"?Ne=new u(1):Ne=fe(G),G.token===":"&&G.conditionalLevel!==G.nestingLevel){for(me.push(Ne);G.token===":"&&me.length<3;)Z(G),G.token===")"||G.token==="]"||G.token===","||G.token===""?me.push(new _("end")):me.push(fe(G));me.length===3?Ne=new A(me[0],me[2],me[1]):Ne=new A(me[0],me[1])}return Ne}function fe(G){var Ne,me,Pe,$e;Ne=he(G);for(var tt={"+":"add","-":"subtract"};Qt(tt,G.token);){me=G.token,Pe=tt[me],Z(G);var xt=he(G);xt.isPercentage?$e=[Ne,new g("*","multiply",[Ne,xt])]:$e=[Ne,xt],Ne=new g(me,Pe,$e)}return Ne}function he(G){var Ne,me,Pe,$e;Ne=Be(G),me=Ne;for(var tt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Qt(tt,G.token);)Pe=G.token,$e=tt[Pe],Z(G),me=Be(G),Ne=new g(Pe,$e,[Ne,me]);return Ne}function Be(G){var Ne,me;for(Ne=ue(G),me=Ne;G.tokenType===C.SYMBOL||G.token==="in"&&vr(Ne)||G.tokenType===C.NUMBER&&!vr(me)&&(!ya(me)||me.op==="!")||G.token==="(";)me=ue(G),Ne=new g("*","multiply",[Ne,me],!0);return Ne}function ue(G){for(var Ne=xe(G),me=Ne,Pe=[];G.token==="/"&&LE(me);)if(Pe.push(mi({},G)),Z(G),G.tokenType===C.NUMBER)if(Pe.push(mi({},G)),Z(G),G.tokenType===C.SYMBOL||G.token==="(")mi(G,Pe.pop()),Pe.pop(),me=xe(G),Ne=new g("/","divide",[Ne,me]);else{Pe.pop(),mi(G,Pe.pop());break}else{mi(G,Pe.pop());break}return Ne}function xe(G){var Ne,me,Pe,$e;Ne=we(G);for(var tt={"%":"mod",mod:"mod"};Qt(tt,G.token);)me=G.token,Pe=tt[me],Z(G),me==="%"&&G.tokenType===C.DELIMITER&&G.token!=="("?Ne=new g("/","divide",[Ne,new u(100)],!1,!0):($e=[Ne,we(G)],Ne=new g(me,Pe,$e));return Ne}function we(G){var Ne,me,Pe,$e={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Qt($e,G.token)?(Pe=$e[G.token],Ne=G.token,Z(G),me=[we(G)],new g(Ne,Pe,me)):ie(G)}function ie(G){var Ne,me,Pe,$e;return Ne=re(G),(G.token==="^"||G.token===".^")&&(me=G.token,Pe=me==="^"?"pow":"dotPow",Z(G),$e=[Ne,we(G)],Ne=new g(me,Pe,$e)),Ne}function re(G){var Ne,me,Pe,$e;Ne=ee(G);for(var tt={"!":"factorial","'":"ctranspose"};Qt(tt,G.token);)me=G.token,Pe=tt[me],P(G),$e=[Ne],Ne=new g(me,Pe,$e),Ne=ge(G,Ne);return Ne}function ee(G){var Ne=[];if(G.tokenType===C.SYMBOL&&Qt(G.extraNodes,G.token)){var me=G.extraNodes[G.token];if(P(G),G.token==="("){if(Ne=[],H(G),P(G),G.token!==")")for(Ne.push(Q(G));G.token===",";)P(G),Ne.push(Q(G));if(G.token!==")")throw Ke(G,"Parenthesis ) expected");ae(G),P(G)}return new me(Ne)}return oe(G)}function oe(G){var Ne,me;return G.tokenType===C.SYMBOL||G.tokenType===C.DELIMITER&&G.token in B?(me=G.token,P(G),Qt(z,me)?Ne=new u(z[me]):R.indexOf(me)!==-1?Ne=new u(t(me,"number")):Ne=new _(me),Ne=ge(G,Ne),Ne):De(G)}function ge(G,Ne,me){for(var Pe;G.token==="("||G.token==="["||G.token===".";)if(Pe=[],G.token==="(")if(Ja(Ne)||Km(Ne)){if(H(G),P(G),G.token!==")")for(Pe.push(Q(G));G.token===",";)P(G),Pe.push(Q(G));if(G.token!==")")throw Ke(G,"Parenthesis ) expected");ae(G),P(G),Ne=new d(Ne,Pe)}else return Ne;else if(G.token==="["){if(H(G),P(G),G.token!=="]")for(Pe.push(Q(G));G.token===",";)P(G),Pe.push(Q(G));if(G.token!=="]")throw Ke(G,"Parenthesis ] expected");ae(G),P(G),Ne=new i(Ne,new h(Pe))}else{P(G);var $e=G.tokenType===C.SYMBOL||G.tokenType===C.DELIMITER&&G.token in B;if(!$e)throw Ke(G,"Property name expected after dot");Pe.push(new u(G.token)),P(G);var tt=!0;Ne=new i(Ne,new h(Pe,tt))}return Ne}function De(G){var Ne,me;return G.token==='"'||G.token==="'"?(me=Le(G,G.token),Ne=new u(me),Ne=ge(G,Ne),Ne):Ue(G)}function Le(G,Ne){for(var me="";q(G)!==""&&q(G)!==Ne;)if(q(G)==="\\"){X(G);var Pe=q(G),$e=O[Pe];if($e!==void 0)me+=$e,G.index+=1;else if(Pe==="u"){var tt=G.expression.slice(G.index+1,G.index+5);if(/^[0-9A-Fa-f]{4}$/.test(tt))me+=String.fromCharCode(parseInt(tt,16)),G.index+=5;else throw Ke(G,"Invalid unicode character \\u".concat(tt))}else throw Ke(G,"Bad escape character \\".concat(Pe))}else me+=q(G),X(G);if(P(G),G.token!==Ne)throw Ke(G,"End of string ".concat(Ne," expected"));return P(G),me}function Ue(G){var Ne,me,Pe,$e;if(G.token==="["){if(H(G),P(G),G.token!=="]"){var tt=He(G);if(G.token===";"){for(Pe=1,me=[tt];G.token===";";)P(G),G.token!=="]"&&(me[Pe]=He(G),Pe++);if(G.token!=="]")throw Ke(G,"End of matrix ] expected");ae(G),P(G),$e=me[0].items.length;for(var xt=1;xt<Pe;xt++)if(me[xt].items.length!==$e)throw ze(G,"Column dimensions mismatch ("+me[xt].items.length+" !== "+$e+")");Ne=new a(me)}else{if(G.token!=="]")throw Ke(G,"End of matrix ] expected");ae(G),P(G),Ne=tt}}else ae(G),P(G),Ne=new a([]);return ge(G,Ne)}return et(G)}function He(G){for(var Ne=[Q(G)],me=1;G.token===",";)P(G),G.token!=="]"&&G.token!==";"&&(Ne[me]=Q(G),me++);return new a(Ne)}function et(G){if(G.token==="{"){H(G);var Ne,me={};do if(P(G),G.token!=="}"){if(G.token==='"'||G.token==="'")Ne=Le(G,G.token);else if(G.tokenType===C.SYMBOL||G.tokenType===C.DELIMITER&&G.token in B)Ne=G.token,P(G);else throw Ke(G,"Symbol or string expected as object key");if(G.token!==":")throw Ke(G,"Colon : expected after object key");P(G),me[Ne]=Q(G)}while(G.token===",");if(G.token!=="}")throw Ke(G,"Comma , or bracket } expected after object value");ae(G),P(G);var Pe=new p(me);return Pe=ge(G,Pe),Pe}return Xe(G)}function Xe(G){var Ne;return G.tokenType===C.NUMBER?(Ne=G.token,P(G),new u(t(Ne,r.number))):We(G)}function We(G){var Ne;if(G.token==="("){if(H(G),P(G),Ne=Q(G),G.token!==")")throw Ke(G,"Parenthesis ) expected");return ae(G),P(G),Ne=new x(Ne),Ne=ge(G,Ne),Ne}return st(G)}function st(G){throw G.token===""?Ke(G,"Unexpected end of expression"):Ke(G,"Value expected")}function lt(G){return G.index-G.token.length+1}function Ke(G,Ne){var me=lt(G),Pe=new SyntaxError(Ne+" (char "+me+")");return Pe.char=me,Pe}function ze(G,Ne){var me=lt(G),Pe=new SyntaxError(Ne+" (char "+me+")");return Pe.char=me,Pe}return e.addConversion({from:"string",to:"Node",convert:M}),M}),Uz="compile",Nbe=["typed","parse"],Tbe=Me(Uz,Nbe,n=>{var{typed:e,parse:t}=n;return e(Uz,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Zn(i,function(a){return t(a).compile()})}})}),Fz="evaluate",Cbe=["typed","parse"],Dbe=Me(Fz,Cbe,n=>{var{typed:e,parse:t}=n;return e(Fz,{string:function(i){var a=qy();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=qy();return Zn(i,function(s){return t(s).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Zn(i,function(s){return t(s).compile().evaluate(a)})}})}),Rbe="Parser",Bbe=["evaluate"],Obe=Me(Rbe,Bbe,n=>{var{evaluate:e}=n;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:qy(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(r){return e(r,this.scope)},t.prototype.get=function(r){if(this.scope.has(r))return this.scope.get(r)},t.prototype.getAll=function(){return Qde(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(r,i){return this.scope.set(r,i),i},t.prototype.remove=function(r){this.scope.delete(r)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0}),Lz="parser",zbe=["typed","Parser"],Ube=Me(Lz,zbe,n=>{var{typed:e,Parser:t}=n;return e(Lz,{"":function(){return new t}})}),kz="lup",Fbe=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Lbe=Me(kz,Fbe,n=>{var{typed:e,matrix:t,abs:r,addScalar:i,divideScalar:a,multiplyScalar:s,subtractScalar:o,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:d,SparseMatrix:h,Spa:p}=n;return e(kz,{DenseMatrix:function(b){return g(b)},SparseMatrix:function(b){return x(b)},Array:function(b){var _=t(b),M=g(_);return{L:M.L.valueOf(),U:M.U.valueOf(),p:M.p}}});function g(A){var b=A._size[0],_=A._size[1],M=Math.min(b,_),E=Rn(A._data),C=[],T=[b,M],B=[],z=[M,_],R,O,U,I=[];for(R=0;R<b;R++)I[R]=R;for(O=0;O<_;O++){if(O>0)for(R=0;R<b;R++){var q=Math.min(R,O),X=0;for(U=0;U<q;U++)X=i(X,s(E[R][U],E[U][O]));E[R][O]=o(E[R][O],X)}var $=O,k=0,P=0;for(R=O;R<b;R++){var Z=E[R][O],H=r(Z);l(H,k)&&($=R,k=H,P=Z)}if(O!==$&&(I[O]=[I[$],I[$]=I[O]][0],d._swapRows(O,$,E)),O<b)for(R=O+1;R<b;R++){var ae=E[R][O];u(ae,0)||(E[R][O]=a(E[R][O],P))}}for(O=0;O<_;O++)for(R=0;R<b;R++){if(O===0&&(R<_&&(B[R]=[]),C[R]=[]),R<O){R<_&&(B[R][O]=E[R][O]),O<b&&(C[R][O]=0);continue}if(R===O){R<_&&(B[R][O]=E[R][O]),O<b&&(C[R][O]=1);continue}R<_&&(B[R][O]=0),O<b&&(C[R][O]=E[R][O])}var W=new d({data:C,size:T}),K=new d({data:B,size:z}),Q=[];for(R=0,M=I.length;R<M;R++)Q[I[R]]=R;return{L:W,U:K,p:Q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function x(A){var b=A._size[0],_=A._size[1],M=Math.min(b,_),E=A._values,C=A._index,T=A._ptr,B=[],z=[],R=[],O=[b,M],U=[],I=[],q=[],X=[M,_],$,k,P,Z=[],H=[];for($=0;$<b;$++)Z[$]=$,H[$]=$;var ae=function(Q,te){var le=H[Q],de=H[te];Z[le]=te,Z[de]=Q,H[Q]=de,H[te]=le},W=function(){var Q=new p;k<b&&(R.push(B.length),B.push(1),z.push(k)),q.push(U.length);var te=T[k],le=T[k+1];for(P=te;P<le;P++)$=C[P],Q.set(Z[$],E[P]);k>0&&Q.forEach(0,k-1,function(Te,Oe){h._forEachRow(Te,B,z,R,function(Fe,Se){Fe>Te&&Q.accumulate(Fe,c(s(Se,Oe)))})});var de=k,ce=Q.get(k),be=r(ce);Q.forEach(k+1,b-1,function(Te,Oe){var Fe=r(Oe);l(Fe,be)&&(de=Te,be=Fe,ce=Oe)}),k!==de&&(h._swapRows(k,de,O[1],B,z,R),h._swapRows(k,de,X[1],U,I,q),Q.swap(k,de),ae(k,de)),Q.forEach(0,b-1,function(Te,Oe){Te<=k?(U.push(Oe),I.push(Te)):(Oe=a(Oe,ce),u(Oe,0)||(B.push(Oe),z.push(Te)))})};for(k=0;k<_;k++)W();return q.push(U.length),R.push(B.length),{L:new h({values:B,index:z,ptr:R,size:O}),U:new h({values:U,index:I,ptr:q,size:X}),p:Z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),Iz="qr",kbe=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Ibe=Me(Iz,kbe,n=>{var{typed:e,matrix:t,zeros:r,identity:i,isZero:a,equal:s,sign:o,sqrt:l,conj:u,unaryMinus:c,addScalar:d,divideScalar:h,multiplyScalar:p,subtractScalar:g,complex:x}=n;return mi(e(Iz,{DenseMatrix:function(E){return b(E)},SparseMatrix:function(E){return _()},Array:function(E){var C=t(E),T=b(C);return{Q:T.Q.valueOf(),R:T.R.valueOf()}}}),{_denseQRimpl:A});function A(M){var E=M._size[0],C=M._size[1],T=i([E],"dense"),B=T._data,z=M.clone(),R=z._data,O,U,I,q=r([E],"");for(I=0;I<Math.min(C,E);++I){var X=R[I][I],$=c(s(X,0)?1:o(X)),k=u($),P=0;for(O=I;O<E;O++)P=d(P,p(R[O][I],u(R[O][I])));var Z=p($,l(P));if(!a(Z)){var H=g(X,Z);for(q[I]=1,O=I+1;O<E;O++)q[O]=h(R[O][I],H);var ae=c(u(h(H,Z))),W=void 0;for(U=I;U<C;U++){for(W=0,O=I;O<E;O++)W=d(W,p(u(q[O]),R[O][U]));for(W=p(W,ae),O=I;O<E;O++)R[O][U]=p(g(R[O][U],p(q[O],W)),k)}for(O=0;O<E;O++){for(W=0,U=I;U<E;U++)W=d(W,p(B[O][U],q[U]));for(W=p(W,ae),U=I;U<E;++U)B[O][U]=h(g(B[O][U],p(W,u(q[U]))),k)}}}return{Q:T,R:z,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function b(M){var E=A(M),C=E.R._data;if(M._data.length>0)for(var T=C[0][0].type==="Complex"?x(0):0,B=0;B<C.length;++B)for(var z=0;z<B&&z<(C[0]||[]).length;++z)C[B][z]=T;return E}function _(M){throw new Error("qr not implemented for sparse matrices yet")}});function Pbe(n,e,t,r){n._values;for(var i=n._index,a=n._ptr,s=n._size,o=n._datatype,l=s[0],u=s[1],c=null,d=[],h=[],p=0,g=0;g<u;g++){h[g]=p;for(var x=t?t[g]:g,A=a[x],b=a[x+1],_=A;_<b;_++){var M=i[_];d[p]=M,p++}}return h[u]=p,n.createSparseMatrix({values:c,index:d,ptr:h,size:[l,u],datatype:o})}function kH(n,e,t,r,i,a,s){var o=0;for(t[s]=n;o>=0;){var l=t[s+o],u=t[r+l];u===-1?(o--,a[e++]=l):(t[r+l]=t[i+u],++o,t[s+o]=u)}return e}function jbe(n,e){if(!n)return null;var t=0,r,i=[],a=[],s=0,o=e,l=2*e;for(r=0;r<e;r++)a[s+r]=-1;for(r=e-1;r>=0;r--)n[r]!==-1&&(a[o+r]=a[s+n[r]],a[s+n[r]]=r);for(r=0;r<e;r++)n[r]===-1&&(t=kH(r,t,a,s,o,i,l));return i}function Vbe(n,e){if(!n)return null;var t=n._index,r=n._ptr,i=n._size,a=i[0],s=i[1],o=[],l=[],u=0,c=s,d,h;for(d=0;d<a;d++)l[c+d]=-1;for(var p=0;p<s;p++){o[p]=-1,l[u+p]=-1;for(var g=r[p],x=r[p+1],A=g;A<x;A++){var b=t[A];for(d=l[c+b];d!==-1&&d<p;d=h)h=l[u+d],l[u+d]=p,h===-1&&(o[d]=p);l[c+b]=p}}return o}function Hbe(n,e,t){for(var r=n._values,i=n._index,a=n._ptr,s=n._size,o=s[1],l=0,u=0;u<o;u++){var c=a[u];for(a[u]=l;c<a[u+1];c++)e(i[c],u,r?r[c]:1,t)&&(i[l]=i[c],r&&(r[l]=r[c]),l++)}return a[o]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l),l}function H0(n){return-n-2}var qbe="csAmd",Gbe=["add","multiply","transpose"],$be=Me(qbe,Gbe,n=>{var{add:e,multiply:t,transpose:r}=n;return function(c,d){if(!d||c<=0||c>3)return null;var h=d._size,p=h[0],g=h[1],x=0,A=Math.max(16,10*Math.sqrt(g));A=Math.min(g-2,A);var b=i(c,d,p,g,A);Hbe(b,l,null);for(var _=b._index,M=b._ptr,E=M[g],C=[],T=[],B=0,z=g+1,R=2*(g+1),O=3*(g+1),U=4*(g+1),I=5*(g+1),q=6*(g+1),X=7*(g+1),$=C,k=a(g,M,T,B,O,$,R,X,z,q,U,I),P=s(g,M,T,I,U,q,A,z,O,$,R),Z=0,H,ae,W,K,Q,te,le,de,ce,be,Te,Oe,Fe,Se,Ve,ve;P<g;){for(W=-1;Z<g&&(W=T[O+Z])===-1;Z++);T[R+W]!==-1&&($[T[R+W]]=-1),T[O+Z]=T[R+W];var fe=T[U+W],he=T[z+W];P+=he;var Be=0;T[z+W]=-he;var ue=M[W],xe=fe===0?ue:E,we=xe;for(K=1;K<=fe+1;K++){for(K>fe?(te=W,le=ue,de=T[B+W]-fe):(te=_[ue++],le=M[te],de=T[B+te]),Q=1;Q<=de;Q++)H=_[le++],!((ce=T[z+H])<=0)&&(Be+=ce,T[z+H]=-ce,_[we++]=H,T[R+H]!==-1&&($[T[R+H]]=$[H]),$[H]!==-1?T[R+$[H]]=T[R+H]:T[O+T[I+H]]=T[R+H]);te!==W&&(M[te]=H0(W),T[q+te]=0)}for(fe!==0&&(E=we),T[I+W]=Be,M[W]=xe,T[B+W]=we-xe,T[U+W]=-2,k=o(k,x,T,q,g),be=xe;be<we;be++)if(H=_[be],!((Te=T[U+H])<=0)){ce=-T[z+H];var ie=k-ce;for(ue=M[H],Oe=M[H]+Te-1;ue<=Oe;ue++)te=_[ue],T[q+te]>=k?T[q+te]-=ce:T[q+te]!==0&&(T[q+te]=T[I+te]+ie)}for(be=xe;be<we;be++){for(H=_[be],Oe=M[H],Fe=Oe+T[U+H]-1,Se=Oe,Ve=0,ve=0,ue=Oe;ue<=Fe;ue++)if(te=_[ue],T[q+te]!==0){var re=T[q+te]-k;re>0?(ve+=re,_[Se++]=te,Ve+=te):(M[te]=H0(W),T[q+te]=0)}T[U+H]=Se-Oe+1;var ee=Se,oe=Oe+T[B+H];for(ue=Fe+1;ue<oe;ue++){ae=_[ue];var ge=T[z+ae];ge<=0||(ve+=ge,_[Se++]=ae,Ve+=ae)}ve===0?(M[H]=H0(W),ce=-T[z+H],Be-=ce,he+=ce,P+=ce,T[z+H]=0,T[U+H]=-1):(T[I+H]=Math.min(T[I+H],ve),_[Se]=_[ee],_[ee]=_[Oe],_[Oe]=W,T[B+H]=Se-Oe+1,Ve=(Ve<0?-Ve:Ve)%g,T[R+H]=T[X+Ve],T[X+Ve]=H,$[H]=Ve)}for(T[I+W]=Be,x=Math.max(x,Be),k=o(k+x,x,T,q,g),be=xe;be<we;be++)if(H=_[be],!(T[z+H]>=0))for(Ve=$[H],H=T[X+Ve],T[X+Ve]=-1;H!==-1&&T[R+H]!==-1;H=T[R+H],k++){for(de=T[B+H],Te=T[U+H],ue=M[H]+1;ue<=M[H]+de-1;ue++)T[q+_[ue]]=k;var De=H;for(ae=T[R+H];ae!==-1;){var Le=T[B+ae]===de&&T[U+ae]===Te;for(ue=M[ae]+1;Le&&ue<=M[ae]+de-1;ue++)T[q+_[ue]]!==k&&(Le=0);Le?(M[ae]=H0(H),T[z+H]+=T[z+ae],T[z+ae]=0,T[U+ae]=-1,ae=T[R+ae],T[R+De]=ae):(De=ae,ae=T[R+ae])}}for(ue=xe,be=xe;be<we;be++)H=_[be],!((ce=-T[z+H])<=0)&&(T[z+H]=ce,ve=T[I+H]+Be-ce,ve=Math.min(ve,g-P-ce),T[O+ve]!==-1&&($[T[O+ve]]=H),T[R+H]=T[O+ve],$[H]=-1,T[O+ve]=H,Z=Math.min(Z,ve),T[I+H]=ve,_[ue++]=H);T[z+W]=he,(T[B+W]=ue-xe)===0&&(M[W]=-1,T[q+W]=0),fe!==0&&(E=ue)}for(H=0;H<g;H++)M[H]=H0(M[H]);for(ae=0;ae<=g;ae++)T[O+ae]=-1;for(ae=g;ae>=0;ae--)T[z+ae]>0||(T[R+ae]=T[O+M[ae]],T[O+M[ae]]=ae);for(te=g;te>=0;te--)T[z+te]<=0||M[te]!==-1&&(T[R+te]=T[O+M[te]],T[O+M[te]]=te);for(W=0,H=0;H<=g;H++)M[H]===-1&&(W=kH(H,W,T,O,R,C,q));return C.splice(C.length-1,1),C};function i(u,c,d,h,p){var g=r(c);if(u===1&&h===d)return e(c,g);if(u===2){for(var x=g._index,A=g._ptr,b=0,_=0;_<d;_++){var M=A[_];if(A[_]=b,!(A[_+1]-M>p))for(var E=A[_+1];M<E;M++)x[b++]=x[M]}return A[d]=b,c=r(g),t(g,c)}return t(g,c)}function a(u,c,d,h,p,g,x,A,b,_,M,E){for(var C=0;C<u;C++)d[h+C]=c[C+1]-c[C];d[h+u]=0;for(var T=0;T<=u;T++)d[p+T]=-1,g[T]=-1,d[x+T]=-1,d[A+T]=-1,d[b+T]=1,d[_+T]=1,d[M+T]=0,d[E+T]=d[h+T];var B=o(0,0,d,_,u);return d[M+u]=-2,c[u]=-1,d[_+u]=0,B}function s(u,c,d,h,p,g,x,A,b,_,M){for(var E=0,C=0;C<u;C++){var T=d[h+C];if(T===0)d[p+C]=-2,E++,c[C]=-1,d[g+C]=0;else if(T>x)d[A+C]=0,d[p+C]=-1,E++,c[C]=H0(u),d[A+u]++;else{var B=d[b+T];B!==-1&&(_[B]=C),d[M+C]=d[b+T],d[b+T]=C}}return E}function o(u,c,d,h,p){if(u<2||u+c<0){for(var g=0;g<p;g++)d[h+g]!==0&&(d[h+g]=1);u=2}return u}function l(u,c){return u!==c}});function Xbe(n,e,t,r,i,a,s){var o,l,u=0,c;if(n<=e||t[r+e]<=t[i+n])return-1;t[i+n]=t[r+e];var d=t[a+n];if(t[a+n]=e,d===-1)u=1,c=n;else{for(u=2,c=d;c!==t[s+c];c=t[s+c]);for(o=d;o!==c;o=l)l=t[s+o],t[s+o]=c}return{jleaf:u,q:c}}var Wbe="csCounts",Ybe=["transpose"],Zbe=Me(Wbe,Ybe,n=>{var{transpose:e}=n;return function(t,r,i,a){if(!t||!r||!i)return null;var s=t._size,o=s[0],l=s[1],u,c,d,h,p,g,x,A=4*l+(a?l+o+1:0),b=[],_=0,M=l,E=2*l,C=3*l,T=4*l,B=5*l+1;for(d=0;d<A;d++)b[d]=-1;var z=[],R=e(t),O=R._index,U=R._ptr;for(d=0;d<l;d++)for(c=i[d],z[c]=b[C+c]===-1?1:0;c!==-1&&b[C+c]===-1;c=r[c])b[C+c]=d;if(a){for(d=0;d<l;d++)b[i[d]]=d;for(u=0;u<o;u++){for(d=l,g=U[u],x=U[u+1],p=g;p<x;p++)d=Math.min(d,b[O[p]]);b[B+u]=b[T+d],b[T+d]=u}}for(u=0;u<l;u++)b[_+u]=u;for(d=0;d<l;d++){for(c=i[d],r[c]!==-1&&z[r[c]]--,h=a?b[T+d]:c;h!==-1;h=a?b[B+h]:-1)for(p=U[h];p<U[h+1];p++){u=O[p];var I=Xbe(u,c,b,C,M,E,_);I.jleaf>=1&&z[c]++,I.jleaf===2&&z[I.q]--}r[c]!==-1&&(b[_+c]=r[c])}for(c=0;c<l;c++)r[c]!==-1&&(z[r[c]]+=z[c]);return z}}),Kbe="csSqr",Qbe=["add","multiply","transpose"],Jbe=Me(Kbe,Qbe,n=>{var{add:e,multiply:t,transpose:r}=n,i=$be({add:e,multiply:t,transpose:r}),a=Zbe({transpose:r});return function(l,u,c){var d=u._ptr,h=u._size,p=h[1],g,x={};if(x.q=i(l,u),l&&!x.q)return null;if(c){var A=l?Pbe(u,null,x.q):u;x.parent=Vbe(A);var b=jbe(x.parent,p);if(x.cp=a(A,x.parent,b,1),A&&x.parent&&x.cp&&s(A,x))for(x.unz=0,g=0;g<p;g++)x.unz+=x.cp[g]}else x.unz=4*d[p]+p,x.lnz=x.unz;return x};function s(o,l){var u=o._ptr,c=o._index,d=o._size,h=d[0],p=d[1];l.pinv=[],l.leftmost=[];var g=l.parent,x=l.pinv,A=l.leftmost,b=[],_=0,M=h,E=h+p,C=h+2*p,T,B,z,R,O;for(B=0;B<p;B++)b[M+B]=-1,b[E+B]=-1,b[C+B]=0;for(T=0;T<h;T++)A[T]=-1;for(B=p-1;B>=0;B--)for(R=u[B],O=u[B+1],z=R;z<O;z++)A[c[z]]=B;for(T=h-1;T>=0;T--)x[T]=-1,B=A[T],B!==-1&&(b[C+B]++===0&&(b[E+B]=T),b[_+T]=b[M+B],b[M+B]=T);for(l.lnz=0,l.m2=h,B=0;B<p;B++)if(T=b[M+B],l.lnz++,T<0&&(T=l.m2++),x[T]=B,!(--C[B]<=0)){l.lnz+=b[C+B];var U=g[B];U!==-1&&(b[C+U]===0&&(b[E+U]=b[E+B]),b[_+b[E+B]]=b[M+U],b[M+U]=b[_+T],b[C+U]+=b[C+B])}for(T=0;T<h;T++)x[T]<0&&(x[T]=B++);return!0}});function ZE(n,e){return n[e]<0}function IH(n,e){n[e]=H0(n[e])}function Pz(n){return n<0?H0(n):n}function e4e(n,e,t,r,i){var a=e._index,s=e._ptr,o=e._size,l=o[1],u,c,d,h=0;for(r[0]=n;h>=0;){n=r[h];var p=i?i[n]:n;ZE(s,n)||(IH(s,n),r[l+h]=p<0?0:Pz(s[p]));var g=1;for(c=r[l+h],d=p<0?0:Pz(s[p+1]);c<d;c++)if(u=a[c],!ZE(s,u)){r[l+h]=c,r[++h]=u,g=0;break}g&&(h--,r[--t]=n)}return t}function t4e(n,e,t,r,i){var a=n._ptr,s=n._size,o=e._index,l=e._ptr,u=s[1],c,d,h,p=u;for(d=l[t],h=l[t+1],c=d;c<h;c++){var g=o[c];ZE(a,g)||(p=e4e(g,n,p,r,i))}for(c=p;c<u;c++)IH(a,r[c]);return p}var n4e="csSpsolve",r4e=["divideScalar","multiply","subtract"],i4e=Me(n4e,r4e,n=>{var{divideScalar:e,multiply:t,subtract:r}=n;return function(a,s,o,l,u,c,d){var h=a._values,p=a._index,g=a._ptr,x=a._size,A=x[1],b=s._values,_=s._index,M=s._ptr,E,C,T,B,z=t4e(a,s,o,l,c);for(E=z;E<A;E++)u[l[E]]=0;for(C=M[o],T=M[o+1],E=C;E<T;E++)u[_[E]]=b[E];for(var R=z;R<A;R++){var O=l[R],U=c?c[O]:O;if(!(U<0))for(C=g[U],T=g[U+1],u[O]=e(u[O],h[d?C:T-1]),E=d?C+1:C,B=d?T:T-1;E<B;E++){var I=p[E];u[I]=r(u[I],t(h[E],u[O]))}}return z}}),a4e="csLu",s4e=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],o4e=Me(a4e,s4e,n=>{var{abs:e,divideScalar:t,multiply:r,subtract:i,larger:a,largerEq:s,SparseMatrix:o}=n,l=i4e({divideScalar:t,multiply:r,subtract:i});return function(c,d,h){if(!c)return null;var p=c._size,g=p[1],x,A=100,b=100;d&&(x=d.q,A=d.lnz||A,b=d.unz||b);var _=[],M=[],E=[],C=new o({values:_,index:M,ptr:E,size:[g,g]}),T=[],B=[],z=[],R=new o({values:T,index:B,ptr:z,size:[g,g]}),O=[],U,I,q=[],X=[];for(U=0;U<g;U++)q[U]=0,O[U]=-1,E[U+1]=0;A=0,b=0;for(var $=0;$<g;$++){E[$]=A,z[$]=b;var k=x?x[$]:$,P=l(C,c,k,X,q,O,1),Z=-1,H=-1;for(I=P;I<g;I++)if(U=X[I],O[U]<0){var ae=e(q[U]);a(ae,H)&&(H=ae,Z=U)}else B[b]=O[U],T[b++]=q[U];if(Z===-1||H<=0)return null;O[k]<0&&s(e(q[k]),r(H,h))&&(Z=k);var W=q[Z];for(B[b]=$,T[b++]=W,O[Z]=$,M[A]=Z,_[A++]=1,I=P;I<g;I++)U=X[I],O[U]<0&&(M[A]=U,_[A++]=t(q[U],W)),q[U]=0}for(E[g]=A,z[g]=b,I=0;I<A;I++)M[I]=O[M[I]];return _.splice(A,_.length-A),M.splice(A,M.length-A),T.splice(b,T.length-b),B.splice(b,B.length-b),{L:C,U:R,pinv:O}}}),jz="slu",l4e=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],u4e=Me(jz,l4e,n=>{var{typed:e,abs:t,add:r,multiply:i,transpose:a,divideScalar:s,subtract:o,larger:l,largerEq:u,SparseMatrix:c}=n,d=Jbe({add:r,multiply:i,transpose:a}),h=o4e({abs:t,divideScalar:s,multiply:i,subtract:o,larger:l,largerEq:u,SparseMatrix:c});return e(jz,{"SparseMatrix, number, number":function(g,x,A){if(!on(x)||x<0||x>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(A<0||A>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var b=d(x,g,!1),_=h(g,b,A);return{L:_.L,U:_.U,p:_.pinv,q:b.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Vz(n,e){var t,r=e.length,i=[];if(n)for(t=0;t<r;t++)i[n[t]]=e[t];else for(t=0;t<r;t++)i[t]=e[t];return i}var Hz="lusolve",c4e=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],f4e=Me(Hz,c4e,n=>{var{typed:e,matrix:t,lup:r,slu:i,usolve:a,lsolve:s,DenseMatrix:o}=n,l=v2({DenseMatrix:o});return e(Hz,{"Array, Array | Matrix":function(h,p){h=t(h);var g=r(h),x=c(g.L,g.U,g.p,null,p);return x.valueOf()},"DenseMatrix, Array | Matrix":function(h,p){var g=r(h);return c(g.L,g.U,g.p,null,p)},"SparseMatrix, Array | Matrix":function(h,p){var g=r(h);return c(g.L,g.U,g.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(h,p,g,x){var A=i(h,g,x);return c(A.L,A.U,A.p,A.q,p)},"Object, Array | Matrix":function(h,p){return c(h.L,h.U,h.p,h.q,p)}});function u(d){if(vn(d))return d;if(Tr(d))return t(d);throw new TypeError("Invalid Matrix LU decomposition")}function c(d,h,p,g,x){d=u(d),h=u(h),p&&(x=l(d,x,!0),x._data=Vz(p,x._data));var A=s(d,x),b=a(h,A);return g&&(b._data=Vz(g,b._data)),b}}),qz="polynomialRoot",d4e=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],h4e=Me(qz,d4e,n=>{var{typed:e,isZero:t,equalScalar:r,add:i,subtract:a,multiply:s,divide:o,sqrt:l,unaryMinus:u,cbrt:c,typeOf:d,im:h,re:p}=n;return e(qz,{"number|Complex, ...number|Complex":(g,x)=>{for(var A=[g,...x];A.length>0&&t(A[A.length-1]);)A.pop();if(A.length<2)throw new RangeError("Polynomial [".concat(g,", ").concat(x,"] must have a non-zero non-constant coefficient"));switch(A.length){case 2:return[u(o(A[0],A[1]))];case 3:{var[b,_,M]=A,E=s(2,M),C=s(_,_),T=s(4,M,b);if(r(C,T))return[o(u(_),E)];var B=l(a(C,T));return[o(a(B,_),E),o(a(u(B),_),E)]}case 4:{var[z,R,O,U]=A,I=u(s(3,U)),q=s(O,O),X=s(3,U,R),$=i(s(2,O,O,O),s(27,U,U,z)),k=s(9,U,O,R);if(r(q,X)&&r($,k))return[o(O,I)];var P=a(q,X),Z=a($,k),H=i(s(18,U,O,R,z),s(O,O,R,R)),ae=i(s(4,O,O,O,z),s(4,U,R,R,R),s(27,U,U,z,z));if(r(H,ae))return[o(a(s(4,U,O,R),i(s(9,U,U,z),s(O,O,O))),s(U,P)),o(a(s(9,U,z),s(O,R)),s(2,P))];var W;r(q,X)?W=Z:W=o(i(Z,l(a(s(Z,Z),s(4,P,P,P)))),2);var K=!0,Q=c(W,K).toArray().map(te=>o(i(O,te,o(P,te)),I));return Q.map(te=>d(te)==="Complex"&&r(p(te),p(te)+h(te))?p(te):te)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(A))}}})}),m4e="Help",p4e=["evaluate"],v4e=Me(m4e,p4e,n=>{var{evaluate:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var r=this.doc||{},i=`
`;if(r.name&&(i+="Name: "+r.name+`

`),r.category&&(i+="Category: "+r.category+`

`),r.description&&(i+=`Description:
    `+r.description+`

`),r.syntax&&(i+=`Syntax:
    `+r.syntax.join(`
    `)+`

`),r.examples){i+=`Examples:
`;for(var a=!1,s=e("config()"),o={config:d=>(a=!0,e("config(newConfig)",{newConfig:d}))},l=0;l<r.examples.length;l++){var u=r.examples[l];i+="    "+u+`
`;var c=void 0;try{c=e(u,o)}catch(d){c=d}c!==void 0&&!Pj(c)&&(i+="        "+Xn(c,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:s})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+`

`),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var r=Rn(this.doc);return r.mathjs="Help",r},t.fromJSON=function(r){var i={};return Object.keys(r).filter(a=>a!=="mathjs").forEach(a=>{i[a]=r[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0}),g4e="Chain",x4e=["?on","math","typed"],y4e=Me(g4e,x4e,n=>{var{on:e,math:t,typed:r}=n;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");jj(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Xn(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,c){typeof c=="function"&&(i.prototype[u]=o(c))}function s(u,c){pde(i.prototype,u,function(){var h=c();if(typeof h=="function")return o(h)})}function o(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],d=0;d<arguments.length;d++)c[d+1]=arguments[d];if(r.isTypedFunction(u)){var h=r.resolve(u,c);if(h.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(h.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")a(u,c);else{var d=function(g){Qt(u,g)&&l[g]===void 0&&s(g,()=>u[g])};for(var h in u)d(h)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(u,c,d){d||s(u,c)}),i},{isClass:!0}),Gz={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},b4e={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},S4e={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},w4e={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},A4e={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},M4e={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},_4e={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},E4e={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},N4e={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},T4e={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},C4e={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},$z={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},D4e={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},R4e={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},B4e={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},O4e={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},z4e={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},U4e={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},F4e={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},L4e={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},k4e={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},I4e={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},P4e={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},j4e={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},V4e={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},H4e={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},q4e={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},G4e={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},$4e={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},X4e={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},W4e={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},Y4e={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},Z4e={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},K4e={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},Q4e={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},J4e={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},e3e={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},t3e={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},n3e={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},r3e={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},i3e={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},a3e={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},s3e={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},o3e={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},l3e={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},u3e={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},c3e={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},f3e={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},d3e={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},h3e={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},m3e={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},p3e={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},v3e={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},g3e={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},x3e={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},y3e={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},b3e={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},S3e={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},w3e={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},A3e={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},M3e={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},_3e={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},E3e={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},N3e={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},T3e={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},C3e={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax  1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},D3e={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},R3e={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},B3e={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},O3e={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},z3e={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},U3e={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},F3e={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},L3e={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},k3e={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},I3e={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},P3e={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},j3e={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},V3e={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},H3e={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},q3e={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},G3e={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},$3e={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},X3e={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},W3e={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},Y3e={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},Z3e={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},K3e={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},Q3e={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},J3e={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},eSe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},tSe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},nSe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},rSe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},iSe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},aSe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},sSe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},oSe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},lSe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},uSe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},cSe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},fSe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},dSe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},hSe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},mSe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},pSe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},vSe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},gSe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},xSe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},ySe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},bSe={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},SSe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},wSe={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ASe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},MSe={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},_Se={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},ESe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},NSe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},TSe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},CSe={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},DSe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},RSe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},BSe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},OSe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},zSe={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},USe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},FSe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},LSe={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},kSe={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the MoorePenrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},ISe={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},PSe={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},jSe={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},VSe={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},HSe={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},qSe={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},GSe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},$Se={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},XSe={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},WSe={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},YSe={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},ZSe={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},KSe={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},QSe={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},JSe={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},ewe={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},twe={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},nwe={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},rwe={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},iwe={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},awe={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},swe={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},owe={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},lwe={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},uwe={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},cwe={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},fwe={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},dwe={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},hwe={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},mwe={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pwe={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},vwe={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},gwe={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},xwe={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},ywe={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},bwe={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},Swe={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},wwe={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},Awe={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},Mwe={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},_we={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},Ewe={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},Nwe={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},Twe={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},Cwe={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},Dwe={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},Rwe={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},Bwe={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},Owe={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},zwe={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},Uwe={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},Fwe={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},Lwe={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},kwe={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},Iwe={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},Pwe={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},jwe={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},Vwe={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},Hwe={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},qwe={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},Gwe={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},$we={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},Xwe={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},Wwe={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},Ywe={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},Zwe={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},Kwe={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},Qwe={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},Jwe={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},e5e={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},t5e={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},n5e={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},r5e={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},i5e={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},a5e={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},s5e={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},o5e={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},l5e={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},u5e={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},c5e={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},f5e={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},d5e={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},h5e={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},m5e={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},p5e={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},v5e={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},g5e={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},x5e={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},y5e={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},b5e={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},S5e={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},w5e={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},A5e={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},M5e={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},_5e={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},E5e={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},N5e={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},T5e={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},C5e={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},D5e={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},R5e={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},B5e={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},O5e={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},z5e={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},U5e={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},F5e={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},L5e={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},k5e={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},I5e={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},P5e={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]},j5e={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},V5e={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},H5e={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},q5e={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},G5e={bignumber:U4e,boolean:F4e,complex:L4e,createUnit:k4e,fraction:I4e,index:P4e,matrix:j4e,number:V4e,sparse:H4e,splitUnit:q4e,string:G4e,unit:$4e,e:Gz,E:Gz,false:b4e,i:S4e,Infinity:w4e,LN2:M4e,LN10:A4e,LOG2E:E4e,LOG10E:_4e,NaN:N4e,null:T4e,pi:$z,PI:$z,phi:C4e,SQRT1_2:D4e,SQRT2:R4e,tau:B4e,true:O4e,version:z4e,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:Z4e,lsolve:Q4e,lsolveAll:J4e,lup:e3e,lusolve:t3e,leafCount:K4e,polynomialRoot:n3e,resolve:a3e,simplify:s3e,simplifyConstant:o3e,simplifyCore:l3e,symbolicEqual:c3e,rationalize:i3e,slu:u3e,usolve:f3e,usolveAll:d3e,qr:r3e,abs:h3e,add:m3e,cbrt:p3e,ceil:v3e,cube:g3e,divide:x3e,dotDivide:y3e,dotMultiply:b3e,dotPow:S3e,exp:w3e,expm:A3e,expm1:M3e,fix:_3e,floor:E3e,gcd:N3e,hypot:T3e,lcm:D3e,log:R3e,log2:z3e,log1p:O3e,log10:B3e,mod:U3e,multiply:F3e,norm:L3e,nthRoot:k3e,nthRoots:I3e,pow:P3e,round:j3e,sign:V3e,sqrt:H3e,sqrtm:q3e,square:W3e,subtract:Y3e,unaryMinus:Z3e,unaryPlus:K3e,xgcd:Q3e,invmod:C3e,bitAnd:J3e,bitNot:eSe,bitOr:tSe,bitXor:nSe,leftShift:rSe,rightArithShift:iSe,rightLogShift:aSe,bellNumbers:sSe,catalan:oSe,composition:lSe,stirlingS2:uSe,config:X4e,import:W4e,typed:Y4e,arg:cSe,conj:fSe,re:hSe,im:dSe,evaluate:mSe,help:pSe,distance:vSe,intersect:gSe,and:xSe,not:ySe,or:bSe,xor:SSe,concat:ASe,count:MSe,cross:_Se,column:wSe,ctranspose:ESe,det:NSe,diag:TSe,diff:CSe,dot:DSe,getMatrixDataType:USe,identity:FSe,filter:BSe,flatten:OSe,forEach:zSe,inv:LSe,pinv:kSe,eigs:RSe,kron:ISe,matrixFromFunction:VSe,matrixFromRows:HSe,matrixFromColumns:jSe,map:PSe,ones:qSe,partitionSelect:GSe,range:$Se,resize:WSe,reshape:XSe,rotate:YSe,rotationMatrix:ZSe,row:KSe,size:QSe,sort:JSe,squeeze:ewe,subset:twe,trace:nwe,transpose:rwe,zeros:iwe,fft:awe,ifft:swe,sylvester:G3e,schur:$3e,lyap:X3e,solveODE:q5e,combinations:owe,combinationsWithRep:lwe,factorial:uwe,gamma:cwe,kldivergence:dwe,lgamma:fwe,multinomial:hwe,permutations:mwe,pickRandom:pwe,random:vwe,randomInt:gwe,compare:xwe,compareNatural:ywe,compareText:bwe,deepEqual:Swe,equal:wwe,equalText:Awe,larger:Mwe,largerEq:_we,smaller:Ewe,smallerEq:Nwe,unequal:Twe,setCartesian:Cwe,setDifference:Dwe,setDistinct:Rwe,setIntersect:Bwe,setIsSubset:Owe,setMultiplicity:zwe,setPowerset:Uwe,setSize:Fwe,setSymDifference:Lwe,setUnion:kwe,zpk2tf:Iwe,freqz:Pwe,erf:jwe,zeta:Vwe,cumsum:Qwe,mad:Hwe,max:qwe,mean:Gwe,median:$we,min:Xwe,mode:Wwe,prod:Ywe,quantileSeq:Zwe,std:Kwe,sum:Jwe,variance:e5e,corr:t5e,acos:n5e,acosh:r5e,acot:i5e,acoth:a5e,acsc:s5e,acsch:o5e,asec:l5e,asech:u5e,asin:c5e,asinh:f5e,atan:d5e,atanh:m5e,atan2:h5e,cos:p5e,cosh:v5e,cot:g5e,coth:x5e,csc:y5e,csch:b5e,sec:S5e,sech:w5e,sin:A5e,sinh:M5e,tan:_5e,tanh:E5e,to:N5e,clone:C5e,format:D5e,bin:T5e,oct:j5e,hex:B5e,isNaN:z5e,isInteger:O5e,isNegative:U5e,isNumeric:F5e,hasNumericValue:R5e,isPositive:L5e,isPrime:k5e,isZero:I5e,print:V5e,typeOf:H5e,numeric:P5e},Xz="help",$5e=["typed","mathWithTransform","Help"],X5e=Me(Xz,$5e,n=>{var{typed:e,mathWithTransform:t,Help:r}=n;return e(Xz,{any:function(a){var s,o=a;if(typeof a!="string"){for(s in t)if(Qt(t,s)&&a===t[s]){o=s;break}}var l=Ao(G5e,o);if(!l){var u=typeof o=="function"?o.name:o;throw new Error('No documentation found on "'+u+'"')}return new r(l)}})}),Wz="chain",W5e=["typed","Chain"],Y5e=Me(Wz,W5e,n=>{var{typed:e,Chain:t}=n;return e(Wz,{"":function(){return new t},any:function(i){return new t(i)}})}),Yz="det",Z5e=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],K5e=Me(Yz,Z5e,n=>{var{typed:e,matrix:t,subtractScalar:r,multiply:i,divideScalar:a,isZero:s,unaryMinus:o}=n;return e(Yz,{any:function(c){return Rn(c)},"Array | Matrix":function(c){var d;switch(vn(c)?d=c.size():Array.isArray(c)?(c=t(c),d=c.size()):d=[],d.length){case 0:return Rn(c);case 1:if(d[0]===1)return Rn(c.valueOf()[0]);if(d[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Xn(d)+")");case 2:{var h=d[0],p=d[1];if(h===p)return l(c.clone().valueOf(),h);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+Xn(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Xn(d)+")")}}});function l(u,c,d){if(c===1)return Rn(u[0][0]);if(c===2)return r(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var h=!1,p=new Array(c).fill(0).map((B,z)=>z),g=0;g<c;g++){var x=p[g];if(s(u[x][g])){var A=void 0;for(A=g+1;A<c;A++)if(!s(u[p[A]][g])){x=p[A],p[A]=p[g],p[g]=x,h=!h;break}if(A===c)return u[x][g]}for(var b=u[x][g],_=g===0?1:u[p[g-1]][g-1],M=g+1;M<c;M++)for(var E=p[M],C=g+1;C<c;C++)u[E][C]=a(r(i(u[E][C],b),i(u[E][g],u[x][C])),_)}var T=u[p[c-1]][c-1];return h?o(T):T}}),Zz="inv",Q5e=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],J5e=Me(Zz,Q5e,n=>{var{typed:e,matrix:t,divideScalar:r,addScalar:i,multiply:a,unaryMinus:s,det:o,identity:l,abs:u}=n;return e(Zz,{"Array | Matrix":function(h){var p=vn(h)?h.size():Un(h);switch(p.length){case 1:if(p[0]===1)return vn(h)?t([r(1,h.valueOf()[0])]):[r(1,h[0])];throw new RangeError("Matrix must be square (size: "+Xn(p)+")");case 2:{var g=p[0],x=p[1];if(g===x)return vn(h)?t(c(h.valueOf(),g,x),h.storage()):c(h,g,x);throw new RangeError("Matrix must be square (size: "+Xn(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Xn(p)+")")}},any:function(h){return r(1,h)}});function c(d,h,p){var g,x,A,b,_;if(h===1){if(b=d[0][0],b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,b)]]}else if(h===2){var M=o(d);if(M===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(d[1][1],M),r(s(d[0][1]),M)],[r(s(d[1][0]),M),r(d[0][0],M)]]}else{var E=d.concat();for(g=0;g<h;g++)E[g]=E[g].concat();for(var C=l(h).valueOf(),T=0;T<p;T++){var B=u(E[T][T]),z=T;for(g=T+1;g<h;)u(E[g][T])>B&&(B=u(E[g][T]),z=g),g++;if(B===0)throw Error("Cannot calculate inverse, determinant is zero");g=z,g!==T&&(_=E[T],E[T]=E[g],E[g]=_,_=C[T],C[T]=C[g],C[g]=_);var R=E[T],O=C[T];for(g=0;g<h;g++){var U=E[g],I=C[g];if(g!==T){if(U[T]!==0){for(A=r(s(U[T]),R[T]),x=T;x<p;x++)U[x]=i(U[x],a(A,R[x]));for(x=0;x<p;x++)I[x]=i(I[x],a(A,O[x]))}}else{for(A=R[T],x=T;x<p;x++)U[x]=r(U[x],A);for(x=0;x<p;x++)I[x]=r(I[x],A)}}}return C}}}),Kz="pinv",eAe=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],tAe=Me(Kz,eAe,n=>{var{typed:e,matrix:t,inv:r,deepEqual:i,equal:a,dotDivide:s,dot:o,ctranspose:l,divideScalar:u,multiply:c,add:d,Complex:h}=n;return e(Kz,{"Array | Matrix":function(M){var E=vn(M)?M.size():Un(M);switch(E.length){case 1:return b(M)?l(M):E[0]===1?r(M):s(l(M),o(M,M));case 2:{if(b(M))return l(M);var C=E[0],T=E[1];if(C===T)try{return r(M)}catch(B){if(!(B instanceof Error&&B.message.match(/Cannot calculate inverse, determinant is zero/)))throw B}return vn(M)?t(p(M.valueOf(),C,T),M.storage()):p(M,C,T)}default:throw new RangeError("Matrix must be two dimensional (size: "+Xn(E)+")")}},any:function(M){return a(M,0)?Rn(M):u(1,M)}});function p(_,M,E){var{C,F:T}=x(_,M,E),B=c(r(c(l(C),C)),l(C)),z=c(l(T),r(c(T,l(T))));return c(z,B)}function g(_,M,E){for(var C=Rn(_),T=0,B=0;B<M;B++){if(E<=T)return C;for(var z=B;A(C[z][T]);)if(z++,M===z&&(z=B,T++,E===T))return C;[C[z],C[B]]=[C[B],C[z]];for(var R=C[B][T],O=0;O<E;O++)C[B][O]=s(C[B][O],R);for(var U=0;U<M;U++)if(U!==B){R=C[U][T];for(var I=0;I<E;I++)C[U][I]=d(C[U][I],c(-1,c(R,C[B][I])))}T++}return C}function x(_,M,E){var C=g(_,M,E),T=_.map((z,R)=>z.filter((O,U)=>U<M&&!A(o(C[U],C[U])))),B=C.filter((z,R)=>!A(o(C[R],C[R])));return{C:T,F:B}}function A(_){return a(d(_,h(1,1)),d(0,h(1,1)))}function b(_){return i(d(_,h(1,1)),d(c(_,0),h(1,1)))}});function nAe(n){var{addScalar:e,subtract:t,flatten:r,multiply:i,multiplyScalar:a,divideScalar:s,sqrt:o,abs:l,bignumber:u,diag:c,size:d,reshape:h,inv:p,qr:g,usolve:x,usolveAll:A,equal:b,complex:_,larger:M,smaller:E,matrixFromColumns:C,dot:T}=n;function B(K,Q,te,le){var de=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ce=z(K,Q,te,le,de);R(K,Q,te,le,de,ce);var{values:be,C:Te}=O(K,Q,te,le,de);if(de){var Oe=U(K,Q,Te,ce,be,te,le);return{values:be,eigenvectors:Oe}}return{values:be}}function z(K,Q,te,le,de){var ce=le==="BigNumber",be=le==="Complex",Te=ce?u(0):0,Oe=ce?u(1):be?_(1):1,Fe=ce?u(1):1,Se=ce?u(10):2,Ve=a(Se,Se),ve;de&&(ve=Array(Q).fill(Oe));for(var fe=!1;!fe;){fe=!0;for(var he=0;he<Q;he++){for(var Be=Te,ue=Te,xe=0;xe<Q;xe++)he!==xe&&(Be=e(Be,l(K[xe][he])),ue=e(ue,l(K[he][xe])));if(!b(Be,0)&&!b(ue,0)){for(var we=Fe,ie=Be,re=s(ue,Se),ee=a(ue,Se);E(ie,re);)ie=a(ie,Ve),we=a(we,Se);for(;M(ie,ee);)ie=s(ie,Ve),we=s(we,Se);var oe=E(s(e(ie,ue),we),a(e(Be,ue),.95));if(oe){fe=!1;for(var ge=s(1,we),De=0;De<Q;De++)he!==De&&(K[he][De]=a(K[he][De],ge),K[De][he]=a(K[De][he],we));de&&(ve[he]=a(ve[he],ge))}}}}return de?c(ve):null}function R(K,Q,te,le,de,ce){var be=le==="BigNumber",Te=le==="Complex",Oe=be?u(0):Te?_(0):0;be&&(te=u(te));for(var Fe=0;Fe<Q-2;Fe++){for(var Se=0,Ve=Oe,ve=Fe+1;ve<Q;ve++){var fe=K[ve][Fe];E(l(Ve),l(fe))&&(Ve=fe,Se=ve)}if(!E(l(Ve),te)){if(Se!==Fe+1){var he=K[Se];K[Se]=K[Fe+1],K[Fe+1]=he;for(var Be=0;Be<Q;Be++){var ue=K[Be][Se];K[Be][Se]=K[Be][Fe+1],K[Be][Fe+1]=ue}if(de){var xe=ce[Se];ce[Se]=ce[Fe+1],ce[Fe+1]=xe}}for(var we=Fe+2;we<Q;we++){var ie=s(K[we][Fe],Ve);if(ie!==0){for(var re=0;re<Q;re++)K[we][re]=t(K[we][re],a(ie,K[Fe+1][re]));for(var ee=0;ee<Q;ee++)K[ee][Fe+1]=e(K[ee][Fe+1],a(ie,K[ee][we]));if(de)for(var oe=0;oe<Q;oe++)ce[we][oe]=t(ce[we][oe],a(ie,ce[Fe+1][oe]))}}}}return ce}function O(K,Q,te,le,de){var ce=le==="BigNumber",be=le==="Complex",Te=ce?u(1):be?_(1):1;ce&&(te=u(te));for(var Oe=Rn(K),Fe=[],Se=Q,Ve=[],ve=de?c(Array(Q).fill(Te)):void 0,fe=de?c(Array(Se).fill(Te)):void 0,he=0;he<=100;){he+=1;for(var Be=Oe[Se-1][Se-1],ue=0;ue<Se;ue++)Oe[ue][ue]=t(Oe[ue][ue],Be);var{Q:xe,R:we}=g(Oe);Oe=i(we,xe);for(var ie=0;ie<Se;ie++)Oe[ie][ie]=e(Oe[ie][ie],Be);if(de&&(fe=i(fe,xe)),Se===1||E(l(Oe[Se-1][Se-2]),te)){he=0,Fe.push(Oe[Se-1][Se-1]),de&&(Ve.unshift([[1]]),X(fe,Q),ve=i(ve,fe),Se>1&&(fe=c(Array(Se-1).fill(Te)))),Se-=1,Oe.pop();for(var re=0;re<Se;re++)Oe[re].pop()}else if(Se===2||E(l(Oe[Se-2][Se-3]),te)){he=0;var ee=I(Oe[Se-2][Se-2],Oe[Se-2][Se-1],Oe[Se-1][Se-2],Oe[Se-1][Se-1]);Fe.push(...ee),de&&(Ve.unshift(q(Oe[Se-2][Se-2],Oe[Se-2][Se-1],Oe[Se-1][Se-2],Oe[Se-1][Se-1],ee[0],ee[1],te,le)),X(fe,Q),ve=i(ve,fe),Se>2&&(fe=c(Array(Se-2).fill(Te)))),Se-=2,Oe.pop(),Oe.pop();for(var oe=0;oe<Se;oe++)Oe[oe].pop(),Oe[oe].pop()}if(Se===0)break}if(Fe.sort((Le,Ue)=>+t(l(Le),l(Ue))),he>100){var ge=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Fe.join(", "));throw ge.values=Fe,ge.vectors=[],ge}var De=de?i(ve,$(Ve,Q)):void 0;return{values:Fe,C:De}}function U(K,Q,te,le,de,ce,be){var Te=p(te),Oe=i(Te,K,te),Fe=be==="BigNumber",Se=be==="Complex",Ve=Fe?u(0):Se?_(0):0,ve=Fe?u(1):Se?_(1):1,fe=[],he=[];for(var Be of de){var ue=k(fe,Be,b);ue===-1?(fe.push(Be),he.push(1)):he[ue]+=1}for(var xe=[],we=fe.length,ie=Array(Q).fill(Ve),re=c(Array(Q).fill(ve)),ee=function(){var De=fe[oe],Le=t(Oe,i(De,re)),Ue=A(Le,ie);for(Ue.shift();Ue.length<he[oe];){var He=P(Le,Q,Ue,ce,be);if(He===null)break;Ue.push(He)}var et=i(p(le),te);Ue=Ue.map(Xe=>i(et,Xe)),xe.push(...Ue.map(Xe=>({value:De,vector:r(Xe)})))},oe=0;oe<we;oe++)ee();return xe}function I(K,Q,te,le){var de=e(K,le),ce=t(a(K,le),a(Q,te)),be=a(de,.5),Te=a(o(t(a(de,de),a(4,ce))),.5);return[e(be,Te),t(be,Te)]}function q(K,Q,te,le,de,ce,be,Te){var Oe=Te==="BigNumber",Fe=Te==="Complex",Se=Oe?u(0):Fe?_(0):0,Ve=Oe?u(1):Fe?_(1):1;if(E(l(te),be))return[[Ve,Se],[Se,Ve]];if(M(l(t(de,ce)),be))return[[t(de,le),t(ce,le)],[te,te]];var ve=t(K,de),fe=t(le,de);return E(l(Q),be)&&E(l(fe),be)?[[ve,Ve],[te,Se]]:[[Q,Se],[fe,Ve]]}function X(K,Q){for(var te=0;te<K.length;te++)K[te].push(...Array(Q-K[te].length).fill(0));for(var le=K.length;le<Q;le++)K.push(Array(Q).fill(0)),K[le][le]=1;return K}function $(K,Q){for(var te=[],le=0;le<Q;le++)te[le]=Array(Q).fill(0);var de=0;for(var ce of K){for(var be=ce.length,Te=0;Te<be;Te++)for(var Oe=0;Oe<be;Oe++)te[de+Te][de+Oe]=ce[Te][Oe];de+=be}return te}function k(K,Q,te){for(var le=0;le<K.length;le++)if(te(K[le],Q))return le;return-1}function P(K,Q,te,le,de){for(var ce=de==="BigNumber"?u(1e3):1e3,be,Te=0;Te<5;++Te){be=Z(Q,te,de);try{be=x(K,be)}catch{continue}if(M(ae(be),ce))break}if(Te>=5)return null;for(Te=0;;){var Oe=x(K,be);if(E(ae(H(be,[Oe])),le))break;if(++Te>=10)return null;be=W(Oe)}return be}function Z(K,Q,te){var le=te==="BigNumber",de=te==="Complex",ce=Array(K).fill(0).map(be=>2*Math.random()-1);return le&&(ce=ce.map(be=>u(be))),de&&(ce=ce.map(be=>_(be))),ce=H(ce,Q),W(ce,te)}function H(K,Q){var te=d(K);for(var le of Q)le=h(le,te),K=t(K,i(s(T(le,K),T(le,le)),le));return K}function ae(K){return l(o(T(K,K)))}function W(K,Q){var te=Q==="BigNumber",le=Q==="Complex",de=te?u(1):le?_(1):1;return i(s(de,ae(K)),K)}return B}function rAe(n){var{config:e,addScalar:t,subtract:r,abs:i,atan:a,cos:s,sin:o,multiplyScalar:l,inv:u,bignumber:c,multiply:d,add:h}=n;function p(R,O){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,I=arguments.length>3?arguments[3]:void 0,q=arguments.length>4?arguments[4]:void 0;if(I==="number")return g(R,U,q);if(I==="BigNumber")return x(R,U,q);throw TypeError("Unsupported data type: "+I)}function g(R,O,U){var I=R.length,q=Math.abs(O/I),X,$;if(U){$=new Array(I);for(var k=0;k<I;k++)$[k]=Array(I).fill(0),$[k][k]=1}for(var P=T(R);Math.abs(P[1])>=Math.abs(q);){var Z=P[0][0],H=P[0][1];X=A(R[Z][Z],R[H][H],R[Z][H]),R=C(R,X,Z,H),U&&($=_($,X,Z,H)),P=T(R)}for(var ae=Array(I).fill(0),W=0;W<I;W++)ae[W]=R[W][W];return z(Rn(ae),$,U)}function x(R,O,U){var I=R.length,q=i(O/I),X,$;if(U){$=new Array(I);for(var k=0;k<I;k++)$[k]=Array(I).fill(0),$[k][k]=1}for(var P=B(R);i(P[1])>=i(q);){var Z=P[0][0],H=P[0][1];X=b(R[Z][Z],R[H][H],R[Z][H]),R=E(R,X,Z,H),U&&($=M($,X,Z,H)),P=B(R)}for(var ae=Array(I).fill(0),W=0;W<I;W++)ae[W]=R[W][W];return z(Rn(ae),$,U)}function A(R,O,U){var I=O-R;return Math.abs(I)<=e.epsilon?Math.PI/4:.5*Math.atan(2*U/(O-R))}function b(R,O,U){var I=r(O,R);return i(I)<=e.epsilon?c(-1).acos().div(4):l(.5,a(d(2,U,u(I))))}function _(R,O,U,I){for(var q=R.length,X=Math.cos(O),$=Math.sin(O),k=Array(q).fill(0),P=Array(q).fill(0),Z=0;Z<q;Z++)k[Z]=X*R[Z][U]-$*R[Z][I],P[Z]=$*R[Z][U]+X*R[Z][I];for(var H=0;H<q;H++)R[H][U]=k[H],R[H][I]=P[H];return R}function M(R,O,U,I){for(var q=R.length,X=s(O),$=o(O),k=Array(q).fill(c(0)),P=Array(q).fill(c(0)),Z=0;Z<q;Z++)k[Z]=r(l(X,R[Z][U]),l($,R[Z][I])),P[Z]=t(l($,R[Z][U]),l(X,R[Z][I]));for(var H=0;H<q;H++)R[H][U]=k[H],R[H][I]=P[H];return R}function E(R,O,U,I){for(var q=R.length,X=c(s(O)),$=c(o(O)),k=l(X,X),P=l($,$),Z=Array(q).fill(c(0)),H=Array(q).fill(c(0)),ae=d(c(2),X,$,R[U][I]),W=t(r(l(k,R[U][U]),ae),l(P,R[I][I])),K=h(l(P,R[U][U]),ae,l(k,R[I][I])),Q=0;Q<q;Q++)Z[Q]=r(l(X,R[U][Q]),l($,R[I][Q])),H[Q]=t(l($,R[U][Q]),l(X,R[I][Q]));R[U][U]=W,R[I][I]=K,R[U][I]=c(0),R[I][U]=c(0);for(var te=0;te<q;te++)te!==U&&te!==I&&(R[U][te]=Z[te],R[te][U]=Z[te],R[I][te]=H[te],R[te][I]=H[te]);return R}function C(R,O,U,I){for(var q=R.length,X=Math.cos(O),$=Math.sin(O),k=X*X,P=$*$,Z=Array(q).fill(0),H=Array(q).fill(0),ae=k*R[U][U]-2*X*$*R[U][I]+P*R[I][I],W=P*R[U][U]+2*X*$*R[U][I]+k*R[I][I],K=0;K<q;K++)Z[K]=X*R[U][K]-$*R[I][K],H[K]=$*R[U][K]+X*R[I][K];R[U][U]=ae,R[I][I]=W,R[U][I]=0,R[I][U]=0;for(var Q=0;Q<q;Q++)Q!==U&&Q!==I&&(R[U][Q]=Z[Q],R[Q][U]=Z[Q],R[I][Q]=H[Q],R[Q][I]=H[Q]);return R}function T(R){for(var O=R.length,U=0,I=[0,1],q=0;q<O;q++)for(var X=q+1;X<O;X++)Math.abs(U)<Math.abs(R[q][X])&&(U=Math.abs(R[q][X]),I=[q,X]);return[I,U]}function B(R){for(var O=R.length,U=0,I=[0,1],q=0;q<O;q++)for(var X=q+1;X<O;X++)i(U)<i(R[q][X])&&(U=i(R[q][X]),I=[q,X]);return[I,U]}function z(R,O,U){var I=R.length,q=Array(I),X;if(U){X=Array(I);for(var $=0;$<I;$++)X[$]=Array(I)}for(var k=0;k<I;k++){for(var P=0,Z=R[0],H=0;H<R.length;H++)i(R[H])<i(Z)&&(P=H,Z=R[P]);if(q[k]=R.splice(P,1)[0],U)for(var ae=0;ae<I;ae++)X[k][ae]=O[ae][P],O[ae].splice(P,1)}if(!U)return{values:q};var W=X.map((K,Q)=>({value:q[Q],vector:K}));return{values:q,eigenvectors:W}}return p}var iAe="eigs",aAe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],sAe=Me(iAe,aAe,n=>{var{config:e,typed:t,matrix:r,addScalar:i,subtract:a,equal:s,abs:o,atan:l,cos:u,sin:c,multiplyScalar:d,divideScalar:h,inv:p,bignumber:g,multiply:x,add:A,larger:b,column:_,flatten:M,number:E,complex:C,sqrt:T,diag:B,size:z,reshape:R,qr:O,usolve:U,usolveAll:I,im:q,re:X,smaller:$,matrixFromColumns:k,dot:P}=n,Z=rAe({config:e,addScalar:i,subtract:a,abs:o,atan:l,cos:u,sin:c,multiplyScalar:d,inv:p,bignumber:g,multiply:x,add:A}),H=nAe({addScalar:i,subtract:a,multiply:x,multiplyScalar:d,flatten:M,divideScalar:h,sqrt:T,abs:o,bignumber:g,diag:B,size:z,reshape:R,qr:O,inv:p,usolve:U,usolveAll:I,equal:s,complex:C,larger:b,smaller:$,matrixFromColumns:k,dot:P});return t("eigs",{Array:function(ce){return ae(r(ce))},"Array, number|BigNumber":function(ce,be){return ae(r(ce),{precision:be})},"Array, Object"(de,ce){return ae(r(de),ce)},Matrix:function(ce){return ae(ce,{matricize:!0})},"Matrix, number|BigNumber":function(ce,be){return ae(ce,{precision:be,matricize:!0})},"Matrix, Object":function(ce,be){var Te={matricize:!0};return mi(Te,be),ae(ce,Te)}});function ae(de){var ce,be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te="eigenvectors"in be?be.eigenvectors:!0,Oe=(ce=be.precision)!==null&&ce!==void 0?ce:e.epsilon,Fe=W(de,Oe,Te);return be.matricize&&(Fe.values=r(Fe.values),Te&&(Fe.eigenvectors=Fe.eigenvectors.map(Se=>{var{value:Ve,vector:ve}=Se;return{value:Ve,vector:r(ve)}}))),Te&&Object.defineProperty(Fe,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Fe}function W(de,ce,be){var Te=de.toArray(),Oe=de.size();if(Oe.length!==2||Oe[0]!==Oe[1])throw new RangeError("Matrix must be square (size: ".concat(Xn(Oe),")"));var Fe=Oe[0];if(Q(Te,Fe,ce)&&(te(Te,Fe),K(Te,Fe,ce))){var Se=le(de,Te,Fe);return Z(Te,Fe,ce,Se,be)}var Ve=le(de,Te,Fe);return H(Te,Fe,ce,Ve,be)}function K(de,ce,be){for(var Te=0;Te<ce;Te++)for(var Oe=Te;Oe<ce;Oe++)if(b(g(o(a(de[Te][Oe],de[Oe][Te]))),be))return!1;return!0}function Q(de,ce,be){for(var Te=0;Te<ce;Te++)for(var Oe=0;Oe<ce;Oe++)if(b(g(o(q(de[Te][Oe]))),be))return!1;return!0}function te(de,ce){for(var be=0;be<ce;be++)for(var Te=0;Te<ce;Te++)de[be][Te]=X(de[be][Te])}function le(de,ce,be){var Te=de.datatype();if(Te==="number"||Te==="BigNumber"||Te==="Complex")return Te;for(var Oe=!1,Fe=!1,Se=!1,Ve=0;Ve<be;Ve++)for(var ve=0;ve<be;ve++){var fe=ce[Ve][ve];if(In(fe)||d2(fe))Oe=!0;else if(Pn(fe))Fe=!0;else if(Cd(fe))Se=!0;else throw TypeError("Unsupported type in Matrix: "+Wr(fe))}if(Fe&&Se&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Se){for(var he=0;he<be;he++)for(var Be=0;Be<be;Be++)ce[he][Be]=C(ce[he][Be]);return"Complex"}if(Fe){for(var ue=0;ue<be;ue++)for(var xe=0;xe<be;xe++)ce[ue][xe]=g(ce[ue][xe]);return"BigNumber"}if(Oe){for(var we=0;we<be;we++)for(var ie=0;ie<be;ie++)ce[we][ie]=E(ce[we][ie]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Qz="expm",oAe=["typed","abs","add","identity","inv","multiply"],lAe=Me(Qz,oAe,n=>{var{typed:e,abs:t,add:r,identity:i,inv:a,multiply:s}=n;return e(Qz,{Matrix:function(d){var h=d.size();if(h.length!==2||h[0]!==h[1])throw new RangeError("Matrix must be square (size: "+Xn(h)+")");for(var p=h[0],g=1e-15,x=o(d),A=l(x,g),b=A.q,_=A.j,M=s(d,Math.pow(2,-_)),E=i(p),C=i(p),T=1,B=M,z=-1,R=1;R<=b;R++)R>1&&(B=s(B,M),z=-z),T=T*(b-R+1)/((2*b-R+1)*R),E=r(E,s(T,B)),C=r(C,s(T*z,B));for(var O=s(a(C),E),U=0;U<_;U++)O=s(O,O);return Fm(d)?d.createSparseMatrix(O):O}});function o(c){for(var d=c.size()[0],h=0,p=0;p<d;p++){for(var g=0,x=0;x<d;x++)g+=t(c.get([p,x]));h=Math.max(g,h)}return h}function l(c,d){for(var h=30,p=0;p<h;p++)for(var g=0;g<=p;g++){var x=p-g;if(u(c,g,x)<d)return{q:g,j:x}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,d,h){for(var p=1,g=2;g<=d;g++)p*=g;for(var x=p,A=d+1;A<=2*d;A++)x*=A;var b=x*(2*d+1);return 8*Math.pow(c/Math.pow(2,h),2*d)*p*p/(x*b)}}),Jz="sqrtm",uAe=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],cAe=Me(Jz,uAe,n=>{var{typed:e,abs:t,add:r,multiply:i,map:a,sqrt:s,subtract:o,inv:l,size:u,max:c,identity:d}=n,h=1e3,p=1e-6;function g(x){var A,b=0,_=x,M=d(u(x));do{var E=_;if(_=i(.5,r(E,l(M))),M=i(.5,r(M,l(E))),A=c(t(o(_,E))),A>p&&++b>h)throw new Error("computing square root of matrix: iterative method could not converge")}while(A>p);return _}return e(Jz,{"Array | Matrix":function(A){var b=vn(A)?A.size():Un(A);switch(b.length){case 1:if(b[0]===1)return a(A,s);throw new RangeError("Matrix must be square (size: "+Xn(b)+")");case 2:{var _=b[0],M=b[1];if(_===M)return g(A);throw new RangeError("Matrix must be square (size: "+Xn(b)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+Xn(b)+")")}}})}),eU="sylvester",fAe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],dAe=Me(eU,fAe,n=>{var{typed:e,schur:t,matrixFromColumns:r,matrix:i,multiply:a,range:s,concat:o,transpose:l,index:u,subset:c,add:d,subtract:h,identity:p,lusolve:g,abs:x}=n;return e(eU,{"Matrix, Matrix, Matrix":A,"Array, Matrix, Matrix":function(_,M,E){return A(i(_),M,E)},"Array, Array, Matrix":function(_,M,E){return A(i(_),i(M),E)},"Array, Matrix, Array":function(_,M,E){return A(i(_),M,i(E))},"Matrix, Array, Matrix":function(_,M,E){return A(_,i(M),E)},"Matrix, Array, Array":function(_,M,E){return A(_,i(M),i(E))},"Matrix, Matrix, Array":function(_,M,E){return A(_,M,i(E))},"Array, Array, Array":function(_,M,E){return A(i(_),i(M),i(E)).toArray()}});function A(b,_,M){for(var E=_.size()[0],C=b.size()[0],T=t(b),B=T.T,z=T.U,R=t(a(-1,_)),O=R.T,U=R.U,I=a(a(l(z),M),U),q=s(0,C),X=[],$=(Se,Ve)=>o(Se,Ve,1),k=(Se,Ve)=>o(Se,Ve,0),P=0;P<E;P++)if(P<E-1&&x(c(O,u(P+1,P)))>1e-5){for(var Z=k(c(I,u(q,P)),c(I,u(q,P+1))),H=0;H<P;H++)Z=d(Z,k(a(X[H],c(O,u(H,P))),a(X[H],c(O,u(H,P+1)))));var ae=a(p(C),a(-1,c(O,u(P,P)))),W=a(p(C),a(-1,c(O,u(P+1,P)))),K=a(p(C),a(-1,c(O,u(P,P+1)))),Q=a(p(C),a(-1,c(O,u(P+1,P+1)))),te=k($(d(B,ae),W),$(K,d(B,Q))),le=g(te,Z);X[P]=le.subset(u(s(0,C),0)),X[P+1]=le.subset(u(s(C,2*C),0)),P++}else{for(var de=c(I,u(q,P)),ce=0;ce<P;ce++)de=d(de,a(X[ce],c(O,u(ce,P))));var be=c(O,u(P,P)),Te=h(B,a(be,p(C)));X[P]=g(Te,de)}var Oe=i(r(...X)),Fe=a(z,a(Oe,l(U)));return Fe}}),tU="schur",hAe=["typed","matrix","identity","multiply","qr","norm","subtract"],mAe=Me(tU,hAe,n=>{var{typed:e,matrix:t,identity:r,multiply:i,qr:a,norm:s,subtract:o}=n;return e(tU,{Array:function(c){var d=l(t(c));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],d=u,h=r(c),p=0,g;do{g=d;var x=a(d),A=x.Q,b=x.R;if(d=i(b,A),h=i(h,A),p++>100)break}while(s(o(d,g))>1e-4);return{U:h,T:d}}}),nU="lyap",pAe=["typed","matrix","sylvester","multiply","transpose"],vAe=Me(nU,pAe,n=>{var{typed:e,matrix:t,sylvester:r,multiply:i,transpose:a}=n;return e(nU,{"Matrix, Matrix":function(o,l){return r(o,a(o),i(-1,l))},"Array, Matrix":function(o,l){return r(t(o),a(t(o)),i(-1,l))},"Matrix, Array":function(o,l){return r(o,a(t(o)),t(i(-1,l)))},"Array, Array":function(o,l){return r(t(o),a(t(o)),t(i(-1,l))).toArray()}})}),gAe="divide",xAe=["typed","matrix","multiply","equalScalar","divideScalar","inv"],yAe=Me(gAe,xAe,n=>{var{typed:e,matrix:t,multiply:r,equalScalar:i,divideScalar:a,inv:s}=n,o=ys({typed:e,equalScalar:i}),l=vc({typed:e});return e("divide",Vj({"Array | Matrix, Array | Matrix":function(c,d){return r(c,s(d))},"DenseMatrix, any":function(c,d){return l(c,d,a,!1)},"SparseMatrix, any":function(c,d){return o(c,d,a,!1)},"Array, any":function(c,d){return l(t(c),d,a,!1).valueOf()},"any, Array | Matrix":function(c,d){return r(c,s(d))}},a.signatures))}),rU="distance",bAe=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],SAe=Me(rU,bAe,n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:a,deepEqual:s,sqrt:o,abs:l}=n;return e(rU,{"Array, Array, Array":function(C,T,B){if(C.length===2&&T.length===2&&B.length===2){if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(T,B))throw new TypeError("LinePoint1 should not be same with LinePoint2");var z=r(B[1],T[1]),R=r(T[0],B[0]),O=r(i(B[0],T[1]),i(T[0],B[1]));return A(C[0],C[1],z,R,O)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(C,T,B){if(Object.keys(C).length===2&&Object.keys(T).length===2&&Object.keys(B).length===2){if(!c(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(T))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(B))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(g(T),g(B)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in C&&"pointY"in C&&"lineOnePtX"in T&&"lineOnePtY"in T&&"lineTwoPtX"in B&&"lineTwoPtY"in B){var z=r(B.lineTwoPtY,T.lineOnePtY),R=r(T.lineOnePtX,B.lineTwoPtX),O=r(i(B.lineTwoPtX,T.lineOnePtY),i(T.lineOnePtX,B.lineTwoPtY));return A(C.pointX,C.pointY,z,R,O)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(C,T){if(C.length===2&&T.length===3){if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return A(C[0],C[1],T[0],T[1],T[2])}else if(C.length===3&&T.length===6){if(!d(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(T))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return b(C[0],C[1],C[2],T[0],T[1],T[2],T[3],T[4],T[5])}else if(C.length===T.length&&C.length>0){if(!h(C))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!h(T))throw new TypeError("All values of an array should be numbers or BigNumbers");return _(C,T)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(C,T){if(Object.keys(C).length===2&&Object.keys(T).length===3){if(!c(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(T))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"xCoeffLine"in T&&"yCoeffLine"in T&&"constant"in T)return A(C.pointX,C.pointY,T.xCoeffLine,T.yCoeffLine,T.constant);throw new TypeError("Key names do not match")}else if(Object.keys(C).length===3&&Object.keys(T).length===6){if(!d(C))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(T))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"x0"in T&&"y0"in T&&"z0"in T&&"a"in T&&"b"in T&&"c"in T)return b(C.pointX,C.pointY,C.pointZ,T.x0,T.y0,T.z0,T.a,T.b,T.c);throw new TypeError("Key names do not match")}else if(Object.keys(C).length===2&&Object.keys(T).length===2){if(!c(C))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(T))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointTwoX"in T&&"pointTwoY"in T)return _([C.pointOneX,C.pointOneY],[T.pointTwoX,T.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(C).length===3&&Object.keys(T).length===3){if(!d(C))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(T))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointOneZ"in C&&"pointTwoX"in T&&"pointTwoY"in T&&"pointTwoZ"in T)return _([C.pointOneX,C.pointOneY,C.pointOneZ],[T.pointTwoX,T.pointTwoY,T.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(C){if(!x(C))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return M(C)}});function u(E){return typeof E=="number"||Pn(E)}function c(E){return E.constructor!==Array&&(E=g(E)),u(E[0])&&u(E[1])}function d(E){return E.constructor!==Array&&(E=g(E)),u(E[0])&&u(E[1])&&u(E[2])}function h(E){return Array.isArray(E)||(E=g(E)),E.every(u)}function p(E){return E.constructor!==Array&&(E=g(E)),u(E[0])&&u(E[1])&&u(E[2])&&u(E[3])&&u(E[4])&&u(E[5])}function g(E){for(var C=Object.keys(E),T=[],B=0;B<C.length;B++)T.push(E[C[B]]);return T}function x(E){if(E[0].length===2&&u(E[0][0])&&u(E[0][1])){if(E.some(C=>C.length!==2||!u(C[0])||!u(C[1])))return!1}else if(E[0].length===3&&u(E[0][0])&&u(E[0][1])&&u(E[0][2])){if(E.some(C=>C.length!==3||!u(C[0])||!u(C[1])||!u(C[2])))return!1}else return!1;return!0}function A(E,C,T,B,z){var R=l(t(t(i(T,E),i(B,C)),z)),O=o(t(i(T,T),i(B,B)));return a(R,O)}function b(E,C,T,B,z,R,O,U,I){var q=[r(i(r(z,C),I),i(r(R,T),U)),r(i(r(R,T),O),i(r(B,E),I)),r(i(r(B,E),U),i(r(z,C),O))];q=o(t(t(i(q[0],q[0]),i(q[1],q[1])),i(q[2],q[2])));var X=o(t(t(i(O,O),i(U,U)),i(I,I)));return a(q,X)}function _(E,C){for(var T=E.length,B=0,z=0,R=0;R<T;R++)z=r(E[R],C[R]),B=t(i(z,z),B);return o(B)}function M(E){for(var C=[],T=[],B=[],z=0;z<E.length-1;z++)for(var R=z+1;R<E.length;R++)E[0].length===2?(T=[E[z][0],E[z][1]],B=[E[R][0],E[R][1]]):E[0].length===3&&(T=[E[z][0],E[z][1],E[z][2]],B=[E[R][0],E[R][1],E[R][2]]),C.push(_(T,B));return C}}),wAe="intersect",AAe=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],MAe=Me(wAe,AAe,n=>{var{typed:e,config:t,abs:r,add:i,addScalar:a,matrix:s,multiply:o,multiplyScalar:l,divideScalar:u,subtract:c,smaller:d,equalScalar:h,flatten:p,isZero:g,isNumeric:x}=n;return e("intersect",{"Array, Array, Array":A,"Array, Array, Array, Array":b,"Matrix, Matrix, Matrix":function(U,I,q){var X=A(U.valueOf(),I.valueOf(),q.valueOf());return X===null?null:s(X)},"Matrix, Matrix, Matrix, Matrix":function(U,I,q,X){var $=b(U.valueOf(),I.valueOf(),q.valueOf(),X.valueOf());return $===null?null:s($)}});function A(O,U,I){if(O=_(O),U=_(U),I=_(I),!E(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!E(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!C(I))throw new TypeError("Array with 4 numbers expected as third argument");return R(O[0],O[1],O[2],U[0],U[1],U[2],I[0],I[1],I[2],I[3])}function b(O,U,I,q){if(O=_(O),U=_(U),I=_(I),q=_(q),O.length===2){if(!M(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!M(U))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!M(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!M(q))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return T(O,U,I,q)}else if(O.length===3){if(!E(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!E(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!E(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!E(q))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return z(O[0],O[1],O[2],U[0],U[1],U[2],I[0],I[1],I[2],q[0],q[1],q[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function _(O){return O.length===1?O[0]:O.length>1&&Array.isArray(O[0])&&O.every(U=>Array.isArray(U)&&U.length===1)?p(O):O}function M(O){return O.length===2&&x(O[0])&&x(O[1])}function E(O){return O.length===3&&x(O[0])&&x(O[1])&&x(O[2])}function C(O){return O.length===4&&x(O[0])&&x(O[1])&&x(O[2])&&x(O[3])}function T(O,U,I,q){var X=O,$=I,k=c(X,U),P=c($,q),Z=c(l(k[0],P[1]),l(P[0],k[1]));if(g(Z)||d(r(Z),t.epsilon))return null;var H=l(P[0],X[1]),ae=l(P[1],X[0]),W=l(P[0],$[1]),K=l(P[1],$[0]),Q=u(a(c(c(H,ae),W),K),Z);return i(o(k,Q),X)}function B(O,U,I,q,X,$,k,P,Z,H,ae,W){var K=l(c(O,U),c(I,q)),Q=l(c(X,$),c(k,P)),te=l(c(Z,H),c(ae,W));return a(a(K,Q),te)}function z(O,U,I,q,X,$,k,P,Z,H,ae,W){var K=B(O,k,H,k,U,P,ae,P,I,Z,W,Z),Q=B(H,k,q,O,ae,P,X,U,W,Z,$,I),te=B(O,k,q,O,U,P,X,U,I,Z,$,I),le=B(H,k,H,k,ae,P,ae,P,W,Z,W,Z),de=B(q,O,q,O,X,U,X,U,$,I,$,I),ce=c(l(K,Q),l(te,le)),be=c(l(de,le),l(Q,Q));if(g(be))return null;var Te=u(ce,be),Oe=u(a(K,l(Te,Q)),le),Fe=a(O,l(Te,c(q,O))),Se=a(U,l(Te,c(X,U))),Ve=a(I,l(Te,c($,I))),ve=a(k,l(Oe,c(H,k))),fe=a(P,l(Oe,c(ae,P))),he=a(Z,l(Oe,c(W,Z)));return h(Fe,ve)&&h(Se,fe)&&h(Ve,he)?[Fe,Se,Ve]:null}function R(O,U,I,q,X,$,k,P,Z,H){var ae=l(O,k),W=l(q,k),K=l(U,P),Q=l(X,P),te=l(I,Z),le=l($,Z),de=c(c(c(H,ae),K),te),ce=c(c(c(a(a(W,Q),le),ae),K),te),be=u(de,ce),Te=a(O,l(be,c(q,O))),Oe=a(U,l(be,c(X,U))),Fe=a(I,l(be,c($,I)));return[Te,Oe,Fe]}}),iU="sum",_Ae=["typed","config","add","numeric"],PH=Me(iU,_Ae,n=>{var{typed:e,config:t,add:r,numeric:i}=n;return e(iU,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":s,"...":function(l){if(j1(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(o){var l;return Pd(o,function(u){try{l=l===void 0?u:r(l,u)}catch(c){throw To(c,"sum",u)}}),l===void 0&&(l=i(0,t.number)),typeof l=="string"&&(l=i(l,t.number)),l}function s(o,l){try{var u=y5(o,l,r);return u}catch(c){throw To(c,"sum")}}}),f3="cumsum",EAe=["typed","add","unaryPlus"],jH=Me(f3,EAe,n=>{var{typed:e,add:t,unaryPlus:r}=n;return e(f3,{Array:i,Matrix:function(u){return u.create(i(u.valueOf()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(u,c){return u.create(s(u.valueOf(),c))},"...":function(u){if(j1(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return a(l)}catch(u){throw To(u,f3)}}function a(l){if(l.length===0)return[];for(var u=[r(l[0])],c=1;c<l.length;++c)u.push(t(u[c-1],l[c]));return u}function s(l,u){var c=Un(l);if(u<0||u>=c.length)throw new mc(u,c.length);try{return o(l,u)}catch(d){throw To(d,f3)}}function o(l,u){var c,d,h;if(u<=0){var p=l[0][0];if(Array.isArray(p)){for(h=bV(l),d=[],c=0;c<h.length;c++)d[c]=o(h[c],u-1);return d}else return a(l)}else{for(d=[],c=0;c<l.length;c++)d[c]=o(l[c],u-1);return d}}}),aU="mean",NAe=["typed","add","divide"],VH=Me(aU,NAe,n=>{var{typed:e,add:t,divide:r}=n;return e(aU,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(o){if(j1(o))throw new TypeError("Scalar values expected in function mean");return a(o)}});function i(s,o){try{var l=y5(s,o,t),u=Array.isArray(s)?Un(s):s.size();return r(l,u[o])}catch(c){throw To(c,"mean")}}function a(s){var o,l=0;if(Pd(s,function(u){try{o=o===void 0?u:t(o,u),l++}catch(c){throw To(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return r(o,l)}}),sU="median",TAe=["typed","add","divide","compare","partitionSelect"],CAe=Me(sU,TAe,n=>{var{typed:e,add:t,divide:r,compare:i,partitionSelect:a}=n;function s(u){try{u=Mr(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var d=c/2-1,h=a(u,d+1),p=u[d],g=0;g<d;++g)i(u[g],p)>0&&(p=u[g]);return l(p,h)}else{var x=a(u,(c-1)/2);return o(x)}}catch(A){throw To(A,"median")}}var o=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,d){return r(t(c,d),2)}});return e(sU,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(c,d){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(j1(c))throw new TypeError("Scalar values expected in function median");return s(c)}})}),oU="mad",DAe=["typed","abs","map","median","subtract"],RAe=Me(oU,DAe,n=>{var{typed:e,abs:t,map:r,median:i,subtract:a}=n;return e(oU,{"Array | Matrix":s,"...":function(l){return s(l)}});function s(o){if(o=Mr(o.valueOf()),o.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(o);return i(r(o,function(u){return t(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.indexOf("median")!==-1?new TypeError(u.message.replace("median","mad")):To(u,"mad")}}}),S_="unbiased",lU="variance",BAe=["typed","add","subtract","multiply","divide","apply","isNaN"],HH=Me(lU,BAe,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,apply:s,isNaN:o}=n;return e(lU,{"Array | Matrix":function(d){return l(d,S_)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,h){return u(d,h,S_)},"Array | Matrix, number | BigNumber, string":u,"...":function(d){return l(d,S_)}});function l(c,d){var h,p=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Pd(c,function(A){try{h=h===void 0?A:t(h,A),p++}catch(b){throw To(b,"variance",A)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var g=a(h,p);if(h=void 0,Pd(c,function(A){var b=r(A,g);h=h===void 0?i(b,b):t(h,i(b,b))}),o(h))return h;switch(d){case"uncorrected":return a(h,p);case"biased":return a(h,p+1);case"unbiased":{var x=Pn(h)?h.mul(0):0;return p===1?x:a(h,p-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,d,h){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(c,d,p=>l(p,h))}catch(p){throw To(p,"variance")}}}),uU="quantileSeq",OAe=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],qH=Me(uU,OAe,n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:h}=n,p=iT({typed:e,isInteger:u});return e(uU,{"Array | Matrix, number | BigNumber":(_,M)=>x(_,M,!1),"Array | Matrix, number | BigNumber, number":(_,M,E)=>g(_,M,!1,E,x),"Array | Matrix, number | BigNumber, boolean":x,"Array | Matrix, number | BigNumber, boolean, number":(_,M,E,C)=>g(_,M,E,C,x),"Array | Matrix, Array | Matrix":(_,M)=>A(_,M,!1),"Array | Matrix, Array | Matrix, number":(_,M,E)=>g(_,M,!1,E,A),"Array | Matrix, Array | Matrix, boolean":A,"Array | Matrix, Array | Matrix, boolean, number":(_,M,E,C)=>g(_,M,E,C,A)});function g(_,M,E,C,T){return p(_,C,B=>T(B,M,E))}function x(_,M,E){var C,T=_.valueOf();if(c(M,0))throw new Error("N/prob must be non-negative");if(d(M,1))return In(M)?b(T,M,E):t(b(T,M,E));if(h(M,1)){if(!u(M))throw new Error("N must be a positive integer");if(h(M,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var B=r(M,1);C=[];for(var z=0;c(z,M);z++){var R=a(z+1,B);C.push(b(T,R,E))}return In(M)?C:t(C)}}function A(_,M,E){for(var C=_.valueOf(),T=M.valueOf(),B=[],z=0;z<T.length;++z)B.push(b(C,T[z],E));return B}function b(_,M,E){var C=Mr(_),T=C.length;if(T===0)throw new Error("Cannot calculate quantile of an empty sequence");var B=In(M)?M*(T-1):M.times(T-1),z=In(M)?Math.floor(B):B.floor().toNumber(),R=In(M)?B%1:B.minus(z);if(u(B))return E?C[B]:o(C,In(M)?B:B.valueOf());var O,U;if(E)O=C[z],U=C[z+1];else{U=o(C,z+1),O=C[z];for(var I=0;I<z;++I)l(C[I],O)>0&&(O=C[I])}return r(s(O,i(1,R)),s(U,R))}}),cU="std",zAe=["typed","map","sqrt","variance"],GH=Me(cU,zAe,n=>{var{typed:e,map:t,sqrt:r,variance:i}=n;return e(cU,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(o){return a(o)}});function a(s,o){if(s.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return xu(l)?t(l,r):r(l)}catch(u){throw u instanceof TypeError&&u.message.indexOf(" variance")!==-1?new TypeError(u.message.replace(" variance"," std")):u}}}),fU="corr",UAe=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],FAe=Me(fU,UAe,n=>{var{typed:e,matrix:t,sqrt:r,sum:i,add:a,subtract:s,multiply:o,pow:l,divide:u}=n;return e(fU,{"Array, Array":function(p,g){return c(p,g)},"Matrix, Matrix":function(p,g){var x=c(p.toArray(),g.toArray());return Array.isArray(x)?t(x):x}});function c(h,p){var g=[];if(Array.isArray(h[0])&&Array.isArray(p[0])){if(h.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var x=0;x<h.length;x++){if(h[x].length!==p[x].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");g.push(d(h[x],p[x]))}return g}else{if(h.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(h,p)}}function d(h,p){var g=h.length,x=i(h),A=i(p),b=h.reduce((T,B,z)=>a(T,o(B,p[z])),0),_=i(h.map(T=>l(T,2))),M=i(p.map(T=>l(T,2))),E=s(o(g,b),o(x,A)),C=r(o(s(o(g,_),l(x,2)),s(o(g,M),l(A,2))));return u(E,C)}}),dU="combinations",LAe=["typed"],kAe=Me(dU,LAe,n=>{var{typed:e}=n;return e(dU,{"number, number":HV,"BigNumber, BigNumber":function(r,i){var a=r.constructor,s,o,l=r.minus(i),u=new a(1);if(!hU(r)||!hU(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(s=u,i.lt(l))for(o=u;o.lte(l);o=o.plus(u))s=s.times(i.plus(o)).dividedBy(o);else for(o=u;o.lte(i);o=o.plus(u))s=s.times(l.plus(o)).dividedBy(o);return s}})});function hU(n){return n.isInteger()&&n.gte(0)}var mU="combinationsWithRep",IAe=["typed"],PAe=Me(mU,IAe,n=>{var{typed:e}=n;return e(mU,{"number, number":function(r,i){if(!on(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!on(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<r-1){var a=Ad(r,r+i-1);return a/Ad(1,i)}var s=Ad(i+1,r+i-1);return s/Ad(1,r-1)},"BigNumber, BigNumber":function(r,i){var a=r.constructor,s,o,l=new a(1),u=r.minus(l);if(!pU(r)||!pU(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=l,i.lt(u))for(o=l;o.lte(u);o=o.plus(l))s=s.times(i.plus(o)).dividedBy(o);else for(o=l;o.lte(i);o=o.plus(l))s=s.times(u.plus(o)).dividedBy(o);return s}})});function pU(n){return n.isInteger()&&n.gte(0)}var vU="gamma",jAe=["typed","config","multiplyScalar","pow","BigNumber","Complex"],VAe=Me(vU,jAe,n=>{var{typed:e,config:t,multiplyScalar:r,pow:i,BigNumber:a,Complex:s}=n;function o(u){if(u.im===0)return KS(u.re);if(u.re<.5){var c=new s(1-u.re,-u.im),d=new s(Math.PI*u.re,Math.PI*u.im);return new s(Math.PI).div(d.sin()).div(o(c))}u=new s(u.re-1,u.im);for(var h=new s(a1[0],0),p=1;p<a1.length;++p){var g=new s(a1[p],0);h=h.add(g.div(u.add(p)))}var x=new s(u.re+WV+.5,u.im),A=Math.sqrt(2*Math.PI),b=x.pow(u.add(.5)),_=x.neg().exp();return h.mul(A).mul(b).mul(_)}return e(vU,{number:KS,Complex:o,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):l(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var c=t.precision+(Math.log(u.toNumber())|0),d=a.clone({precision:c});if(u%2===1)return u.times(l(new a(u-1)));for(var h=u,p=new d(u),g=u.toNumber();h>2;)h-=2,g+=h,p=p.times(g);return new a(p.toPrecision(a.precision))}}),gU="lgamma",HAe=["Complex","typed"],qAe=Me(gU,HAe,n=>{var{Complex:e,typed:t}=n,r=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(gU,{number:QS,Complex:s,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(u){var c=6.283185307179586,d=1.1447298858494002,h=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(QS(u.re),0);if(u.re>=r||Math.abs(u.im)>=i)return o(u);if(u.re<=h){var p=zde(c,u.im)*Math.floor(.5*u.re+.25),g=u.mul(Math.PI).sin().log(),x=s(new e(1-u.re,-u.im));return new e(d,p).sub(g).sub(x)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function o(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(YV),d=new e(1,0).div(u),h=d.div(u),p=a[0],g=a[1],x=2*h.re,A=h.re*h.re+h.im*h.im,b=2;b<8;b++){var _=g;g=-A*p+a[b],p=x*p+_}var M=d.mul(h.mul(p).add(g));return c.add(M)}function l(u){var c=0,d=0,h=u;for(u=u.add(1);u.re<=r;){h=h.mul(u);var p=h.im<0?1:0;p!==0&&d===0&&c++,d=p,u=u.add(1)}return o(u).sub(h.log()).sub(new e(0,c*2*Math.PI*1))}}),xU="factorial",GAe=["typed","gamma"],$Ae=Me(xU,GAe,n=>{var{typed:e,gamma:t}=n;return e(xU,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>Zn(i,r))})}),yU="kldivergence",XAe=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],WAe=Me(yU,XAe,n=>{var{typed:e,matrix:t,divide:r,sum:i,multiply:a,map:s,dotDivide:o,log:l,isNumeric:u}=n;return e(yU,{"Array, Array":function(h,p){return c(t(h),t(p))},"Matrix, Array":function(h,p){return c(h,t(p))},"Array, Matrix":function(h,p){return c(t(h),p)},"Matrix, Matrix":function(h,p){return c(h,p)}});function c(d,h){var p=h.size().length,g=d.size().length;if(p>1)throw new Error("first object must be one dimensional");if(g>1)throw new Error("second object must be one dimensional");if(p!==g)throw new Error("Length of two vectors must be equal");var x=i(d);if(x===0)throw new Error("Sum of elements in first object must be non zero");var A=i(h);if(A===0)throw new Error("Sum of elements in second object must be non zero");var b=r(d,i(d)),_=r(h,i(h)),M=i(a(b,s(o(b,_),E=>l(E))));return u(M)?M:Number.NaN}}),bU="multinomial",YAe=["typed","add","divide","multiply","factorial","isInteger","isPositive"],ZAe=Me(bU,YAe,n=>{var{typed:e,add:t,divide:r,multiply:i,factorial:a,isInteger:s,isPositive:o}=n;return e(bU,{"Array | Matrix":function(u){var c=0,d=1;return Pd(u,function(h){if(!s(h)||!o(h))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,h),d=i(d,a(h))}),r(a(c),d)}})}),SU="permutations",KAe=["typed","factorial"],QAe=Me(SU,KAe,n=>{var{typed:e,factorial:t}=n;return e(SU,{"number | BigNumber":t,"number, number":function(i,a){if(!on(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!on(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Ad(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var s,o;if(!wU(i)||!wU(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(s=l,o=i.minus(a).plus(1);o.lte(i);o=o.plus(1))s=s.times(o);return s}})});function wU(n){return n.isInteger()&&n.gte(0)}var E3={exports:{}},JAe=E3.exports,AU;function eMe(){return AU||(AU=1,(function(n){(function(e,t,r){function i(l){var u=this,c=o();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function s(l,u){var c=new i(l),d=u&&u.state,h=c.next;return h.int32=function(){return c.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&a(d,c),h.state=function(){return a(c,{})}),h}function o(){var l=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){l+=c.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return u}t&&t.exports?t.exports=s:this.alea=s})(JAe,n)})(E3)),E3.exports}var N3={exports:{}},tMe=N3.exports,MU;function nMe(){return MU||(MU=1,(function(n){(function(e,t,r){function i(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function s(o,l){var u=new i(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(h+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}t&&t.exports?t.exports=s:this.xor128=s})(tMe,n)})(N3)),N3.exports}var T3={exports:{}},rMe=T3.exports,_U;function iMe(){return _U||(_U=1,(function(n){(function(e,t,r){function i(o){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function s(o,l){var u=new i(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(h+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}t&&t.exports?t.exports=s:this.xorwow=s})(rMe,n)})(T3)),T3.exports}var C3={exports:{}},aMe=C3.exports,EU;function sMe(){return EU||(EU=1,(function(n){(function(e,t,r){function i(o){var l=this;l.next=function(){var c=l.x,d=l.i,h,p;return h=c[d],h^=h>>>7,p=h^h<<24,h=c[d+1&7],p^=h^h>>>10,h=c[d+3&7],p^=h^h>>>3,h=c[d+4&7],p^=h^h<<7,h=c[d+7&7],h=h^h<<13,p^=h^h<<9,c[d]=p,l.i=d+1&7,p};function u(c,d){var h,p=[];if(d===(d|0))p[0]=d;else for(d=""+d,h=0;h<d.length;++h)p[h&7]=p[h&7]<<15^d.charCodeAt(h)+p[h+1&7]<<13;for(;p.length<8;)p.push(0);for(h=0;h<8&&p[h]===0;++h);for(h==8?p[7]=-1:p[h],c.x=p,c.i=0,h=256;h>0;--h)c.next()}u(l,o)}function a(o,l){return l.x=o.x.slice(),l.i=o.i,l}function s(o,l){o==null&&(o=+new Date);var u=new i(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(h+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(c.x&&a(c,u),d.state=function(){return a(u,{})}),d}t&&t.exports?t.exports=s:this.xorshift7=s})(aMe,n)})(C3)),C3.exports}var D3={exports:{}},oMe=D3.exports,NU;function lMe(){return NU||(NU=1,(function(n){(function(e,t,r){function i(o){var l=this;l.next=function(){var c=l.w,d=l.X,h=l.i,p,g;return l.w=c=c+1640531527|0,g=d[h+34&127],p=d[h=h+1&127],g^=g<<13,p^=p<<17,g^=g>>>15,p^=p>>>12,g=d[h]=g^p,l.i=h,g+(c^c>>>16)|0};function u(c,d){var h,p,g,x,A,b=[],_=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,_=Math.max(_,d.length)),g=0,x=-32;x<_;++x)d&&(p^=d.charCodeAt((x+32)%d.length)),x===0&&(A=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,x>=0&&(A=A+1640531527|0,h=b[x&127]^=p+A,g=h==0?g+1:0);for(g>=128&&(b[(d&&d.length||0)&127]=-1),g=127,x=512;x>0;--x)p=b[g+34&127],h=b[g=g+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,b[g]=p^h;c.w=A,c.X=b,c.i=g}u(l,o)}function a(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function s(o,l){o==null&&(o=+new Date);var u=new i(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(h+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(c.X&&a(c,u),d.state=function(){return a(u,{})}),d}t&&t.exports?t.exports=s:this.xor4096=s})(oMe,n)})(D3)),D3.exports}var R3={exports:{}},uMe=R3.exports,TU;function cMe(){return TU||(TU=1,(function(n){(function(e,t,r){function i(o){var l=this,u="";l.next=function(){var d=l.b,h=l.c,p=l.d,g=l.a;return d=d<<25^d>>>7^h,h=h-p|0,p=p<<24^p>>>8^g,g=g-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-p|0,l.d=p<<16^h>>>16^g,l.a=g-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function a(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function s(o,l){var u=new i(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,g=(h+p)/(1<<21);while(g===0);return g},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}t&&t.exports?t.exports=s:this.tychei=s})(uMe,n)})(R3)),R3.exports}var B3={exports:{}};const fMe={},dMe=Object.freeze(Object.defineProperty({__proto__:null,default:fMe},Symbol.toStringTag,{value:"Module"})),hMe=FG(dMe);var mMe=B3.exports,CU;function pMe(){return CU||(CU=1,(function(n){(function(e,t,r){var i=256,a=6,s=52,o="random",l=r.pow(i,a),u=r.pow(2,s),c=u*2,d=i-1,h;function p(E,C,T){var B=[];C=C==!0?{entropy:!0}:C||{};var z=b(A(C.entropy?[E,M(t)]:E??_(),3),B),R=new g(B),O=function(){for(var U=R.g(a),I=l,q=0;U<u;)U=(U+q)*i,I*=i,q=R.g(1);for(;U>=c;)U/=2,I/=2,q>>>=1;return(U+q)/I};return O.int32=function(){return R.g(4)|0},O.quick=function(){return R.g(4)/4294967296},O.double=O,b(M(R.S),t),(C.pass||T||function(U,I,q,X){return X&&(X.S&&x(X,R),U.state=function(){return x(R,{})}),q?(r[o]=U,I):U})(O,z,"global"in C?C.global:this==r,C.state)}function g(E){var C,T=E.length,B=this,z=0,R=B.i=B.j=0,O=B.S=[];for(T||(E=[T++]);z<i;)O[z]=z++;for(z=0;z<i;z++)O[z]=O[R=d&R+E[z%T]+(C=O[z])],O[R]=C;(B.g=function(U){for(var I,q=0,X=B.i,$=B.j,k=B.S;U--;)I=k[X=d&X+1],q=q*i+k[d&(k[X]=k[$=d&$+I])+(k[$]=I)];return B.i=X,B.j=$,q})(i)}function x(E,C){return C.i=E.i,C.j=E.j,C.S=E.S.slice(),C}function A(E,C){var T=[],B=typeof E,z;if(C&&B=="object")for(z in E)try{T.push(A(E[z],C-1))}catch{}return T.length?T:B=="string"?E:E+"\0"}function b(E,C){for(var T=E+"",B,z=0;z<T.length;)C[d&z]=d&(B^=C[d&z]*19)+T.charCodeAt(z++);return M(C)}function _(){try{var E;return h&&(E=h.randomBytes)?E=E(i):(E=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(E)),M(E)}catch{var C=e.navigator,T=C&&C.plugins;return[+new Date,e,T,e.screen,M(t)]}}function M(E){return String.fromCharCode.apply(0,E)}if(b(r.random(),t),n.exports){n.exports=p;try{h=hMe}catch{}}else r["seed"+o]=p})(typeof self<"u"?self:mMe,[],Math)})(B3)),B3.exports}var w_,DU;function vMe(){if(DU)return w_;DU=1;var n=eMe(),e=nMe(),t=iMe(),r=sMe(),i=lMe(),a=cMe(),s=pMe();return s.alea=n,s.xor128=e,s.xorwow=t,s.xorshift7=r,s.xor4096=i,s.tychei=a,w_=s,w_}var gMe=vMe();const $H=jd(gMe);var xMe=$H(Date.now());function y1(n){var e;function t(i){e=i===null?xMe:$H(String(i))}t(n);function r(){return e()}return r}var RU="pickRandom",yMe=["typed","config","?on"],bMe=Me(RU,yMe,n=>{var{typed:e,config:t,on:r}=n,i=y1(t.randomSeed);return r&&r("config",function(s,o){s.randomSeed!==o.randomSeed&&(i=y1(s.randomSeed))}),e(RU,{"Array | Matrix":function(o){return a(o,{})},"Array | Matrix, Object":function(o,l){return a(o,l)},"Array | Matrix, number":function(o,l){return a(o,{number:l})},"Array | Matrix, Array | Matrix":function(o,l){return a(o,{weights:l})},"Array | Matrix, Array | Matrix, number":function(o,l,u){return a(o,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(o,l,u){return a(o,{number:l,weights:u})}});function a(s,o){var{number:l,weights:u,elementWise:c=!0}=o,d=typeof l>"u";d&&(l=1);var h=vn(s)?s.create:vn(u)?u.create:null;s=s.valueOf(),u&&(u=u.valueOf()),c===!0&&(s=Mr(s),u=Mr(u));var p=0;if(typeof u<"u"){if(u.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var g=0,x=u.length;g<x;g++){if(!In(u[g])||u[g]<0)throw new Error("Weights must be an array of positive numbers");p+=u[g]}}for(var A=s.length,b=[],_;b.length<l;){if(typeof u>"u")_=s[Math.floor(i()*A)];else for(var M=i()*p,E=0,C=s.length;E<C;E++)if(M-=u[E],M<0){_=s[E];break}b.push(_)}return d?b[0]:h?h(b):b}});function fT(n,e){var t=[];if(n=n.slice(0),n.length>1)for(var r=0,i=n.shift();r<i;r++)t.push(fT(n,e));else for(var a=0,s=n.shift();a<s;a++)t.push(e());return t}var BU="random",SMe=["typed","config","?on"],wMe=Me(BU,SMe,n=>{var{typed:e,config:t,on:r}=n,i=y1(t.randomSeed);return r&&r("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=y1(o.randomSeed))}),e(BU,{"":()=>s(0,1),number:o=>s(0,o),"number, number":(o,l)=>s(o,l),"Array | Matrix":o=>a(o,0,1),"Array | Matrix, number":(o,l)=>a(o,0,l),"Array | Matrix, number, number":(o,l,u)=>a(o,l,u)});function a(o,l,u){var c=fT(o.valueOf(),()=>s(l,u));return vn(o)?o.create(c):c}function s(o,l){return o+i()*(l-o)}}),OU="randomInt",AMe=["typed","config","?on"],MMe=Me(OU,AMe,n=>{var{typed:e,config:t,on:r}=n,i=y1(t.randomSeed);return r&&r("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=y1(o.randomSeed))}),e(OU,{"":()=>s(0,1),number:o=>s(0,o),"number, number":(o,l)=>s(o,l),"Array | Matrix":o=>a(o,0,1),"Array | Matrix, number":(o,l)=>a(o,0,l),"Array | Matrix, number, number":(o,l,u)=>a(o,l,u)});function a(o,l,u){var c=fT(o.valueOf(),()=>s(l,u));return vn(o)?o.create(c):c}function s(o,l){return Math.floor(o+i()*(l-o))}}),zU="stirlingS2",_Me=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],EMe=Me(zU,_Me,n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:a,pow:s,factorial:o,combinations:l,isNegative:u,isInteger:c,number:d,bignumber:h,larger:p}=n,g=[],x=[];return e(zU,{"number | BigNumber, number | BigNumber":function(b,_){if(!c(b)||u(b)||!c(_)||u(_))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(_,b))throw new TypeError("k must be less than or equal to n in function stirlingS2");var M=!(In(b)&&In(_)),E=M?x:g,C=M?h:d,T=d(b),B=d(_);if(E[T]&&E[T].length>B)return E[T][B];for(var z=0;z<=T;++z)if(E[z]||(E[z]=[C(z===0?1:0)]),z!==0)for(var R=E[z],O=E[z-1],U=R.length;U<=z&&U<=B;++U)U===z?R[U]=1:R[U]=t(i(C(U),O[U]),O[U-1]);return E[T][B]}})}),UU="bellNumbers",NMe=["typed","addScalar","isNegative","isInteger","stirlingS2"],TMe=Me(UU,NMe,n=>{var{typed:e,addScalar:t,isNegative:r,isInteger:i,stirlingS2:a}=n;return e(UU,{"number | BigNumber":function(o){if(!i(o)||r(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=o;u++)l=t(l,a(o,u));return l}})}),FU="catalan",CMe=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],DMe=Me(FU,CMe,n=>{var{typed:e,addScalar:t,divideScalar:r,multiplyScalar:i,combinations:a,isNegative:s,isInteger:o}=n;return e(FU,{"number | BigNumber":function(u){if(!o(u)||s(u))throw new TypeError("Non-negative integer value expected in function catalan");return r(a(i(u,2),u),t(u,1))}})}),LU="composition",RMe=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],BMe=Me(LU,RMe,n=>{var{typed:e,addScalar:t,combinations:r,isPositive:i,isNegative:a,isInteger:s,larger:o}=n;return e(LU,{"number | BigNumber, number | BigNumber":function(u,c){if(!s(u)||!i(u)||!s(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(o(c,u))throw new TypeError("k must be less than or equal to n in function composition");return r(t(u,-1),t(c,-1))}})}),kU="leafCount",OMe=["parse","typed"],zMe=Me(kU,OMe,n=>{var{parse:e,typed:t}=n;function r(i){var a=0;return i.forEach(s=>{a+=r(s)}),a||1}return t(kU,{Node:function(a){return r(a)}})});function IU(n){return vr(n)||ya(n)&&n.isUnary()&&vr(n.args[0])}function lw(n){return!!(vr(n)||(ih(n)||ya(n))&&n.args.every(lw)||Id(n)&&lw(n.content))}function PU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function A_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(t),!0).forEach(function(r){Fa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var UMe="simplifyUtil",FMe=["FunctionNode","OperatorNode","SymbolNode"],dT=Me(UMe,FMe,n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:r}=n,i=!0,a=!1,s="defaultF",o={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(M,E){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o,T=s;if(typeof M=="string"?T=M:ya(M)?T=M.fn.toString():ih(M)?T=M.name:Id(M)&&(T="paren"),Qt(C,T)){var B=C[T];if(Qt(B,E))return B[E];if(Qt(o,T))return o[T][E]}if(Qt(C,s)){var z=C[s];return Qt(z,E)?z[E]:o[s][E]}if(Qt(o,T)){var R=o[T];if(Qt(R,E))return R[E]}return o[s][E]}function d(M){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(M,"commutative",E)}function h(M){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(M,"associative",E)}function p(M,E){var C=A_({},M);for(var T in E)Qt(M,T)?C[T]=A_(A_({},E[T]),M[T]):C[T]=E[T];return C}function g(M,E){if(!M.args||M.args.length===0)return M;M.args=x(M,E);for(var C=0;C<M.args.length;C++)g(M.args[C],E)}function x(M,E){var C,T=[],B=function z(R){for(var O=0;O<R.args.length;O++){var U=R.args[O];ya(U)&&C===U.op?z(U):T.push(U)}};return h(M,E)?(C=M.op,B(M),T):M.args}function A(M,E){if(!(!M.args||M.args.length===0)){for(var C=_(M),T=M.args.length,B=0;B<T;B++)A(M.args[B],E);if(T>2&&h(M,E)){for(var z=M.args.pop();M.args.length>0;)z=C([M.args.pop(),z]);M.args=z.args}}}function b(M,E){if(!(!M.args||M.args.length===0)){for(var C=_(M),T=M.args.length,B=0;B<T;B++)b(M.args[B],E);if(T>2&&h(M,E)){for(var z=M.args.shift();M.args.length>0;)z=C([z,M.args.shift()]);M.args=z.args}}}function _(M){return ya(M)?function(E){try{return new t(M.op,M.fn,E,M.implicit)}catch(C){return console.error(C),[]}}:function(E){return new e(new r(M.name),E)}}return{createMakeNodeFunction:_,hasProperty:c,isCommutative:d,isAssociative:h,mergeContext:p,flatten:g,allChildren:x,unflattenr:A,unflattenl:b,defaultContext:o,realContext:l,positiveContext:u}}),LMe="simplify",kMe=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],IMe=Me(LMe,kMe,n=>{var{config:e,typed:t,parse:r,add:i,subtract:a,multiply:s,divide:o,pow:l,isZero:u,equal:c,resolve:d,simplifyConstant:h,simplifyCore:p,fraction:g,bignumber:x,mathWithTransform:A,matrix:b,AccessorNode:_,ArrayNode:M,ConstantNode:E,FunctionNode:C,IndexNode:T,ObjectNode:B,OperatorNode:z,ParenthesisNode:R,SymbolNode:O}=n,{hasProperty:U,isCommutative:I,isAssociative:q,mergeContext:X,flatten:$,unflattenr:k,unflattenl:P,createMakeNodeFunction:Z,defaultContext:H,realContext:ae,positiveContext:W}=dT({FunctionNode:C,OperatorNode:z,SymbolNode:O});t.addConversion({from:"Object",to:"Map",convert:i1});var K=t("simplify",{Node:Te,"Node, Map":(ue,xe)=>Te(ue,!1,xe),"Node, Map, Object":(ue,xe,we)=>Te(ue,!1,xe,we),"Node, Array":Te,"Node, Array, Map":Te,"Node, Array, Map, Object":Te});t.removeConversion({from:"Object",to:"Map",convert:i1}),K.defaultContext=H,K.realContext=ae,K.positiveContext=W;function Q(ue){return ue.transform(function(xe,we,ie){return Id(xe)?Q(xe.content):xe})}var te={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};K.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},h,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},h,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function le(ue,xe){var we={};if(ue.s){var ie=ue.s.split("->");if(ie.length===2)we.l=ie[0],we.r=ie[1];else throw SyntaxError("Could not parse rule: "+ue.s)}else we.l=ue.l,we.r=ue.r;we.l=Q(r(we.l)),we.r=Q(r(we.r));for(var re of["imposeContext","repeat","assuming"])re in ue&&(we[re]=ue[re]);if(ue.evaluate&&(we.evaluate=r(ue.evaluate)),q(we.l,xe)){var ee=!I(we.l,xe),oe;ee&&(oe=be());var ge=Z(we.l),De=be();we.expanded={},we.expanded.l=ge([we.l,De]),$(we.expanded.l,xe),k(we.expanded.l,xe),we.expanded.r=ge([we.r,De]),ee&&(we.expandedNC1={},we.expandedNC1.l=ge([oe,we.l]),we.expandedNC1.r=ge([oe,we.r]),we.expandedNC2={},we.expandedNC2.l=ge([oe,we.expanded.l]),we.expandedNC2.r=ge([oe,we.expanded.r]))}return we}function de(ue,xe){for(var we=[],ie=0;ie<ue.length;ie++){var re=ue[ie],ee=void 0,oe=typeof re;switch(oe){case"string":re={s:re};case"object":ee=le(re,xe);break;case"function":ee=re;break;default:throw TypeError("Unsupported type of rule: "+oe)}we.push(ee)}return we}var ce=0;function be(){return new O("_p"+ce++)}function Te(ue,xe){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qy(),ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},re=ie.consoleDebug;xe=de(xe||K.rules,ie.context);var ee=d(ue,we);ee=Q(ee);for(var oe={},ge=ee.toString({parenthesis:"all"});!oe[ge];){oe[ge]=!0,ce=0;var De=ge;re&&console.log("Working on: ",ge);for(var Le=0;Le<xe.length;Le++){var Ue="";if(typeof xe[Le]=="function"?(ee=xe[Le](ee,ie),re&&(Ue=xe[Le].name)):($(ee,ie.context),ee=Fe(ee,xe[Le],ie.context),re&&(Ue="".concat(xe[Le].l.toString()," -> ").concat(xe[Le].r.toString()))),re){var He=ee.toString({parenthesis:"all"});He!==De&&(console.log("Applying",Ue,"produced",He),De=He)}P(ee,ie.context)}ge=ee.toString({parenthesis:"all"})}return ee}function Oe(ue,xe,we){var ie=ue;if(ue)for(var re=0;re<ue.length;++re){var ee=Fe(ue[re],xe,we);ee!==ue[re]&&(ie===ue&&(ie=ue.slice()),ie[re]=ee)}return ie}function Fe(ue,xe,we){if(xe.assuming){for(var ie in xe.assuming)for(var re in xe.assuming[ie])if(U(ie,re,we)!==xe.assuming[ie][re])return ue}var ee=X(xe.imposeContext,we),oe=ue;if(oe instanceof z||oe instanceof C){var ge=Oe(oe.args,xe,we);ge!==oe.args&&(oe=oe.clone(),oe.args=ge)}else if(oe instanceof R){if(oe.content){var De=Fe(oe.content,xe,we);De!==oe.content&&(oe=new R(De))}}else if(oe instanceof M){var Le=Oe(oe.items,xe,we);Le!==oe.items&&(oe=new M(Le))}else if(oe instanceof _){var Ue=oe.object;oe.object&&(Ue=Fe(oe.object,xe,we));var He=oe.index;oe.index&&(He=Fe(oe.index,xe,we)),(Ue!==oe.object||He!==oe.index)&&(oe=new _(Ue,He))}else if(oe instanceof T){var et=Oe(oe.dimensions,xe,we);et!==oe.dimensions&&(oe=new T(et))}else if(oe instanceof B){var Xe=!1,We={};for(var st in oe.properties)We[st]=Fe(oe.properties[st],xe,we),We[st]!==oe.properties[st]&&(Xe=!0);Xe&&(oe=new B(We))}var lt=xe.r,Ke=he(xe.l,oe,ee)[0];if(!Ke&&xe.expanded&&(lt=xe.expanded.r,Ke=he(xe.expanded.l,oe,ee)[0]),!Ke&&xe.expandedNC1&&(lt=xe.expandedNC1.r,Ke=he(xe.expandedNC1.l,oe,ee)[0],Ke||(lt=xe.expandedNC2.r,Ke=he(xe.expandedNC2.l,oe,ee)[0])),Ke){var ze=oe.implicit;oe=lt.clone(),ze&&"implicit"in lt&&(oe.implicit=!0),oe=oe.transform(function(G){return G.isSymbolNode&&Qt(Ke.placeholders,G.name)?Ke.placeholders[G.name].clone():G})}return xe.repeat&&oe!==ue&&(oe=Fe(oe,xe,we)),oe}function Se(ue,xe){var we=[],ie,re,ee=Z(ue);if(I(ue,xe))for(var oe=0;oe<ue.args.length;oe++)re=ue.args.slice(0),re.splice(oe,1),ie=re.length===1?re[0]:ee(re),we.push(ee([ue.args[oe],ie]));else for(var ge=1;ge<ue.args.length;ge++){var De=ue.args[0];ge>1&&(De=ee(ue.args.slice(0,ge))),re=ue.args.slice(ge),ie=re.length===1?re[0]:ee(re),we.push(ee([De,ie]))}return we}function Ve(ue,xe){var we={placeholders:{}};if(!ue.placeholders&&!xe.placeholders)return we;if(ue.placeholders){if(!xe.placeholders)return ue}else return xe;for(var ie in ue.placeholders)if(Qt(ue.placeholders,ie)&&(we.placeholders[ie]=ue.placeholders[ie],Qt(xe.placeholders,ie)&&!Be(ue.placeholders[ie],xe.placeholders[ie])))return null;for(var re in xe.placeholders)Qt(xe.placeholders,re)&&(we.placeholders[re]=xe.placeholders[re]);return we}function ve(ue,xe){var we=[];if(ue.length===0||xe.length===0)return we;for(var ie,re=0;re<ue.length;re++)for(var ee=0;ee<xe.length;ee++)ie=Ve(ue[re],xe[ee]),ie&&we.push(ie);return we}function fe(ue){if(ue.length===0)return ue;for(var xe=ue.reduce(ve),we=[],ie={},re=0;re<xe.length;re++){var ee=JSON.stringify(xe[re]);ie[ee]||(ie[ee]=!0,we.push(xe[re]))}return we}function he(ue,xe,we,ie){var re=[{placeholders:{}}];if(ue instanceof z&&xe instanceof z||ue instanceof C&&xe instanceof C){if(ue instanceof z){if(ue.op!==xe.op||ue.fn!==xe.fn)return[]}else if(ue instanceof C&&ue.name!==xe.name)return[];if(xe.args.length===1&&ue.args.length===1||!q(xe,we)&&xe.args.length===ue.args.length||ie){for(var ee=[],oe=0;oe<ue.args.length;oe++){var ge=he(ue.args[oe],xe.args[oe],we);if(ge.length===0)break;ee.push(ge)}if(ee.length!==ue.args.length){if(!I(xe,we)||ue.args.length===1)return[];if(ue.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var De=he(ue.args[0],xe.args[1],we);if(De.length===0)return[];var Le=he(ue.args[1],xe.args[0],we);if(Le.length===0)return[];ee=[De,Le]}re=fe(ee)}else if(xe.args.length>=2&&ue.args.length===2){for(var Ue=Se(xe,we),He=[],et=0;et<Ue.length;et++){var Xe=he(ue,Ue[et],we,!0);He=He.concat(Xe)}return He}else{if(ue.args.length>2)throw Error("Unexpected non-binary associative function: "+ue.toString());return[]}}else if(ue instanceof O){if(ue.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(te[ue.name]){if(ue.name!==xe.name)return[]}else switch(ue.name[1]>="a"&&ue.name[1]<="z"?ue.name.substring(0,2):ue.name[0]){case"n":case"_p":re[0].placeholders[ue.name]=xe;break;case"c":case"cl":if(vr(xe))re[0].placeholders[ue.name]=xe;else return[];break;case"v":if(!vr(xe))re[0].placeholders[ue.name]=xe;else return[];break;case"vl":if(Ja(xe))re[0].placeholders[ue.name]=xe;else return[];break;case"cd":if(IU(xe))re[0].placeholders[ue.name]=xe;else return[];break;case"vd":if(!IU(xe))re[0].placeholders[ue.name]=xe;else return[];break;case"ce":if(lw(xe))re[0].placeholders[ue.name]=xe;else return[];break;case"ve":if(!lw(xe))re[0].placeholders[ue.name]=xe;else return[];break;default:throw new Error("Invalid symbol in rule: "+ue.name)}}else if(ue instanceof E){if(!c(ue.value,xe.value))return[]}else return[];return re}function Be(ue,xe){if(ue instanceof E&&xe instanceof E){if(!c(ue.value,xe.value))return!1}else if(ue instanceof O&&xe instanceof O){if(ue.name!==xe.name)return!1}else if(ue instanceof z&&xe instanceof z||ue instanceof C&&xe instanceof C){if(ue instanceof z){if(ue.op!==xe.op||ue.fn!==xe.fn)return!1}else if(ue instanceof C&&ue.name!==xe.name)return!1;if(ue.args.length!==xe.args.length)return!1;for(var we=0;we<ue.args.length;we++)if(!Be(ue.args[we],xe.args[we]))return!1}else return!1;return!0}return K}),PMe="simplifyConstant",jMe=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],VMe=Me(PMe,jMe,n=>{var{typed:e,config:t,mathWithTransform:r,matrix:i,fraction:a,bignumber:s,AccessorNode:o,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:d,ObjectNode:h,OperatorNode:p,SymbolNode:g}=n,{isCommutative:x,isAssociative:A,allChildren:b,createMakeNodeFunction:_}=dT({FunctionNode:c,OperatorNode:p,SymbolNode:g}),M=e("simplifyConstant",{Node:$=>B(X($,{})),"Node, Object":function(k,P){return B(X(k,P))}});function E($){return d2($)?$.valueOf():$ instanceof Array?$.map(E):vn($)?i(E($.valueOf())):$}function C($,k,P){try{return r[$].apply(null,k)}catch{return k=k.map(E),R(r[$].apply(null,k),P)}}var T=e({Fraction:U,number:function(k){return k<0?O(new u(-k)):new u(k)},BigNumber:function(k){return k<0?O(new u(-k)):new u(k)},Complex:function(k){throw new Error("Cannot convert Complex number to Node")},string:function(k){return new u(k)},Matrix:function(k){return new l(k.valueOf().map(P=>T(P)))}});function B($){return Vr($)?$:T($)}function z($,k){var P=k&&k.exactFractions!==!1;if(P&&isFinite($)&&a){var Z=a($),H=k&&typeof k.fractionsLimit=="number"?k.fractionsLimit:1/0;if(Z.valueOf()===$&&Z.n<H&&Z.d<H)return Z}return $}var R=e({"string, Object":function(k,P){if(t.number==="BigNumber")return s===void 0&&oT(),s(k);if(t.number==="Fraction")return a===void 0&&_H(),a(k);var Z=parseFloat(k);return z(Z,P)},"Fraction, Object":function(k,P){return k},"BigNumber, Object":function(k,P){return k},"number, Object":function(k,P){return z(k,P)},"Complex, Object":function(k,P){return k.im!==0?k:z(k.re,P)},"Matrix, Object":function(k,P){return i(z(k.valueOf()))},"Array, Object":function(k,P){return k.map(z)}});function O($){return new p("-","unaryMinus",[$])}function U($){var k,P=$.s*$.n;return P<0?k=new p("-","unaryMinus",[new u(-P)]):k=new u(P),$.d===1?k:new p("/","divide",[k,new u($.d)])}function I($,k,P){if(!P1(k))return new o(B($),B(k));if(su($)||vn($)){for(var Z=Array.from(k.dimensions);Z.length>0;)if(vr(Z[0])&&typeof Z[0].value!="string"){var H=R(Z.shift().value,P);su($)?$=$.items[H-1]:($=$.valueOf()[H-1],$ instanceof Array&&($=i($)))}else if(Z.length>1&&vr(Z[1])&&typeof Z[1].value!="string"){var ae=R(Z[1].value,P),W=[],K=su($)?$.items:$.valueOf();for(var Q of K)if(su(Q))W.push(Q.items[ae-1]);else if(vn($))W.push(Q[ae-1]);else break;if(W.length===K.length)su($)?$=new l(W):$=i(W),Z.splice(1,1);else break}else break;return Z.length===k.dimensions.length?new o(B($),k):Z.length>0?(k=new d(Z),new o(B($),k)):$}if(d5($)&&k.dimensions.length===1&&vr(k.dimensions[0])){var te=k.dimensions[0].value;return te in $.properties?$.properties[te]:new u}return new o(B($),k)}function q($,k,P,Z){var H=k.shift(),ae=k.reduce((W,K)=>{if(!Vr(K)){var Q=W.pop();if(Vr(Q))return[Q,K];try{return W.push(C($,[Q,K],Z)),W}catch{W.push(Q)}}W.push(B(W.pop()));var te=W.length===1?W[0]:P(W);return[P([te,B(K)])]},[H]);return ae.length===1?ae[0]:P([ae[0],T(ae[1])])}function X($,k){switch($.type){case"SymbolNode":return $;case"ConstantNode":switch(typeof $.value){case"number":return R($.value,k);case"string":return $.value;default:if(!isNaN($.value))return R($.value,k)}return $;case"FunctionNode":if(r[$.name]&&r[$.name].rawArgs)return $;{var P=["add","multiply"];if(P.indexOf($.name)===-1){var Z=$.args.map(Fe=>X(Fe,k));if(!Z.some(Vr))try{return C($.name,Z,k)}catch{}if($.name==="size"&&Z.length===1&&su(Z[0])){for(var H=[],ae=Z[0];su(ae);)H.push(ae.items.length),ae=ae.items[0];return i(H)}return new c($.name,Z.map(B))}}case"OperatorNode":{var W=$.fn.toString(),K,Q,te=_($);if(ya($)&&$.isUnary())K=[X($.args[0],k)],Vr(K[0])?Q=te(K):Q=C(W,K,k);else if(A($,k.context))if(K=b($,k.context),K=K.map(Fe=>X(Fe,k)),x(W,k.context)){for(var le=[],de=[],ce=0;ce<K.length;ce++)Vr(K[ce])?de.push(K[ce]):le.push(K[ce]);le.length>1?(Q=q(W,le,te,k),de.unshift(Q),Q=q(W,de,te,k)):Q=q(W,K,te,k)}else Q=q(W,K,te,k);else K=$.args.map(Fe=>X(Fe,k)),Q=q(W,K,te,k);return Q}case"ParenthesisNode":return X($.content,k);case"AccessorNode":return I(X($.object,k),X($.index,k),k);case"ArrayNode":{var be=$.items.map(Fe=>X(Fe,k));return be.some(Vr)?new l(be.map(B)):i(be)}case"IndexNode":return new d($.dimensions.map(Fe=>M(Fe,k)));case"ObjectNode":{var Te={};for(var Oe in $.properties)Te[Oe]=M($.properties[Oe],k);return new h(Te)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat($.type))}}return M}),jU="simplifyCore",HMe=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],qMe=Me(jU,HMe,n=>{var{typed:e,parse:t,equal:r,isZero:i,add:a,subtract:s,multiply:o,divide:l,pow:u,AccessorNode:c,ArrayNode:d,ConstantNode:h,FunctionNode:p,IndexNode:g,ObjectNode:x,OperatorNode:A,ParenthesisNode:b,SymbolNode:_}=n,M=new h(0),E=new h(1),C=new h(!0),T=new h(!1);function B(U){return ya(U)&&["and","not","or"].includes(U.op)}var{hasProperty:z,isCommutative:R}=dT({FunctionNode:p,OperatorNode:A,SymbolNode:_});function O(U){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=I?I.context:void 0;if(z(U,"trivial",q)){if(ih(U)&&U.args.length===1)return O(U.args[0],I);var X=!1,$=0;if(U.forEach(de=>{++$,$===1&&(X=O(de,I))}),$===1)return X}var k=U;if(ih(k)){var P=X2e(k.name);if(P){if(k.args.length>2&&z(k,"associative",q))for(;k.args.length>2;){var Z=k.args.pop(),H=k.args.pop();k.args.push(new A(P,k.name,[Z,H]))}k=new A(P,k.name,k.args)}else return new p(O(k.fn),k.args.map(de=>O(de,I)))}if(ya(k)&&k.isUnary()){var ae=O(k.args[0],I);if(k.op==="~"&&ya(ae)&&ae.isUnary()&&ae.op==="~"||k.op==="not"&&ya(ae)&&ae.isUnary()&&ae.op==="not"&&B(ae.args[0]))return ae.args[0];var W=!0;if(k.op==="-"&&ya(ae)&&(ae.isBinary()&&ae.fn==="subtract"&&(k=new A("-","subtract",[ae.args[1],ae.args[0]]),W=!1),ae.isUnary()&&ae.op==="-"))return ae.args[0];if(W)return new A(k.op,k.fn,[ae])}if(ya(k)&&k.isBinary()){var K=O(k.args[0],I),Q=O(k.args[1],I);if(k.op==="+"){if(vr(K)&&i(K.value))return Q;if(vr(Q)&&i(Q.value))return K;ya(Q)&&Q.isUnary()&&Q.op==="-"&&(Q=Q.args[0],k=new A("-","subtract",[K,Q]))}if(k.op==="-")return ya(Q)&&Q.isUnary()&&Q.op==="-"?O(new A("+","add",[K,Q.args[0]]),I):vr(K)&&i(K.value)?O(new A("-","unaryMinus",[Q])):vr(Q)&&i(Q.value)?K:new A(k.op,k.fn,[K,Q]);if(k.op==="*"){if(vr(K)){if(i(K.value))return M;if(r(K.value,1))return Q}if(vr(Q)){if(i(Q.value))return M;if(r(Q.value,1))return K;if(R(k,q))return new A(k.op,k.fn,[Q,K],k.implicit)}return new A(k.op,k.fn,[K,Q],k.implicit)}if(k.op==="/")return vr(K)&&i(K.value)?M:vr(Q)&&r(Q.value,1)?K:new A(k.op,k.fn,[K,Q]);if(k.op==="^"&&vr(Q)){if(i(Q.value))return E;if(r(Q.value,1))return K}if(k.op==="and"){if(vr(K))if(K.value){if(B(Q))return Q;if(vr(Q))return Q.value?C:T}else return T;if(vr(Q))if(Q.value){if(B(K))return K}else return T}if(k.op==="or"){if(vr(K)){if(K.value)return C;if(B(Q))return Q}if(vr(Q)){if(Q.value)return C;if(B(K))return K}}return new A(k.op,k.fn,[K,Q])}if(ya(k))return new A(k.op,k.fn,k.args.map(de=>O(de,I)));if(su(k))return new d(k.items.map(de=>O(de,I)));if(Km(k))return new c(O(k.object,I),O(k.index,I));if(P1(k))return new g(k.dimensions.map(de=>O(de,I)));if(d5(k)){var te={};for(var le in k.properties)te[le]=O(k.properties[le],I);return new x(te)}return k}return e(jU,{Node:O,"Node,Object":O})}),GMe="resolve",$Me=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],XMe=Me(GMe,$Me,n=>{var{typed:e,parse:t,ConstantNode:r,FunctionNode:i,OperatorNode:a,ParenthesisNode:s}=n;function o(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(Ja(l)){if(c.has(l.name)){var d=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var h=u.get(l.name);if(Vr(h)){var p=new Set(c);return p.add(l.name),o(h,u,p)}else return typeof h=="number"?t(String(h)):h!==void 0?new r(h):l}else if(ya(l)){var g=l.args.map(function(A){return o(A,u,c)});return new a(l.op,l.fn,g,l.implicit)}else{if(Id(l))return new s(o(l.content,u,c));if(ih(l)){var x=l.args.map(function(A){return o(A,u,c)});return new i(l.name,x)}}return l.map(A=>o(A,u,c))}return e("resolve",{Node:o,"Node, Map | null | undefined":o,"Node, Object":(l,u)=>o(l,i1(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,i1(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,i1(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(d=>l(d,c)))})}),VU="symbolicEqual",WMe=["parse","simplify","typed","OperatorNode"],YMe=Me(VU,WMe,n=>{var{parse:e,simplify:t,typed:r,OperatorNode:i}=n;function a(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[s,o]),c=t(u,{},l);return vr(c)&&!c.value}return r(VU,{"Node, Node":a,"Node, Node, Object":a})}),HU="derivative",ZMe=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],KMe=Me(HU,ZMe,n=>{var{typed:e,config:t,parse:r,simplify:i,equal:a,isZero:s,numeric:o,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:d,SymbolNode:h}=n;function p(M,E){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},T={};A(T,M,E.name);var B=b(M,T);return C.simplify?i(B):B}e.addConversion({from:"identifier",to:"SymbolNode",convert:r});var g=e(HU,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});e.removeConversion({from:"identifier",to:"SymbolNode",convert:r}),g._simplify=!0,g.toTex=function(M){return x.apply(null,M.args)};var x=e("_derivTex",{"Node, SymbolNode":function(E,C){return vr(E)&&Wr(E.value)==="string"?x(r(E.value).toString(),C.toString(),1):x(E.toTex(),C.toString(),1)},"Node, ConstantNode":function(E,C){if(Wr(C.value)==="string")return x(E,r(C.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(E,C,T){return x(E.toString(),C.name,T.value)},"string, string, number":function(E,C,T){var B;return T===1?B="{d\\over d"+C+"}":B="{d^{"+T+"}\\over d"+C+"^{"+T+"}}",B+"\\left[".concat(E,"\\right]")}}),A=e("constTag",{"Object, ConstantNode, string":function(E,C){return E[C]=!0,!0},"Object, SymbolNode, string":function(E,C,T){return C.name!==T?(E[C]=!0,!0):!1},"Object, ParenthesisNode, string":function(E,C,T){return A(E,C.content,T)},"Object, FunctionAssignmentNode, string":function(E,C,T){return C.params.indexOf(T)===-1?(E[C]=!0,!0):A(E,C.expr,T)},"Object, FunctionNode | OperatorNode, string":function(E,C,T){if(C.args.length>0){for(var B=A(E,C.args[0],T),z=1;z<C.args.length;++z)B=A(E,C.args[z],T)&&B;if(B)return E[C]=!0,!0}return!1}}),b=e("_derivative",{"ConstantNode, Object":function(E){return _(0)},"SymbolNode, Object":function(E,C){return C[E]!==void 0?_(0):_(1)},"ParenthesisNode, Object":function(E,C){return new d(b(E.content,C))},"FunctionAssignmentNode, Object":function(E,C){return C[E]!==void 0?_(0):b(E.expr,C)},"FunctionNode, Object":function(E,C){if(C[E]!==void 0)return _(0);var T=E.args[0],B,z=!1,R=!1,O;switch(E.name){case"cbrt":z=!0,O=new c("*","multiply",[_(3),new c("^","pow",[T,new c("/","divide",[_(2),_(3)])])]);break;case"sqrt":case"nthRoot":if(E.args.length===1)z=!0,O=new c("*","multiply",[_(2),new u("sqrt",[T])]);else if(E.args.length===2)return B=new c("/","divide",[_(1),E.args[1]]),C[B]=C[E.args[1]],b(new c("^","pow",[T,B]),C);break;case"log10":B=_(10);case"log":if(!B&&E.args.length===1)O=T.clone(),z=!0;else if(E.args.length===1&&B||E.args.length===2&&C[E.args[1]]!==void 0)O=new c("*","multiply",[T.clone(),new u("log",[B||E.args[1]])]),z=!0;else if(E.args.length===2)return b(new c("/","divide",[new u("log",[T]),new u("log",[E.args[1]])]),C);break;case"pow":if(E.args.length===2)return C[B]=C[E.args[1]],b(new c("^","pow",[T,E.args[1]]),C);break;case"exp":O=new u("exp",[T.clone()]);break;case"sin":O=new u("cos",[T.clone()]);break;case"cos":O=new c("-","unaryMinus",[new u("sin",[T.clone()])]);break;case"tan":O=new c("^","pow",[new u("sec",[T.clone()]),_(2)]);break;case"sec":O=new c("*","multiply",[E,new u("tan",[T.clone()])]);break;case"csc":R=!0,O=new c("*","multiply",[E,new u("cot",[T.clone()])]);break;case"cot":R=!0,O=new c("^","pow",[new u("csc",[T.clone()]),_(2)]);break;case"asin":z=!0,O=new u("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[T.clone(),_(2)])])]);break;case"acos":z=!0,R=!0,O=new u("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[T.clone(),_(2)])])]);break;case"atan":z=!0,O=new c("+","add",[new c("^","pow",[T.clone(),_(2)]),_(1)]);break;case"asec":z=!0,O=new c("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[T.clone(),_(2)]),_(1)])])]);break;case"acsc":z=!0,R=!0,O=new c("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[T.clone(),_(2)]),_(1)])])]);break;case"acot":z=!0,R=!0,O=new c("+","add",[new c("^","pow",[T.clone(),_(2)]),_(1)]);break;case"sinh":O=new u("cosh",[T.clone()]);break;case"cosh":O=new u("sinh",[T.clone()]);break;case"tanh":O=new c("^","pow",[new u("sech",[T.clone()]),_(2)]);break;case"sech":R=!0,O=new c("*","multiply",[E,new u("tanh",[T.clone()])]);break;case"csch":R=!0,O=new c("*","multiply",[E,new u("coth",[T.clone()])]);break;case"coth":R=!0,O=new c("^","pow",[new u("csch",[T.clone()]),_(2)]);break;case"asinh":z=!0,O=new u("sqrt",[new c("+","add",[new c("^","pow",[T.clone(),_(2)]),_(1)])]);break;case"acosh":z=!0,O=new u("sqrt",[new c("-","subtract",[new c("^","pow",[T.clone(),_(2)]),_(1)])]);break;case"atanh":z=!0,O=new c("-","subtract",[_(1),new c("^","pow",[T.clone(),_(2)])]);break;case"asech":z=!0,R=!0,O=new c("*","multiply",[T.clone(),new u("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[T.clone(),_(2)])])])]);break;case"acsch":z=!0,R=!0,O=new c("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[T.clone(),_(2)]),_(1)])])]);break;case"acoth":z=!0,R=!0,O=new c("-","subtract",[_(1),new c("^","pow",[T.clone(),_(2)])]);break;case"abs":O=new c("/","divide",[new u(new h("abs"),[T.clone()]),T.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+E.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var U,I;z?(U="/",I="divide"):(U="*",I="multiply");var q=b(T,C);return R&&(q=new c("-","unaryMinus",[q])),new c(U,I,[q,O])},"OperatorNode, Object":function(E,C){if(C[E]!==void 0)return _(0);if(E.op==="+")return new c(E.op,E.fn,E.args.map(function($){return b($,C)}));if(E.op==="-"){if(E.isUnary())return new c(E.op,E.fn,[b(E.args[0],C)]);if(E.isBinary())return new c(E.op,E.fn,[b(E.args[0],C),b(E.args[1],C)])}if(E.op==="*"){var T=E.args.filter(function($){return C[$]!==void 0});if(T.length>0){var B=E.args.filter(function($){return C[$]===void 0}),z=B.length===1?B[0]:new c("*","multiply",B),R=T.concat(b(z,C));return new c("*","multiply",R)}return new c("+","add",E.args.map(function($){return new c("*","multiply",E.args.map(function(k){return k===$?b(k,C):k.clone()}))}))}if(E.op==="/"&&E.isBinary()){var O=E.args[0],U=E.args[1];return C[U]!==void 0?new c("/","divide",[b(O,C),U]):C[O]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[O]),new c("/","divide",[b(U,C),new c("^","pow",[U.clone(),_(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[b(O,C),U.clone()]),new c("*","multiply",[O.clone(),b(U,C)])]),new c("^","pow",[U.clone(),_(2)])])}if(E.op==="^"&&E.isBinary()){var I=E.args[0],q=E.args[1];if(C[I]!==void 0)return vr(I)&&(s(I.value)||a(I.value,1))?_(0):new c("*","multiply",[E,new c("*","multiply",[new u("log",[I.clone()]),b(q.clone(),C)])]);if(C[q]!==void 0){if(vr(q)){if(s(q.value))return _(0);if(a(q.value,1))return b(I,C)}var X=new c("^","pow",[I.clone(),new c("-","subtract",[q,_(1)])]);return new c("*","multiply",[q.clone(),new c("*","multiply",[b(I,C),X])])}return new c("*","multiply",[new c("^","pow",[I.clone(),q.clone()]),new c("+","add",[new c("*","multiply",[b(I,C),new c("/","divide",[q.clone(),I.clone()])]),new c("*","multiply",[b(q,C),new u("log",[I.clone()])])])])}throw new Error('Cannot process operator "'+E.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function _(M,E){return new l(o(M,t.number))}return g}),qU="rationalize",QMe=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],JMe=Me(qU,QMe,n=>{var{config:e,typed:t,equal:r,isZero:i,add:a,subtract:s,multiply:o,divide:l,pow:u,parse:c,simplifyConstant:d,simplifyCore:h,simplify:p,fraction:g,bignumber:x,mathWithTransform:A,matrix:b,AccessorNode:_,ArrayNode:M,ConstantNode:E,FunctionNode:C,IndexNode:T,ObjectNode:B,OperatorNode:z,SymbolNode:R,ParenthesisNode:O}=n;function U(k){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,H=q(),ae=I(k,P,!0,H.firstRules),W=ae.variables.length,K={exactFractions:!1},Q={exactFractions:!0};if(k=ae.expression,W>=1){k=X(k);var te,le,de=!0,ce=!1;k=p(k,H.firstRules,{},K);for(var be;le=de?H.distrDivRules:H.sucDivRules,k=p(k,le,{},Q),de=!de,be=k.toString(),be!==te;)ce=!0,te=be;ce&&(k=p(k,H.firstRulesAgain,{},K)),k=p(k,H.finalRules,{},K)}var Te=[],Oe={};return k.type==="OperatorNode"&&k.isBinary()&&k.op==="/"?(W===1&&(k.args[0]=$(k.args[0],Te),k.args[1]=$(k.args[1])),Z&&(Oe.numerator=k.args[0],Oe.denominator=k.args[1])):(W===1&&(k=$(k,Te)),Z&&(Oe.numerator=k,Oe.denominator=null)),Z?(Oe.coefficients=Te,Oe.variables=ae.variables,Oe.expression=k,Oe):k}return t(qU,{Node:U,"Node, boolean":(k,P)=>U(k,{},P),"Node, Object":U,"Node, Object, boolean":U});function I(k,P,Z,H){var ae=[],W=p(k,H,P,{exactFractions:!1});Z=!!Z;var K="+-*"+(Z?"/":"");te(W);var Q={};return Q.expression=W,Q.variables=ae,Q;function te(le){var de=le.type;if(de==="FunctionNode")throw new Error("There is an unsolved function call");if(de==="OperatorNode")if(le.op==="^"){if(le.args[1].type!=="ConstantNode"||!on(parseFloat(le.args[1].value)))throw new Error("There is a non-integer exponent");te(le.args[0])}else{if(K.indexOf(le.op)===-1)throw new Error("Operator "+le.op+" invalid in polynomial expression");for(var ce=0;ce<le.args.length;ce++)te(le.args[ce])}else if(de==="SymbolNode"){var be=le.name,Te=ae.indexOf(be);Te===-1&&ae.push(be)}else if(de==="ParenthesisNode")te(le.content);else if(de!=="ConstantNode")throw new Error("type "+de+" is not allowed in polynomial expression")}}function q(){var k=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],P=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],Z=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ae={};return ae.firstRules=k.concat(P,H),ae.distrDivRules=Z,ae.sucDivRules=H,ae.firstRulesAgain=k.concat(P),ae.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ae}function X(k,P,Z){var H=k.type,ae=arguments.length>1;if(H==="OperatorNode"&&k.isBinary()){var W=!1,K;if(k.op==="^"&&(k.args[0].type==="ParenthesisNode"||k.args[0].type==="OperatorNode")&&k.args[1].type==="ConstantNode"&&(K=parseFloat(k.args[1].value),W=K>=2&&on(K)),W){if(K>2){var Q=k.args[0],te=new z("^","pow",[k.args[0].cloneDeep(),new E(K-1)]);k=new z("*","multiply",[Q,te])}else k=new z("*","multiply",[k.args[0],k.args[0].cloneDeep()]);ae&&(Z==="content"?P.content=k:P.args[Z]=k)}}if(H==="ParenthesisNode")X(k.content,k,"content");else if(H!=="ConstantNode"&&H!=="SymbolNode")for(var le=0;le<k.args.length;le++)X(k.args[le],k,le);if(!ae)return k}function $(k,P){P===void 0&&(P=[]),P[0]=0;var Z={};Z.cte=1,Z.oper="+",Z.fire="";var H=0,ae="";be(k,null,Z),H=P.length-1;for(var W=!0,K,Q=H;Q>=0;Q--)if(P[Q]!==0){var te=new E(W?P[Q]:Math.abs(P[Q])),le=P[Q]<0?"-":"+";if(Q>0){var de=new R(ae);if(Q>1){var ce=new E(Q);de=new z("^","pow",[de,ce])}P[Q]===-1&&W?te=new z("-","unaryMinus",[de]):Math.abs(P[Q])===1?te=de:te=new z("*","multiply",[te,de])}W?K=te:le==="+"?K=new z("+","add",[K,te]):K=new z("-","subtract",[K,te]),W=!1}if(W)return new E(0);return K;function be(Te,Oe,Fe){var Se=Te.type;if(Se==="FunctionNode")throw new Error("There is an unsolved function call");if(Se==="OperatorNode"){if("+-*^".indexOf(Te.op)===-1)throw new Error("Operator "+Te.op+" invalid");if(Oe!==null){if((Te.fn==="unaryMinus"||Te.fn==="pow")&&Oe.fn!=="add"&&Oe.fn!=="subtract"&&Oe.fn!=="multiply")throw new Error("Invalid "+Te.op+" placing");if((Te.fn==="subtract"||Te.fn==="add"||Te.fn==="multiply")&&Oe.fn!=="add"&&Oe.fn!=="subtract")throw new Error("Invalid "+Te.op+" placing");if((Te.fn==="subtract"||Te.fn==="add"||Te.fn==="unaryMinus")&&Fe.noFil!==0)throw new Error("Invalid "+Te.op+" placing")}(Te.op==="^"||Te.op==="*")&&(Fe.fire=Te.op);for(var Ve=0;Ve<Te.args.length;Ve++)Te.fn==="unaryMinus"&&(Fe.oper="-"),(Te.op==="+"||Te.fn==="subtract")&&(Fe.fire="",Fe.cte=1,Fe.oper=Ve===0?"+":Te.op),Fe.noFil=Ve,be(Te.args[Ve],Te,Fe)}else if(Se==="SymbolNode"){if(Te.name!==ae&&ae!=="")throw new Error("There is more than one variable");if(ae=Te.name,Oe===null){P[1]=1;return}if(Oe.op==="^"&&Fe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(Oe.op==="*"&&Fe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(Fe.fire===""||Fe.fire==="*")&&(H<1&&(P[1]=0),P[1]+=Fe.cte*(Fe.oper==="+"?1:-1),H=Math.max(1,H))}else if(Se==="ConstantNode"){var ve=parseFloat(Te.value);if(Oe===null){P[0]=ve;return}if(Oe.op==="^"){if(Fe.noFil!==1)throw new Error("Constant cannot be powered");if(!on(ve)||ve<=0)throw new Error("Non-integer exponent is not allowed");for(var fe=H+1;fe<ve;fe++)P[fe]=0;ve>H&&(P[ve]=0),P[ve]+=Fe.cte*(Fe.oper==="+"?1:-1),H=Math.max(ve,H);return}Fe.cte=ve,Fe.fire===""&&(P[0]+=Fe.cte*(Fe.oper==="+"?1:-1))}else throw new Error("Type "+Se+" is not allowed")}}}),GU="zpk2tf",e_e=["typed","add","multiply","Complex","number"],t_e=Me(GU,e_e,n=>{var{typed:e,add:t,multiply:r,Complex:i,number:a}=n;return e(GU,{"Array,Array,number":function(u,c,d){return s(u,c,d)},"Array,Array":function(u,c){return s(u,c,1)},"Matrix,Matrix,number":function(u,c,d){return s(u.valueOf(),c.valueOf(),d)},"Matrix,Matrix":function(u,c){return s(u.valueOf(),c.valueOf(),1)}});function s(l,u,c){l.some(_=>_.type==="BigNumber")&&(l=l.map(_=>a(_))),u.some(_=>_.type==="BigNumber")&&(u=u.map(_=>a(_)));for(var d=[i(1,0)],h=[i(1,0)],p=0;p<l.length;p++){var g=l[p];typeof g=="number"&&(g=i(g,0)),d=o(d,[i(1,0),i(-g.re,-g.im)])}for(var x=0;x<u.length;x++){var A=u[x];typeof A=="number"&&(A=i(A,0)),h=o(h,[i(1,0),i(-A.re,-A.im)])}for(var b=0;b<d.length;b++)d[b]=r(d[b],c);return[d,h]}function o(l,u){for(var c=[],d=0;d<l.length+u.length-1;d++){c[d]=i(0,0);for(var h=0;h<l.length;h++)d-h>=0&&d-h<u.length&&(c[d]=t(c[d],r(l[h],u[d-h])))}return c}}),$U="freqz",n_e=["typed","add","multiply","Complex","divide","matrix"],r_e=Me($U,n_e,n=>{var{typed:e,add:t,multiply:r,Complex:i,divide:a,matrix:s}=n;return e($U,{"Array, Array":function(c,d){var h=l(512);return o(c,d,h)},"Array, Array, Array":function(c,d,h){return o(c,d,h)},"Array, Array, number":function(c,d,h){if(h<0)throw new Error("w must be a positive number");var p=l(h);return o(c,d,p)},"Matrix, Matrix":function(c,d){var h=l(512),{w:p,h:g}=o(c.valueOf(),d.valueOf(),h);return{w:s(p),h:s(g)}},"Matrix, Matrix, Matrix":function(c,d,h){var{h:p}=o(c.valueOf(),d.valueOf(),h.valueOf());return{h:s(p),w:s(h)}},"Matrix, Matrix, number":function(c,d,h){if(h<0)throw new Error("w must be a positive number");var p=l(h),{h:g}=o(c.valueOf(),d.valueOf(),p);return{h:s(g),w:s(p)}}});function o(u,c,d){for(var h=[],p=[],g=0;g<d.length;g++){for(var x=i(0,0),A=i(0,0),b=0;b<u.length;b++)x=t(x,r(u[b],i(Math.cos(-b*d[g]),Math.sin(-b*d[g]))));for(var _=0;_<c.length;_++)A=t(A,r(c[_],i(Math.cos(-_*d[g]),Math.sin(-_*d[g]))));h.push(x),p.push(A)}for(var M=[],E=0;E<h.length;E++)M.push(a(h[E],p[E]));return{h:M,w:d}}function l(u){for(var c=[],d=0;d<u;d++)c.push(d/u*Math.PI);return c}}),i_e="reviver",a_e=["classes"],s_e=Me(i_e,a_e,n=>{var{classes:e}=n;return function(r,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}}),o_e="replacer",l_e=[],u_e=Me(o_e,l_e,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t}),c_e="12.4.1",f_e=Me("true",[],()=>!0),d_e=Me("false",[],()=>!1),h_e=Me("null",[],()=>null),m_e=Bl("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1/0):1/0}),p_e=Bl("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(NaN):NaN}),v_e=Bl("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?cT(t):Nhe}),g_e=Bl("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?Kxe(t):The}),x_e=Bl("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?Yxe(t):Che}),y_e=Bl("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?Zxe(t):Dhe}),b_e=Bl("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),S_e=Bl("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),w_e=Bl("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),A_e=Bl("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),M_e=Bl("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),__e=Bl("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),E_e=Bl("i",["Complex"],n=>{var{Complex:e}=n;return e.I}),N_e=Me("version",[],()=>c_e);function Bl(n,e,t){return Me(n,e,t,{recreateOnConfigChange:!0})}var T_e=zn("speedOfLight","299792458","m s^-1"),C_e=zn("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),D_e=zn("planckConstant","6.62607015e-34","J s"),R_e=zn("reducedPlanckConstant","1.0545718176461565e-34","J s"),B_e=zn("magneticConstant","1.25663706212e-6","N A^-2"),O_e=zn("electricConstant","8.8541878128e-12","F m^-1"),z_e=zn("vacuumImpedance","376.730313667","ohm"),U_e=zn("coulomb","8.987551792261171e9","N m^2 C^-2"),F_e=zn("elementaryCharge","1.602176634e-19","C"),L_e=zn("bohrMagneton","9.2740100783e-24","J T^-1"),k_e=zn("conductanceQuantum","7.748091729863649e-5","S"),I_e=zn("inverseConductanceQuantum","12906.403729652257","ohm"),P_e=zn("magneticFluxQuantum","2.0678338484619295e-15","Wb"),j_e=zn("nuclearMagneton","5.0507837461e-27","J T^-1"),V_e=zn("klitzing","25812.807459304513","ohm"),H_e=zn("bohrRadius","5.29177210903e-11","m"),q_e=zn("classicalElectronRadius","2.8179403262e-15","m"),G_e=zn("electronMass","9.1093837015e-31","kg"),$_e=zn("fermiCoupling","1.1663787e-5","GeV^-2"),X_e=M5("fineStructure",.0072973525693),W_e=zn("hartreeEnergy","4.3597447222071e-18","J"),Y_e=zn("protonMass","1.67262192369e-27","kg"),Z_e=zn("deuteronMass","3.3435830926e-27","kg"),K_e=zn("neutronMass","1.6749271613e-27","kg"),Q_e=zn("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),J_e=zn("rydberg","10973731.568160","m^-1"),eEe=zn("thomsonCrossSection","6.6524587321e-29","m^2"),tEe=M5("weakMixingAngle",.2229),nEe=M5("efimovFactor",22.7),rEe=zn("atomicMass","1.66053906660e-27","kg"),iEe=zn("avogadro","6.02214076e23","mol^-1"),aEe=zn("boltzmann","1.380649e-23","J K^-1"),sEe=zn("faraday","96485.33212331001","C mol^-1"),oEe=zn("firstRadiation","3.7417718521927573e-16","W m^2"),lEe=zn("loschmidt","2.686780111798444e25","m^-3"),uEe=zn("gasConstant","8.31446261815324","J K^-1 mol^-1"),cEe=zn("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),fEe=zn("molarVolume","0.022413969545014137","m^3 mol^-1"),dEe=M5("sackurTetrode",-1.16487052358),hEe=zn("secondRadiation","0.014387768775039337","m K"),mEe=zn("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),pEe=zn("wienDisplacement","2.897771955e-3","m K"),vEe=zn("molarMass","0.99999999965e-3","kg mol^-1"),gEe=zn("molarMassC12","11.9999999958e-3","kg mol^-1"),xEe=zn("gravity","9.80665","m s^-2"),yEe=zn("planckLength","1.616255e-35","m"),bEe=zn("planckMass","2.176435e-8","kg"),SEe=zn("planckTime","5.391245e-44","s"),wEe=zn("planckCharge","1.87554603778e-18","C"),AEe=zn("planckTemperature","1.416785e+32","K");function zn(n,e,t){var r=["config","Unit","BigNumber"];return Me(n,r,i=>{var{config:a,Unit:s,BigNumber:o}=i,l=a.number==="BigNumber"?new o(e):parseFloat(e),u=new s(l,t);return u.fixPrefix=!0,u})}function M5(n,e){var t=["config","BigNumber"];return Me(n,t,r=>{var{config:i,BigNumber:a}=r;return i.number==="BigNumber"?new a(e):e})}var MEe="apply",_Ee=["typed","isInteger"],EEe=Me(MEe,_Ee,n=>{var{typed:e,isInteger:t}=n,r=iT({typed:e,isInteger:t});return e("apply",{"...any":function(a){var s=a[1];In(s)?a[1]=s-1:Pn(s)&&(a[1]=s.minus(1));try{return r.apply(null,a)}catch(o){throw Bo(o)}}})},{isTransformFunction:!0}),NEe="column",TEe=["typed","Index","matrix","range"],CEe=Me(NEe,TEe,n=>{var{typed:e,Index:t,matrix:r,range:i}=n,a=AH({typed:e,Index:t,matrix:r,range:i});return e("column",{"...any":function(o){var l=o.length-1,u=o[l];In(u)&&(o[l]=u-1);try{return a.apply(null,o)}catch(c){throw Bo(c)}}})},{isTransformFunction:!0});function hT(n,e,t){var r=n.filter(function(l){return Ja(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+n+'"');var i=r.name,a=new Map,s=new iV(t,a,new Set([i])),o=n.compile();return function(u){return a.set(i,u),o.evaluate(s)}}var DEe="filter",REe=["typed"],BEe=Me(DEe,REe,n=>{var{typed:e}=n;function t(i,a,s){var o,l;return i[0]&&(o=i[0].compile().evaluate(s)),i[1]&&(Ja(i[1])||h2(i[1])?l=i[1].compile().evaluate(s):l=hT(i[1],a,s)),r(o,l)}t.rawArgs=!0;var r=e("filter",{"Array, function":XU,"Matrix, function":function(a,s){return a.create(XU(a.toArray(),s))},"Array, RegExp":qS,"Matrix, RegExp":function(a,s){return a.create(qS(a.toArray(),s))}});return t},{isTransformFunction:!0});function XU(n,e){return Jj(n,function(t,r,i){return G1(e,t,[r+1],i,"filter")})}var OEe="forEach",zEe=["typed"],UEe=Me(OEe,zEe,n=>{var{typed:e}=n;function t(i,a,s){var o,l;return i[0]&&(o=i[0].compile().evaluate(s)),i[1]&&(Ja(i[1])||h2(i[1])?l=i[1].compile().evaluate(s):l=hT(i[1],a,s)),r(o,l)}t.rawArgs=!0;var r=e("forEach",{"Array | Matrix, function":function(a,s){var o=function l(u,c){if(Array.isArray(u))m5(u,function(d,h){l(d,c.concat(h+1))});else return G1(s,u,c,a,"forEach")};o(a.valueOf(),[])}});return t},{isTransformFunction:!0}),FEe="index",LEe=["Index","getMatrixDataType"],kEe=Me(FEe,LEe,n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var i=[],a=0,s=arguments.length;a<s;a++){var o=arguments[a];if(QN(o))o.start--,o.end-=o.step>0?0:2;else if(o&&o.isSet===!0)o=o.map(function(u){return u-1});else if(Tr(o)||vn(o))t(o)!=="boolean"&&(o=o.map(function(u){return u-1}));else if(In(o))o--;else if(Pn(o))o=o.toNumber()-1;else if(typeof o!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=o}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),IEe="map",PEe=["typed"],jEe=Me(IEe,PEe,n=>{var{typed:e}=n;function t(i,a,s){var o,l;return i[0]&&(o=i[0].compile().evaluate(s)),i[1]&&(Ja(i[1])||h2(i[1])?l=i[1].compile().evaluate(s):l=hT(i[1],a,s)),r(o,l)}t.rawArgs=!0;var r=e("map",{"Array, function":function(a,s){return WU(a,s,a)},"Matrix, function":function(a,s){return a.create(WU(a.valueOf(),s,a))}});return t},{isTransformFunction:!0});function WU(n,e,t){function r(i,a){return Array.isArray(i)?Dd(i,function(s,o){return r(s,a.concat(o+1))}):G1(e,i,a,t,"map")}return r(n,[])}function ph(n){if(n.length===2&&xu(n[0])){n=n.slice();var e=n[1];In(e)?n[1]=e-1:Pn(e)&&(n[1]=e.minus(1))}return n}var VEe="max",HEe=["typed","config","numeric","larger"],qEe=Me(VEe,HEe,n=>{var{typed:e,config:t,numeric:r,larger:i}=n,a=OH({typed:e,config:t,numeric:r,larger:i});return e("max",{"...any":function(o){o=ph(o);try{return a.apply(null,o)}catch(l){throw Bo(l)}}})},{isTransformFunction:!0}),GEe="mean",$Ee=["typed","add","divide"],XEe=Me(GEe,$Ee,n=>{var{typed:e,add:t,divide:r}=n,i=VH({typed:e,add:t,divide:r});return e("mean",{"...any":function(s){s=ph(s);try{return i.apply(null,s)}catch(o){throw Bo(o)}}})},{isTransformFunction:!0}),WEe="min",YEe=["typed","config","numeric","smaller"],ZEe=Me(WEe,YEe,n=>{var{typed:e,config:t,numeric:r,smaller:i}=n,a=zH({typed:e,config:t,numeric:r,smaller:i});return e("min",{"...any":function(o){o=ph(o);try{return a.apply(null,o)}catch(l){throw Bo(l)}}})},{isTransformFunction:!0}),KEe="range",QEe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],JEe=Me(KEe,QEe,n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:l,add:u,isPositive:c}=n,d=NH({typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:l,add:u,isPositive:c});return e("range",{"...any":function(p){var g=p.length-1,x=p[g];return typeof x!="boolean"&&p.push(!0),d.apply(null,p)}})},{isTransformFunction:!0}),e6e="row",t6e=["typed","Index","matrix","range"],n6e=Me(e6e,t6e,n=>{var{typed:e,Index:t,matrix:r,range:i}=n,a=TH({typed:e,Index:t,matrix:r,range:i});return e("row",{"...any":function(o){var l=o.length-1,u=o[l];In(u)&&(o[l]=u-1);try{return a.apply(null,o)}catch(c){throw Bo(c)}}})},{isTransformFunction:!0}),r6e="subset",i6e=["typed","matrix","zeros","add"],a6e=Me(r6e,i6e,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,a=CH({typed:e,matrix:t,zeros:r,add:i});return e("subset",{"...any":function(o){try{return a.apply(null,o)}catch(l){throw Bo(l)}}})},{isTransformFunction:!0}),s6e="concat",o6e=["typed","matrix","isInteger"],l6e=Me(s6e,o6e,n=>{var{typed:e,matrix:t,isInteger:r}=n,i=wH({typed:e,matrix:t,isInteger:r});return e("concat",{"...any":function(s){var o=s.length-1,l=s[o];In(l)?s[o]=l-1:Pn(l)&&(s[o]=l.minus(1));try{return i.apply(null,s)}catch(u){throw Bo(u)}}})},{isTransformFunction:!0}),YU="diff",u6e=["typed","matrix","subtract","number","bignumber"],c6e=Me(YU,u6e,n=>{var{typed:e,matrix:t,subtract:r,number:i,bignumber:a}=n,s=MH({typed:e,matrix:t,subtract:r,number:i,bignumber:a});return e(YU,{"...any":function(l){l=ph(l);try{return s.apply(null,l)}catch(u){throw Bo(u)}}})},{isTransformFunction:!0}),f6e="std",d6e=["typed","map","sqrt","variance"],h6e=Me(f6e,d6e,n=>{var{typed:e,map:t,sqrt:r,variance:i}=n,a=GH({typed:e,map:t,sqrt:r,variance:i});return e("std",{"...any":function(o){o=ph(o);try{return a.apply(null,o)}catch(l){throw Bo(l)}}})},{isTransformFunction:!0}),ZU="sum",m6e=["typed","config","add","numeric"],p6e=Me(ZU,m6e,n=>{var{typed:e,config:t,add:r,numeric:i}=n,a=PH({typed:e,config:t,add:r,numeric:i});return e(ZU,{"...any":function(o){o=ph(o);try{return a.apply(null,o)}catch(l){throw Bo(l)}}})},{isTransformFunction:!0}),v6e="quantileSeq",g6e=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],x6e=Me(v6e,g6e,n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:h}=n,p=qH({typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:h});return e("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(x,A,b)=>p(x,A,g(b)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(x,A,b,_)=>p(x,A,b,g(_)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(x,A,b)=>p(x,A,g(b)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(x,A,b,_)=>p(x,A,b,g(_))});function g(x){return ph([[],x])[1]}},{isTransformFunction:!0}),KU="cumsum",y6e=["typed","add","unaryPlus"],b6e=Me(KU,y6e,n=>{var{typed:e,add:t,unaryPlus:r}=n,i=jH({typed:e,add:t,unaryPlus:r});return e(KU,{"...any":function(s){if(s.length===2&&xu(s[0])){var o=s[1];In(o)?s[1]=o-1:Pn(o)&&(s[1]=o.minus(1))}try{return i.apply(null,s)}catch(l){throw Bo(l)}}})},{isTransformFunction:!0}),QU="variance",S6e=["typed","add","subtract","multiply","divide","apply","isNaN"],w6e=Me(QU,S6e,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,apply:s,isNaN:o}=n,l=HH({typed:e,add:t,subtract:r,multiply:i,divide:a,apply:s,isNaN:o});return e(QU,{"...any":function(c){c=ph(c);try{return l.apply(null,c)}catch(d){throw Bo(d)}}})},{isTransformFunction:!0}),JU="print",A6e=["typed","matrix","zeros","add"],M6e=Me(JU,A6e,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,a=RH({typed:e,matrix:t,zeros:r,add:i});return e(JU,{"string, Object | Array":function(l,u){return a(s(l),u)},"string, Object | Array, number | Object":function(l,u,c){return a(s(l),u,c)}});function s(o){return o.replace(DH,l=>{var u=l.slice(1).split("."),c=u.map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d});return"$"+c.join(".")})}},{isTransformFunction:!0}),_6e="and",E6e=["typed","matrix","zeros","add","equalScalar","not","concat"],N6e=Me(_6e,E6e,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:s}=n,o=BH({typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:s});function l(u,c,d){var h=u[0].compile().evaluate(d);if(!xu(h)&&!o(h,!0))return!1;var p=u[1].compile().evaluate(d);return o(h,p)}return l.rawArgs=!0,l},{isTransformFunction:!0}),T6e="or",C6e=["typed","matrix","equalScalar","DenseMatrix","concat"],D6e=Me(T6e,C6e,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,s=SH({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a});function o(l,u,c){var d=l[0].compile().evaluate(c);if(!xu(d)&&s(d,!1))return!0;var h=l[1].compile().evaluate(c);return s(d,h)}return o.rawArgs=!0,o},{isTransformFunction:!0}),R6e="bitAnd",B6e=["typed","matrix","zeros","add","equalScalar","not","concat"],O6e=Me(R6e,B6e,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:s}=n,o=yH({typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:s});function l(u,c,d){var h=u[0].compile().evaluate(d);if(!xu(h)){if(isNaN(h))return NaN;if(h===0||h===!1)return 0}var p=u[1].compile().evaluate(d);return o(h,p)}return l.rawArgs=!0,l},{isTransformFunction:!0}),z6e="bitOr",U6e=["typed","matrix","equalScalar","DenseMatrix","concat"],F6e=Me(z6e,U6e,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,s=bH({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a});function o(l,u,c){var d=l[0].compile().evaluate(c);if(!xu(d)){if(isNaN(d))return NaN;if(d===-1)return-1;if(d===!0)return 1}var h=l[1].compile().evaluate(c);return s(d,h)}return o.rawArgs=!0,o},{isTransformFunction:!0}),Ot=ehe({config:St}),Zr=ahe({}),eF=x_e({BigNumber:Ot,config:St}),L6e=d_e({}),k6e=X_e({BigNumber:Ot,config:St}),op=che({}),XH=E_e({Complex:Zr}),I6e=m_e({BigNumber:Ot,config:St}),P6e=S_e({BigNumber:Ot,config:St}),j6e=A_e({BigNumber:Ot,config:St}),_5=vhe({}),V6e=p_e({BigNumber:Ot,config:St}),H6e=h_e({}),q6e=y_e({BigNumber:Ot,config:St}),G6e=hhe({}),WH=i0e({}),$6e=M_e({BigNumber:Ot,config:St}),X6e=dEe({BigNumber:Ot,config:St}),YH=g_e({BigNumber:Ot,config:St}),W6e=f_e({}),Y6e=N_e({}),jn=bhe({Matrix:_5}),Z6e=nEe({BigNumber:Ot,config:St}),K6e=b_e({BigNumber:Ot,config:St}),KE=v_e({BigNumber:Ot,config:St}),Q6e=u_e({}),J6e=__e({BigNumber:Ot,config:St}),ke=e0e({BigNumber:Ot,Complex:Zr,DenseMatrix:jn,Fraction:op}),mT=Rme({BigNumber:Ot,config:St,typed:ke}),eNe=tEe({BigNumber:Ot,config:St}),Oo=Ome({typed:ke}),tNe=lye({Complex:Zr,config:St,typed:ke}),nNe=dye({BigNumber:Ot,typed:ke}),rNe=vye({BigNumber:Ot,Complex:Zr,config:St,typed:ke}),ja=Lme({typed:ke}),iNe=Mve({typed:ke}),aNe=wye({BigNumber:Ot,Complex:Zr,config:St,typed:ke}),sNe=Nye({typed:ke}),ZH=Dye({typed:ke}),oNe=zye({Complex:Zr,config:St,typed:ke}),Cl=fme({BigNumber:Ot,typed:ke}),lNe=gve({typed:ke}),uNe=lme({typed:ke}),cNe=whe({typed:ke}),E5=kAe({typed:ke}),N5=mme({Complex:Zr,typed:ke}),lp=Eve({typed:ke}),pT=Fye({typed:ke}),fNe=Pye({BigNumber:Ot,typed:ke}),dNe=qye({BigNumber:Ot,typed:ke}),hNe=Qme({typed:ke}),tr=Zhe({config:St,typed:ke}),mNe=W1e({typed:ke}),KH=epe({typed:ke}),pNe=npe({Complex:Zr,typed:ke}),vNe=$ve({typed:ke}),gNe=Zve({typed:ke}),g2=age({typed:ke}),vT=Jve({typed:ke}),xNe=fge({format:g2,typed:ke}),gT=Tve({typed:ke}),tl=Mhe({typed:ke}),vh=Uhe({typed:ke}),up=jhe({typed:ke}),xc=Hhe({typed:ke}),yNe=w_e({BigNumber:Ot,config:St}),bNe=qAe({Complex:Zr,typed:ke}),SNe=Lpe({Complex:Zr,config:St,typed:ke}),QH=Ipe({Complex:Zr,config:St,typed:ke}),cp=a1e({typed:ke}),Ji=Vpe({typed:ke}),uw=Bve({typed:ke}),Gd=ime({typed:ke}),wNe=uge({format:g2,typed:ke}),ANe=bMe({config:St,typed:ke}),MNe=RH({typed:ke}),_Ne=wMe({config:St,typed:ke}),xT=Dve({typed:ke}),ENe=Wye({BigNumber:Ot,typed:ke}),JH=Wpe({BigNumber:Ot,Fraction:op,complex:N5,typed:ke}),T5=Qye({typed:ke}),$d=Jhe({Matrix:_5,equalScalar:tr,typed:ke}),NNe=Nme({typed:ke}),TNe=Jpe({typed:ke}),CNe=sme({typed:ke}),bu=Ime({typed:ke}),DNe=n2e({typed:ke}),eq=Xhe({typed:ke}),RNe=cye({Complex:Zr,config:St,typed:ke}),BNe=xye({BigNumber:Ot,typed:ke}),yT=iT({isInteger:tl,typed:ke}),ONe=bye({BigNumber:Ot,Complex:Zr,config:St,typed:ke}),zNe=oge({format:g2,typed:ke}),UNe=PAe({typed:ke}),FNe=kye({typed:ke}),LNe=$ye({BigNumber:Ot,typed:ke}),x2=Ghe({typed:ke}),kNe=vge({typed:ke}),INe=MMe({config:St,typed:ke}),PNe=Zye({BigNumber:Ot,typed:ke}),jNe=e2e({typed:ke}),VNe=iye({SparseMatrix:$d,typed:ke}),yc=Kpe({Complex:Zr,config:St,typed:ke}),HNe=a2e({typed:ke}),Af=Cme({typed:ke}),qNe=mye({BigNumber:Ot,Complex:Zr,config:St,typed:ke}),GNe=Vye({BigNumber:Ot,typed:ke}),X1=gme({Fraction:op,typed:ke}),fp=Lhe({typed:ke}),Rt=yme({DenseMatrix:jn,Matrix:_5,SparseMatrix:$d,typed:ke}),$Ne=Sme({isZero:xc,matrix:Rt,typed:ke}),XNe=tge({isNaN:x2,isNumeric:fp,typed:ke}),sc=yge({bignumber:Cl,fraction:X1,number:Gd}),tq=rge({config:St,multiplyScalar:Ji,numeric:sc,typed:ke}),nq=h1e({isInteger:tl,matrix:Rt,typed:ke}),bs=A1e({matrix:Rt,config:St,typed:ke}),WNe=_1e({matrix:Rt,typed:ke}),y2=R1e({matrix:Rt,typed:ke}),rq=rve({BigNumber:Ot,config:St,matrix:Rt,typed:ke}),vs=U1e({BigNumber:Ot,config:St,matrix:Rt,typed:ke}),YNe=Mye({Complex:Zr,config:St,typed:ke}),iq=jme({BigNumber:Ot,Complex:Zr,Fraction:op,config:St,isNegative:vh,matrix:Rt,typed:ke,unaryMinus:Af}),xr=wH({isInteger:tl,matrix:Rt,typed:ke}),ZNe=Ive({prod:tq,size:bs,typed:ke}),bT=O1e({conj:lp,transpose:y2,typed:ke}),aq=Hve({DenseMatrix:jn,SparseMatrix:$d,matrix:Rt,typed:ke}),Ci=Sge({numeric:sc,typed:ke}),b2=Uge({DenseMatrix:jn,concat:xr,divideScalar:Ci,equalScalar:tr,matrix:Rt,typed:ke}),Su=cxe({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),S2=Wve({matrix:Rt,typed:ke}),KNe=Ihe({isNumeric:fp,typed:ke}),gh=t1e({BigNumber:Ot,DenseMatrix:jn,SparseMatrix:$d,config:St,matrix:Rt,typed:ke}),QNe=r1e({matrix:Rt,multiplyScalar:Ji,typed:ke}),C5=Mxe({DenseMatrix:jn,concat:xr,config:St,matrix:Rt,typed:ke}),JNe=Xge({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke,zeros:vs}),sq=Lge({DenseMatrix:jn,divideScalar:Ci,equalScalar:tr,matrix:Rt,multiplyScalar:Ji,subtractScalar:bu,typed:ke}),ST=_me({flatten:S2,matrix:Rt,size:bs,typed:ke}),eTe=$pe({BigNumber:Ot,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),tTe=c1e({BigNumber:Ot,config:St,matrix:Rt,typed:ke}),wT=Ibe({addScalar:ja,complex:N5,conj:lp,divideScalar:Ci,equal:Su,identity:gh,isZero:xc,matrix:Rt,multiplyScalar:Ji,sign:JH,sqrt:yc,subtractScalar:bu,typed:ke,unaryMinus:Af,zeros:vs}),nTe=v1e({config:St,matrix:Rt}),rTe=Yge({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke,zeros:vs}),W1=_ge({BigNumber:Ot,DenseMatrix:jn,config:St,equalScalar:tr,matrix:Rt,typed:ke,zeros:vs}),Mo=pxe({DenseMatrix:jn,concat:xr,config:St,matrix:Rt,typed:ke}),Qi=tve({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,subtractScalar:bu,typed:ke,unaryMinus:Af}),iTe=mge({concat:xr,matrix:Rt,typed:ke}),aTe=Cxe({DenseMatrix:jn,concat:xr,config:St,equalScalar:tr,matrix:Rt,typed:ke}),AT=Ige({DenseMatrix:jn,divideScalar:Ci,equalScalar:tr,matrix:Rt,multiplyScalar:Ji,subtractScalar:bu,typed:ke}),sTe=Uve({DenseMatrix:jn,concat:xr,matrix:Rt,typed:ke}),ir=N2e({DenseMatrix:jn,SparseMatrix:$d,addScalar:ja,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),oTe=Bye({BigNumber:Ot,DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),lTe=yH({concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),uTe=bH({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),cTe=wve({DenseMatrix:jn,concat:xr,matrix:Rt,typed:ke}),fTe=DMe({addScalar:ja,combinations:E5,divideScalar:Ci,isInteger:tl,isNegative:vh,multiplyScalar:Ji,typed:ke}),dp=exe({BigNumber:Ot,DenseMatrix:jn,Fraction:op,concat:xr,config:St,equalScalar:tr,matrix:Rt,typed:ke}),oq=lxe({concat:xr,matrix:Rt,typed:ke}),dTe=jH({add:ir,typed:ke,unaryPlus:mT}),MT=Nxe({equal:Su,typed:ke}),hTe=MH({matrix:Rt,number:Gd,subtract:Qi,typed:ke}),mTe=SAe({abs:Oo,addScalar:ja,deepEqual:MT,divideScalar:Ci,multiplyScalar:Ji,sqrt:yc,subtractScalar:bu,typed:ke}),D5=O2e({addScalar:ja,conj:lp,multiplyScalar:Ji,size:bs,typed:ke}),pTe=hxe({compareText:oq,isZero:xc,typed:ke}),lq=vH({DenseMatrix:jn,config:St,equalScalar:tr,matrix:Rt,round:W1,typed:ke,zeros:vs}),vTe=Rpe({BigNumber:Ot,DenseMatrix:jn,concat:xr,config:St,equalScalar:tr,matrix:Rt,round:W1,typed:ke,zeros:vs}),gTe=C2e({abs:Oo,addScalar:ja,divideScalar:Ci,isPositive:up,multiplyScalar:Ji,smaller:Mo,sqrt:yc,typed:ke}),uq=Ixe({DenseMatrix:jn,smaller:Mo}),Hs=Vxe({ImmutableDenseMatrix:uq,getMatrixDataType:vT}),_o=Sxe({DenseMatrix:jn,concat:xr,config:St,matrix:Rt,typed:ke}),_T=Nge({Complex:Zr,config:St,divideScalar:Ci,typed:ke}),xTe=jge({DenseMatrix:jn,divideScalar:Ci,equalScalar:tr,matrix:Rt,multiplyScalar:Ji,subtractScalar:bu,typed:ke}),yTe=Ame({flatten:S2,matrix:Rt,size:bs,typed:ke}),bTe=zH({config:St,numeric:sc,smaller:Mo,typed:ke}),cq=gH({DenseMatrix:jn,concat:xr,config:St,equalScalar:tr,matrix:Rt,round:W1,typed:ke,zeros:vs}),Lr=qpe({addScalar:ja,dot:D5,equalScalar:tr,matrix:Rt,multiplyScalar:Ji,typed:ke}),STe=Rge({Complex:Zr,config:St,divideScalar:Ci,typed:ke}),wTe=SH({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),R5=Bxe({compare:dp,isNaN:x2,isNumeric:fp,typed:ke}),ATe=Kge({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke,zeros:vs}),fq=u4e({SparseMatrix:$d,abs:Oo,add:ir,divideScalar:Ci,larger:_o,largerEq:C5,multiply:Lr,subtract:Qi,transpose:y2,typed:ke}),Ol=CH({add:ir,matrix:Rt,typed:ke,zeros:vs}),ET=PH({add:ir,config:St,numeric:sc,typed:ke}),MTe=F2e({add:ir,matrix:Rt,typed:ke}),dq=Hge({DenseMatrix:jn,divideScalar:Ci,equalScalar:tr,matrix:Rt,multiplyScalar:Ji,subtractScalar:bu,typed:ke}),_Te=t_e({Complex:Zr,add:ir,multiply:Lr,number:Gd,typed:ke}),NT=Zme({DenseMatrix:jn,config:St,equalScalar:tr,matrix:Rt,round:W1,typed:ke,zeros:vs}),Mf=axe({compare:dp,typed:ke}),ETe=BMe({addScalar:ja,combinations:E5,isInteger:tl,isNegative:vh,isPositive:up,larger:_o,typed:ke}),NTe=jve({matrix:Rt,multiply:Lr,subtract:Qi,typed:ke}),hq=K5e({divideScalar:Ci,isZero:xc,matrix:Rt,multiply:Lr,subtractScalar:bu,typed:ke,unaryMinus:Af}),TTe=uve({concat:xr,equalScalar:tr,matrix:Rt,multiplyScalar:Ji,typed:ke}),mq=Gxe({larger:_o,smaller:Mo}),pq=ape({Complex:Zr,DenseMatrix:jn,ceil:NT,equalScalar:tr,floor:lq,matrix:Rt,typed:ke,zeros:vs}),vq=k2e({Index:Hs,typed:ke}),CTe=MAe({abs:Oo,add:ir,addScalar:ja,config:St,divideScalar:Ci,equalScalar:tr,flatten:S2,isNumeric:fp,isZero:xc,matrix:Rt,multiply:Lr,multiplyScalar:Ji,smaller:Mo,subtract:Qi,typed:ke}),DTe=ave({BigNumber:Ot,add:ir,config:St,equal:Su,isInteger:tl,mod:cq,smaller:Mo,typed:ke,xgcd:rq}),RTe=Upe({concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),BTe=Cge({Complex:Zr,config:St,divideScalar:Ci,log:_T,typed:ke}),TT=OH({config:St,larger:_o,numeric:sc,typed:ke}),OTe=o2e({DenseMatrix:jn,Index:Hs,compareNatural:Mf,size:bs,subset:Ol,typed:ke}),zTe=f2e({DenseMatrix:jn,Index:Hs,compareNatural:Mf,size:bs,subset:Ol,typed:ke}),UTe=p2e({Index:Hs,compareNatural:Mf,size:bs,subset:Ol,typed:ke}),FTe=y2e({Index:Hs,compareNatural:Mf,size:bs,subset:Ol,typed:ke}),b1=xxe({DenseMatrix:jn,concat:xr,config:St,matrix:Rt,typed:ke}),LTe=zxe({compare:dp,compareNatural:Mf,matrix:Rt,typed:ke}),kTe=BH({concat:xr,equalScalar:tr,matrix:Rt,not:uw,typed:ke,zeros:vs}),S1=NH({bignumber:Cl,matrix:Rt,add:ir,config:St,isPositive:up,larger:_o,largerEq:C5,smaller:Mo,smallerEq:b1,typed:ke}),ITe=TH({Index:Hs,matrix:Rt,range:S1,typed:ke}),gq=u2e({DenseMatrix:jn,Index:Hs,compareNatural:Mf,size:bs,subset:Ol,typed:ke}),PTe=g2e({Index:Hs,compareNatural:Mf,size:bs,subset:Ol,typed:ke}),xq=A2e({Index:Hs,concat:xr,setDifference:gq,size:bs,subset:Ol,typed:ke}),yq=Wxe({FibonacciHeap:mq,addScalar:ja,equalScalar:tr}),bq=AH({Index:Hs,matrix:Rt,range:S1,typed:ke}),hp=J5e({abs:Oo,addScalar:ja,det:hq,divideScalar:Ci,identity:gh,matrix:Rt,multiply:Lr,typed:ke,unaryMinus:Af}),Sq=Lbe({DenseMatrix:jn,Spa:yq,SparseMatrix:$d,abs:Oo,addScalar:ja,divideScalar:Ci,equalScalar:tr,larger:_o,matrix:Rt,multiplyScalar:Ji,subtractScalar:bu,typed:ke,unaryMinus:Af}),jTe=tAe({Complex:Zr,add:ir,ctranspose:bT,deepEqual:MT,divideScalar:Ci,dot:D5,dotDivide:b2,equal:Su,inv:hp,matrix:Rt,multiply:Lr,typed:ke}),wu=Age({Complex:Zr,config:St,fraction:X1,identity:gh,inv:hp,matrix:Rt,multiply:Lr,number:Gd,typed:ke}),wq=h2e({DenseMatrix:jn,Index:Hs,compareNatural:Mf,size:bs,subset:Ol,typed:ke}),VTe=_2e({Index:Hs,concat:xr,setIntersect:wq,setSymDifference:xq,size:bs,subset:Ol,typed:ke}),HTe=cAe({abs:Oo,add:ir,identity:gh,inv:hp,map:cp,max:TT,multiply:Lr,size:bs,sqrt:yc,subtract:Qi,typed:ke}),_n=eye({BigNumber:Ot,Complex:Zr,Fraction:op,abs:Oo,addScalar:ja,config:St,divideScalar:Ci,equal:Su,fix:pq,format:g2,isNumeric:fp,multiplyScalar:Ji,number:Gd,pow:wu,round:W1,subtractScalar:bu}),qTe=z_e({BigNumber:Ot,Unit:_n,config:St}),GTe=pEe({BigNumber:Ot,Unit:_n,config:St}),$Te=rEe({BigNumber:Ot,Unit:_n,config:St}),XTe=L_e({BigNumber:Ot,Unit:_n,config:St}),WTe=aEe({BigNumber:Ot,Unit:_n,config:St}),YTe=k_e({BigNumber:Ot,Unit:_n,config:St}),ZTe=U_e({BigNumber:Ot,Unit:_n,config:St}),KTe=Z_e({BigNumber:Ot,Unit:_n,config:St}),QTe=Oge({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,pow:wu,typed:ke}),JTe=O_e({BigNumber:Ot,Unit:_n,config:St}),e8e=F_e({BigNumber:Ot,Unit:_n,config:St}),t8e=lAe({abs:Oo,add:ir,identity:gh,inv:hp,multiply:Lr,typed:ke}),n8e=sEe({BigNumber:Ot,Unit:_n,config:St}),Aq=L1e({addScalar:ja,ceil:NT,conj:lp,divideScalar:Ci,dotDivide:b2,exp:KH,i:XH,log2:QH,matrix:Rt,multiplyScalar:Ji,pow:wu,tau:YH,typed:ke}),CT=VAe({BigNumber:Ot,Complex:Zr,config:St,multiplyScalar:Ji,pow:wu,typed:ke}),r8e=C_e({BigNumber:Ot,Unit:_n,config:St}),i8e=W_e({BigNumber:Ot,Unit:_n,config:St}),a8e=I1e({conj:lp,dotDivide:b2,fft:Aq,typed:ke}),s8e=V_e({BigNumber:Ot,Unit:_n,config:St}),o8e=lEe({BigNumber:Ot,Unit:_n,config:St}),l8e=B_e({BigNumber:Ot,Unit:_n,config:St}),u8e=vEe({BigNumber:Ot,Unit:_n,config:St}),c8e=cEe({BigNumber:Ot,Unit:_n,config:St}),f8e=K_e({BigNumber:Ot,Unit:_n,config:St}),d8e=j_e({BigNumber:Ot,Unit:_n,config:St}),h8e=wEe({BigNumber:Ot,Unit:_n,config:St}),m8e=yEe({BigNumber:Ot,Unit:_n,config:St}),p8e=AEe({BigNumber:Ot,Unit:_n,config:St}),v8e=Y_e({BigNumber:Ot,Unit:_n,config:St}),g8e=Q_e({BigNumber:Ot,Unit:_n,config:St}),x8e=R_e({BigNumber:Ot,Unit:_n,config:St}),y8e=J_e({BigNumber:Ot,Unit:_n,config:St}),b8e=hEe({BigNumber:Ot,Unit:_n,config:St}),S8e=T_e({BigNumber:Ot,Unit:_n,config:St}),w8e=mEe({BigNumber:Ot,Unit:_n,config:St}),A8e=eEe({BigNumber:Ot,Unit:_n,config:St}),M8e=iEe({BigNumber:Ot,Unit:_n,config:St}),_8e=H_e({BigNumber:Ot,Unit:_n,config:St}),E8e=sye({Unit:_n,typed:ke}),es=yAe({divideScalar:Ci,equalScalar:tr,inv:hp,matrix:Rt,multiply:Lr,typed:ke}),N8e=G_e({BigNumber:Ot,Unit:_n,config:St}),w2=$Ae({gamma:CT,typed:ke}),T8e=oEe({BigNumber:Ot,Unit:_n,config:St}),C8e=xEe({BigNumber:Ot,Unit:_n,config:St}),D8e=I_e({BigNumber:Ot,Unit:_n,config:St}),Mq=f4e({DenseMatrix:jn,lsolve:sq,lup:Sq,matrix:Rt,slu:fq,typed:ke,usolve:AT}),R8e=P_e({BigNumber:Ot,Unit:_n,config:St}),B8e=gEe({BigNumber:Ot,Unit:_n,config:St}),O8e=ZAe({add:ir,divide:es,factorial:w2,isInteger:tl,isPositive:up,multiply:Lr,typed:ke}),z8e=QAe({factorial:w2,typed:ke}),U8e=bEe({BigNumber:Ot,Unit:_n,config:St}),F8e=h4e({add:ir,cbrt:iq,divide:es,equalScalar:tr,im:gT,isZero:xc,multiply:Lr,re:xT,sqrt:yc,subtract:Qi,typeOf:eq,typed:ke,unaryMinus:Af}),L8e=S2e({compareNatural:Mf,typed:ke}),k8e=G1e({abs:Oo,add:ir,bignumber:Cl,divide:es,isNegative:vh,isPositive:up,larger:_o,map:cp,matrix:Rt,max:TT,multiply:Lr,smaller:Mo,subtract:Qi,typed:ke,unaryMinus:Af}),_q=EMe({bignumber:Cl,addScalar:ja,combinations:E5,divideScalar:Ci,factorial:w2,isInteger:tl,isNegative:vh,larger:_o,multiplyScalar:Ji,number:Gd,pow:wu,subtractScalar:bu,typed:ke}),I8e=nye({Unit:_n,typed:ke}),P8e=TMe({addScalar:ja,isInteger:tl,isNegative:vh,stirlingS2:_q,typed:ke}),Eq=sAe({abs:Oo,add:ir,addScalar:ja,atan:ZH,bignumber:Cl,column:bq,complex:N5,config:St,cos:pT,diag:aq,divideScalar:Ci,dot:D5,equal:Su,flatten:S2,im:gT,inv:hp,larger:_o,matrix:Rt,matrixFromColumns:ST,multiply:Lr,multiplyScalar:Ji,number:Gd,qr:wT,re:xT,reshape:nq,sin:T5,size:bs,smaller:Mo,sqrt:yc,subtract:Qi,typed:ke,usolve:AT,usolveAll:dq}),j8e=$_e({BigNumber:Ot,Unit:_n,config:St}),V8e=uEe({BigNumber:Ot,Unit:_n,config:St}),H8e=WAe({divide:es,dotDivide:b2,isNumeric:fp,log:_T,map:cp,matrix:Rt,multiply:Lr,sum:ET,typed:ke}),Nq=VH({add:ir,divide:es,typed:ke}),q8e=fEe({BigNumber:Ot,Unit:_n,config:St}),G8e=D_e({BigNumber:Ot,Unit:_n,config:St}),$8e=qH({bignumber:Cl,add:ir,compare:dp,divide:es,isInteger:tl,larger:_o,multiply:Lr,partitionSelect:R5,smaller:Mo,smallerEq:b1,subtract:Qi,typed:ke}),DT=HH({add:ir,apply:yT,divide:es,isNaN:x2,multiply:Lr,subtract:Qi,typed:ke}),X8e=q_e({BigNumber:Ot,Unit:_n,config:St}),Tq=CAe({add:ir,compare:dp,divide:es,partitionSelect:R5,typed:ke}),W8e=FAe({add:ir,divide:es,matrix:Rt,mean:Nq,multiply:Lr,pow:wu,sqrt:yc,subtract:Qi,sum:ET,typed:ke}),Y8e=r_e({Complex:Zr,add:ir,divide:es,matrix:Rt,multiply:Lr,typed:ke}),Z8e=RAe({abs:Oo,map:cp,median:Tq,subtract:Qi,typed:ke}),K8e=GH({map:cp,sqrt:yc,typed:ke,variance:DT}),Q8e=J1e({BigNumber:Ot,Complex:Zr,add:ir,config:St,divide:es,equal:Su,factorial:w2,gamma:CT,isNegative:vh,multiply:Lr,pi:KE,pow:wu,sin:T5,smallerEq:b1,subtract:Qi,typed:ke}),RT=R2e({abs:Oo,add:ir,conj:lp,ctranspose:bT,eigs:Eq,equalScalar:tr,larger:_o,matrix:Rt,multiply:Lr,pow:wu,smaller:Mo,sqrt:yc,typed:ke}),Cq=b1e({BigNumber:Ot,DenseMatrix:jn,SparseMatrix:$d,addScalar:ja,config:St,cos:pT,matrix:Rt,multiplyScalar:Ji,norm:RT,sin:T5,typed:ke,unaryMinus:Af}),J8e=SEe({BigNumber:Ot,Unit:_n,config:St}),Dq=mAe({identity:gh,matrix:Rt,multiply:Lr,norm:RT,qr:wT,subtract:Qi,typed:ke}),eCe=x1e({multiply:Lr,rotationMatrix:Cq,typed:ke}),Rq=dAe({abs:Oo,add:ir,concat:xr,identity:gh,index:vq,lusolve:Mq,matrix:Rt,matrixFromColumns:ST,multiply:Lr,range:S1,schur:Dq,subset:Ol,subtract:Qi,transpose:y2,typed:ke}),tCe=vAe({matrix:Rt,multiply:Lr,sylvester:Rq,transpose:y2,typed:ke}),Y1={},Z1={},Bq={},Xs=j2e({mathWithTransform:Z1}),K1=fbe({Node:Xs}),Xd=hbe({Node:Xs}),mp=pbe({Node:Xs}),Oq=ybe({Node:Xs}),Q1=G2e({Node:Xs}),zq=K2e({Node:Xs,ResultSet:WH}),Uq=J2e({Node:Xs}),xh=abe({Node:Xs}),Fq=gbe({Node:Xs}),nCe=s_e({classes:Bq}),BT=y4e({math:Y1,typed:ke}),Lq=obe({Node:Xs,typed:ke}),rCe=Y5e({Chain:BT,typed:ke}),J1=ube({Node:Xs,size:bs}),eg=H2e({Node:Xs,subset:Ol}),kq=Y2e({matrix:Rt,Node:Xs,subset:Ol}),yh=wbe({Unit:_n,Node:Xs,math:Y1}),bh=Mbe({Node:Xs,SymbolNode:yh,math:Y1}),bc=Ebe({AccessorNode:eg,ArrayNode:Q1,AssignmentNode:kq,BlockNode:zq,ConditionalNode:Uq,ConstantNode:xh,FunctionAssignmentNode:Lq,FunctionNode:bh,IndexNode:J1,ObjectNode:K1,OperatorNode:Xd,ParenthesisNode:mp,RangeNode:Fq,RelationalNode:Oq,SymbolNode:yh,config:St,numeric:sc,typed:ke}),Iq=XMe({ConstantNode:xh,FunctionNode:bh,OperatorNode:Xd,ParenthesisNode:mp,parse:bc,typed:ke}),OT=VMe({bignumber:Cl,fraction:X1,AccessorNode:eg,ArrayNode:Q1,ConstantNode:xh,FunctionNode:bh,IndexNode:J1,ObjectNode:K1,OperatorNode:Xd,SymbolNode:yh,config:St,mathWithTransform:Z1,matrix:Rt,typed:ke}),QE=Tbe({parse:bc,typed:ke}),zT=qMe({AccessorNode:eg,ArrayNode:Q1,ConstantNode:xh,FunctionNode:bh,IndexNode:J1,ObjectNode:K1,OperatorNode:Xd,ParenthesisNode:mp,SymbolNode:yh,add:ir,divide:es,equal:Su,isZero:xc,multiply:Lr,parse:bc,pow:wu,subtract:Qi,typed:ke}),UT=Dbe({parse:bc,typed:ke}),Pq=v4e({evaluate:UT}),jq=Obe({evaluate:UT}),B5=IMe({bignumber:Cl,fraction:X1,AccessorNode:eg,ArrayNode:Q1,ConstantNode:xh,FunctionNode:bh,IndexNode:J1,ObjectNode:K1,OperatorNode:Xd,ParenthesisNode:mp,SymbolNode:yh,add:ir,config:St,divide:es,equal:Su,isZero:xc,mathWithTransform:Z1,matrix:Rt,multiply:Lr,parse:bc,pow:wu,resolve:Iq,simplifyConstant:OT,simplifyCore:zT,subtract:Qi,typed:ke}),iCe=YMe({OperatorNode:Xd,parse:bc,simplify:B5,typed:ke}),aCe=zMe({parse:bc,typed:ke}),sCe=Ube({Parser:jq,typed:ke}),oCe=JMe({bignumber:Cl,fraction:X1,AccessorNode:eg,ArrayNode:Q1,ConstantNode:xh,FunctionNode:bh,IndexNode:J1,ObjectNode:K1,OperatorNode:Xd,ParenthesisNode:mp,SymbolNode:yh,add:ir,config:St,divide:es,equal:Su,isZero:xc,mathWithTransform:Z1,matrix:Rt,multiply:Lr,parse:bc,pow:wu,simplify:B5,simplifyConstant:OT,simplifyCore:zT,subtract:Qi,typed:ke}),Vq=KMe({ConstantNode:xh,FunctionNode:bh,OperatorNode:Xd,ParenthesisNode:mp,SymbolNode:yh,config:St,equal:Su,isZero:xc,numeric:sc,parse:bc,simplify:B5,typed:ke}),lCe=X5e({Help:Pq,mathWithTransform:Z1,typed:ke});mi(Y1,{e:eF,false:L6e,fineStructure:k6e,i:XH,Infinity:I6e,LN10:P6e,LOG10E:j6e,NaN:V6e,null:H6e,phi:q6e,SQRT1_2:$6e,sackurTetrode:X6e,tau:YH,true:W6e,E:eF,version:Y6e,efimovFactor:Z6e,LN2:K6e,pi:KE,replacer:Q6e,reviver:nCe,SQRT2:J6e,typed:ke,unaryPlus:mT,PI:KE,weakMixingAngle:eNe,abs:Oo,acos:tNe,acot:nNe,acsc:rNe,addScalar:ja,arg:iNe,asech:aNe,asinh:sNe,atan:ZH,atanh:oNe,bignumber:Cl,bitNot:lNe,boolean:uNe,clone:cNe,combinations:E5,complex:N5,conj:lp,cos:pT,cot:fNe,csc:dNe,cube:hNe,equalScalar:tr,erf:mNe,exp:KH,expm1:pNe,filter:vNe,forEach:gNe,format:g2,getMatrixDataType:vT,hex:xNe,im:gT,isInteger:tl,isNegative:vh,isPositive:up,isZero:xc,LOG2E:yNe,lgamma:bNe,log10:SNe,log2:QH,map:cp,multiplyScalar:Ji,not:uw,number:Gd,oct:wNe,pickRandom:ANe,print:MNe,random:_Ne,re:xT,sec:ENe,sign:JH,sin:T5,splitUnit:NNe,square:TNe,string:CNe,subtractScalar:bu,tan:DNe,typeOf:eq,acosh:RNe,acsch:BNe,apply:yT,asec:ONe,bin:zNe,chain:rCe,combinationsWithRep:UNe,cosh:FNe,csch:LNe,isNaN:x2,isPrime:kNe,randomInt:INe,sech:PNe,sinh:jNe,sparse:VNe,sqrt:yc,tanh:HNe,unaryMinus:Af,acoth:qNe,coth:GNe,fraction:X1,isNumeric:fp,matrix:Rt,matrixFromFunction:$Ne,mode:XNe,numeric:sc,prod:tq,reshape:nq,size:bs,squeeze:WNe,transpose:y2,xgcd:rq,zeros:vs,asin:YNe,cbrt:iq,concat:xr,count:ZNe,ctranspose:bT,diag:aq,divideScalar:Ci,dotDivide:b2,equal:Su,flatten:S2,hasNumericValue:KNe,identity:gh,kron:QNe,largerEq:C5,leftShift:JNe,lsolve:sq,matrixFromColumns:ST,nthRoot:eTe,ones:tTe,qr:wT,resize:nTe,rightArithShift:rTe,round:W1,smaller:Mo,subtract:Qi,to:iTe,unequal:aTe,usolve:AT,xor:sTe,add:ir,atan2:oTe,bitAnd:lTe,bitOr:uTe,bitXor:cTe,catalan:fTe,compare:dp,compareText:oq,cumsum:dTe,deepEqual:MT,diff:hTe,distance:mTe,dot:D5,equalText:pTe,floor:lq,gcd:vTe,hypot:gTe,larger:_o,log:_T,lsolveAll:xTe,matrixFromRows:yTe,min:bTe,mod:cq,multiply:Lr,nthRoots:STe,or:wTe,partitionSelect:R5,rightLogShift:ATe,slu:fq,subset:Ol,sum:ET,trace:MTe,usolveAll:dq,zpk2tf:_Te,ceil:NT,compareNatural:Mf,composition:ETe,cross:NTe,det:hq,dotMultiply:TTe,fix:pq,index:vq,intersect:CTe,invmod:DTe,lcm:RTe,log1p:BTe,max:TT,setCartesian:OTe,setDistinct:zTe,setIsSubset:UTe,setPowerset:FTe,smallerEq:b1,sort:LTe,and:kTe,range:S1,row:ITe,setDifference:gq,setMultiplicity:PTe,setSymDifference:xq,column:bq,inv:hp,lup:Sq,pinv:jTe,pow:wu,setIntersect:wq,setUnion:VTe,sqrtm:HTe,vacuumImpedance:qTe,wienDisplacement:GTe,atomicMass:$Te,bohrMagneton:XTe,boltzmann:WTe,conductanceQuantum:YTe,coulomb:ZTe,deuteronMass:KTe,dotPow:QTe,electricConstant:JTe,elementaryCharge:e8e,expm:t8e,faraday:n8e,fft:Aq,gamma:CT,gravitationConstant:r8e,hartreeEnergy:i8e,ifft:a8e,klitzing:s8e,loschmidt:o8e,magneticConstant:l8e,molarMass:u8e,molarPlanckConstant:c8e,neutronMass:f8e,nuclearMagneton:d8e,planckCharge:h8e,planckLength:m8e,planckTemperature:p8e,protonMass:v8e,quantumOfCirculation:g8e,reducedPlanckConstant:x8e,rydberg:y8e,secondRadiation:b8e,speedOfLight:S8e,stefanBoltzmann:w8e,thomsonCrossSection:A8e,avogadro:M8e,bohrRadius:_8e,createUnit:E8e,divide:es,electronMass:N8e,factorial:w2,firstRadiation:T8e,gravity:C8e,inverseConductanceQuantum:D8e,lusolve:Mq,magneticFluxQuantum:R8e,molarMassC12:B8e,multinomial:O8e,parse:bc,permutations:z8e,planckMass:U8e,polynomialRoot:F8e,resolve:Iq,setSize:L8e,simplifyConstant:OT,solveODE:k8e,stirlingS2:_q,unit:I8e,bellNumbers:P8e,compile:QE,eigs:Eq,fermiCoupling:j8e,gasConstant:V8e,kldivergence:H8e,mean:Nq,molarVolume:q8e,planckConstant:G8e,quantileSeq:$8e,simplifyCore:zT,variance:DT,classicalElectronRadius:X8e,evaluate:UT,median:Tq,simplify:B5,symbolicEqual:iCe,corr:W8e,freqz:Y8e,leafCount:aCe,mad:Z8e,parser:sCe,rationalize:oCe,std:K8e,zeta:Q8e,derivative:Vq,norm:RT,rotationMatrix:Cq,help:lCe,planckTime:J8e,schur:Dq,rotate:eCe,sylvester:Rq,lyap:tCe,config:St});mi(Z1,Y1,{filter:BEe({typed:ke}),forEach:UEe({typed:ke}),map:jEe({typed:ke}),apply:EEe({isInteger:tl,typed:ke}),or:D6e({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),and:N6e({add:ir,concat:xr,equalScalar:tr,matrix:Rt,not:uw,typed:ke,zeros:vs}),concat:l6e({isInteger:tl,matrix:Rt,typed:ke}),max:qEe({config:St,larger:_o,numeric:sc,typed:ke}),print:M6e({add:ir,matrix:Rt,typed:ke,zeros:vs}),bitAnd:O6e({add:ir,concat:xr,equalScalar:tr,matrix:Rt,not:uw,typed:ke,zeros:vs}),diff:c6e({bignumber:Cl,matrix:Rt,number:Gd,subtract:Qi,typed:ke}),min:ZEe({config:St,numeric:sc,smaller:Mo,typed:ke}),subset:a6e({add:ir,matrix:Rt,typed:ke,zeros:vs}),bitOr:F6e({DenseMatrix:jn,concat:xr,equalScalar:tr,matrix:Rt,typed:ke}),cumsum:b6e({add:ir,typed:ke,unaryPlus:mT}),index:kEe({Index:Hs,getMatrixDataType:vT}),sum:p6e({add:ir,config:St,numeric:sc,typed:ke}),range:JEe({bignumber:Cl,matrix:Rt,add:ir,config:St,isPositive:up,larger:_o,largerEq:C5,smaller:Mo,smallerEq:b1,typed:ke}),row:n6e({Index:Hs,matrix:Rt,range:S1,typed:ke}),column:CEe({Index:Hs,matrix:Rt,range:S1,typed:ke}),mean:XEe({add:ir,divide:es,typed:ke}),quantileSeq:x6e({add:ir,bignumber:Cl,compare:dp,divide:es,isInteger:tl,larger:_o,multiply:Lr,partitionSelect:R5,smaller:Mo,smallerEq:b1,subtract:Qi,typed:ke}),variance:w6e({add:ir,apply:yT,divide:es,isNaN:x2,multiply:Lr,subtract:Qi,typed:ke}),std:h6e({map:cp,sqrt:yc,typed:ke,variance:DT})});mi(Bq,{BigNumber:Ot,Complex:Zr,Fraction:op,Matrix:_5,Node:Xs,ObjectNode:K1,OperatorNode:Xd,ParenthesisNode:mp,Range:G6e,RelationalNode:Oq,ResultSet:WH,ArrayNode:Q1,BlockNode:zq,ConditionalNode:Uq,ConstantNode:xh,DenseMatrix:jn,RangeNode:Fq,Chain:BT,FunctionAssignmentNode:Lq,SparseMatrix:$d,IndexNode:J1,ImmutableDenseMatrix:uq,Index:Hs,AccessorNode:eg,AssignmentNode:kq,FibonacciHeap:mq,Spa:yq,Unit:_n,SymbolNode:yh,FunctionNode:bh,Help:Pq,Parser:jq});BT.createProxy(Y1);const tF=()=>{const[n,e]=hu("func_input","1/x"),[t,r]=hu("func_limit_pt","0"),[i,a]=Re.useState(null),[s,o]=Re.useState(!1),[l,u]=hu("func_domain",{x:[-8,8],y:[-6,6]}),[c,d]=Re.useState(!1),h=Re.useRef({x:0,y:0}),p=Re.useRef({x:[-8,8],y:[-6,6]}),g=Re.useRef(null),[x,A]=Re.useState(null),b=[{label:"Rational",expr:"(x - 1) / (x^2 - 4)"},{label:"Semi-circle",expr:"2 * sqrt(1 - x^2)"},{label:"Polynomial",expr:"x^2 - 1"},{label:"Trig",expr:"sin(x) + cos(2x)"}];let _=null;try{_=QE(n)}catch{}const M=$=>{try{if(!_)return NaN;const k=_.evaluate({x:$});return typeof k=="number"?k:NaN}catch{return NaN}},E=800,C=500,T=$=>($-l.x[0])/(l.x[1]-l.x[0])*E,B=$=>C-($-l.y[0])/(l.y[1]-l.y[0])*C,z=$=>l.x[0]+$/E*(l.x[1]-l.x[0]),O=(()=>{if(!_)return[];const $=[];let k="";const P=l.x[1]-l.x[0],Z=P/1e3;let H=!1,ae=NaN;const W=l.x[0]-P*.1,K=l.x[1]+P*.1;for(let Q=W;Q<=K;Q+=Z){const te=M(Q),le=isNaN(te)||!isFinite(te),de=l.y[1]-l.y[0],ce=!isNaN(ae)&&Math.abs(te-ae)>de*1.5;if(le||ce){H&&($.push(k),k="",H=!1),ae=te;continue}const be=T(Q),Te=Math.max(Math.min(te,l.y[1]*5),l.y[0]*5),Oe=B(Te);H?k+=`L ${be} ${Oe} `:(k=`M ${be} ${Oe} `,H=!0),ae=te}return k&&$.push(k),$})(),U=($,k)=>{try{const P=parseFloat($);if(isNaN(P))return"N/A";const Z=1e-4,H=k==="left"?P-Z:P+Z,ae=M(H);return ae>1e3?"+":ae<-1e3?"-":isNaN(ae)?"Undef":Math.abs(ae)<.001?"0":ae.toFixed(3)}catch{return"Err"}},I=$=>{$.preventDefault();const k=$.deltaY>0?1.1:.9,P=l.x[1]-l.x[0],Z=l.y[1]-l.y[0],H=(l.x[0]+l.x[1])/2,ae=(l.y[0]+l.y[1])/2;u({x:[H-P*k/2,H+P*k/2],y:[ae-Z*k/2,ae+Z*k/2]})},q=$=>{d(!0),h.current={x:$.clientX,y:$.clientY},p.current=l},X=$=>{if(c){const k=$.clientX-h.current.x,P=$.clientY-h.current.y,Z=p.current.x[1]-p.current.x[0],H=p.current.y[1]-p.current.y[0],ae=-(k/E)*Z,W=P/C*H;u({x:[p.current.x[0]+ae,p.current.x[1]+ae],y:[p.current.y[0]+W,p.current.y[1]+W]})}else if(g.current){const k=g.current.getBoundingClientRect(),P=$.clientX-k.left,Z=z(P),H=M(Z);A({x:Z,y:H})}};return Re.useEffect(()=>{try{QE(n),a(null)}catch{a("Invalid Syntax")}},[n]),S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end border-b border-white/10 pb-6 gap-6",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-black text-white mb-2 tracking-tight",children:"Function Grapher"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl font-light text-base",children:["Visualize ",S.jsx("span",{className:"font-mono text-cyan-400",children:"y = f(x)"})," with automatic asymptote detection and limit analysis."]})]}),S.jsx("div",{className:"bg-slate-900/80 backdrop-blur border border-white/10 px-4 py-2 rounded-lg text-slate-400 font-mono text-xs uppercase tracking-widest",children:"Math.js Engine"})]}),S.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[S.jsxs("div",{className:"xl:col-span-4 space-y-6",children:[S.jsxs("div",{className:"glass-panel p-6 rounded-3xl backdrop-blur-md",children:[S.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(s1,{size:16,className:"text-purple-400"})," Expression"]}),S.jsxs("div",{className:"relative mb-6",children:[S.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-purple-400 font-serif italic font-bold text-lg pointer-events-none",children:"f(x) ="}),S.jsx("input",{type:"text",value:n,onChange:$=>e($.target.value),className:`w-full bg-slate-950 border ${i?"border-pink-500 shadow-pink-500/20 shadow-lg":"border-slate-800"} rounded-2xl py-4 pl-16 pr-4 text-white focus:border-cyan-500 outline-none font-mono text-base transition-all`,placeholder:"e.g. x^2 + 2x"}),i&&S.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-pink-400 font-bold uppercase tracking-wider bg-pink-500/10 px-2 py-1 rounded",children:i})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:b.map($=>S.jsx("button",{onClick:()=>e($.expr),className:`px-3 py-1.5 rounded-lg border font-mono text-xs transition-all
                                    ${n===$.expr?"bg-cyan-500/20 border-cyan-500/50 text-cyan-300":"bg-slate-900/50 border-slate-800 text-slate-400 hover:bg-slate-800"}
                                `,children:$.label},$.label))})]}),S.jsxs("div",{className:"glass-panel p-6 rounded-3xl",children:[S.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(Vd,{size:16,className:"text-pink-400"})," Limit Scanner"]}),S.jsxs("div",{className:"bg-slate-950/50 p-5 rounded-2xl border border-white/5",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-white/5",children:[S.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider font-bold",children:"Target Point (a)"}),S.jsx("input",{type:"text",value:t,onChange:$=>r($.target.value),className:"w-20 bg-slate-900 border border-slate-700 rounded-lg px-3 py-1 text-right font-mono text-white focus:border-pink-500 outline-none"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 text-center",children:[S.jsx("div",{className:"text-[10px] text-slate-500 mb-2 font-mono uppercase tracking-widest",children:"Left Limit (xa)"}),S.jsx("div",{className:"font-mono font-bold text-xl text-white",children:U(t,"left")})]}),S.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 text-center",children:[S.jsx("div",{className:"text-[10px] text-slate-500 mb-2 font-mono uppercase tracking-widest",children:"Right Limit (xa)"}),S.jsx("div",{className:"font-mono font-bold text-xl text-white",children:U(t,"right")})]})]})]})]})]}),S.jsx("div",{className:"xl:col-span-8 flex flex-col gap-4",children:S.jsxs("div",{className:"glass-panel rounded-3xl relative overflow-hidden flex flex-col shadow-2xl min-h-[500px] border border-white/10 bg-slate-900/60",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"p-4 border-b border-white/5 flex flex-col sm:flex-row justify-between items-center z-10 bg-slate-950/50 backdrop-blur-sm gap-2",children:[S.jsxs("span",{className:"text-slate-300 text-sm font-mono flex items-center gap-2",children:[S.jsx(oF,{size:16,className:"text-cyan-400"}),"y = ",n]}),S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsx("button",{onClick:()=>o(!s),className:`p-2 rounded-lg transition-colors ${s?"bg-cyan-500/20 text-cyan-400":"text-slate-500 hover:text-white"}`,children:S.jsx(nW,{size:18})}),S.jsx("div",{className:"h-4 w-px bg-white/10"}),S.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-slate-500 flex items-center gap-1",children:[S.jsx(pF,{size:12})," ",c?"Panning":"Trace"]}),S.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-slate-500 flex items-center gap-1",children:[S.jsx(e6,{size:12})," Scroll Zoom"]})]})]}),S.jsxs("div",{className:"flex flex-1 relative overflow-hidden",children:[S.jsxs("div",{className:`flex-1 relative w-full ${c?"cursor-grabbing":"cursor-crosshair"} touch-none`,onWheel:I,onMouseDown:q,onMouseMove:X,onMouseUp:()=>d(!1),onMouseLeave:()=>{d(!1),A(null)},children:[S.jsxs("svg",{ref:g,viewBox:`0 0 ${E} ${C}`,className:"w-full h-full overflow-visible z-10 p-0 select-none",children:[l.y[0]<0&&l.y[1]>0&&S.jsx("line",{x1:0,y1:B(0),x2:E,y2:B(0),stroke:"#475569",strokeWidth:"1.5"}),l.x[0]<0&&l.x[1]>0&&S.jsx("line",{x1:T(0),y1:0,x2:T(0),y2:C,stroke:"#475569",strokeWidth:"1.5"}),[Math.ceil(l.x[0]),0,Math.floor(l.x[1])].map($=>S.jsx("text",{x:T($),y:C-10,fill:"#64748b",fontSize:"10",textAnchor:"middle",fontFamily:"monospace",children:$},`x-${$}`)),[Math.ceil(l.y[0]),0,Math.floor(l.y[1])].map($=>S.jsx("text",{x:6,y:B($)+4,fill:"#64748b",fontSize:"10",textAnchor:"start",fontFamily:"monospace",children:$},`y-${$}`)),!isNaN(parseFloat(t))&&S.jsx("line",{x1:T(parseFloat(t)),y1:0,x2:T(parseFloat(t)),y2:C,stroke:"#ec4899",strokeWidth:"1",strokeDasharray:"4 4",opacity:"0.6"}),O.map(($,k)=>S.jsx(Yt.path,{d:$,fill:"none",stroke:"#22d3ee",strokeWidth:"2.5",strokeLinecap:"round",initial:{opacity:0},animate:{opacity:1},style:{filter:"drop-shadow(0 0 8px rgba(34,211,238,0.4))"}},`${n}-${k}`)),x&&!c&&!isNaN(x.y)&&Math.abs(x.y)<Math.max(...l.y.map(Math.abs))*2&&S.jsxs("g",{children:[S.jsx("circle",{cx:T(x.x),cy:B(x.y),r:"5",fill:"#fff",stroke:"#22d3ee",strokeWidth:"2"}),S.jsx("line",{x1:T(x.x),y1:B(x.y),x2:T(x.x),y2:C,stroke:"#ffffff30",strokeDasharray:"2 2"}),S.jsx("line",{x1:0,y1:B(x.y),x2:T(x.x),y2:B(x.y),stroke:"#ffffff30",strokeDasharray:"2 2"})]})]}),x&&!c&&S.jsxs("div",{className:"absolute pointer-events-none bg-slate-900/90 text-white text-xs p-3 rounded-lg border border-white/10 shadow-xl backdrop-blur-md",style:{left:Math.min(T(x.x)+15,E-100),top:Math.max(B(x.y)-60,10)},children:[S.jsxs("div",{className:"font-mono text-slate-400",children:["x: ",S.jsx("span",{className:"text-white",children:x.x.toFixed(2)})]}),S.jsxs("div",{className:"font-mono text-cyan-400",children:["y: ",S.jsx("span",{className:"text-white",children:x.y.toFixed(2)})]})]})]}),S.jsx(Eo,{children:s&&S.jsxs(Yt.div,{initial:{width:0,opacity:0},animate:{width:200,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 bg-slate-950/50 backdrop-blur flex flex-col",children:[S.jsx("div",{className:"p-3 border-b border-white/10 text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Data Points"}),S.jsx("div",{className:"overflow-y-auto flex-1 p-0 custom-scrollbar",children:S.jsxs("table",{className:"w-full text-xs font-mono",children:[S.jsx("thead",{className:"text-slate-500 bg-slate-900/50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"py-2 text-left pl-4",children:"x"}),S.jsx("th",{className:"py-2 text-right pr-4",children:"y"})]})}),S.jsx("tbody",{className:"divide-y divide-white/5",children:Array.from({length:20}).map(($,k)=>{const P=(l.x[0]+l.x[1])/2+(k-10)*((l.x[1]-l.x[0])/20),Z=M(P);return S.jsxs("tr",{className:"hover:bg-white/5",children:[S.jsx("td",{className:"py-2 pl-4 text-slate-400",children:P.toFixed(1)}),S.jsx("td",{className:"py-2 pr-4 text-right text-cyan-400",children:Z.toFixed(2)})]},k)})})]})})]})})]})]})})]}),S.jsx(cc,{context:"functions"})]})},uCe=({mode:n})=>{const e=Re.useMemo(()=>{const t=new fc(10,10,64,64),r=t.attributes.position.count;for(let i=0;i<r;i++){const a=t.attributes.position.getX(i),s=t.attributes.position.getY(i);let o=0;if(n==="limit"){const l=Math.sqrt(a*a+s*s);o=l===0?1:Math.sin(l*2)/(l*2),o*=2}else o=Math.sin(a)+Math.cos(s);t.attributes.position.setZ(i,o)}return t.computeVertexNormals(),t},[n]);return S.jsxs("group",{rotation:[-Math.PI/2,0,0],children:[S.jsx("mesh",{geometry:e,children:S.jsx("meshStandardMaterial",{side:Qa,color:n==="limit"?"#ec4899":"#22d3ee",wireframe:!1,metalness:.6,roughness:.2})}),S.jsx("mesh",{geometry:e,children:S.jsx("meshBasicMaterial",{side:Qa,color:"white",wireframe:!0,opacity:.1,transparent:!0})}),n==="derivative"&&S.jsxs("mesh",{position:[0,0,2],rotation:[0,0,0],children:[S.jsx("planeGeometry",{args:[3,3]}),S.jsx("meshBasicMaterial",{color:"#fbbf24",transparent:!0,opacity:.4,side:Qa})]}),n==="limit"&&S.jsxs("mesh",{position:[0,0,2],children:[S.jsx("sphereGeometry",{args:[.1]}),S.jsx("meshBasicMaterial",{color:"white"})]})]})},M_=({mode:n})=>{const e=n==="function"?"Multivariable Surface":n==="limit"?"3D Limit (Sinc)":"Tangent Plane",t=n==="function"?"text-cyan-400":n==="limit"?"text-pink-400":"text-amber-400";return S.jsxs("div",{className:"space-y-6 h-[calc(100vh-140px)] flex flex-col pb-6",children:[S.jsx("header",{className:"flex justify-between items-end border-b border-white/10 pb-4 shrink-0",children:S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[S.jsx(gd,{className:t})," ",e]}),S.jsx("p",{className:"text-slate-400 text-sm max-w-2xl",children:n==="limit"?"Visualizing lim(x,y0) of sin(r)/r. Note the peak at the origin.":n==="derivative"?"The tangent plane represents the local linear approximation of the surface.":"Exploring z = f(x,y) in 3D space."})]})}),S.jsx("div",{className:"flex-1 bg-slate-950 rounded-3xl border border-slate-800 relative overflow-hidden shadow-2xl",children:S.jsxs(ip,{camera:{position:[8,6,8],fov:45},children:[S.jsx("color",{attach:"background",args:["#020617"]}),S.jsx("ambientLight",{intensity:.5}),S.jsx("pointLight",{position:[10,10,10],intensity:1}),S.jsx(I1,{makeDefault:!0}),S.jsx(u5,{infiniteGrid:!0,sectionSize:3,cellColor:"#1e293b",sectionColor:"#334155",fadeDistance:30,position:[0,-2,0]}),S.jsx(uCe,{mode:n})]})})]})},py=[{id:hn.MATRIX,label:"Matrix",icon:A1,color:"text-blue-400",border:"border-blue-500/30",bg:"bg-blue-500/10"},{id:hn.SEQUENCES,label:"Sequences",icon:mw,color:"text-purple-400",border:"border-purple-500/30",bg:"bg-purple-500/10"},{id:hn.FUNCTIONS,label:"Functions",icon:Vd,color:"text-pink-400",border:"border-pink-500/30",bg:"bg-pink-500/10"},{id:hn.LIMITS,label:"Limits",icon:hw,color:"text-orange-400",border:"border-orange-500/30",bg:"bg-orange-500/10"},{id:hn.DERIVATIVES,label:"Derivatives",icon:dw,color:"text-cyan-400",border:"border-cyan-500/30",bg:"bg-cyan-500/10"},{id:hn.INTEGRALS,label:"Integrals",icon:fw,color:"text-emerald-400",border:"border-emerald-500/30",bg:"bg-emerald-500/10"},{id:hn.DIFF_EQ,label:"Differential Eq",icon:oc,color:"text-rose-400",border:"border-rose-500/30",bg:"bg-rose-500/10"}],jv={[hn.MATRIX]:[{id:1,text:"What is a matrix?",options:[{key:"A",text:"Any sequence of numbers"},{key:"B",text:"A rectangular array of numbers arranged in rows and columns"},{key:"C",text:"A graph of a function"}],correct:"B",explanation:"A matrix is formally defined as a rectangular array of numbers, symbols, or expressions, arranged in rows and columns.",memoryKey:"Rectangular Array"},{id:2,text:"The dimension of matrix $A_{n \\times m}$ means:",options:[{key:"A",text:"$n$ columns and $m$ rows"},{key:"B",text:"$n$ rows and $m$ columns"},{key:"C",text:"$m$ rows and $n$ columns"}],correct:"B",explanation:"Matrix dimensions are always stated as Rows $\\times$ Columns ($RC$).",memoryKey:"Rows  Columns"},{id:3,text:"A square matrix is a matrix in which:",options:[{key:"A",text:"$n \\neq m$"},{key:"B",text:"all elements are zeros"},{key:"C",text:"$n = m$"}],correct:"C",explanation:"A square matrix has the same number of rows and columns.",memoryKey:"n = m"},{id:4,text:"The identity matrix is:",options:[{key:"A",text:"A matrix with ones on the main diagonal and zeros elsewhere"},{key:"B",text:"A matrix with all elements equal to $1$"},{key:"C",text:"The zero matrix"}],correct:"A",explanation:"The identity matrix ($I$) acts like the number $1$ in matrix multiplication. It has $1$s on the diagonal and $0$s everywhere else.",memoryKey:"Diagonal Ones"},{id:5,text:"The zero matrix is:",options:[{key:"A",text:"A matrix whose determinant is zero"},{key:"B",text:"A matrix with all zeros"},{key:"C",text:"A diagonal matrix"}],correct:"B",explanation:"A zero matrix is a matrix where every single entry is zero.",memoryKey:"All Zeros"},{id:6,text:"A diagonal matrix is:",options:[{key:"A",text:"Non-zero elements only on the main diagonal"},{key:"B",text:"Ones on the diagonal"},{key:"C",text:"Zeros in the columns"}],correct:"A",explanation:"In a diagonal matrix, entries outside the main diagonal are all zero.",memoryKey:"Only Diagonal"},{id:7,text:"To add two matrices, they must have:",options:[{key:"A",text:"The same number of rows"},{key:"B",text:"The same number of columns"},{key:"C",text:"Identical dimensions"}],correct:"C",explanation:"Matrix addition is element-wise, so both matrices must have exactly the same number of rows and columns.",memoryKey:"Exact Size Match"},{id:8,text:"The transposition of a matrix means:",options:[{key:"A",text:"Reversing the order of columns"},{key:"B",text:"Swapping rows and columns"},{key:"C",text:"Squaring the matrix"}],correct:"B",explanation:"Transposition flips a matrix over its diagonal, switching the row and column indices of each element.",memoryKey:"Swap Rows/Cols"},{id:9,text:"The symbol $A^T$ denotes:",options:[{key:"A",text:"The inverse matrix"},{key:"B",text:"The transposed matrix"},{key:"C",text:"A square matrix"}],correct:"B",explanation:"The superscript $T$ stands for Transpose.",memoryKey:"T for Transpose"},{id:10,text:"The product $A_{n \\times m} \\cdot B_{p \\times q}$ exists when:",options:[{key:"A",text:"$n = q$"},{key:"B",text:"$m = p$"},{key:"C",text:"$n = p$"}],correct:"B",explanation:"For matrix multiplication to be defined, the number of columns in the first matrix must equal the number of rows in the second matrix.",memoryKey:"Inner Dimensions Match"},{id:11,text:"The result of multiplying $A_{n \\times m} \\cdot B_{m \\times p}$ has dimensions:",options:[{key:"A",text:"$n \\times m$"},{key:"B",text:"$m \\times p$"},{key:"C",text:"$n \\times p$"}],correct:"C",explanation:"The resulting matrix takes the number of rows from the first matrix and the number of columns from the second matrix.",memoryKey:"Outer Dimensions"},{id:12,text:"The transposition rule of a matrix product is:",options:[{key:"A",text:"$(AB)^T = A^T B^T$"},{key:"B",text:"$(AB)^T = B^T A^T$"},{key:"C",text:"$(AB)^T = AB$"}],correct:"B",explanation:"The transpose of a product is the product of the transposes in reverse order.",memoryKey:"Reverse Order"},{id:13,text:"The distributive law of multiplication over addition is:",options:[{key:"A",text:"$A(B + C) = AB + AC$"},{key:"B",text:"$A + (B + C) = AB + AC$"},{key:"C",text:"$A(B + C) = A + B + C$"}],correct:"A",explanation:"Matrix multiplication distributes over matrix addition.",memoryKey:"Distributive Property"},{id:14,text:"A symmetric matrix satisfies:",options:[{key:"A",text:"$A = -A^T$"},{key:"B",text:"$A = A^T$"},{key:"C",text:"$A^T = 0$"}],correct:"B",explanation:"A symmetric matrix is equal to its own transpose (mirrored across the main diagonal).",memoryKey:"A = A^T"},{id:15,text:"In the matrix product, which law does not hold:",options:[{key:"A",text:"Commutativity ($AB \\neq BA$)"},{key:"B",text:"Associativity"},{key:"C",text:"Distributivity"}],correct:"A",explanation:"In general, $AB \\neq BA$. Matrix multiplication is not commutative.",memoryKey:"Not Commutative"},{id:16,text:"The determinant of a square matrix $A$ is denoted as:",options:[{key:"A",text:"$\\det(A)$ or $|A|$"},{key:"B",text:"$\\text{rank}(A)$"},{key:"C",text:"$A^{-1}$"}],correct:"A",explanation:"The determinant is denoted by $\\det(A)$ or vertical bars $|A|$.",memoryKey:"|A|"},{id:17,text:"A matrix is singular when:",options:[{key:"A",text:"$\\det(A) \\neq 0$"},{key:"B",text:"$\\det(A) = 0$"},{key:"C",text:"$A^{-1}$ exists"}],correct:"B",explanation:"A singular matrix has a determinant of zero and is not invertible.",memoryKey:"Det = 0"},{id:18,text:"For a 22 matrix $|A| = \\begin{vmatrix} a & b \\\\ c & d \\end{vmatrix}$, the determinant equals:",options:[{key:"A",text:"$a+b+c+d$"},{key:"B",text:"$ad - bc$"},{key:"C",text:"$ab - cd$"}],correct:"B",explanation:"The determinant of a 2x2 matrix is the product of the main diagonal minus the product of the antidiagonal.",memoryKey:"ad - bc"},{id:19,text:"The Sarrus rule applies to:",options:[{key:"A",text:"22 matrix"},{key:"B",text:"33 matrix"},{key:"C",text:"Any matrix"}],correct:"B",explanation:"Sarrus' rule is a shortcut method specifically for calculating the determinant of a 3x3 matrix.",memoryKey:"3x3 Only"},{id:20,text:"The Laplace expansion is used for:",options:[{key:"A",text:"Raising a matrix to a power"},{key:"B",text:"Expanding a determinant by a row or column"},{key:"C",text:"Transposing a matrix"}],correct:"B",explanation:"Laplace expansion allows calculation of determinants of any size by expanding along a row or column.",memoryKey:"Determinant Expansion"},{id:21,text:"Swapping two rows of a matrix:",options:[{key:"A",text:"Determinant doesnt change sign"},{key:"B",text:"Determinant changes sign"},{key:"C",text:"Determinant becomes $0$"}],correct:"B",explanation:"Swapping any two rows (or columns) of a matrix negates the value of the determinant.",memoryKey:"Sign Flip"},{id:22,text:"If a matrix has two identical rows, then:",options:[{key:"A",text:"$\\det(A) = 1$"},{key:"B",text:"$\\det(A) = 0$"},{key:"C",text:"$\\det(A) = -1$"}],correct:"B",explanation:"If two rows are identical, the matrix is linearly dependent, so the determinant is zero.",memoryKey:"Identical = Zero"},{id:23,text:"Adding a linear combination of other rows to one row:",options:[{key:"A",text:"Determinant doesnt change"},{key:"B",text:"Determinant doubles"},{key:"C",text:"Determinant changes sign"}],correct:"A",explanation:"This row operation preserves the volume/determinant of the matrix.",memoryKey:"Preserves Det"},{id:24,text:"For the inverse matrix, the following holds:",options:[{key:"A",text:"$A^{-1} A = I$"},{key:"B",text:"$A^{-1} A = 0$"},{key:"C",text:"$A^{-1} A = A$"}],correct:"A",explanation:"Multiplying a matrix by its inverse results in the identity matrix.",memoryKey:"Result is Identity"},{id:25,text:"The inverse matrix exists only when:",options:[{key:"A",text:"$\\det(A) \\neq 0$"},{key:"B",text:"$\\det(A) = 0$"},{key:"C",text:"$A$ is rectangular"}],correct:"A",explanation:"A matrix is invertible (non-singular) if and only if its determinant is non-zero.",memoryKey:"Non-Zero Det"},{id:26,text:"The property $\\det(A^T)$ equals:",options:[{key:"A",text:"$-\\det(A)$"},{key:"B",text:"$\\det(A)$"},{key:"C",text:"$(\\det(A))^2$"}],correct:"B",explanation:"The determinant of a matrix is the same as the determinant of its transpose.",memoryKey:"Transpose Same Det"},{id:27,text:"For a diagonal matrix $D = \\text{diag}(a, b, c)$, $\\det D$ equals:",options:[{key:"A",text:"$a+b+c$"},{key:"B",text:"$abc$"},{key:"C",text:"$a^2+b^2+c^2$"}],correct:"B",explanation:"The determinant of a diagonal (or triangular) matrix is simply the product of the diagonal elements.",memoryKey:"Product of Diagonal"},{id:28,text:"The product of determinants satisfies:",options:[{key:"A",text:"$\\det(AB) = \\det(A) + \\det(B)$"},{key:"B",text:"$\\det(AB) = \\det(A) \\cdot \\det(B)$"},{key:"C",text:"$\\det(AB) = 0$"}],correct:"B",explanation:"The determinant of a product is the product of the determinants.",memoryKey:"Product Rule"},{id:29,text:"If all elements of a row are multiplied by $k$, then:",options:[{key:"A",text:"$\\det(A)$ is multiplied by $k$"},{key:"B",text:"$\\det(A)$ is divided by $k$"},{key:"C",text:"$\\det(A)$ doesnt change"}],correct:"A",explanation:"Scaling a single row by $k$ scales the entire determinant by $k$.",memoryKey:"Row Scaling"},{id:30,text:"The GaussJordan method is used to:",options:[{key:"A",text:"Finding determinant"},{key:"B",text:"Finding the inverse matrix"},{key:"C",text:"Transposing a matrix"}],correct:"B",explanation:"Gauss-Jordan elimination is a method to find the inverse of a matrix or solve systems of linear equations.",memoryKey:"Inverse Finding"},{id:31,text:"The matrix form of a system of equations is:",options:[{key:"A",text:"$A + X = B$"},{key:"B",text:"$A \\cdot X = B$"},{key:"C",text:"$X = A + B$"}],correct:"B",explanation:"Coefficient Matrix ($A$) times Variable Vector ($X$) equals Constant Vector ($B$).",memoryKey:"AX = B"},{id:32,text:"The coefficient matrix of a system is denoted by:",options:[{key:"A",text:"$B$"},{key:"B",text:"$X$"},{key:"C",text:"$A$"}],correct:"C",explanation:"$A$ is the coefficient matrix, $X$ is the variable matrix, $B$ is the constant matrix.",memoryKey:"Matrix A"},{id:33,text:"A Cramers system has a unique solution when:",options:[{key:"A",text:"$\\det(A) = 0$"},{key:"B",text:"$\\det(A) \\neq 0$"},{key:"C",text:"$A$ is rectangular"}],correct:"B",explanation:"Cramer's rule requires dividing by the main determinant $W$ ($\\det A$), so it must be non-zero.",memoryKey:"Non-Zero Main Det"},{id:34,text:"In Cramers rule, $x_i = W_i / W$, where $W$ is:",options:[{key:"A",text:"Determinant of inverse matrix"},{key:"B",text:"Determinant of coefficient matrix"},{key:"C",text:"Determinant of augmented matrix"}],correct:"B",explanation:"$W$ is the main determinant calculated from the coefficient matrix $A$.",memoryKey:"Coeff Det"},{id:35,text:"If $W=0$ and all $W_i=0$, the system:",options:[{key:"A",text:"Has no solutions"},{key:"B",text:"Has one solution"},{key:"C",text:"Has infinitely many solutions"}],correct:"C",explanation:"This is the indefinite case, usually implying dependent equations and infinite solutions.",memoryKey:"Infinite Solutions"},{id:36,text:"If $W=0$ and at least one $W_i \\neq 0$, the system:",options:[{key:"A",text:"Inconsistent"},{key:"B",text:"Has one solution"},{key:"C",text:"Has many solutions"}],correct:"A",explanation:"This is a contradiction ($0 \\cdot x = \\text{non-zero}$), meaning the system has no solution (inconsistent).",memoryKey:"No Solution"}],[hn.SEQUENCES]:[{id:101,text:"A number sequence is:",options:[{key:"A",text:"a real function of two variables"},{key:"B",text:"an assignment of one real number to each natural number"},{key:"C",text:"an arbitrary set of numbers"}],correct:"B",explanation:"Formally, a sequence is a function whose domain is the set of natural numbers $\\mathbb{N}$.",memoryKey:"Function on N"},{id:102,text:"The general term of a sequence represents:",options:[{key:"A",text:"the first term of the sequence"},{key:"B",text:"a formula describing all terms of the sequence"},{key:"C",text:"the sum of all terms"}],correct:"B",explanation:"The general term (usually denoted $a_n$) allows calculation of any term based on its position $n$.",memoryKey:"Formula for an"},{id:103,text:"A sequence that has a finite limit is called:",options:[{key:"A",text:"divergent"},{key:"B",text:"convergent"},{key:"C",text:"monotonic"}],correct:"B",explanation:"Convergence means the terms approach a specific, finite numeric value as $n$ goes to infinity.",memoryKey:"Finite Limit"},{id:104,text:"The sequence $a_n = 1/n$ is:",options:[{key:"A",text:"increasing"},{key:"B",text:"decreasing"},{key:"C",text:"constant"}],correct:"B",explanation:"As $n$ increases ($1, 2, 3...$), the value $1/n$ decreases ($1, 0.5, 0.33...$).",memoryKey:"1/n Decreases"},{id:105,text:"The sequence $a_n = \\sqrt{n}$ is:",options:[{key:"A",text:"convergent"},{key:"B",text:"divergent to infinity"},{key:"C",text:"divergent to zero"}],correct:"B",explanation:"As $n$ grows larger, the square root of $n$ also grows without bound.",memoryKey:"Unbounded Growth"},{id:106,text:"The sequence $a_n = 3$ is:",options:[{key:"A",text:"constant"},{key:"B",text:"increasing"},{key:"C",text:"decreasing"}],correct:"A",explanation:"Every term is the same ($3, 3, 3...$), so it is a constant sequence.",memoryKey:"Always 3"},{id:107,text:"The sequence $a_n = (-1)^n$ is:",options:[{key:"A",text:"convergent"},{key:"B",text:"divergent"},{key:"C",text:"increasing"}],correct:"B",explanation:"The sequence oscillates between $-1$ and $1$ forever, never settling on a single limit.",memoryKey:"Oscillating"},{id:108,text:"An arithmetic sequence satisfies the condition:",options:[{key:"A",text:"$a_{n+1} = a_n + r$"},{key:"B",text:"$a_{n+1} = a_n \\cdot q$"},{key:"C",text:"$a_{n+1} = a_n^2 + r$"}],correct:"A",explanation:"Arithmetic sequences grow by adding a constant difference ($r$) to each term.",memoryKey:"Add r"},{id:109,text:"A geometric sequence satisfies the condition:",options:[{key:"A",text:"$a_{n+1} = a_n + q$"},{key:"B",text:"$a_{n+1} = a_n \\cdot q$"},{key:"C",text:"$a_{n+1} = a_n / q$"}],correct:"B",explanation:"Geometric sequences grow by multiplying each term by a constant ratio ($q$).",memoryKey:"Multiply q"},{id:110,text:"The Fibonacci sequence is defined by:",options:[{key:"A",text:"$a_{n+1} = a_n + 1$"},{key:"B",text:"$a_{n+2} = a_{n+1} + a_n$"},{key:"C",text:"$a_{n+2} = a_{n+1} - a_n$"}],correct:"B",explanation:"Each term is the sum of the two preceding terms.",memoryKey:"Sum Previous Two"},{id:111,text:"An increasing sequence is one where:",options:[{key:"A",text:"$a_{n+1} > a_n$"},{key:"B",text:"$a_{n+1} = a_n$"},{key:"C",text:"$a_{n+1} < a_n$"}],correct:"A",explanation:"Each subsequent term is strictly greater than the one before it.",memoryKey:"Next > Previous"},{id:112,text:"A decreasing sequence is one where:",options:[{key:"A",text:"$a_{n+1} > a_n$"},{key:"B",text:"$a_{n+1} < a_n$"},{key:"C",text:"$a_{n+1} = a_n$"}],correct:"B",explanation:"Each subsequent term is strictly less than the one before it.",memoryKey:"Next < Previous"},{id:113,text:"The number $e$ (Euler's number) is the limit of the sequence:",options:[{key:"A",text:"$(1+1/n)^n$"},{key:"B",text:"$1/n$"},{key:"C",text:"$\\sqrt{n}$"}],correct:"A",explanation:"This is the classic definition of $e \\approx 2.718...$, arising from compound interest.",memoryKey:"(1 + 1/n)^n"},{id:114,text:"The sequence $a_n = q^n$ converges to zero when:",options:[{key:"A",text:"$|q| > 1$"},{key:"B",text:"$-1 < q < 1$"},{key:"C",text:"$q = 1$"}],correct:"B",explanation:"If the absolute value of the ratio is less than $1$, powers of $q$ shrink towards zero.",memoryKey:"|q| < 1"},{id:115,text:"The theorem of three sequences states that:",options:[{key:"A",text:"if $a_n \\le b_n \\le c_n$ and $\\lim a_n = \\lim c_n = g$, then $\\lim b_n = g$"},{key:"B",text:"if $a_n = b_n + c_n$, then $\\lim a_n = \\lim b_n \\cdot \\lim c_n$"},{key:"C",text:"if $a_n > b_n$, then $\\lim a_n > \\lim b_n$"}],correct:"A",explanation:"If a sequence is squeezed between two others converging to the same limit, it must also converge to that limit.",memoryKey:"Sandwich Theorem"}],[hn.FUNCTIONS]:[{id:201,text:"The function $x^3$ has:",options:[{key:"A",text:"Two extrema"},{key:"B",text:"A horizontal asymptote"},{key:"C",text:"No extrema"}],correct:"C",explanation:"$f'(x) = 3x^2$ which is always $\\ge 0$. The function is strictly increasing, so no peaks/valleys.",memoryKey:"Monotonic Cubic"},{id:202,text:"The domain of $\\ln(x)$ is:",options:[{key:"A",text:"$(-\\infty, \\infty)$"},{key:"B",text:"$(0, \\infty)$"},{key:"C",text:"$(1, \\infty)$"}],correct:"B",explanation:"Logarithms are only defined for positive numbers.",memoryKey:"Positive Inputs Only"},{id:203,text:"In studying the behavior of a function, the first step is:",options:[{key:"A",text:"Integration"},{key:"B",text:"The domain"},{key:"C",text:"The derivative"}],correct:"B",explanation:"You must first determine where the function exists before analyzing it.",memoryKey:"Domain First"},{id:204,text:"The extrema of $3x^2 - 9x - 2$ occur at:",options:[{key:"A",text:"$-1$"},{key:"B",text:"$0$"},{key:"C",text:"$3/2$"}],correct:"C",explanation:"Vertex of parabola $x = -b/2a = -(-9)/(2 \\cdot 3) = 9/6 = 3/2$.",memoryKey:"-b/2a"},{id:205,text:"Where is $\\ln(x)$ defined?",options:[{key:"A",text:"All real numbers"},{key:"B",text:"$(0, \\infty)$"},{key:"C",text:"$[0, \\infty)$"}],correct:"B",explanation:"Duplicate concept check: Logarithm domain is strictly positive real numbers.",memoryKey:"x > 0"},{id:206,text:"The range (values of the function) of $e^x$ is:",options:[{key:"A",text:"$(-\\infty, 0)$"},{key:"B",text:"$(-\\infty, \\infty)$"},{key:"C",text:"$(0, \\infty)$"}],correct:"C",explanation:"Exponential functions with positive bases are always positive.",memoryKey:"Always Positive"},{id:207,text:"The function $1/x$ is undefined for:",options:[{key:"A",text:"$x = 1$"},{key:"B",text:"$x < 0$"},{key:"C",text:"$x = 0$"}],correct:"C",explanation:"Division by zero is undefined.",memoryKey:"Div by Zero"},{id:208,text:"The range of $1/x^2$ is:",options:[{key:"A",text:"All real numbers"},{key:"B",text:"Negative numbers"},{key:"C",text:"$(0, \\infty)$"}],correct:"C",explanation:"Squares are positive, and 1 divided by a positive is positive. It never reaches 0.",memoryKey:"Positive Range"},{id:209,text:"The parabola $y = x^2$ has:",options:[{key:"A",text:"Two maxima"},{key:"B",text:"A horizontal asymptote"},{key:"C",text:"A minimum at $x = 0$"}],correct:"C",explanation:"Basic standard parabola opens upwards with vertex at origin.",memoryKey:"Vertex Min"},{id:210,text:"The domain of $1/(x^2 - 4)$ is:",options:[{key:"A",text:"All real numbers"},{key:"B",text:"Only positive numbers"},{key:"C",text:"All numbers except $-2$ and $2$"}],correct:"C",explanation:"Denominator $x^2-4$ cannot be zero. $x \\neq \\pm 2$.",memoryKey:"Exclude Roots"},{id:211,text:"The function $e^x$ is:",options:[{key:"A",text:"A parabola"},{key:"B",text:"Decreasing"},{key:"C",text:"Increasing on its entire domain"}],correct:"C",explanation:"Derivative $e^x$ is always positive, so function is always increasing.",memoryKey:"Exp Growth"},{id:212,text:"The function $\\ln x$:",options:[{key:"A",text:"Has a horizontal asymptote $y = 0$"},{key:"B",text:"Is a parabola"},{key:"C",text:"Has a vertical asymptote $x = 0$"}],correct:"C",explanation:"As $x$ approaches $0$ from the right, $\\ln(x)$ goes to $-\\infty$.",memoryKey:"Vert Asym at 0"},{id:213,text:"The parabola $y = -x^2 + 4$ has the range:",options:[{key:"A",text:"$(4, \\infty)$"},{key:"B",text:"All real numbers"},{key:"C",text:"$(-\\infty, 4]$"}],correct:"C",explanation:"It opens downward with vertex at $y=4$, so all values are $\\le 4$.",memoryKey:"Max Value 4"}],[hn.LIMITS]:[{id:301,text:"A vertical asymptote means:",options:[{key:"A",text:"The limit equals $0$"},{key:"B",text:"The limit exists"},{key:"C",text:"The limit tends to $\\infty$ or $-\\infty$"}],correct:"C",explanation:"Function grows without bound near the vertical line.",memoryKey:"Unbounded Growth"},{id:302,text:"$\\lim_{x \\to \\infty} \\frac{1}{e^x+1}$ equals:",options:[{key:"A",text:"$1$"},{key:"B",text:"$\\infty$"},{key:"C",text:"$0$"}],correct:"C",explanation:"$e^\\infty$ is very large. $1/\\text{large}$ approaches $0$.",memoryKey:"1/Big = 0"},{id:303,text:"L'Hospital's rule applies to:",options:[{key:"A",text:"All expressions"},{key:"B",text:"Determined expressions"},{key:"C",text:"$0/0$ and $\\infty/\\infty$ forms"}],correct:"C",explanation:"It is a technique specifically for indeterminate forms.",memoryKey:"Indeterminate Forms"},{id:304,text:"A horizontal asymptote exists when:",options:[{key:"A",text:"$f'=0$"},{key:"B",text:"The limit at infinity is finite"},{key:"C",text:"The function is differentiable"}],correct:"B",explanation:"If $\\lim_{x \\to \\infty} f(x) = L$, then $y=L$ is the horizontal asymptote.",memoryKey:"Limit at Infinity"},{id:305,text:"An asymptote at $x=1$ means:",options:[{key:"A",text:"The limit exists"},{key:"B",text:"The function is continuous"},{key:"C",text:"$|f(x)| \\to \\infty$"}],correct:"C",explanation:"Vertical asymptote definition.",memoryKey:"Explodes at x"},{id:306,text:"$\\lim_{x \\to -\\infty} \\frac{x-1}{x^2-4}$ equals:",options:[{key:"A",text:"$1$"},{key:"B",text:"$-1$"},{key:"C",text:"$0$"}],correct:"C",explanation:"Degree of denominator (2) is greater than numerator (1), so limit is $0$.",memoryKey:"Bottom Heavy"},{id:307,text:"The indeterminate form $[1^\\infty]$ is:",options:[{key:"A",text:"Determined"},{key:"B",text:"$0$"},{key:"C",text:"Indeterminate"}],correct:"C",explanation:"It requires special techniques (usually $e^{\\ln}$) to solve.",memoryKey:"Needs Work"},{id:308,text:"For $\\frac{1}{e^x+1}$, the asymptote as $x \\to -\\infty$ is:",options:[{key:"A",text:"$y=0$"},{key:"B",text:"$y=x$"},{key:"C",text:"$y=1$"}],correct:"C",explanation:"$e^{-\\infty}$ is $0$. So $1/(0+1) = 1$.",memoryKey:"e^-inf -> 0"},{id:309,text:"The horizontal asymptote of $\\frac{x-1}{x^2-4}$ is:",options:[{key:"A",text:"$y=1$"},{key:"B",text:"$y=x$"},{key:"C",text:"$y=0$"}],correct:"C",explanation:"Same logic as the limit at infinity question. $y=0$.",memoryKey:"y=0"},{id:310,text:"A function is continuous at a point when:",options:[{key:"A",text:"It has no asymptotes"},{key:"B",text:"It is differentiable"},{key:"C",text:"The limit equals the function value"}],correct:"C",explanation:"Formal definition: $\\lim_{x \\to c} f(x) = f(c)$.",memoryKey:"No Holes/Jumps"},{id:311,text:"A vertical asymptote means that:",options:[{key:"A",text:"The graph has a minimum or maximum"},{key:"B",text:"The function is bounded"},{key:"C",text:"The function grows unbounded near the point"}],correct:"C",explanation:"Rephrasing of vertical asymptote concept.",memoryKey:"Infinite Growth"},{id:312,text:"L'Hospital's rule is used when the limit has the form:",options:[{key:"A",text:"Any form"},{key:"B",text:"A real number"},{key:"C",text:"$0/0$ or $\\infty/\\infty$"}],correct:"C",explanation:"Standard application condition.",memoryKey:"0/0"},{id:313,text:"A horizontal asymptote exists when:",options:[{key:"A",text:"The derivative changes sign"},{key:"B",text:"There is a square in the denominator"},{key:"C",text:"The limit at $\\pm \\infty$ is finite"}],correct:"C",explanation:"Behavior at the far left or right ends of the graph.",memoryKey:"Finite End Behavior"}],[hn.DERIVATIVES]:[{id:401,text:"The derivative of a constant function equals:",options:[{key:"A",text:"A positive constant"},{key:"B",text:"The same constant"},{key:"C",text:"$0$"}],correct:"C",explanation:"Constants do not change, so their rate of change is zero.",memoryKey:"Const -> 0"},{id:402,text:"The derivative of $x^a$ (for $a \\in \\mathbb{R}$) equals:",options:[{key:"A",text:"$x^{a+1}$"},{key:"B",text:"$ax^{a+1}$"},{key:"C",text:"$ax^{a-1}$"}],correct:"C",explanation:"Power Rule.",memoryKey:"nx^{n-1}"},{id:403,text:"The derivative of $e^x$ equals:",options:[{key:"A",text:"$xe^{x-1}$"},{key:"B",text:"$1$"},{key:"C",text:"$e^x$"}],correct:"C",explanation:"$e^x$ is the unique function that is its own derivative.",memoryKey:"Itself"},{id:404,text:"The difference quotient tends to:",options:[{key:"A",text:"The integral"},{key:"B",text:"The value of the function"},{key:"C",text:"The derivative at the point"}],correct:"C",explanation:"Limit of the difference quotient is the definition of the derivative.",memoryKey:"Def of Deriv"},{id:405,text:"A necessary condition for a local extremum is:",options:[{key:"A",text:"$f(x)=0$"},{key:"B",text:"The function is increasing"},{key:"C",text:"$f'(x)=0$"}],correct:"C",explanation:"Fermat's Theorem: tangent must be horizontal at peak/valley.",memoryKey:"Slope Zero"},{id:406,text:"If $f'(x) > 0$, the function is:",options:[{key:"A",text:"Constant"},{key:"B",text:"Decreasing"},{key:"C",text:"Increasing"}],correct:"C",explanation:"Positive rate of change implies growth.",memoryKey:"Pos Slope = Up"},{id:407,text:"If the derivative changes sign from $+$ to $-$, we have a:",options:[{key:"A",text:"Minimum"},{key:"B",text:"Increase"},{key:"C",text:"Maximum"}],correct:"C",explanation:"First Derivative Test: Going up then down means a peak.",memoryKey:"Peak Pattern"},{id:408,text:"The derivative of a multiplication is:",options:[{key:"A",text:"$f'g' + fg$"},{key:"B",text:"$f'g' - fg'$"},{key:"C",text:"$f'g + fg'$"}],correct:"C",explanation:"Product Rule: $(fg)' = f'g + fg'$.",memoryKey:"Product Rule"},{id:409,text:"The derivative of a quotient is:",options:[{key:"A",text:"$(f'g - fg')/g^2$"},{key:"B",text:"$f'g'/g$"},{key:"C",text:"$f'g + g'f$"}],correct:"A",explanation:"Quotient Rule: Low d-High minus High d-Low over Low Low.",memoryKey:"Quotient Rule"},{id:410,text:"The derivative of the composition $f(g(x))$ is:",options:[{key:"A",text:"$f(x)g(x)$"},{key:"B",text:"$f'g + fg'$"},{key:"C",text:"$f'(g(x))g'(x)$"}],correct:"C",explanation:"Chain Rule.",memoryKey:"Chain Rule"},{id:411,text:"$(\\ln x)' =$",options:[{key:"A",text:"$x \\ln x$"},{key:"B",text:"$1$"},{key:"C",text:"$1/x$"}],correct:"C",explanation:"Standard derivative of natural log.",memoryKey:"1/x"},{id:412,text:"The multiplication rule contains:",options:[{key:"A",text:"Multiplication of derivatives"},{key:"B",text:"Quotient rule"},{key:"C",text:"The sum of two components"}],correct:"C",explanation:"Referring to the Product Rule structure: $uv' + vu'$ (sum of two parts).",memoryKey:"Sum of Parts"},{id:413,text:"$(x^{-1})' =$",options:[{key:"A",text:"$-1/x^2$"},{key:"B",text:"$1/x^2$"},{key:"C",text:"$x$"}],correct:"A",explanation:"Power rule: $-1 \\cdot x^{-2} = -1/x^2$.",memoryKey:"-1/x"},{id:414,text:"If $f'(x) < 0$, the function is:",options:[{key:"A",text:"Increasing"},{key:"B",text:"Constant"},{key:"C",text:"Decreasing"}],correct:"C",explanation:"Negative slope implies decline.",memoryKey:"Neg Slope = Down"},{id:415,text:"$(\\sqrt{x})' =$",options:[{key:"A",text:"$x^{1/2}$"},{key:"B",text:"$1/x$"},{key:"C",text:"$1/(2\\sqrt{x})$"}],correct:"C",explanation:"Power rule on $x^{1/2} \\to (1/2)x^{-1/2}$.",memoryKey:"1/2root"},{id:416,text:"If $f'=0$ on an interval, the function is:",options:[{key:"A",text:"Decreasing"},{key:"B",text:"Increasing"},{key:"C",text:"Constant"}],correct:"C",explanation:"Zero rate of change everywhere means no change.",memoryKey:"Flatline"},{id:417,text:"The derivative of $x^{5/2}$ is:",options:[{key:"A",text:"$5x^{3/2}$"},{key:"B",text:"$(5/2)x^{3/2}$"},{key:"C",text:"$(2/5)x^{3/2}$"}],correct:"B",explanation:"Power rule.",memoryKey:"Power Rule"},{id:418,text:"The growth of a function is determined by:",options:[{key:"A",text:"Integration"},{key:"B",text:"The second derivative"},{key:"C",text:"The sign of the derivative"}],correct:"C",explanation:"First derivative indicates increasing/decreasing intervals.",memoryKey:"Sign of f'"},{id:419,text:"Extrema occur where:",options:[{key:"A",text:"$f'>0$"},{key:"B",text:"The function is increasing"},{key:"C",text:"$f'=0$"}],correct:"C",explanation:"Critical points.",memoryKey:"f'=0"},{id:420,text:"The derivative describes:",options:[{key:"A",text:"The area under the graph"},{key:"B",text:"The limit of a function"},{key:"C",text:"The rate of change"}],correct:"C",explanation:"Physical interpretation of derivative.",memoryKey:"Rate of Change"},{id:421,text:"A positive derivative means:",options:[{key:"A",text:"The function is constant"},{key:"B",text:"The function reaches a maximum"},{key:"C",text:"The function is increasing"}],correct:"C",explanation:"Slope is up.",memoryKey:"Going Up"},{id:422,text:"A function is increasing when:",options:[{key:"A",text:"Its derivative is constant"},{key:"B",text:"Its values are bounded"},{key:"C",text:"Larger inputs correspond to larger outputs"}],correct:"C",explanation:"Algebraic definition of increasing function.",memoryKey:"x1<x2 -> f1<f2"}],[hn.INTEGRALS]:[{id:601,text:"An antiderivative of the function $f(x)$ is a function:",options:[{key:"A",text:"Continuous"},{key:"B",text:"Whose derivative equals $f(x)$"},{key:"C",text:"Increasing"}],correct:"B",explanation:"Definition: $F'(x) = f(x)$.",memoryKey:"F'(x)=f(x)"},{id:602,text:"If $\\int f(x)dx = F(x)+C$, then:",options:[{key:"A",text:"$C$ depends on $x$"},{key:"B",text:"$F'(x)=f(x)$"},{key:"C",text:"$F(x)$ is unique"}],correct:"B",explanation:"The indefinite integral is the family of antiderivatives.",memoryKey:"Antiderivative Def"},{id:603,text:"The integral $\\int x^a dx$ for $a \\neq -1$ equals:",options:[{key:"A",text:"$\\ln|x|+C$"},{key:"B",text:"$x^{a+1}+C$"},{key:"C",text:"$\\frac{1}{a+1} x^{a+1} + C$"}],correct:"C",explanation:"Power rule for integration.",memoryKey:"Power Rule"},{id:604,text:"The integral $\\int \\frac{1}{x} dx$ equals:",options:[{key:"A",text:"$1/x + C$"},{key:"B",text:"$\\ln|x| + C$"},{key:"C",text:"$x + C$"}],correct:"B",explanation:"Logarithmic integration rule.",memoryKey:"ln|x|"},{id:605,text:"The integral $\\int e^x dx$ equals:",options:[{key:"A",text:"$xe^x$"},{key:"B",text:"$e^x + C$"},{key:"C",text:"$\\ln e^x$"}],correct:"B",explanation:"Exponential function is its own integral.",memoryKey:"e^x"},{id:606,text:"If $F'(x)=f(x)$, then the integral $\\int f(x)dx$ equals:",options:[{key:"A",text:"$F(x)+C$"},{key:"B",text:"$F'(x)+C$"},{key:"C",text:"$C$"}],correct:"A",explanation:"Definition of indefinite integral.",memoryKey:"F(x)+C"},{id:607,text:"What do we call an antiderivative of the function $f(x)$?",options:[{key:"A",text:"A function whose derivative equals $f(x)$"},{key:"B",text:"The inverse function"},{key:"C",text:"The limit"}],correct:"A",explanation:"Also known as the primitive function.",memoryKey:"Primitive"},{id:608,text:"What does the constant $C$ mean in an indefinite integral?",options:[{key:"A",text:"An arbitrary real constant"},{key:"B",text:"A limit of integration"},{key:"C",text:"Value at $0$"}],correct:"A",explanation:"Represents the family of parallel curves.",memoryKey:"Arbitrary Constant"},{id:609,text:"What is the result of $\\int x^2 dx$?",options:[{key:"A",text:"$x^3/3 + C$"},{key:"B",text:"$2x + C$"},{key:"C",text:"$x^2 + C$"}],correct:"A",explanation:"Power rule: $x^{2+1}/(2+1)$.",memoryKey:"x^3/3"},{id:610,text:"Which integral equals $\\ln|x| + C$?",options:[{key:"A",text:"$\\int 1/x dx$"},{key:"B",text:"$\\int x dx$"},{key:"C",text:"$\\int e^x dx$"}],correct:"A",explanation:"Reverse of derivative of $\\ln(x)$.",memoryKey:"1/x -> ln"},{id:611,text:"The constant of integration:",options:[{key:"A",text:"is always positive"},{key:"B",text:"can be any real number"},{key:"C",text:"depends on the function"}],correct:"B",explanation:"It shifts the function vertically.",memoryKey:"Any Real"},{id:612,text:"If two functions have the same derivative on an interval, they:",options:[{key:"A",text:"are identical"},{key:"B",text:"differ by a constant"},{key:"C",text:"have the same zero"}],correct:"B",explanation:"Geometric interpretation of the constant $C$.",memoryKey:"Vertical Shift"},{id:613,text:"$\\int(f(x)+g(x))dx$ equals:",options:[{key:"A",text:"$\\int f(x)dx \\cdot \\int g(x)dx$"},{key:"B",text:"$\\int f(x)dx + \\int g(x)dx$"},{key:"C",text:"$\\int f(x)g(x)dx$"}],correct:"B",explanation:"Linearity of integration.",memoryKey:"Sum Rule"},{id:614,text:"$\\int kf(x)dx$ equals:",options:[{key:"A",text:"$k \\int f(x)dx$"},{key:"B",text:"$\\int f(kx)dx$"},{key:"C",text:"$\\int f(x)dk$"}],correct:"A",explanation:"Constant multiple rule.",memoryKey:"Pull out k"},{id:615,text:"$\\int(x-2)dx$ equals:",options:[{key:"A",text:"$-x-1+C$"},{key:"B",text:"$x^2/2 - 2x + C$"},{key:"C",text:"$x^2/2 - 2 + C$"}],correct:"B",explanation:"Power rule term by term.",memoryKey:"Term by Term"},{id:616,text:"$\\int x dx$ equals:",options:[{key:"A",text:"$2x+C$"},{key:"B",text:"$x^2/2 + C$"},{key:"C",text:"$x^{1/2} + C$"}],correct:"B",explanation:"Power rule $n=1$.",memoryKey:"x^2/2"},{id:617,text:"Integration by substitution consists of:",options:[{key:"A",text:"decomposing sum"},{key:"B",text:"replacing variable"},{key:"C",text:"differentiating"}],correct:"B",explanation:"$u$-substitution technique.",memoryKey:"u-sub"},{id:618,text:"In substitution, the auxiliary variable:",options:[{key:"A",text:"must be linear"},{key:"B",text:"simplifies the integral"},{key:"C",text:"replaces constant"}],correct:"B",explanation:"Goal is to transform into a known form.",memoryKey:"Simplifies"},{id:619,text:"$\\int 1/(x-3)dx$ gives:",options:[{key:"A",text:"$\\ln|x-3|$"},{key:"B",text:"$\\ln|x-3|+C$"},{key:"C",text:"$-\\ln|x-3|+C$"}],correct:"B",explanation:"Log rule with linear inner function.",memoryKey:"ln(linear)"},{id:620,text:"Integration by parts is based on:",options:[{key:"A",text:"$(uv)'=u'v'$"},{key:"B",text:"$d(uv)=udv+vdu$"},{key:"C",text:"$(u+v)'=u'v$"}],correct:"B",explanation:"Derived from product rule.",memoryKey:"Product Rule Reverse"},{id:621,text:"In integration by parts, choose $u$ as:",options:[{key:"A",text:"easy to integrate"},{key:"B",text:"easy to differentiate"},{key:"C",text:"arbitrarily"}],correct:"B",explanation:"LIATE rule helps select $u$ to simplify derivative.",memoryKey:"LIATE"},{id:622,text:"In integration by parts, choose $dv$ as:",options:[{key:"A",text:"easy to integrate"},{key:"B",text:"easy to differentiate"},{key:"C",text:"arbitrarily"}],correct:"A",explanation:"You must be able to find $v$ from $dv$.",memoryKey:"Easy Integral"},{id:623,text:"An indefinite integral describes:",options:[{key:"A",text:"area"},{key:"B",text:"family of antiderivatives"},{key:"C",text:"number"}],correct:"B",explanation:"Set of all possible primitives.",memoryKey:"Family"},{id:624,text:"Integration is inverse to:",options:[{key:"A",text:"differentiation"},{key:"B",text:"limits"},{key:"C",text:"algebra"}],correct:"A",explanation:"Fundamental Theorem of Calculus.",memoryKey:"Inverse Deriv"},{id:625,text:"$\\int dx$ equals:",options:[{key:"A",text:"$1$"},{key:"B",text:"$x+C$"},{key:"C",text:"$\\ln x$"}],correct:"B",explanation:"Integral of $1$ is $x$.",memoryKey:"x+C"},{id:626,text:"If $F'(x)=0$, then:",options:[{key:"A",text:"$F(x)=x$"},{key:"B",text:"$F(x)=C$"},{key:"C",text:"$F(x)=0$"}],correct:"B",explanation:"Only constants have zero derivative.",memoryKey:"Constant Slope 0"},{id:627,text:"$\\int x^0 dx$ equals:",options:[{key:"A",text:"$0$"},{key:"B",text:"$\\ln x$"},{key:"C",text:"$x+C$"}],correct:"C",explanation:"$x^0 = 1$.",memoryKey:"Int 1"},{id:628,text:"$\\int(x^2-2x)dx$ equals:",options:[{key:"A",text:"$x^3/3 - x^2 + C$"},{key:"B",text:"$2x - 2 + C$"},{key:"C",text:"$x^2/2 - 2x + C$"}],correct:"A",explanation:"Power rule applied to polynomial.",memoryKey:"Poly Rule"},{id:629,text:"The integral of a negative function:",options:[{key:"A",text:"is always positive"},{key:"B",text:"is negative (definite)"},{key:"C",text:"positive"}],correct:"B",explanation:"Area below x-axis is signed negative.",memoryKey:"Negative Area"},{id:630,text:"Integral of a polynomial is:",options:[{key:"A",text:"polynomial of higher degree"},{key:"B",text:"logarithm"},{key:"C",text:"exponential"}],correct:"A",explanation:"Degree increases by 1.",memoryKey:"Degree +1"},{id:631,text:"Integration by parts is used when:",options:[{key:"A",text:"product of functions"},{key:"B",text:"rational function"},{key:"C",text:"even function"}],correct:"A",explanation:"Reverse product rule.",memoryKey:"Product"},{id:632,text:"Indefinite integral does not contain:",options:[{key:"A",text:"limits of integration"},{key:"B",text:"constants"},{key:"C",text:"functions"}],correct:"A",explanation:"It has no bounds $[a,b]$.",memoryKey:"No Limits"},{id:633,text:"Constant of integration results from:",options:[{key:"A",text:"differentiation"},{key:"B",text:"non-uniqueness"},{key:"C",text:"error"}],correct:"B",explanation:"Many functions share the same derivative.",memoryKey:"Non-Unique"},{id:634,text:"Indefinite integral is used for:",options:[{key:"A",text:"determining limits"},{key:"B",text:"solving diff equations"},{key:"C",text:"monotonicity"}],correct:"B",explanation:"Finding the function $y$ from $y'$.",memoryKey:"Solve DE"},{id:635,text:"A definite integral is:",options:[{key:"A",text:"always positive"},{key:"B",text:"dependent on $C$"},{key:"C",text:"a number (dependent on limits)"}],correct:"C",explanation:"It evaluates to a scalar value.",memoryKey:"Scalar Value"},{id:636,text:"If $F'(x)=f(x)$, then $\\int_a^b f(x)dx$ equals:",options:[{key:"A",text:"$F(a)-F(b)$"},{key:"B",text:"$F(b)-F(a)$"},{key:"C",text:"$C$"}],correct:"B",explanation:"Fundamental Theorem of Calculus.",memoryKey:"F(b)-F(a)"},{id:637,text:"Area under positive function:",options:[{key:"A",text:"definite integral"},{key:"B",text:"indefinite integral"},{key:"C",text:"no interpretation"}],correct:"A",explanation:"Geometric application.",memoryKey:"Area"},{id:638,text:"If $f(x) \\le 0$, the area is:",options:[{key:"A",text:"integral"},{key:"B",text:"-integral"},{key:"C",text:"undefined"}],correct:"B",explanation:"Area must be positive, integral is negative.",memoryKey:"-Integral"},{id:639,text:"Definite integral does not depend on:",options:[{key:"A",text:"function"},{key:"B",text:"limits"},{key:"C",text:"constant of integration"}],correct:"C",explanation:"$C$s cancel out in subtraction.",memoryKey:"No C"},{id:640,text:"Additivity property:",options:[{key:"A",text:"function"},{key:"B",text:"interval of integration"},{key:"C",text:"constant"}],correct:"B",explanation:"Integral $a$ to $c$ = $a$ to $b$ + $b$ to $c$.",memoryKey:"Split Interval"},{id:641,text:"$\\int_a^a f(x)dx$ equals:",options:[{key:"A",text:"$1$"},{key:"B",text:"$f(a)$"},{key:"C",text:"$0$"}],correct:"C",explanation:"Zero width interval.",memoryKey:"Zero Width"},{id:642,text:"Integral of sum:",options:[{key:"A",text:"sum of integrals"},{key:"B",text:"product"},{key:"C",text:"difference"}],correct:"A",explanation:"Linearity.",memoryKey:"Sum is Sum"},{id:643,text:"Constant factor in definite integral:",options:[{key:"A",text:"stays inside"},{key:"B",text:"factored out"},{key:"C",text:"disappears"}],correct:"B",explanation:"Linearity.",memoryKey:"Factor Out"},{id:644,text:"Improper integral occurs when:",options:[{key:"A",text:"continuous"},{key:"B",text:"unbounded interval/function"},{key:"C",text:"limits equal"}],correct:"B",explanation:"Infinity in bounds or asymptote.",memoryKey:"Unbounded"},{id:645,text:"$\\int_a^\\infty$ defined as:",options:[{key:"A",text:"infinite sum"},{key:"B",text:"limit of definite integrals"},{key:"C",text:"indefinite"}],correct:"B",explanation:"$\\lim_{b\\to\\infty}$ of integral $a$ to $b$.",memoryKey:"Limit Def"},{id:646,text:"If limit doesn't exist:",options:[{key:"A",text:"zero"},{key:"B",text:"convergent"},{key:"C",text:"divergent"}],correct:"C",explanation:"No finite value.",memoryKey:"Divergent"},{id:647,text:"$\\int_{-\\infty}^0 e^x dx$ is:",options:[{key:"A",text:"divergent"},{key:"B",text:"$0$"},{key:"C",text:"convergent ($1$)"}],correct:"C",explanation:"$e^0 - e^{-\\infty} = 1 - 0 = 1$.",memoryKey:"Convergent 1"},{id:648,text:"Integral over $(-\\infty, \\infty)$ is sum of:",options:[{key:"A",text:"two improper integrals"},{key:"B",text:"one definite"},{key:"C",text:"indefinite"}],correct:"A",explanation:"Split at arbitrary point (usually $0$).",memoryKey:"Split Inf"},{id:649,text:"Improper integral may be:",options:[{key:"A",text:"only positive"},{key:"B",text:"only negative"},{key:"C",text:"convergent or divergent"}],correct:"C",explanation:"Result type.",memoryKey:"Conv/Div"},{id:650,text:"Integral of PDF over $(-\\infty, \\infty)$:",options:[{key:"A",text:"$0$"},{key:"B",text:"$1$"},{key:"C",text:"undefined"}],correct:"B",explanation:"Total probability is $1$.",memoryKey:"Prob = 1"},{id:651,text:"Normal distribution PDF:",options:[{key:"A",text:"polynomial"},{key:"B",text:"contains exponential"},{key:"C",text:"linear"}],correct:"B",explanation:"Gaussian bell curve form.",memoryKey:"Exp Form"},{id:652,text:"Parameter $\\mu$ denotes:",options:[{key:"A",text:"variance"},{key:"B",text:"mean"},{key:"C",text:"std dev"}],correct:"B",explanation:"Center of distribution.",memoryKey:"Mean"},{id:653,text:"Parameter $\\sigma$ denotes:",options:[{key:"A",text:"mean"},{key:"B",text:"variance"},{key:"C",text:"standard deviation"}],correct:"C",explanation:"Spread of distribution.",memoryKey:"Std Dev"},{id:654,text:"CDF is defined as:",options:[{key:"A",text:"derivative of density"},{key:"B",text:"integral of density"},{key:"C",text:"limit"}],correct:"B",explanation:"Cumulative area.",memoryKey:"Integral PDF"},{id:655,text:"Area under density function:",options:[{key:"A",text:"Greater than $1$"},{key:"B",text:"equals $1$"},{key:"C",text:"negative"}],correct:"B",explanation:"Total probability.",memoryKey:"Area 1"},{id:656,text:"Definite integral used for:",options:[{key:"A",text:"antiderivatives"},{key:"B",text:"areas/numerical values"},{key:"C",text:"algebra"}],correct:"B",explanation:"Geometric application.",memoryKey:"Numerical"},{id:657,text:"If $f(x)$ non-negative:",options:[{key:"A",text:"integral negative"},{key:"B",text:"integral non-negative"},{key:"C",text:"zero"}],correct:"B",explanation:"Positive height = positive area.",memoryKey:"Non-neg"},{id:658,text:"$\\int_0^1 1/\\sqrt{x} dx$ is:",options:[{key:"A",text:"divergent"},{key:"B",text:"convergent"},{key:"C",text:"$0$"}],correct:"B",explanation:"Equals $2$.",memoryKey:"Conv 2"},{id:659,text:"If improper integral convergent:",options:[{key:"A",text:"limit exists"},{key:"B",text:"function continuous"},{key:"C",text:"interval closed"}],correct:"A",explanation:"Definition of convergence.",memoryKey:"Limit Exists"},{id:660,text:"Geometric interpretation:",options:[{key:"A",text:"length"},{key:"B",text:"area under graph"},{key:"C",text:"volume"}],correct:"B",explanation:"Standard definition.",memoryKey:"Area"},{id:661,text:"Orientation of interval:",options:[{key:"A",text:"no effect"},{key:"B",text:"only continuous"},{key:"C",text:"swapping limits changes sign"}],correct:"C",explanation:"Integral $a$ to $b$ = - Integral $b$ to $a$.",memoryKey:"Sign Flip"},{id:685,text:"Notation for indefinite integral:",options:[{key:"A",text:"$\\int f(x)dx$"},{key:"B",text:"$\\lim f(x)$"},{key:"C",text:"$f'(x)$"}],correct:"A",explanation:"Integral symbol.",memoryKey:"Notation"},{id:686,text:"Integral property:",options:[{key:"A",text:"$\\int(f+g) = \\int f + \\int g$"},{key:"B",text:"$\\int(f+g) = \\int f \\cdot \\int g$"},{key:"C",text:"$\\int kf = \\int f$"}],correct:"A",explanation:"Linearity.",memoryKey:"Sum Prop"},{id:687,text:"Substitution method:",options:[{key:"A",text:"replace variable"},{key:"B",text:"differentiate"},{key:"C",text:"limit"}],correct:"A",explanation:"Change of variables.",memoryKey:"Replace Var"},{id:688,text:"Substitution for $\\int 1/(2x-3) dx$:",options:[{key:"A",text:"$t=2x-3$"},{key:"B",text:"$t=x^2$"},{key:"C",text:"$t=\\ln x$"}],correct:"A",explanation:"Inner linear function.",memoryKey:"Linear Sub"},{id:689,text:"Integration by parts formula:",options:[{key:"A",text:"$\\int udv = uv - \\int vdu$"},{key:"B",text:"$\\int udv = du-v$"},{key:"C",text:"$\\int udv=u+v$"}],correct:"A",explanation:"Correct formula.",memoryKey:"uv-int vdu"},{id:690,text:"Definite integral is:",options:[{key:"A",text:"difference of antiderivatives"},{key:"B",text:"indefinite"},{key:"C",text:"derivative"}],correct:"A",explanation:"FTC Part 2.",memoryKey:"Diff Anti"},{id:691,text:"True statement:",options:[{key:"A",text:"DE contains derivatives"},{key:"B",text:"DE no independent"},{key:"C",text:"DE linear"}],correct:"A",explanation:"Definition of Differential Equation.",memoryKey:"Contains Deriv"},{id:692,text:"Compute $\\int x^2 dx$:",options:[{key:"A",text:"$x^3/3 + C$"},{key:"B",text:"$2x + C$"},{key:"C",text:"$x^2 + C$"}],correct:"A",explanation:"Power rule.",memoryKey:"Power"},{id:693,text:"Compute $\\int \\sqrt{x} dx$:",options:[{key:"A",text:"$\\frac{2}{3} x^{3/2} + C$"},{key:"B",text:"$2\\sqrt{x} + C$"},{key:"C",text:"$x^{1/2} + C$"}],correct:"A",explanation:"$x^{1/2} \\to x^{3/2} / (3/2)$.",memoryKey:"2/3 x^3/2"},{id:694,text:"Compute $\\int 1/x^2 dx$:",options:[{key:"A",text:"$-1/x + C$"},{key:"B",text:"$\\ln x + C$"},{key:"C",text:"$x^{-1} + C$"}],correct:"A",explanation:"$x^{-2} \\to x^{-1} / -1$.",memoryKey:"-1/x"},{id:695,text:"Compute $\\int 3x^2 dx$:",options:[{key:"A",text:"$x^3 + C$"},{key:"B",text:"$3x^3 + C$"},{key:"C",text:"$x^2 + C$"}],correct:"A",explanation:"$3 \\cdot x^3/3$.",memoryKey:"x^3"},{id:696,text:"Compute $\\int 5 dx$:",options:[{key:"A",text:"$5x + C$"},{key:"B",text:"$x + C$"},{key:"C",text:"$0$"}],correct:"A",explanation:"Constant rule.",memoryKey:"5x"},{id:697,text:"$\\int_0^1 x dx$:",options:[{key:"A",text:"$1/2$"},{key:"B",text:"$1$"},{key:"C",text:"$0$"}],correct:"A",explanation:"$1/2 - 0$.",memoryKey:"1/2"},{id:698,text:"$\\int_0^1 1 dx$:",options:[{key:"A",text:"$1$"},{key:"B",text:"$2$"},{key:"C",text:"$3$"}],correct:"A",explanation:"$1 - 0$.",memoryKey:"1"},{id:699,text:"$\\int k f(x) dx$:",options:[{key:"A",text:"$k \\int f(x)dx$"},{key:"B",text:"$\\int f(x)dx + k$"},{key:"C",text:"$\\int f(kx)dx$"}],correct:"A",explanation:"Constant multiple.",memoryKey:"Const Mult"}],[hn.DIFF_EQ]:[{id:801,text:"A first-order differential equation is:",options:[{key:"A",text:"algebraic"},{key:"B",text:"equation containing first derivative"},{key:"C",text:"quadratic"}],correct:"B",explanation:"Order 1 means max derivative is $y'$.",memoryKey:"1st Deriv"},{id:802,text:"The general solution of a DE is:",options:[{key:"A",text:"a number"},{key:"B",text:"a family of functions (parameter)"},{key:"C",text:"no constants"}],correct:"B",explanation:"Contains arbitrary constants ($C$).",memoryKey:"Family"},{id:803,text:"A particular solution is obtained:",options:[{key:"A",text:"by differentiation"},{key:"B",text:"by applying initial conditions"},{key:"C",text:"definite int"}],correct:"B",explanation:"Fixing $C$ to a specific value.",memoryKey:"Init Cond"},{id:804,text:"The equation $y'=2y$ is:",options:[{key:"A",text:"linear"},{key:"B",text:"separable"},{key:"C",text:"second-order"}],correct:"B",explanation:"Separable ($dy/y = 2dx$). (Also linear, but separable is primary method logic here)",memoryKey:"Separable"},{id:805,text:"Method of separation of variables:",options:[{key:"A",text:"changing variable"},{key:"B",text:"separating $y$ and $x$"},{key:"C",text:"parts"}],correct:"B",explanation:"Moving terms to opposite sides.",memoryKey:"Separate"},{id:806,text:"Equation $dN/dt = -\\lambda N$ describes:",options:[{key:"A",text:"pop growth"},{key:"B",text:"radioactive decay"},{key:"C",text:"logistic"}],correct:"B",explanation:"Negative rate proportional to amount.",memoryKey:"Decay"},{id:807,text:"Constant $\\lambda$ in decay denotes:",options:[{key:"A",text:"decay probability per time"},{key:"B",text:"half-life"},{key:"C",text:"initial"}],correct:"A",explanation:"Rate constant.",memoryKey:"Prob/Time"},{id:808,text:"Malthus model describes:",options:[{key:"A",text:"limited growth"},{key:"B",text:"exponential growth"},{key:"C",text:"decline"}],correct:"B",explanation:"Unbounded geometric growth.",memoryKey:"Exp Growth"},{id:809,text:"Equation $dN/dt = (r-s)N$ describes:",options:[{key:"A",text:"growth without mortality"},{key:"B",text:"growth including mortality"},{key:"C",text:"logistic"}],correct:"B",explanation:"Net rate = birth - death.",memoryKey:"Net Rate"},{id:810,text:"Verhulst model accounts for:",options:[{key:"A",text:"reproduction only"},{key:"B",text:"limited resources"},{key:"C",text:"mortality only"}],correct:"B",explanation:"Carrying capacity (Logistic).",memoryKey:"Limited"},{id:811,text:"Newton's law of cooling describes:",options:[{key:"A",text:"temp increase"},{key:"B",text:"temp difference"},{key:"C",text:"const"}],correct:"B",explanation:"Rate proportional to difference.",memoryKey:"Temp Diff"},{id:812,text:"DEs are used for:",options:[{key:"A",text:"geometry"},{key:"B",text:"modeling dynamic phenomena"},{key:"C",text:"algebra"}],correct:"B",explanation:"Change over time.",memoryKey:"Dynamic"},{id:813,text:"Gompertz model describes:",options:[{key:"A",text:"linear"},{key:"B",text:"epidemic/tumor (decreasing rate)"},{key:"C",text:"decay"}],correct:"B",explanation:"Sigmoidal but asymmetric.",memoryKey:"Tumor"},{id:814,text:"Ordinary differential equation:",options:[{key:"A",text:"many indep vars"},{key:"B",text:"one independent variable"},{key:"C",text:"no deriv"}],correct:"B",explanation:"vs Partial DE.",memoryKey:"One Indep"},{id:815,text:"DE without initial conditions has:",options:[{key:"A",text:"one solution"},{key:"B",text:"many solutions"},{key:"C",text:"no solution"}],correct:"B",explanation:"Infinitely many (General Solution).",memoryKey:"Many"},{id:816,text:"Initial conditions used to:",options:[{key:"A",text:"check continuity"},{key:"B",text:"determine constant"},{key:"C",text:"diff"}],correct:"B",explanation:"Find $C$.",memoryKey:"Find C"},{id:817,text:"A particular solution is:",options:[{key:"A",text:"family"},{key:"B",text:"single function"},{key:"C",text:"limit"}],correct:"B",explanation:"Unique curve.",memoryKey:"Single Func"},{id:818,text:"$y'=f(x)$ is solved by:",options:[{key:"A",text:"differentiation"},{key:"B",text:"indefinite integration"},{key:"C",text:"definite"}],correct:"B",explanation:"Direct integration.",memoryKey:"Integrate"},{id:819,text:"Separable equation form:",options:[{key:"A",text:"$y'=f(x,y)$"},{key:"B",text:"$g(y)dy=f(x)dx$"},{key:"C",text:"linear"}],correct:"B",explanation:"Variables separated.",memoryKey:"Split"},{id:820,text:"Differential equations describe:",options:[{key:"A",text:"motion only"},{key:"B",text:"changes"},{key:"C",text:"linear functions"}],correct:"B",explanation:"Rates of change.",memoryKey:"Change"},{id:821,text:"First-order DE contains:",options:[{key:"A",text:"only $y$"},{key:"B",text:"only $x$"},{key:"C",text:"derivative $y'$"}],correct:"C",explanation:"Must have $y'$.",memoryKey:"y'"},{id:822,text:"Applications include:",options:[{key:"A",text:"math only"},{key:"B",text:"physics, biology, medicine"},{key:"C",text:"stats"}],correct:"B",explanation:"Broad utility.",memoryKey:"Science"},{id:823,text:"Two functions with same derivative:",options:[{key:"A",text:"differ by constant"},{key:"B",text:"identical"},{key:"C",text:"diff sign"}],correct:"A",explanation:"Parallel curves.",memoryKey:"Constant Diff"},{id:824,text:"General solution of $y'=ky$:",options:[{key:"A",text:"$y=Ce^{kx}$"},{key:"B",text:"$y=kx+C$"},{key:"C",text:"polynomial"}],correct:"A",explanation:"Exponential growth/decay.",memoryKey:"Ce^kx"},{id:825,text:"If $y'=-\\lambda y$, solution describes:",options:[{key:"A",text:"exp decay"},{key:"B",text:"linear"},{key:"C",text:"oscillation"}],correct:"A",explanation:"Negative exponent.",memoryKey:"Decay"},{id:826,text:"Law of radioactive decay:",options:[{key:"A",text:"$dN/dt = -\\lambda N$"},{key:"B",text:"linear"},{key:"C",text:"positive"}],correct:"A",explanation:"Differential form.",memoryKey:"Eq"},{id:827,text:"Condition $N(T_{1/2}) = N_0/2$:",options:[{key:"A",text:"half-life"},{key:"B",text:"total time"},{key:"C",text:"initial"}],correct:"A",explanation:"Definition of half-life.",memoryKey:"Half-Life"},{id:828,text:"Solutions of $y'=ay$:",options:[{key:"A",text:"exponential"},{key:"B",text:"polynomial"},{key:"C",text:"trig"}],correct:"A",explanation:"$y = Ce^{ax}$.",memoryKey:"Exp"},{id:829,text:"DE always contains:",options:[{key:"A",text:"derivative"},{key:"B",text:"integral"},{key:"C",text:"graph"}],correct:"A",explanation:"By definition.",memoryKey:"Deriv"},{id:830,text:"Parameter $C$ denotes:",options:[{key:"A",text:"constant of integration"},{key:"B",text:"variable"},{key:"C",text:"derivative"}],correct:"A",explanation:"Arbitrary constant.",memoryKey:"Const"},{id:831,text:"Set of general solutions forms:",options:[{key:"A",text:"family of curves"},{key:"B",text:"line"},{key:"C",text:"point"}],correct:"A",explanation:"Infinite curves.",memoryKey:"Family"}]},FT="math_biotech_exam_perf_v1",LT=()=>{try{if(typeof window>"u")return{};const n=window.localStorage.getItem(FT);return n?JSON.parse(n):{}}catch{return{}}},cCe=(n,e)=>{try{const t=LT(),r=t[n]||{correct:0,incorrect:0,lastAttempt:0};e?r.correct++:r.incorrect++,r.lastAttempt=Date.now(),t[n]=r,window.localStorage.setItem(FT,JSON.stringify(t))}catch(t){console.warn("Failed to save exam result",t)}},Hq=n=>{if(!n)return"UNSEEN";const e=n.correct+n.incorrect;return e===0?"UNSEEN":n.correct>=3&&n.correct/e>=.8?"MASTERED":"LEARNING"},fCe=()=>{window.localStorage.removeItem(FT)},dCe=({score:n,total:e})=>{const t=e>0?Math.round(n/e*100):0,r=t>=80?"#10b981":t>=50?"#fbbf24":"#ef4444";return S.jsxs("div",{className:"h-64 w-full rounded-2xl overflow-hidden bg-slate-900 border border-slate-700 relative shadow-2xl",children:[S.jsxs(ip,{camera:{position:[0,0,5]},children:[S.jsx("ambientLight",{intensity:.5}),S.jsx("pointLight",{position:[10,10,10],intensity:1,color:r}),S.jsx(KN,{speed:2,rotationIntensity:.5,floatIntensity:.5,children:S.jsxs("group",{children:[S.jsx(xR,{args:[1.2,0],position:[0,0,0],children:S.jsx("meshStandardMaterial",{color:r,wireframe:!0})}),S.jsx(xR,{args:[1,0],position:[0,0,0],children:S.jsx("meshStandardMaterial",{color:r,transparent:!0,opacity:.2})})]})}),S.jsx(kj,{radius:50,count:1e3,factor:4,fade:!0,speed:1})]}),S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[S.jsxs("div",{className:"text-6xl font-black text-white drop-shadow-lg tracking-tighter",children:[t,"%"]}),S.jsxs("div",{className:"text-sm font-mono text-slate-300 bg-slate-900/50 px-3 py-1 rounded-full border border-white/10 backdrop-blur-md mt-2",children:[n," / ",e," Correct"]})]})]})},nF=({module:n,examMode:e})=>{const[t,r]=Re.useState("MENU"),[i,a]=Re.useState("Full Exam"),[s,o]=Re.useState([]),[l,u]=Re.useState(0),[c,d]=Re.useState(0),[h,p]=Re.useState(null),[g,x]=Re.useState(!1),[A,b]=Re.useState([]),[_,M]=Re.useState(0),[E,C]=Re.useState(0),T=Re.useMemo(()=>{const te=LT(),le=[];return Object.values(jv).forEach(de=>{de&&le.push(...de)}),le.filter(de=>{const ce=te[de.id];if(!ce)return!1;const be=Hq(ce);return ce.incorrect>0&&be!=="MASTERED"})},[t]),B=te=>{var ce;let le=[];const de=Date.now();if(M(de),C(0),te==="MISTAKES"){if(le=[...T].sort(()=>Math.random()-.5),le.length===0)return;a("Mistake Clinic")}else if(te==="ALL")Object.entries(jv).forEach(([be,Te])=>{if(Te){const Oe=Te.map(Fe=>({...Fe,topic:be}));le=[...le,...Oe]}}),le=le.sort(()=>Math.random()-.5),a("Full Exam");else{le=(jv[te]||[]).map(Oe=>({...Oe,topic:te})),le=[...le].sort(()=>Math.random()-.5);const Te=((ce=py.find(Oe=>Oe.id===te))==null?void 0:ce.label)||"Topic";a(`${Te} Exam`)}if(le.length===0){console.log("No questions available in this module yet.");return}o(le),d(0),u(0),b([]),p(null),x(!1),r("PLAY")},z=te=>{if(g)return;p(te),x(!0);const le=s[l],de=te===le.correct;de?d(ce=>ce+1):b(ce=>[...ce,le.id]),cCe(le.id,de)},R=()=>{l<s.length-1?(u(te=>te+1),x(!1),p(null)):(C(Date.now()),r("RESULT"))},O=s.length>0?(l+(g?1:0))/s.length*100:0,U=s[l],I=c,q=A.length,X=te=>{if(!te)return null;const le=te.split("$");return S.jsx("span",{className:"inline-block",children:le.map((de,ce)=>ce%2===1?S.jsx(Dn,{expression:de,inline:!0,className:"text-cyan-200 font-bold mx-1"},ce):S.jsx("span",{dangerouslySetInnerHTML:{__html:de}},ce))})},$=E-_,k=Math.floor($/6e4),P=Math.floor($%6e4/1e3),Z=`${k}m ${P}s`,H=s.length>0?($/s.length/1e3).toFixed(1):"0",ae=s.length>0?c/s.length*100:0;let W="F",K="text-red-500";ae>=90?(W="S",K="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400"):ae>=80?(W="A",K="text-emerald-400"):ae>=70?(W="B",K="text-blue-400"):ae>=60&&(W="C",K="text-orange-400");const Q={};return s.forEach(te=>{const le=te.topic||"General";Q[le]||(Q[le]={total:0,correct:0}),Q[le].total++,A.includes(te.id)||Q[le].correct++}),S.jsx("div",{className:"min-h-[80vh] flex flex-col pb-20 max-w-3xl mx-auto w-full",children:S.jsxs(Eo,{mode:"wait",children:[t==="MENU"&&S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center flex-1 p-6",children:[S.jsxs("div",{className:"flex flex-col items-center text-center mb-10 w-full",children:[S.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-tr from-cyan-500 to-blue-600 flex items-center justify-center shadow-lg shadow-cyan-500/20 mb-6 text-white transform hover:scale-105 transition-transform duration-300",children:S.jsx(D_,{size:42,strokeWidth:1.5})}),S.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white mb-3 tracking-tight",children:"Examination Hall"}),S.jsx("p",{className:"text-slate-400 text-sm max-w-xs mx-auto leading-relaxed",children:"Choose your challenge level. Regular practice adapts to your performance."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-12 w-full",children:[S.jsxs("button",{onClick:()=>B("ALL"),className:"group relative overflow-hidden rounded-3xl p-[1px] transition-all hover:scale-[1.02] active:scale-[0.98] shadow-2xl shadow-purple-900/20",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 opacity-70 group-hover:opacity-100 transition-opacity animate-gradient-xy"}),S.jsxs("div",{className:"relative h-full bg-[#0B1121] rounded-[23px] p-6 flex flex-col justify-between overflow-hidden min-h-[140px]",children:[S.jsx("div",{className:"absolute right-0 top-0 w-32 h-32 bg-purple-500/10 blur-3xl rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none"}),S.jsx("div",{className:"flex justify-between items-start mb-4 relative z-10",children:S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500/20 to-purple-500/20 flex items-center justify-center text-cyan-200 border border-white/5 backdrop-blur-sm",children:S.jsx(oc,{size:24})})}),S.jsxs("div",{className:"relative z-10 text-left",children:[S.jsx("h3",{className:"text-lg font-bold text-white mb-1 group-hover:text-cyan-200 transition-colors",children:"Full Exam"}),S.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"All topics. The ultimate test."})]})]})]}),S.jsxs("button",{onClick:()=>B("MISTAKES"),disabled:T.length===0,className:`group relative overflow-hidden rounded-3xl p-[1px] transition-all duration-300 ${T.length>0?"hover:scale-[1.02] active:scale-[0.98] shadow-2xl shadow-amber-900/20":"opacity-60 cursor-not-allowed"}`,children:[S.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-amber-400 via-red-500 to-orange-500 opacity-70 ${T.length>0?"group-hover:opacity-100 animate-gradient-xy":""}`}),S.jsxs("div",{className:"relative h-full bg-[#0B1121] rounded-[23px] p-6 flex flex-col justify-between overflow-hidden min-h-[140px]",children:[S.jsx("div",{className:"absolute right-0 top-0 w-32 h-32 bg-orange-500/10 blur-3xl rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none"}),S.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500/20 to-red-500/20 flex items-center justify-center text-amber-400 border border-amber-500/20",children:S.jsx(wF,{size:24})}),T.length>0&&S.jsxs("div",{className:"bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-full animate-pulse shadow-lg shadow-red-500/30",children:[T.length," Issues"]})]}),S.jsxs("div",{className:"relative z-10 text-left",children:[S.jsx("h3",{className:"text-lg font-bold text-white mb-1 group-hover:text-amber-200 transition-colors",children:"Mistake Clinic"}),S.jsx("p",{className:"text-xs text-slate-400 font-medium",children:T.length>0?"Targeted practice on weak spots.":"No mistakes pending. Great job!"})]})]})]})]}),S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-5 px-1",children:[S.jsx(cw,{size:16,className:"text-slate-500"}),S.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Topic Drills"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:py.map(te=>{var le;return S.jsxs("button",{onClick:()=>B(te.id),className:"flex items-center gap-4 p-4 rounded-2xl border border-white/5 bg-slate-900/40 hover:bg-slate-800 hover:border-white/10 transition-all group text-left relative overflow-hidden",children:[S.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${te.bg} ${te.color} transition-transform group-hover:scale-110`,children:S.jsx(te.icon,{size:22})}),S.jsxs("div",{className:"relative z-10 flex-1",children:[S.jsx("div",{className:"font-bold text-sm text-slate-200 group-hover:text-white mb-0.5",children:te.label}),S.jsx("div",{className:"text-[10px] text-slate-500 font-medium group-hover:text-slate-400",children:"Subject Drill"})]}),!jv[te.id]||((le=jv[te.id])==null?void 0:le.length)===0?S.jsx(hF,{size:16,className:"text-slate-700"}):S.jsx(JE,{size:16,className:"text-slate-600 opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0"})]},te.id)})})]})]},"menu"),t==="PLAY"&&U&&S.jsxs(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full w-full max-w-2xl mx-auto",children:[S.jsx("div",{className:"md:hidden w-full mb-4",children:S.jsxs("button",{onClick:()=>r("MENU"),className:"flex items-center gap-2 text-slate-500 hover:text-white transition-colors active:scale-95",children:[S.jsx(aF,{size:18}),S.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Quit Exam"})]})}),S.jsxs("div",{className:"mb-8 w-full",children:[S.jsxs("div",{className:"flex justify-between items-end mb-4",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:i}),S.jsxs("div",{className:"flex items-baseline gap-2",children:[S.jsx("span",{className:"text-4xl font-black text-white tracking-tighter",children:(l+1).toString().padStart(2,"0")}),S.jsxs("span",{className:"text-sm font-bold text-slate-600",children:["/ ",s.length]})]})]}),S.jsxs("div",{className:"flex items-center bg-slate-900/80 border border-slate-800 rounded-2xl p-1.5 backdrop-blur-md shadow-lg",children:[S.jsxs("div",{className:"flex items-center gap-2 px-3 border-r border-slate-800",children:[S.jsx(bA,{size:16,className:"text-emerald-500"}),S.jsx("span",{className:"text-base font-black text-white font-mono",children:I})]}),S.jsxs("div",{className:"flex items-center gap-2 px-3",children:[S.jsx(V8,{size:16,className:"text-red-500"}),S.jsx("span",{className:"text-base font-black text-white font-mono",children:q})]})]})]}),S.jsx("div",{className:"relative h-2 w-full bg-slate-800 rounded-full overflow-hidden",children:S.jsx(Yt.div,{className:"absolute top-0 left-0 bottom-0 bg-gradient-to-r from-cyan-400 to-blue-600 shadow-[0_0_15px_rgba(34,211,238,0.4)]",initial:{width:0},animate:{width:`${O}%`},transition:{type:"spring",stiffness:50,damping:20},children:S.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})]}),S.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto pb-32 md:pb-0 custom-scrollbar px-1",children:S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-gradient-to-b from-slate-800/60 to-slate-900/60 border border-white/10 p-6 md:p-8 rounded-3xl text-center shadow-xl relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 bg-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),S.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent opacity-50"}),S.jsx("h3",{className:"text-lg md:text-2xl font-bold text-slate-100 leading-snug relative z-10",children:X(U.text)})]}),S.jsx("div",{className:"grid gap-3",children:U.options.map(te=>{const le=h===te.key,de=te.key===U.correct,ce=g;let be="bg-slate-900/40 border-slate-800 text-slate-400 hover:bg-slate-800 hover:border-slate-600 hover:text-slate-200",Te=null;return ce?de?(be="bg-emerald-500/10 border-emerald-500/50 text-emerald-100 shadow-[0_0_15px_rgba(16,185,129,0.1)]",Te=S.jsx(bA,{size:20,className:"text-emerald-400 shrink-0 drop-shadow-md"})):le&&!de?(be="bg-red-500/10 border-red-500/50 text-red-100 shadow-[0_0_15px_rgba(239,68,68,0.1)]",Te=S.jsx(V8,{size:20,className:"text-red-400 shrink-0 drop-shadow-md"})):be="opacity-40 grayscale border-transparent bg-transparent":le&&(be="bg-cyan-600 border-cyan-500 text-white shadow-lg shadow-cyan-500/30 scale-[1.02]"),S.jsxs("button",{onClick:()=>z(te.key),disabled:g,className:`
                                                    w-full p-4 rounded-2xl border text-left font-medium text-sm md:text-lg transition-all duration-200 flex items-center justify-between group
                                                    ${be} ${g?"":"active:scale-[0.98]"}
                                                `,children:[S.jsxs("span",{className:"flex items-center gap-4",children:[S.jsx("span",{className:`
                                                        w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold shadow-inner
                                                        ${ce&&de?"bg-emerald-500 text-white":ce&&le?"bg-red-500 text-white":le?"bg-white text-cyan-600":"bg-slate-950 border border-slate-800 text-slate-500 group-hover:text-white group-hover:border-slate-600"}
                                                    `,children:te.key}),S.jsx("span",{className:"leading-snug",children:X(te.text)})]}),Te]},te.key)})})]})}),S.jsx(Eo,{children:g&&S.jsx(Yt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 p-4 z-50 md:static md:p-0 md:mt-8 bg-[#020617]/90 backdrop-blur-lg md:bg-transparent border-t border-slate-800 md:border-0",children:S.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[S.jsxs("div",{className:"bg-slate-900/80 border border-slate-800 rounded-2xl p-4 flex gap-4 items-start shadow-xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-amber-500"}),S.jsx("div",{className:"p-2 bg-amber-500/10 rounded-xl text-amber-400 shrink-0",children:S.jsx(D_,{size:20})}),S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-widest flex items-center gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Logic Breakdown"]}),S.jsx("p",{className:"text-sm text-slate-300 leading-relaxed font-medium",children:X(U.explanation||"")})]})]}),S.jsxs("button",{onClick:R,className:"w-full py-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white rounded-2xl font-bold shadow-lg shadow-cyan-900/20 flex items-center justify-center gap-3 text-sm uppercase tracking-widest transition-all active:scale-[0.98] group",children:[l<s.length-1?"Next Question":"Finish Exam",S.jsx(ic,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})})})]},"play"),t==="RESULT"&&S.jsxs(Yt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center w-full space-y-8",children:[S.jsx("h2",{className:"text-3xl font-black text-white",children:"Examination Report"}),S.jsx(dCe,{score:c,total:s.length}),S.jsxs("div",{className:"grid grid-cols-3 gap-3 w-full",children:[S.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-2xl border border-slate-800 text-center flex flex-col items-center justify-center",children:[S.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1 flex items-center gap-1",children:[S.jsx(bF,{size:12})," Grade"]}),S.jsx("div",{className:`text-4xl font-black ${K} drop-shadow-md`,children:W})]}),S.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-2xl border border-slate-800 text-center flex flex-col items-center justify-center",children:[S.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1 flex items-center gap-1",children:[S.jsx(I$,{size:12})," Time"]}),S.jsx("div",{className:"text-xl font-mono text-white",children:Z})]}),S.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-2xl border border-slate-800 text-center flex flex-col items-center justify-center",children:[S.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1 flex items-center gap-1",children:[S.jsx(r6,{size:12})," Pace"]}),S.jsxs("div",{className:"text-xl font-mono text-white",children:[H,"s",S.jsx("span",{className:"text-[10px] text-slate-600",children:"/q"})]})]})]}),S.jsxs("div",{className:"w-full bg-slate-900/40 rounded-2xl border border-white/5 p-5",children:[S.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(M$,{size:16})," Performance by Topic"]}),S.jsx("div",{className:"space-y-4",children:Object.entries(Q).map(([te,le])=>{const de=Math.round(le.correct/le.total*100),ce=te.charAt(0).toUpperCase()+te.slice(1).toLowerCase().replace("_"," ");return S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-end mb-1",children:[S.jsx("span",{className:"text-sm font-medium text-slate-300",children:ce}),S.jsxs("div",{className:"flex gap-2 text-xs",children:[S.jsxs("span",{className:"text-slate-500",children:[le.correct,"/",le.total]}),S.jsxs("span",{className:de>70?"text-emerald-400":de>40?"text-amber-400":"text-red-400",children:[de,"%"]})]})]}),S.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:S.jsx(Yt.div,{initial:{width:0},animate:{width:`${de}%`},className:`h-full rounded-full ${de>70?"bg-emerald-500":de>40?"bg-amber-500":"bg-red-500"}`})})]},te)})})]}),A.length>0&&S.jsxs("div",{className:"w-full",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(pw,{size:16})," Review Mistakes (",A.length,")"]}),S.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:A.map(te=>{var de;const le=s.find(ce=>ce.id===te);return le?S.jsxs("div",{className:"bg-slate-900/80 p-4 rounded-xl border border-red-500/20 border-l-4 border-l-red-500",children:[S.jsx("div",{className:"text-sm text-white font-medium mb-2",children:X(le.text)}),S.jsxs("div",{className:"text-xs text-slate-400 bg-slate-950 p-2 rounded flex items-center gap-2",children:[S.jsx(bA,{size:12,className:"text-emerald-500"}),"Correct: ",X(((de=le.options.find(ce=>ce.key===le.correct))==null?void 0:de.text)||"")]})]},te):null})})]}),S.jsx("div",{className:"flex gap-4 w-full pt-4",children:S.jsxs("button",{onClick:()=>r("MENU"),className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-white rounded-2xl font-bold flex items-center justify-center gap-2 transition-colors",children:[S.jsx(R_,{size:18})," Back to Menu"]})})]},"result")]})})},hCe=()=>{const n=LT(),e=Re.useMemo(()=>{let r=0,i=0,a=0,s=0,o=0,l=0,u=0;const c={};py.forEach(x=>{c[x.id]={total:0,attempted:0,correct:0,mastered:0}}),Object.entries(jv).forEach(([x,A])=>{if(!A)return;const b=x;A.forEach(_=>{u++;const M=n[_.id],E=Hq(M);c[b]&&c[b].total++,E==="UNSEEN"?l++:M&&(o+=E==="LEARNING"?1:0,s+=E==="MASTERED"?1:0,r+=M.correct+M.incorrect,i+=M.correct,a+=M.incorrect,c[b]&&(c[b].attempted++,c[b].correct+=M.correct,E==="MASTERED"&&c[b].mastered++))})});const d=u>0?Math.round(s/u*100):0,h=u>0?Math.round(o/u*100):0;let p=null,g=101;return Object.entries(c).forEach(([x,A])=>{const b=A;if(b.attempted>0){const _=b.mastered/b.total*100;_<g&&(g=_,p=py.find(M=>M.id===x))}}),{totalQuestions:u,masteredCount:s,learningCount:o,unseenCount:l,masteryPercentage:d,learningPercentage:h,topicStats:c,weakestTopic:p,totalAttempts:r}},[n]),t=()=>{window.confirm("Are you sure you want to reset all progress? This cannot be undone.")&&(fCe(),window.location.reload())};return S.jsxs("div",{className:"space-y-8 pb-20 max-w-5xl mx-auto",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end border-b border-white/10 pb-6 gap-6",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-4xl font-black text-white mb-2 tracking-tight flex items-center gap-3",children:[S.jsx(lF,{className:"text-cyan-400"})," Performance Analysis"]}),S.jsx("p",{className:"text-slate-400 max-w-2xl font-light text-base",children:"Long-term tracking of your mastery across all modules. Based on correct answer streaks and error rates."})]}),S.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-slate-900/50 hover:bg-red-900/20 text-slate-400 hover:text-red-400 border border-slate-800 hover:border-red-500/30 rounded-xl transition-all text-xs font-bold uppercase tracking-wider",children:[S.jsx(lW,{size:14})," Reset Data"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-900/40 rounded-3xl border border-slate-800 p-8 flex flex-col items-center justify-center relative overflow-hidden min-h-[320px]",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent pointer-events-none"}),S.jsxs("div",{className:"text-xs font-bold uppercase tracking-[0.2em] text-slate-500 mb-8 flex items-center gap-2 z-10",children:[S.jsx(bF,{size:16,className:"text-emerald-400"})," Global Mastery"]}),S.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center mb-8 z-10",children:[S.jsxs("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-2xl",viewBox:"0 0 100 100",children:[S.jsx("defs",{children:S.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[S.jsx("stop",{offset:"0%",stopColor:e.masteryPercentage>=80?"#10b981":e.masteryPercentage>=50?"#3b82f6":"#f59e0b"}),S.jsx("stop",{offset:"100%",stopColor:e.masteryPercentage>=80?"#34d399":e.masteryPercentage>=50?"#60a5fa":"#fbbf24"})]})}),S.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#0f172a",strokeWidth:"8"}),S.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#1e293b",strokeWidth:"8",strokeOpacity:"0.5"}),S.jsx(Yt.circle,{initial:{strokeDashoffset:251.3},animate:{strokeDashoffset:251.3-251.3*e.masteryPercentage/100},transition:{duration:1.5,ease:"easeOut",delay:.2},cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#progressGradient)",strokeWidth:"8",strokeDasharray:"251.3",strokeLinecap:"round",className:"drop-shadow-[0_0_15px_rgba(16,185,129,0.2)]"})]}),S.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:S.jsxs(Yt.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},className:"text-5xl font-black text-white tracking-tighter",children:[e.masteryPercentage,S.jsx("span",{className:"text-2xl text-slate-500 align-top ml-1",children:"%"})]})})]}),S.jsxs("div",{className:"flex gap-4 text-[10px] font-mono font-bold uppercase tracking-widest z-10 bg-slate-950/50 px-5 py-2.5 rounded-full border border-white/5",children:[S.jsxs("span",{className:"text-emerald-400 flex items-center gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),e.masteredCount," Mastered"]}),S.jsxs("span",{className:"text-amber-400 flex items-center gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400"}),e.learningCount," Learning"]})]})]}),S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-900/40 rounded-3xl border border-slate-800 p-8 flex flex-col justify-between min-h-[320px]",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"text-xs font-bold uppercase tracking-[0.2em] text-slate-500 mb-8 flex items-center gap-2",children:[S.jsx(Vd,{size:16,className:"text-blue-400"})," Activity Log"]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-end pb-4 border-b border-white/5",children:[S.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Attempts"}),S.jsx("span",{className:"text-3xl font-mono font-bold text-white",children:e.totalAttempts})]}),S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Questions Exposed"}),S.jsxs("div",{className:"text-right",children:[S.jsx("span",{className:"text-3xl font-mono font-bold text-blue-400 block mb-1",children:e.totalQuestions-e.unseenCount}),S.jsxs("span",{className:"text-xs text-slate-600 font-bold uppercase tracking-wider",children:["OUT OF ",e.totalQuestions]})]})]})]})]}),S.jsx("div",{className:"w-full bg-slate-800 rounded-full h-3 overflow-hidden mt-6 shadow-inner",children:S.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-cyan-400",style:{width:`${e.totalQuestions>0?(e.totalQuestions-e.unseenCount)/e.totalQuestions*100:0}%`}})})]}),S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-900/40 rounded-3xl border border-slate-800 p-8 flex flex-col justify-between min-h-[320px]",children:[S.jsxs("div",{className:"text-xs font-bold uppercase tracking-[0.2em] text-slate-500 mb-8 flex items-center gap-2",children:[S.jsx(D_,{size:16,className:"text-pink-400"})," Focus Area"]}),e.weakestTopic?S.jsxs("div",{className:"flex flex-col h-full justify-between",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-4xl font-black text-white mb-3 tracking-tight",children:e.weakestTopic.label}),S.jsx("div",{className:"h-1 w-12 bg-pink-500 rounded-full mb-6"}),S.jsx("p",{className:"text-sm text-slate-400 leading-relaxed font-light",children:"This topic has the lowest mastery rate among those you've attempted."})]}),S.jsxs("div",{className:"mt-6 p-4 bg-pink-500/10 border border-pink-500/20 rounded-2xl text-pink-300 text-xs font-medium leading-relaxed",children:["Recommendation: Review ",S.jsx("span",{className:"text-white font-bold",children:"Concept Drills"})," or check the ",S.jsx("span",{className:"text-white font-bold",children:"Cheat Sheet"}),"."]})]}):S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 text-sm text-center font-medium",children:[S.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-4 text-slate-600",children:S.jsx(Wy,{size:32})}),"Start solving questions to generate insights."]})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(e.topicStats).map(([r,i],a)=>{const s=py.find(u=>u.id===r),o=i;if(!s)return null;const l=o.total>0?Math.round(o.mastered/o.total*100):0;return S.jsxs(Yt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+a*.05},className:"bg-slate-900/30 border border-slate-800 p-6 rounded-3xl flex items-center gap-6 hover:bg-slate-900/50 transition-colors group",children:[S.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${s.bg} ${s.color} group-hover:scale-110 transition-transform`,children:S.jsx(s.icon,{size:26})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex justify-between mb-2",children:[S.jsx("h4",{className:"font-bold text-white text-base",children:s.label}),S.jsxs("span",{className:`text-sm font-mono font-bold ${l>=80?"text-emerald-400":l>=50?"text-blue-400":"text-slate-400"}`,children:[l,"%"]})]}),S.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden mb-3",children:S.jsx(Yt.div,{initial:{width:0},animate:{width:`${l}%`},className:`h-full rounded-full ${l>=80?"bg-emerald-500":l>=50?"bg-blue-500":"bg-slate-600"}`})}),S.jsxs("div",{className:"flex gap-4 text-[10px] text-slate-500 font-mono uppercase tracking-wide",children:[S.jsxs("span",{children:[S.jsx("strong",{className:"text-slate-300",children:o.mastered}),"/",o.total," Mastered"]}),S.jsxs("span",{children:[S.jsx("strong",{className:"text-slate-300",children:o.attempted})," Attempted"]})]})]})]},r)})})]})},__=[{id:"def",name:"Definition of Derivative",formula:"f'(x) = \\lim_{\\Delta x \\to 0} \\frac{f(x + \\Delta x) - f(x)}{\\Delta x}",desc:"The fundamental measure of instantaneous change. Geometrically, it represents the slope of the tangent line at a specific point.",analogy:"Like a speedometer in a car. It tells you your exact speed at a specific instant, not just the average speed over the whole trip.",breakdown:[{term:"f(x + \\Delta x) - f(x)",meaning:"Change in Output (Rise)",color:"text-cyan-400"},{term:"\\Delta x",meaning:"Change in Input (Run)",color:"text-purple-400"},{term:"\\lim",meaning:"Approaching Zero Interval",color:"text-emerald-400"}],example:{problem:"f(x) = x^2",solution:"2x"}},{id:"power",name:"Power Rule",formula:"\\frac{d}{dx}(x^n) = n \\cdot x^{n-1}",desc:"Used for polynomials. You bring the exponent down as a multiplier and subtract one from the power.",analogy:"Think of it as 'demoting' the power. A cubic function becomes quadratic, a quadratic becomes linear.",breakdown:[{term:"n",meaning:"Original Exponent becomes Multiplier",color:"text-pink-400"},{term:"n-1",meaning:"Power reduces by one degree",color:"text-orange-400"}],example:{problem:"\\frac{d}{dx}(x^4)",solution:"4x^3"}},{id:"product",name:"Product Rule",formula:"(f \\cdot g)' = f'g + fg'",desc:"Derivative of two multiplied functions. It's NOT just f' times g'. It's the 'first times derivative of second plus second times derivative of first'.",analogy:"Imagine tracking the growth of a rectangular garden where both Length (f) and Width (g) are expanding simultaneously.",breakdown:[{term:"f'g",meaning:"Growth due to change in first function",color:"text-cyan-400"},{term:"fg'",meaning:"Growth due to change in second function",color:"text-purple-400"}],example:{problem:"(x^2)(\\sin x)",solution:"2x\\sin x + x^2\\cos x"}},{id:"chain",name:"Chain Rule",formula:"\\frac{d}{dx}f(g(x)) = f'(g(x)) \\cdot g'(x)",desc:"Used for composition functions (functions inside functions). Differentiate the outer layer, keep inner same, multiply by derivative of inner.",analogy:"Like peeling an onion. You have to peel the outer layer (f) before you can deal with the inner layer (g).",breakdown:[{term:"f'(g(x))",meaning:"Outer Derivative (Inner unchanged)",color:"text-emerald-400"},{term:"g'(x)",meaning:"Inner Derivative (Chain)",color:"text-rose-400"}],example:{problem:"\\sin(x^3)",solution:"\\cos(x^3) \\cdot 3x^2"}},{id:"quotient",name:"Quotient Rule",formula:"\\left(\\frac{f}{g}\\right)' = \\frac{f'g - fg'}{g^2}",desc:"Derivative of division. Mnemonic: 'Low d-High minus High d-Low, over Low Low'.",analogy:"Measuring the rate of change of a ratio, like population density (People / Area) where both change over time.",breakdown:[{term:"f'g - fg'",meaning:"Opposing rates of change",color:"text-cyan-400"},{term:"g^2",meaning:"Normalization factor",color:"text-slate-400"}],example:{problem:"\\frac{x}{e^x}",solution:"\\frac{1\\cdot e^x - x\\cdot e^x}{(e^x)^2}"}}],mCe=()=>{const[n,e]=Re.useState(__[0]);return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Differentiation Codex"}),S.jsx("p",{className:"text-slate-400 max-w-3xl font-light",children:"The fundamental laws of Calculus. Select a rule to explore its mechanism, geometric meaning, and application."})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsx("div",{className:"lg:col-span-4 space-y-4",children:__.map(t=>S.jsxs("button",{onClick:()=>e(t),className:`w-full text-left p-4 rounded-xl border transition-all duration-300 group relative overflow-hidden
                        ${n.id===t.id?"bg-slate-800 border-cyan-500/50 shadow-lg shadow-cyan-900/20":"bg-slate-900/40 border-slate-700 hover:bg-slate-800 hover:border-slate-600"}
                    `,children:[n.id===t.id&&S.jsx(Yt.div,{layoutId:"activeGlow",className:"absolute inset-0 bg-cyan-500/5"}),S.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsxs("span",{className:`text-xs font-bold uppercase tracking-widest mb-1 block ${n.id===t.id?"text-cyan-400":"text-slate-500"}`,children:["Rule 0",__.indexOf(t)+1]}),S.jsx("h3",{className:`font-bold text-lg ${n.id===t.id?"text-white":"text-slate-300"}`,children:t.name})]}),n.id===t.id&&S.jsx(ic,{size:20,className:"text-cyan-400"})]})]},t.id))}),S.jsx("div",{className:"lg:col-span-8",children:S.jsx(Eo,{mode:"wait",children:S.jsxs(Yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"glass-panel p-8 rounded-[32px] border-l-4 border-l-cyan-500 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"bg-slate-950/80 p-6 rounded-2xl border border-white/5 mb-8 text-center shadow-inner relative group",children:[S.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-widest border border-slate-800 px-2 py-1 rounded",children:"LaTeX"})}),S.jsx(Dn,{expression:n.formula,className:"text-2xl md:text-3xl text-white"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[S.jsxs("div",{children:[S.jsxs("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(oc,{size:16,className:"text-purple-400"})," Formula Anatomy"]}),S.jsx("div",{className:"space-y-3",children:n.breakdown.map((t,r)=>S.jsxs("div",{className:"bg-slate-900/50 p-3 rounded-lg border border-slate-800 flex items-start gap-3",children:[S.jsx("div",{className:"mt-1",children:S.jsx("div",{className:`w-2 h-2 rounded-full ${t.color.replace("text-","bg-")}`})}),S.jsxs("div",{children:[S.jsx("div",{className:`font-mono font-bold text-sm ${t.color}`,children:S.jsx(Dn,{expression:t.term,inline:!0})}),S.jsx("p",{className:"text-xs text-slate-400 leading-snug",children:t.meaning})]})]},r))})]}),S.jsxs("div",{children:[S.jsxs("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(M1,{size:16,className:"text-amber-400"})," Intuition & Analogy"]}),S.jsxs("div",{className:"bg-amber-500/5 p-5 rounded-xl border border-amber-500/20 text-amber-100/80 text-sm leading-relaxed mb-4",children:['"',n.analogy,'"']}),S.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:n.desc})]})]}),S.jsxs("div",{className:"border-t border-white/10 pt-6",children:[S.jsxs("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(wF,{size:16,className:"text-pink-400"})," Worked Example"]}),S.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 bg-slate-900/80 p-4 rounded-xl border border-slate-800",children:[S.jsxs("div",{className:"text-slate-400 font-mono text-sm",children:["Problem: ",S.jsx(Dn,{expression:n.example.problem,inline:!0})]}),S.jsx(ic,{size:16,className:"text-slate-600 hidden md:block"}),S.jsx("div",{className:"rotate-90 md:rotate-0 text-slate-600 md:hidden",children:S.jsx(ic,{size:16})}),S.jsx("div",{className:"text-cyan-400 font-mono text-lg font-bold",children:S.jsx(Dn,{expression:n.example.solution,inline:!0})})]})]})]},n.id)})})]}),S.jsx(cc,{context:"derivatives"})]})},pCe=()=>{const[n,e]=hu("analysis_input","x^3 + 3x^2 - 9x - 2"),[t,r]=Re.useState(null),i=Re.useRef(null),[a,s]=Re.useState({f:null,df:null,dfStr:"",error:!1}),[o,l]=hu("analysis_domain",{x:[-10,10],y:[-20,20]}),[u,c]=Re.useState(!1),d=Re.useRef({x:0,y:0}),h=Re.useRef({x:[-10,10],y:[-20,20]}),p=800,g=400,x=U=>(U-o.x[0])/(o.x[1]-o.x[0])*p,A=U=>g-(U-o.y[0])/(o.y[1]-o.y[0])*g,b=U=>o.x[0]+U/p*(o.x[1]-o.x[0]);Re.useEffect(()=>{try{const U=bc(n),I=U.compile(),q=Vq(U,"x"),X=q.compile();s({f:I,df:X,dfStr:q.toString(),error:!1})}catch{s(I=>({...I,error:!0}))}},[n]);const _=U=>{try{return a.f?a.f.evaluate({x:U}):0}catch{return 0}},M=U=>{try{return a.df?a.df.evaluate({x:U}):0}catch{return 0}},E=Re.useMemo(()=>{if(a.error||!a.df)return[];const U=[],q=(o.x[1]-o.x[0])/500;let X=M(o.x[0]);for(let $=o.x[0];$<=o.x[1];$+=q){const k=M($);if(X>0&&k<0||X<0&&k>0){const P=$-q/2,Z=_(P);U.push({x:P,y:Z,type:X>0?"max":"min"})}X=k}return U},[a,o.x]),C=()=>{if(a.error)return"";let U="";const I=o.x[1]-o.x[0],q=I/800;let X=!1;const $=o.x[0]-I*.1,k=o.x[1]+I*.1;for(let P=$;P<=k;P+=q){const Z=_(P);if(isNaN(Z)||Math.abs(Z)>Math.max(Math.abs(o.y[0]),Math.abs(o.y[1]))*10){X=!1;continue}const H=x(P),ae=A(Z);X?U+=` L ${H} ${ae}`:(U+=`M ${H} ${ae}`,X=!0)}return U},T=U=>{U.preventDefault();const I=U.deltaY>0?1.1:.9,q=o.x[1]-o.x[0],X=o.y[1]-o.y[0],$=(o.x[0]+o.x[1])/2,k=(o.y[0]+o.y[1])/2;l({x:[$-q*I/2,$+q*I/2],y:[k-X*I/2,k+X*I/2]})},B=U=>{c(!0),d.current={x:U.clientX,y:U.clientY},h.current=o},z=U=>{if(u){const $=U.clientX-d.current.x,k=U.clientY-d.current.y,P=h.current.x[1]-h.current.x[0],Z=h.current.y[1]-h.current.y[0],H=-($/p)*P,ae=k/g*Z;l({x:[h.current.x[0]+H,h.current.x[1]+H],y:[h.current.y[0]+ae,h.current.y[1]+ae]});return}if(!i.current)return;const I=i.current.getBoundingClientRect(),q=U.clientX-I.left,X=b(q);r({x:X,y:_(X)})},R=()=>{c(!1)},O=()=>{if(!t)return null;const U=M(t.x),q=(o.x[1]-o.x[0])*.15,X=t.x-q,$=t.y-U*q,k=t.x+q,P=t.y+U*q;return S.jsx("line",{x1:x(X),y1:A($),x2:x(k),y2:A(P),stroke:"#fbbf24",strokeWidth:"2",strokeDasharray:"4 4"})};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"mb-8",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Function Analysis"}),S.jsx("p",{className:"text-slate-400 max-w-3xl",children:"Interactive graph. Scroll to zoom, drag to pan. Analyze extrema and derivatives."})]}),S.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"xl:col-span-2 bg-slate-900 rounded-2xl border border-slate-700 relative overflow-hidden shadow-2xl group min-h-[400px] flex flex-col",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"p-4 border-b border-slate-800 flex flex-col sm:flex-row justify-between items-start sm:items-center bg-slate-900/80 backdrop-blur z-10 relative gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[S.jsx("span",{className:"text-slate-400 text-sm font-bold",children:"f(x) ="}),S.jsx("input",{type:"text",value:n,onChange:U=>e(U.target.value),className:"bg-slate-950 border border-slate-700 text-white px-3 py-1 rounded-lg font-mono text-sm focus:border-cyan-500 outline-none w-full sm:w-64"})]}),S.jsxs("div",{className:"flex gap-4 text-xs font-mono shrink-0 items-center",children:[S.jsxs("span",{className:"text-cyan-400 flex items-center gap-1",children:[S.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"})," Curve"]}),S.jsxs("span",{className:"text-amber-400 flex items-center gap-1",children:[S.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"})," Tangent"]}),S.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[S.jsx(e6,{size:12})," Drag"]}),S.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[S.jsx(yW,{size:12})," Scroll"]})]})]}),S.jsxs("div",{className:`relative flex-1 w-full ${u?"cursor-grabbing":"cursor-crosshair"} touch-none`,style:{touchAction:"none"},onWheel:T,onMouseDown:B,onMouseMove:z,onMouseUp:R,onMouseLeave:()=>{r(null),c(!1)},children:[S.jsxs("svg",{ref:i,viewBox:`0 0 ${p} ${g}`,className:"w-full h-full overflow-visible select-none",children:[o.y[0]<0&&o.y[1]>0&&S.jsx("line",{x1:0,y1:A(0),x2:p,y2:A(0),stroke:"#475569",strokeWidth:"1"}),o.x[0]<0&&o.x[1]>0&&S.jsx("line",{x1:x(0),y1:0,x2:x(0),y2:g,stroke:"#475569",strokeWidth:"1"}),[Math.round(o.x[0]),0,Math.round(o.x[1])].map(U=>S.jsx("text",{x:x(U)+4,y:g-6,fill:"#64748b",fontSize:"10",fontFamily:"monospace",children:U},`x-${U}`)),[Math.round(o.y[0]),0,Math.round(o.y[1])].map(U=>S.jsx("text",{x:4,y:A(U)-4,fill:"#64748b",fontSize:"10",fontFamily:"monospace",children:U},`y-${U}`)),S.jsx(Yt.path,{d:C(),fill:"none",stroke:"#22d3ee",strokeWidth:"2.5"}),t&&!u&&S.jsxs(S.Fragment,{children:[O(),S.jsx("circle",{cx:x(t.x),cy:A(t.y),r:"4",fill:"#fbbf24"})]}),E.map((U,I)=>S.jsx("g",{children:S.jsx("circle",{cx:x(U.x),cy:A(U.y),r:"5",className:"fill-pink-500 stroke-white stroke-2"})},I))]}),t&&!u&&S.jsxs("div",{className:"absolute pointer-events-none bg-slate-800/90 text-white text-xs p-3 rounded-lg border border-amber-500/50 shadow-xl font-mono whitespace-nowrap z-20 backdrop-blur-md",style:{left:Math.min(x(t.x)+10,p-150),top:Math.max(A(t.y)-80,10)},children:[S.jsxs("div",{className:"mb-1",children:["x: ",S.jsx("span",{className:"text-slate-300",children:t.x.toFixed(2)})]}),S.jsxs("div",{className:"mb-1",children:["y: ",S.jsx("span",{className:"text-cyan-300",children:t.y.toFixed(2)})]}),S.jsxs("div",{children:["m: ",S.jsx("span",{className:"text-amber-400 font-bold",children:M(t.x).toFixed(2)})]})]})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700 backdrop-blur-md",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"Derivative Calculation"}),S.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 mb-4",children:[S.jsxs("div",{className:"text-xs text-slate-500 mb-1 font-mono",children:["f'(x) = d/dx[",n,"]"]}),S.jsx("div",{className:"text-lg text-pink-400 font-mono break-all",children:a.dfStr||"Computing..."})]}),t?S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-700",children:[S.jsxs("span",{className:"text-slate-400 text-sm",children:["Slope at x=",t.x.toFixed(1)]}),S.jsx("span",{className:`font-mono font-bold ${M(t.x)>0?"text-green-400":"text-red-400"}`,children:M(t.x).toFixed(3)})]}),S.jsx("div",{className:"text-xs text-right text-slate-500",children:M(t.x)>0?"Function is Increasing":"Function is Decreasing"})]}):S.jsx("div",{className:"text-center text-slate-500 py-2 text-sm",children:"Hover over graph to evaluate"})]}),S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700 backdrop-blur-md",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"Detected Extrema in View"}),E.length>0?S.jsx("div",{className:"space-y-3 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar",children:E.map((U,I)=>S.jsxs("div",{className:"flex items-center justify-between bg-slate-900/50 p-3 rounded-lg border border-slate-800",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-md ${U.type==="max"?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:U.type==="max"?S.jsx(O3,{size:16}):S.jsx(t$,{size:16})}),S.jsxs("div",{children:[S.jsxs("div",{className:"text-xs font-bold text-slate-300 uppercase",children:[U.type,"imum"]}),S.jsxs("div",{className:"text-[10px] text-slate-500 font-mono",children:["at x  ",U.x.toFixed(2)]})]})]}),S.jsx("div",{className:"text-right font-mono text-sm text-cyan-400",children:U.y.toFixed(2)})]},I))}):S.jsx("div",{className:"text-center py-6 text-slate-500 text-sm bg-slate-900/30 rounded-xl border border-slate-800/50 border-dashed",children:"No critical points found in view range."})]}),S.jsx("div",{className:"text-[10px] text-slate-600 text-center",children:"Powered by MathJS Symbolic Differentiation"})]})]}),S.jsx(cc,{context:"analysis"})]})},E_=[{id:"system",title:"System Matrix Form",icon:V$,desc:"Any system of linear equations can be expressed as a single matrix equation AX = B. This encapsulates the entire problem into a compact geometric form.",math:"A \\cdot \\mathbf{x} = \\mathbf{b}",anatomy:[{term:"A",meaning:"Coefficient Matrix (nxn)",color:"text-blue-400"},{term:"\\mathbf{x}",meaning:"Vector of Variables",color:"text-purple-400"},{term:"\\mathbf{b}",meaning:"Constant Vector",color:"text-orange-400"}]},{id:"determinant",title:"The Determinant (W)",icon:vF,desc:"The 'Main Determinant' W determines if the system has a unique solution. Geometrically, it measures how the matrix A scales volume.",math:"W = \\det(A) \\neq 0",anatomy:[{term:"W",meaning:"Main Determinant",color:"text-emerald-400"},{term:"\\neq 0",meaning:"Condition for Uniqueness",color:"text-red-400"}]},{id:"cramer",title:"Cramer's Formula",icon:s1,desc:"A direct method to solve for each variable individually by replacing columns in the main matrix with the constant vector B.",math:"x_i = \\frac{W_i}{W} = \\frac{\\det(A_i)}{\\det(A)}",anatomy:[{term:"x_i",meaning:"i-th Variable (x, y, z...)",color:"text-white"},{term:"W_i",meaning:"Det after replacing col i with b",color:"text-cyan-400"},{term:"W",meaning:"Original Determinant",color:"text-slate-400"}]}],vCe=()=>{const[n,e]=Re.useState(E_[0]),[t,r]=Re.useState(3),[i,a]=Re.useState([[1,-2,1],[0,2,-8],[-4,5,9]]),[s,o]=Re.useState([[0],[8],[-9]]),l=h=>{r(h),a(q0(h,h,1)),o(q0(h,1,1))},{detA:u,cramerResults:c,solutionStatus:d}=Re.useMemo(()=>{const h=ff(i),p=s.map(A=>A[0]),g=[];let x="UNIQUE";if(h!==null)if(Math.abs(h)<1e-5){let A=!0;for(let b=0;b<t;b++){const _=H7(i,b,p);Math.abs(ff(_)||0)>1e-4&&(A=!1)}x=A?"INFINITE":"INCONSISTENT"}else for(let A=0;A<t;A++){const b=H7(i,A,p),_=ff(b);g.push({var:A===0?"x":A===1?"y":"z",matrix:b,det:_,val:(_||0)/h})}return{detA:h,bVector:p,cramerResults:g,solutionStatus:x}},[i,s,t]);return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6 flex flex-col md:flex-row justify-between items-end gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Linear Systems Theory"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl font-light",children:["Mastering ",S.jsx("span",{className:"font-mono text-cyan-400",children:"AX = B"})," via Cramer's Rule. Understand the geometry of linear intersections."]})]}),S.jsxs("div",{className:"bg-slate-900 p-1 rounded-xl border border-slate-800 flex gap-1",children:[S.jsx("button",{onClick:()=>l(2),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg transition-all ${t===2?"bg-cyan-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"2 Vars"}),S.jsx("button",{onClick:()=>l(3),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg transition-all ${t===3?"bg-cyan-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"3 Vars"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsx("div",{className:"lg:col-span-4 space-y-4",children:E_.map(h=>S.jsxs("button",{onClick:()=>e(h),className:`w-full text-left p-4 rounded-xl border transition-all duration-300 group relative overflow-hidden
                            ${n.id===h.id?"bg-slate-800 border-cyan-500/50 shadow-lg shadow-cyan-900/20":"bg-slate-900/40 border-slate-700 hover:bg-slate-800 hover:border-slate-600"}
                        `,children:[n.id===h.id&&S.jsx(Yt.div,{layoutId:"activeConceptGlow",className:"absolute inset-0 bg-cyan-500/5"}),S.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[S.jsx("div",{className:`p-2 rounded-lg ${n.id===h.id?"bg-cyan-500 text-white":"bg-slate-800 text-slate-500"}`,children:S.jsx(h.icon,{size:20})}),S.jsxs("div",{children:[S.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest mb-0.5 block ${n.id===h.id?"text-cyan-400":"text-slate-500"}`,children:["Concept 0",E_.indexOf(h)+1]}),S.jsx("h3",{className:`font-bold text-sm ${n.id===h.id?"text-white":"text-slate-300"}`,children:h.title})]})]})]},h.id))}),S.jsx("div",{className:"lg:col-span-8",children:S.jsx(Eo,{mode:"wait",children:S.jsxs(Yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"glass-panel p-8 rounded-[32px] border-l-4 border-l-cyan-500 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n.title}),S.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:n.desc})]}),S.jsx("div",{className:"bg-slate-950/80 p-4 rounded-xl border border-white/5 min-w-[200px] flex flex-col items-center justify-center",children:S.jsx(Dn,{expression:n.math,className:"text-xl text-cyan-200"})})]}),S.jsxs("div",{className:"mb-8 bg-slate-900/50 p-5 rounded-2xl border border-slate-800",children:[S.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[S.jsx(cw,{size:14})," Formula Anatomy"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.anatomy.map((h,p)=>S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`font-mono font-bold text-sm ${h.color}`,children:S.jsx(Dn,{expression:h.term,inline:!0})}),S.jsx("p",{className:"text-xs text-slate-400 leading-snug border-l border-slate-700 pl-2",children:h.meaning})]},p))})]}),S.jsxs("div",{className:"bg-slate-900/40 rounded-2xl border border-white/5 p-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs("h4",{className:"text-xs font-bold text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(oc,{size:16})," Interactive System Lab"]}),S.jsxs("div",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase border ${d==="UNIQUE"?"border-emerald-500/30 text-emerald-400 bg-emerald-500/10":"border-pink-500/30 text-pink-400 bg-pink-500/10"}`,children:["Status: ",d]})]}),S.jsxs("div",{className:"flex flex-col xl:flex-row gap-8 items-start",children:[S.jsxs("div",{className:"flex items-center gap-4 overflow-x-auto pb-2",children:[S.jsxs("div",{className:"space-y-1 text-center",children:[S.jsx("div",{className:"text-[9px] text-slate-500 font-bold uppercase",children:"A"}),S.jsx(Jo,{data:i,onChange:a,editable:!0,color:"blue"})]}),S.jsx("div",{className:"text-2xl text-slate-600 font-light",children:""}),S.jsxs("div",{className:"space-y-1 text-center",children:[S.jsx("div",{className:"text-[9px] text-slate-500 font-bold uppercase",children:"X"}),S.jsx("div",{className:"flex flex-col gap-2 p-2 border border-slate-700 rounded-lg bg-slate-900/50",children:["x","y","z"].slice(0,t).map(h=>S.jsx("div",{className:"w-8 py-1 text-center text-slate-400 italic font-serif",children:h},h))})]}),S.jsx("div",{className:"text-2xl text-slate-600 font-light",children:"="}),S.jsxs("div",{className:"space-y-1 text-center",children:[S.jsx("div",{className:"text-[9px] text-slate-500 font-bold uppercase",children:"B"}),S.jsx(Jo,{data:s,onChange:o,editable:!0,color:"orange"})]})]}),S.jsxs("div",{className:"flex-1 w-full bg-slate-950 p-4 rounded-xl border border-slate-800",children:[n.id==="system"&&S.jsx("div",{className:"text-center text-slate-400 text-sm py-4",children:"Input the coefficients (A) and constants (B) to define your system."}),n.id==="determinant"&&S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-xs text-slate-500 uppercase mb-2",children:"Main Determinant (W)"}),S.jsx("div",{className:`text-4xl font-mono font-bold ${u===0?"text-pink-500":"text-emerald-400"}`,children:u!==null?du(u):"-"}),S.jsx("div",{className:"mt-2 text-xs text-slate-500",children:u===0?"System is Singular (No unique solution)":"System is Non-Singular (Unique solution exists)"})]}),n.id==="cramer"&&d==="UNIQUE"&&S.jsx("div",{className:"space-y-3",children:c.map((h,p)=>S.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded border border-slate-800",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-serif italic text-white font-bold",children:h.var}),S.jsx("span",{className:"text-slate-500 text-xs",children:"="}),S.jsxs("span",{className:"font-mono text-cyan-400 text-xs",children:["W_",h.var,"/W"]})]}),S.jsxs("div",{className:"font-mono text-sm text-white",children:[du(h.det||0)," / ",du(u||0)," = ",S.jsx("span",{className:"font-bold text-cyan-400",children:du(h.val)})]})]},p))})]})]})]})]},n.id)})})]}),S.jsx(cc,{context:"systems"})]})},N_=[{id:"rule1",name:"1. Point Exists",condition:"f(c) \\text{ is defined}",desc:"The function must actually have a value at x = c. There cannot be a hole with no filled point.",analogy:"Like a bridge having a specific plank to step on at the center. If the plank is missing, you can't cross.",interactiveMode:"HOLE"},{id:"rule2",name:"2. Limit Exists",condition:"\\lim_{x \\to c} f(x) \\text{ exists}",desc:"The left-hand path and the right-hand path must meet at the same location. No jumps allowed.",analogy:"Two road crews building a bridge from opposite sides must meet at the same height.",interactiveMode:"JUMP"},{id:"rule3",name:"3. Agreement",condition:"\\lim_{x \\to c} f(x) = f(c)",desc:'The value of the limit must equal the actual function value. The "bridge plank" must be exactly where the road ends, not floating above.',analogy:"The pothole (limit) must be perfectly filled by the asphalt patch (point).",interactiveMode:"CONTINUOUS"}],gCe=()=>{const[n,e]=Re.useState("rule3"),[t,r]=Re.useState(2),i=N_.find(b=>b.id===n)||N_[0],a=2,s=4,o=600,l=300,u=b=>(b+2)/8*o,c=b=>l-b/8*l,d=i.interactiveMode==="JUMP"?2:0,h=`M ${u(-2)} ${c(0)} L ${u(a-.1)} ${c(s-.1)}`,p=`M ${u(a+.1)} ${c(s-.1+d)} L ${u(6)} ${c(8+d)}`,g=i.interactiveMode!=="JUMP",x=Math.abs(t-s)<.2,A=g&&x;return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Continuity & Limits"}),S.jsxs("p",{className:"text-slate-400 max-w-3xl font-light",children:["The three fundamental laws that determine if a function is continuous at a point ",S.jsx("span",{className:"font-mono text-cyan-400",children:"x = c"}),"."]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsx("div",{className:"lg:col-span-4 space-y-4",children:N_.map(b=>S.jsxs("button",{onClick:()=>e(b.id),className:`w-full text-left p-4 rounded-xl border transition-all duration-300 group relative overflow-hidden
                            ${n===b.id?"bg-slate-800 border-cyan-500/50 shadow-lg shadow-cyan-900/20":"bg-slate-900/40 border-slate-700 hover:bg-slate-800 hover:border-slate-600"}
                        `,children:[n===b.id&&S.jsx(Yt.div,{layoutId:"activeRuleGlow",className:"absolute inset-0 bg-cyan-500/5"}),S.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest mb-1 block ${n===b.id?"text-cyan-400":"text-slate-500"}`,children:"Condition"}),S.jsx("h3",{className:`font-bold text-base ${n===b.id?"text-white":"text-slate-300"}`,children:b.name})]}),n===b.id&&S.jsx(ic,{size:18,className:"text-cyan-400"})]})]},b.id))}),S.jsx("div",{className:"lg:col-span-8",children:S.jsx(Eo,{mode:"wait",children:S.jsxs(Yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"glass-panel p-8 rounded-[32px] border-l-4 border-l-cyan-500 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"mb-8 text-center",children:[S.jsx(Dn,{expression:i.condition,className:"text-3xl text-white mb-4"}),S.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-lg mx-auto",children:i.desc})]}),S.jsxs("div",{className:"mb-8 bg-amber-500/5 p-5 rounded-xl border border-amber-500/20 flex gap-4 items-start",children:[S.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-500 shrink-0",children:S.jsx(M1,{size:20})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-xs font-bold text-amber-400 uppercase tracking-widest mb-1",children:"Real World Analogy"}),S.jsxs("p",{className:"text-sm text-amber-100/80 italic",children:['"',i.analogy,'"']})]})]}),S.jsxs("div",{className:"bg-slate-900/40 rounded-2xl border border-white/5 p-6 relative overflow-hidden",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[S.jsxs("h4",{className:"text-xs font-bold text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(qX,{size:16})," Repair Lab"]}),S.jsxs("div",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase border flex items-center gap-2 ${A?"border-emerald-500/30 text-emerald-400 bg-emerald-500/10":"border-pink-500/30 text-pink-400 bg-pink-500/10"}`,children:[A?S.jsx(Wy,{size:12}):S.jsx(CX,{size:12}),A?"Function Continuous":"Discontinuity Detected"]})]}),S.jsxs("div",{className:"relative h-[250px] w-full bg-slate-950/50 rounded-xl border border-slate-800 mb-4",children:[S.jsxs("svg",{viewBox:`0 0 ${o} ${l}`,className:"w-full h-full overflow-visible",children:[S.jsx("line",{x1:u(-2),y1:c(0),x2:u(6),y2:c(0),stroke:"#334155",strokeWidth:"1"}),S.jsx("line",{x1:u(0),y1:l,x2:u(0),y2:0,stroke:"#334155",strokeWidth:"1"}),S.jsx("path",{d:h,stroke:"#22d3ee",strokeWidth:"3",fill:"none",strokeLinecap:"round",opacity:.6}),S.jsx("path",{d:p,stroke:"#22d3ee",strokeWidth:"3",fill:"none",strokeLinecap:"round",opacity:.6}),g&&S.jsx("circle",{cx:u(a),cy:c(s),r:"6",fill:"#020617",stroke:"#94a3b8",strokeWidth:"2",strokeDasharray:"2 2"}),S.jsx(Yt.circle,{cx:u(a),animate:{cy:c(t)},r:"6",className:`${A?"fill-emerald-400 stroke-emerald-200":"fill-pink-500 stroke-pink-200"} cursor-grab active:cursor-grabbing`,strokeWidth:"2"})]}),S.jsxs("div",{className:"absolute top-2 right-2 bg-slate-900/80 p-2 rounded text-xs font-mono border border-slate-800",children:["f(2) = ",S.jsx("span",{className:A?"text-emerald-400":"text-pink-400",children:t.toFixed(1)})]})]}),S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Adjust f(2):"}),S.jsx("input",{type:"range",min:"1",max:"7",step:"0.1",value:t,onChange:b=>r(parseFloat(b.target.value)),className:"flex-1 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]})]},i.id)})})]}),S.jsx(cc,{context:"limits"})]})},xCe=()=>{const[n,e]=Re.useState([[0,1,-1,8],[-3,-1,2,-11],[-2,1,2,-3]]),[t,r]=Re.useState(0),[i,a]=Re.useState(!1),[s,o]=Re.useState(1500),u=(h=>{const p=[];let g=h.map(M=>[...M]);const x=g.length,A=g[0].length;p.push({title:"System Initialization",data:g.map(M=>[...M]),desc:"Starting Augmented Matrix [A|b]. Goal: Upper Triangular Form.",formula:"Start"});let b=0,_=0;for(;b<x&&_<A-1;){let M=b,E=Math.abs(g[b][_]);for(let C=b+1;C<x;C++)Math.abs(g[C][_])>E&&(E=Math.abs(g[C][_]),M=C);if(M!==b){const C=g[b];g[b]=g[M],g[M]=C,p.push({title:"Pivot Swap",data:g.map(T=>[...T]),desc:`Swapping Row ${b+1} with Row ${M+1} to place the largest value (${g[b][_].toFixed(1)}) on the diagonal for stability.`,highlightRow:M,pivotRow:b,formula:`R${b+1}  R${M+1}`,isSwap:!0})}if(Math.abs(g[b][_])<1e-6){_++;continue}for(let C=b+1;C<x;C++){const T=g[C][_];if(Math.abs(T)>1e-6){const B=g[b][_],z=T/B,R=g[C].map((O,U)=>O-z*g[b][U]);g[C]=R,p.push({title:"Elimination",data:g.map(O=>[...O]),desc:`Eliminating term in R${C+1} using pivot from R${b+1}.`,highlightRow:C,pivotRow:b,formula:`R${C+1}  R${C+1} - (${z.toFixed(2)})R${b+1}`})}}b++,_++}return p.push({title:"Row Echelon Form",data:g.map(M=>[...M]),desc:"Matrix is now in Upper Triangular Form. Back-substitution can now solve for variables.",formula:"Done"}),p})(n),c=u[t];Re.useEffect(()=>{let h;return i&&(h=setInterval(()=>{r(p=>p<u.length-1?p+1:(a(!1),p))},s)),()=>clearInterval(h)},[i,u.length,s]);const d=h=>{e(h),r(0),a(!1)};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6 flex justify-between items-end",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-black text-white mb-2 tracking-tight",children:"Gaussian Elimination"}),S.jsxs("p",{className:"text-slate-400 font-light max-w-3xl text-base",children:["Algorithmic visualization of row reduction with ",S.jsx("strong",{children:"Partial Pivoting"})," strategy."]})]}),S.jsx("div",{className:"bg-slate-900 px-3 py-1 rounded border border-slate-800 text-[10px] font-mono text-slate-500 uppercase tracking-widest",children:"Algorithm: Gauss-Jordan"})]}),S.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-12 items-start",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"glass-panel p-8 rounded-3xl relative border-l-4 border-l-cyan-500",children:[S.jsx("div",{className:"absolute top-4 right-4 opacity-10",children:S.jsx(oc,{size:48})}),S.jsxs("div",{className:"mb-6",children:[S.jsx("h3",{className:"text-lg font-bold text-white",children:"Input System"}),S.jsx("p",{className:"text-xs text-slate-400",children:"Edit the Augmented Matrix [A|b] below."})]}),S.jsx(Jo,{data:n,onChange:d,editable:!0,color:"blue",label:""})]}),S.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-white/5 backdrop-blur-sm",children:[S.jsx("h3",{className:"text-purple-400 font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wider",children:"Step Logic"}),S.jsxs("div",{className:"relative pl-6 space-y-4 border-l border-slate-700",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute -left-[31px] top-1 w-2.5 h-2.5 rounded-full bg-cyan-500"}),S.jsx("h4",{className:"text-white font-bold text-sm",children:"1. Pivot Selection"}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Locate largest absolute value in current column to minimize error."})]}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute -left-[31px] top-1 w-2.5 h-2.5 rounded-full bg-purple-500"}),S.jsx("h4",{className:"text-white font-bold text-sm",children:"2. Row Swap"}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Move best pivot to diagonal position."})]}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute -left-[31px] top-1 w-2.5 h-2.5 rounded-full bg-orange-500"}),S.jsx("h4",{className:"text-white font-bold text-sm",children:"3. Elimination"}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Subtract multiples of pivot row to create zeros below."})]})]})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"glass-panel p-1 rounded-[32px] border-white/10 relative min-h-[420px] flex flex-col shadow-2xl bg-slate-900/40",children:[S.jsxs("div",{className:"bg-slate-950/80 rounded-t-[30px] p-4 flex justify-between items-center border-b border-white/5",children:[S.jsxs("span",{className:"text-xs font-mono text-cyan-400 font-bold uppercase tracking-widest flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"}),"Live Process"]}),S.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Step ",t+1," / ",u.length]})]}),S.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-8 overflow-hidden",children:[S.jsx(Eo,{mode:"wait",children:S.jsx(Yt.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:1.05,y:-10},className:"scale-110",children:S.jsx(Jo,{data:c.data.map(h=>h.map(p=>{const g=parseFloat(p.toFixed(2));return Object.is(g,-0)?0:g})),color:c.isSwap?"purple":t===u.length-1?"green":"orange",highlightRow:c.highlightRow,highlightCol:null})},t)}),c.pivotRow!==void 0&&S.jsxs("div",{className:"mt-10 flex gap-6 text-[10px] uppercase tracking-widest font-bold",children:[S.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 bg-cyan-500/10 px-3 py-1.5 rounded-full border border-cyan-500/20",children:["Pivot R",c.pivotRow+1]}),S.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border ${c.isSwap?"text-purple-400 bg-purple-500/10 border-purple-500/20":"text-orange-400 bg-orange-500/10 border-orange-500/20"}`,children:c.isSwap?`Swap R${c.highlightRow+1}`:`Target R${c.highlightRow+1}`})]})]})]}),S.jsxs("div",{className:"glass-panel p-6 rounded-3xl flex flex-col gap-5",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-1",children:[c.isSwap&&S.jsx(r$,{size:18,className:"text-purple-400"}),c.title]}),S.jsx("p",{className:"text-slate-400 text-sm",children:c.desc})]}),c.formula&&S.jsx("div",{className:"px-3 py-1.5 bg-slate-900 rounded-lg border border-slate-700 font-mono text-cyan-400 text-xs shadow-inner",children:c.formula})]}),S.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-white/5",children:[S.jsx("button",{onClick:()=>{a(!1),r(0)},className:"p-3 rounded-xl bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700 transition-colors",children:S.jsx(VX,{size:18})}),S.jsx("button",{onClick:()=>{a(!1),r(h=>Math.max(0,h-1))},disabled:t===0,className:"p-3 rounded-xl bg-slate-800 text-slate-200 hover:bg-slate-700 disabled:opacity-50 transition-colors",children:S.jsx(C$,{size:18})}),S.jsx("button",{onClick:()=>a(!i),className:`flex-1 py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg ${i?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-cyan-600 text-white hover:bg-cyan-500"}`,children:i?S.jsxs(S.Fragment,{children:[S.jsx(RX,{size:18})," Pause"]}):S.jsxs(S.Fragment,{children:[S.jsx(t6,{size:18,fill:"currentColor"})," Auto-Play"]})}),S.jsx("button",{onClick:()=>{a(!1),r(h=>Math.min(u.length-1,h+1))},disabled:t===u.length-1,className:"p-3 rounded-xl bg-slate-800 text-slate-200 hover:bg-slate-700 disabled:opacity-50 transition-colors",children:S.jsx(JE,{size:18})})]}),S.jsx("div",{className:"flex justify-center gap-4",children:[2e3,1e3,500].map(h=>S.jsxs("button",{onClick:()=>o(h),className:`text-[10px] uppercase font-bold px-3 py-1 rounded-full border transition-all ${s===h?"bg-white text-black border-white":"bg-transparent text-slate-500 border-slate-700 hover:border-slate-500"}`,children:[h===2e3?"1x":h===1e3?"2x":"4x"," Speed"]},h))})]})]})]})]})},yCe=()=>{const[n,e]=Re.useState([[4,1],[2,3]]),t=Re.useMemo(()=>tI(n),[n]),r=Re.useMemo(()=>ff(n),[n]),i=Re.useMemo(()=>vte(n),[n]),a=t!==null?-t:0,s=r!==null?r:0;return S.jsxs("div",{className:"space-y-10 pb-20",children:[S.jsxs("header",{className:"mb-8",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Eigenvalues (Stability)"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl",children:["Eigenvalues (",S.jsx("span",{className:"font-mono text-pink-400",children:""}),') are the "scaling factors" of the matrix. They determine whether a dynamic system grows, decays, or rotates.',S.jsx("br",{}),"Calculated via characteristic equation: ",S.jsx("span",{className:"font-mono text-cyan-400",children:"det(A - I) = 0"}),"."]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[S.jsxs("div",{className:"flex flex-col items-center gap-8",children:[S.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-3xl border border-white/5 backdrop-blur-xl relative",children:[S.jsx("div",{className:"absolute -top-3 -left-3 bg-pink-500 text-white text-xs font-bold px-2 py-1 rounded",children:"INPUT A"}),S.jsx(Jo,{data:n,onChange:e,editable:!0,color:"pink"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md",children:[S.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 text-center",children:[S.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Trace (Tr)"}),S.jsx("div",{className:"text-2xl font-mono font-bold text-white mt-1",children:t!==null?du(t):"-"})]}),S.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 text-center",children:[S.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Determinant"}),S.jsx("div",{className:"text-2xl font-mono font-bold text-white mt-1",children:r!==null?du(r):"-"})]})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-900/60 p-5 rounded-2xl border border-white/5 flex gap-4",children:[S.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl h-fit",children:S.jsx($X,{className:"text-purple-400",size:24})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-bold text-purple-300 uppercase tracking-wide mb-1",children:"Geometric Meaning"}),S.jsxs("p",{className:"text-sm text-slate-400 leading-relaxed",children:["When Matrix A acts on a vector, it usually rotates and stretches it.",S.jsx("strong",{className:"text-white",children:" Eigenvectors"})," are the special directions that ",S.jsx("em",{children:"do not rotate"}),"they only get stretched by the factor ",S.jsx("strong",{className:"text-pink-400",children:""})," (Eigenvalue)."]})]})]}),S.jsxs(Yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-slate-800/30 p-6 rounded-xl border border-slate-700",children:[S.jsxs("h3",{className:"text-cyan-400 font-bold mb-4 flex items-center gap-2",children:[S.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),"Characteristic Equation"]}),S.jsxs("div",{className:"text-lg md:text-2xl font-mono text-white text-center bg-slate-900 p-4 rounded-lg border border-slate-800 shadow-inner break-all",children:[" ",a>=0?"+":"-"," ",Math.abs(a).toFixed(2)," ",s>=0?"+":"-"," ",Math.abs(s).toFixed(2)," = 0"]}),S.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:"Derived from:  - Tr(A) + det(A) = 0"})]}),S.jsxs(Yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-gradient-to-br from-pink-900/20 to-slate-900 p-6 rounded-xl border border-pink-500/30",children:[S.jsxs("h3",{className:"text-pink-400 font-bold mb-4 flex items-center gap-2",children:[S.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Results (Roots)"]}),i?S.jsxs("div",{className:"flex justify-around items-center",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-sm text-pink-300/70 mb-1",children:""}),S.jsx("div",{className:"text-4xl font-mono font-bold text-white",children:du(i.l1)})]}),S.jsx("div",{className:"h-12 w-px bg-white/10"}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-sm text-pink-300/70 mb-1",children:""}),S.jsx("div",{className:"text-4xl font-mono font-bold text-white",children:du(i.l2)})]})]}):S.jsx("div",{className:"text-center text-slate-400 py-4",children:"Complex roots (Rotation without scaling on real axes)."})]}),S.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-500/20 p-4 rounded-lg",children:[S.jsx("h4",{className:"text-emerald-400 text-sm font-bold mb-2",children:"Stability Interpretation"}),S.jsx("p",{className:"text-sm text-slate-300",children:i&&Math.abs(Math.max(Math.abs(i.l1),Math.abs(i.l2)))>1?"The dominant eigenvalue magnitude is > 1. The system is expanding and may become unstable.":"The dominant eigenvalue magnitude is < 1. The system will decay towards zero or stabilize."})]})]})]})]})},bCe=()=>{const[n,e]=Re.useState(2.8),[t,r]=Re.useState(.1),i=c=>n*c*(1-c),a=50,s=600,o=600,l=s,u=()=>{let c=`M ${t*l} ${o}`,d=t;for(let h=0;h<a;h++){const p=i(d);c+=` L ${d*l} ${o-p*l}`,c+=` L ${p*l} ${o-p*l}`,d=p}return c};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsx("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end border-b border-slate-800 pb-6 gap-4",children:S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Logistic Map (Chaos Theory)"}),S.jsxs("p",{className:"text-slate-400 text-sm md:text-base",children:["Modeling iterative system limits with Cobweb plots: ",S.jsx("span",{className:"font-mono text-cyan-400",children:"x = r  x(1 - x)"})]})]})}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700 backdrop-blur-md h-fit",children:[S.jsx("h3",{className:"text-slate-300 font-bold mb-6",children:"Parameters"}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("label",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[S.jsx("span",{children:"Growth Rate (r)"}),S.jsx("span",{className:"text-cyan-400 font-mono",children:n})]}),S.jsx("input",{type:"range",min:"0",max:"4",step:"0.01",value:n,onChange:c=>e(parseFloat(c.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-600 mt-1 font-mono",children:[S.jsx("span",{children:"Divergence"}),S.jsx("span",{children:"Stable"}),S.jsx("span",{children:"Chaos (r > 3.57)"})]})]}),S.jsxs("div",{children:[S.jsxs("label",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[S.jsx("span",{children:"Initial Value (x)"}),S.jsx("span",{className:"text-pink-400 font-mono",children:t})]}),S.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:t,onChange:c=>r(parseFloat(c.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500"})]}),S.jsxs("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-800 text-xs text-slate-400 leading-relaxed",children:[S.jsxs("p",{className:"mb-2",children:[S.jsx("strong",{className:"text-white",children:"Cobweb Plot:"})," Visualizes the behavior of the sequence iteratively."]}),S.jsx("p",{children:"If lines spiral inward, the system stabilizes (Convergence)."}),S.jsx("p",{children:"If lines fill the box randomly, the system is Chaotic."})]})]})]}),S.jsxs("div",{className:"lg:col-span-2 bg-slate-900 rounded-2xl border border-slate-700 p-4 relative shadow-2xl flex justify-center items-center overflow-hidden",children:[S.jsx("div",{className:"w-full max-w-[600px]",children:S.jsxs("svg",{viewBox:`0 0 ${s} ${o}`,className:"w-full h-auto bg-slate-950 rounded-xl border border-slate-800 overflow-visible",children:[S.jsx("line",{x1:"0",y1:o,x2:s,y2:"0",stroke:"#475569",strokeWidth:"1",strokeDasharray:"5 5"}),S.jsx("path",{d:`M 0 ${o} Q ${s/2} ${o-n*.25*l} ${s} ${o}`,fill:"none",stroke:"#0ea5e9",strokeWidth:"2"}),S.jsx(Yt.path,{d:u(),fill:"none",stroke:"#ec4899",strokeWidth:"1",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.8},transition:{duration:.5}},`${n}-${t}`)]})}),S.jsx("div",{className:"absolute bottom-6 right-6 text-xs text-slate-500 font-mono",children:"Domain [0, 1]"})]})]})]})},T_=[{id:"geometric",name:"Geometric Series",formula:"\\sum_{n=0}^{\\infty} a \\cdot r^n",desc:"A series where each term is found by multiplying the previous term by a fixed, non-zero number called the common ratio.",analogy:"Like a bouncing ball that rebounds to a fraction of its previous height. Even though it bounces infinitely many times, the total distance traveled is finite.",breakdown:[{term:"a",meaning:"First Term (Starting Value)",color:"text-cyan-400"},{term:"r",meaning:"Common Ratio (Multiplier)",color:"text-purple-400"},{term:"\\sum",meaning:"Summation of infinite terms",color:"text-slate-400"}],convergenceCondition:"|r| < 1",interactive:!0},{id:"harmonic",name:"Harmonic Series",formula:"\\sum_{n=1}^{\\infty} \\frac{1}{n}",desc:"The sum of reciprocals of integers. It is the classic example of a series whose terms go to zero, yet the sum still grows to infinity.",analogy:"Imagine stacking blocks that get slightly smaller. You can actually stack them infinitely high, even if the blocks become microscopic.",breakdown:[{term:"1",meaning:"Constant Numerator",color:"text-emerald-400"},{term:"n",meaning:"Index (Denom increases linearly)",color:"text-pink-400"}],convergenceCondition:"Diverges (Always)",interactive:!0},{id:"pseries",name:"p-Series Test",formula:"\\sum_{n=1}^{\\infty} \\frac{1}{n^p}",desc:'A generalization of the harmonic series. The exponent "p" determines the "speed" at which terms shrink.',analogy:"The 'Speed Limit' of convergence. If p > 1, the terms shrink fast enough to create a finite sum. If p  1, they are too slow.",breakdown:[{term:"n",meaning:"Base Index",color:"text-cyan-400"},{term:"p",meaning:"Power Parameter",color:"text-orange-400"}],convergenceCondition:"p > 1",interactive:!1},{id:"alternating",name:"Alternating Series",formula:"\\sum_{n=1}^{\\infty} (-1)^{n+1} b_n",desc:"A series where terms switch signs (+, -, +, -). These are much more likely to converge due to cancellation.",analogy:"Taking 2 steps forward, 1 step back, 0.5 forward, 0.25 back... You eventually settle on a specific spot.",breakdown:[{term:"(-1)^{n+1}",meaning:"Sign Flipper (+1, -1...)",color:"text-yellow-400"},{term:"b_n",meaning:"Positive magnitude part",color:"text-slate-300"}],convergenceCondition:"\\lim b_n = 0 \\text{ and } b_{n+1} \\le b_n",interactive:!0}],SCe=()=>{const[n,e]=Re.useState("geometric"),[t,r]=Re.useState(15),[i,a]=Re.useState(1),[s,o]=Re.useState(.5),l=T_.find(p=>p.id===n)||T_[0],c=(()=>{const p=[];let g=0;for(let x=1;x<=t;x++){let A=0;n==="geometric"?A=i*Math.pow(s,x-1):n==="harmonic"?A=1/x:n==="alternating"&&(A=Math.pow(-1,x+1)/x),g+=A,p.push({n:x,term:A,sum:g})}return p})(),d=Math.max(...c.map(p=>Math.abs(p.sum)),.1)*1.2,h=n==="geometric"&&Math.abs(s)<1||n==="alternating"||n==="pseries";return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Infinite Series Codex"}),S.jsx("p",{className:"text-slate-400 max-w-3xl font-light",children:"Understanding the summation of infinite sequences. Analyze convergence tests, formulas, and behaviors."})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsx("div",{className:"lg:col-span-4 space-y-4",children:T_.map(p=>S.jsxs("button",{onClick:()=>e(p.id),className:`w-full text-left p-4 rounded-xl border transition-all duration-300 group relative overflow-hidden
                            ${n===p.id?"bg-slate-800 border-cyan-500/50 shadow-lg shadow-cyan-900/20":"bg-slate-900/40 border-slate-700 hover:bg-slate-800 hover:border-slate-600"}
                        `,children:[n===p.id&&S.jsx(Yt.div,{layoutId:"activeSeriesGlow",className:"absolute inset-0 bg-cyan-500/5"}),S.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest mb-1 block ${n===p.id?"text-cyan-400":"text-slate-500"}`,children:"Series Type"}),S.jsx("h3",{className:`font-bold text-base ${n===p.id?"text-white":"text-slate-300"}`,children:p.name})]}),n===p.id&&S.jsx(ic,{size:18,className:"text-cyan-400"})]})]},p.id))}),S.jsx("div",{className:"lg:col-span-8",children:S.jsx(Eo,{mode:"wait",children:S.jsxs(Yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"glass-panel p-8 rounded-[32px] border-l-4 border-l-cyan-500 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[S.jsxs("div",{className:"bg-slate-950/80 p-6 rounded-2xl border border-white/5 flex flex-col items-center justify-center min-h-[160px] relative group",children:[S.jsx("div",{className:"absolute top-3 left-3 text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Standard Form"}),S.jsx(Dn,{expression:l.formula,className:"text-2xl md:text-3xl text-white"}),S.jsxs("div",{className:`mt-4 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border flex items-center gap-2 ${h?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-pink-500/10 border-pink-500/30 text-pink-400"}`,children:[h?S.jsx(Wy,{size:12}):S.jsx(pw,{size:12}),h?"Converges":"Diverges"," Condition: ",S.jsx(Dn,{expression:l.convergenceCondition,inline:!0,className:"ml-1"})]})]}),S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(lX,{size:14,className:"text-purple-400"})," Anatomy"]}),S.jsx("div",{className:"space-y-3",children:l.breakdown.map((p,g)=>S.jsxs("div",{className:"bg-slate-900/50 p-2.5 rounded-lg border border-slate-800 flex items-center gap-3",children:[S.jsx("div",{className:`font-mono font-bold text-sm ${p.color} min-w-[30px] text-center`,children:S.jsx(Dn,{expression:p.term,inline:!0})}),S.jsx("p",{className:"text-xs text-slate-400 leading-snug",children:p.meaning})]},g))})]})]}),S.jsx("div",{className:"mb-8",children:S.jsxs("div",{className:"bg-amber-500/5 p-5 rounded-xl border border-amber-500/20",children:[S.jsxs("h4",{className:"text-xs font-bold text-amber-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[S.jsx(M1,{size:14})," Intuition"]}),S.jsxs("p",{className:"text-sm text-amber-100/80 leading-relaxed italic",children:['"',l.analogy,'"']}),S.jsx("p",{className:"text-xs text-slate-400 mt-2 font-light",children:l.desc})]})}),l.interactive?S.jsxs("div",{className:"bg-slate-900/40 rounded-2xl border border-white/5 p-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs("h4",{className:"text-xs font-bold text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(S$,{size:16})," Interactive Lab"]}),n==="geometric"&&S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-2",children:["r = ",S.jsx("input",{type:"number",step:"0.1",value:s,onChange:p=>o(parseFloat(p.target.value)),className:"w-16 bg-slate-950 border border-slate-700 rounded px-2 py-1 text-white"})]}),S.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-2",children:["a = ",S.jsx("input",{type:"number",step:"1",value:i,onChange:p=>a(parseFloat(p.target.value)),className:"w-12 bg-slate-950 border border-slate-700 rounded px-2 py-1 text-white"})]})]})]}),S.jsxs("div",{className:"h-40 w-full relative border-l border-b border-slate-700 ml-2",children:[S.jsx("div",{className:"absolute w-full h-px bg-slate-700",style:{top:"50%"}}),S.jsx("div",{className:"absolute inset-0 flex items-center",children:c.map((p,g)=>{const x=p.sum/d*50;return S.jsxs("div",{className:"flex-1 h-full flex flex-col justify-center items-center group relative",children:[S.jsx(Yt.div,{initial:{height:0},animate:{height:`${Math.abs(x)}%`},className:`w-1/2 min-w-[2px] rounded-sm transition-all ${p.sum>=0?"bg-cyan-500 mb-[50%]":"bg-pink-500 mt-[50%]"}`,style:{transformOrigin:p.sum>=0?"bottom":"top"}}),S.jsx("div",{className:`w-2 h-2 rounded-full absolute bg-white shadow-lg ${p.sum>=0?"mb-[50%]":"mt-[50%]"}`,style:{bottom:p.sum>=0?`calc(50% + ${Math.abs(x)}% - 4px)`:"auto",top:p.sum<0?`calc(50% + ${Math.abs(x)}% - 4px)`:"auto"}})]},g)})})]}),S.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-slate-500 font-mono",children:[S.jsx("span",{children:"n=1"}),S.jsxs("span",{children:["n=",t]})]}),S.jsxs("div",{className:"mt-2 text-center text-xs font-mono text-cyan-300",children:["Current Partial Sum S_",t," = ",c[c.length-1].sum.toFixed(5)]})]}):S.jsx("div",{className:"p-8 text-center border border-dashed border-slate-700 rounded-xl text-slate-500 text-sm",children:"Interactive lab not available for this general test type."})]},n)})})]})]})},wCe=()=>{const[n,e]=Re.useState(1),[t,r]=Re.useState(1),[i,a]=Re.useState(0),[s,o]=Re.useState(0),[l,u]=Re.useState("quadratic"),c={quadratic:{label:"x",fn:M=>M*M,latex:"x^2"},sine:{label:"sin(x)",fn:M=>Math.sin(M),latex:"\\sin(x)"},abs:{label:"|x|",fn:M=>Math.abs(M),latex:"|x|"},exp:{label:"e",fn:M=>Math.exp(M),latex:"e^x"}},d=c[l],h=600,p=400,g=10,x=M=>(M+g)/(2*g)*h,A=M=>p-(M+g)/(2*g)*p,b=M=>{let E="";for(let T=-g;T<=g;T+=.1){let B;M?B=n*d.fn(t*(T-i))+s:B=d.fn(T),B>g*2&&(B=g*2),B<-g*2&&(B=-g*2);const z=x(T),R=A(B);T===-g?E+=`M ${z} ${R}`:E+=` L ${z} ${R}`}return E},_=()=>{e(1),r(1),a(0),o(0)};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-slate-800 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Function Transformations"}),S.jsxs("p",{className:"text-slate-400",children:["Interactive manipulation of ",S.jsx("span",{className:"font-mono text-cyan-400",children:"g(x) = Af(B(x - C)) + D"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700 backdrop-blur-md space-y-8",children:[S.jsx("div",{className:"flex gap-2 p-1 bg-slate-900 rounded-lg",children:Object.entries(c).map(([M,E])=>S.jsx("button",{onClick:()=>{u(M),_()},className:`flex-1 py-2 text-xs font-bold uppercase rounded transition-colors ${l===M?"bg-cyan-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:E.label},M))}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between mb-2",children:[S.jsxs("label",{className:"text-sm text-slate-300 flex items-center gap-2",children:[S.jsx(c$,{size:14})," Vertical Shift (D)"]}),S.jsx("span",{className:"font-mono text-cyan-400",children:s.toFixed(1)})]}),S.jsx("input",{type:"range",min:"-5",max:"5",step:"0.5",value:s,onChange:M=>o(parseFloat(M.target.value)),className:"w-full h-1 bg-slate-700 rounded-lg appearance-none accent-cyan-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between mb-2",children:[S.jsxs("label",{className:"text-sm text-slate-300 flex items-center gap-2",children:[S.jsx(a$,{size:14})," Horizontal Shift (C)"]}),S.jsx("span",{className:"font-mono text-cyan-400",children:i.toFixed(1)})]}),S.jsx("input",{type:"range",min:"-5",max:"5",step:"0.5",value:i,onChange:M=>a(parseFloat(M.target.value)),className:"w-full h-1 bg-slate-700 rounded-lg appearance-none accent-cyan-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between mb-2",children:[S.jsxs("label",{className:"text-sm text-slate-300 flex items-center gap-2",children:[S.jsx(U3,{size:14})," Vertical Stretch (A)"]}),S.jsx("span",{className:"font-mono text-purple-400",children:n.toFixed(1)})]}),S.jsx("input",{type:"range",min:"-3",max:"3",step:"0.1",value:n,onChange:M=>e(parseFloat(M.target.value)),className:"w-full h-1 bg-slate-700 rounded-lg appearance-none accent-purple-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between mb-2",children:[S.jsxs("label",{className:"text-sm text-slate-300 flex items-center gap-2",children:[S.jsx(xX,{size:14})," Horizontal Compression (B)"]}),S.jsx("span",{className:"font-mono text-purple-400",children:t.toFixed(1)})]}),S.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:t,onChange:M=>r(parseFloat(M.target.value)),className:"w-full h-1 bg-slate-700 rounded-lg appearance-none accent-purple-500"})]})]}),S.jsx("button",{onClick:_,className:"w-full py-2 rounded-lg border border-slate-600 text-slate-400 text-sm hover:bg-slate-800 hover:text-white transition-colors",children:"Reset Parameters"})]}),S.jsxs("div",{className:"lg:col-span-2 bg-slate-900 rounded-2xl border border-slate-700 relative overflow-hidden shadow-2xl flex flex-col",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"}),S.jsx("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center z-10 bg-slate-900/90",children:S.jsxs("div",{className:"font-mono text-lg text-white",children:["g(x) = ",S.jsx("span",{className:"text-purple-400",children:n!==1&&n}),"f(",S.jsx("span",{className:"text-purple-400",children:t!==1&&t}),"(x ",i<0?"+":"-"," ",S.jsx("span",{className:"text-cyan-400",children:Math.abs(i)}),") ) ",s>=0?"+":"-"," ",S.jsx("span",{className:"text-cyan-400",children:Math.abs(s)})]})}),S.jsx("div",{className:"relative flex-1 w-full h-full",children:S.jsxs("svg",{viewBox:`0 0 ${h} ${p}`,className:"w-full h-full",children:[S.jsx("line",{x1:h/2,y1:0,x2:h/2,y2:p,stroke:"#475569",strokeWidth:"2"}),S.jsx("line",{x1:0,y1:p/2,x2:h,y2:p/2,stroke:"#475569",strokeWidth:"2"}),S.jsx("path",{d:b(!1),fill:"none",stroke:"#475569",strokeWidth:"2",strokeDasharray:"4 4",opacity:"0.5"}),S.jsx(Yt.path,{d:b(!0),fill:"none",stroke:"#22d3ee",strokeWidth:"3",initial:!1,transition:{type:"spring",stiffness:300,damping:30}})]})})]})]})]})},ACe=()=>{const[n,e]=Re.useState(1.5),[t,r]=Re.useState(0),i=_=>_*_*_-_-1,a=_=>3*_*_-1,o=(()=>{const _=[];let M=n;for(let E=0;E<6;E++){const C=i(M),T=a(M),B=T!==0?M-C/T:M;if(_.push({i:E,x:M,y:C,slope:T,nextX:B}),T===0)break;M=B}return _})(),l=o[Math.min(t,o.length-1)],u=600,c=400,d=[0,2.5],h=[-2,8],p=_=>(_-d[0])/(d[1]-d[0])*u,g=_=>c-(_-h[0])/(h[1]-h[0])*c,x=()=>{let _="";for(let E=d[0];E<=d[1];E+=.05){const C=i(E),T=p(E),B=g(C);E===d[0]?_+=`M ${T} ${B}`:_+=` L ${T} ${B}`}return _},b=(()=>{const _=l.x,M=l.y,E=l.nextX;return{x1:p(_),y1:g(M),x2:p(E),y2:g(0)}})();return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Newton-Raphson Visualizer"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl",children:['See how the algorithm "surfs" down the tangent lines to find where the curve crosses zero.',S.jsx("br",{}),"Formula: ",S.jsx("span",{className:"font-mono text-cyan-400",children:"x = x - f(x)/f'(x)"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[S.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[S.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-slate-700",children:[S.jsx("label",{className:"text-slate-300 text-xs font-bold uppercase tracking-widest mb-4 block",children:"1. Set Initial Guess (x)"}),S.jsxs("div",{className:"flex gap-4 items-center mb-6",children:[S.jsx("input",{type:"range",min:"0.5",max:"2.4",step:"0.1",value:n,onChange:_=>{e(parseFloat(_.target.value)),r(0)},className:"flex-1 h-2 bg-slate-600 rounded-lg appearance-none accent-pink-500 cursor-pointer"}),S.jsx("span",{className:"text-xl font-mono text-pink-400 font-bold w-12 text-right",children:n})]}),S.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Changing the start point affects the path to the root."}),S.jsx("label",{className:"text-slate-300 text-xs font-bold uppercase tracking-widest mb-4 block",children:"2. Step Through Iterations"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>r(Math.max(0,t-1)),disabled:t===0,className:"px-4 py-2 bg-slate-800 rounded-lg text-white disabled:opacity-50 hover:bg-slate-700 transition-colors",children:"Prev"}),S.jsxs("div",{className:"flex-1 bg-slate-900 rounded-lg flex items-center justify-center font-mono text-cyan-400 border border-slate-800",children:["Iteration ",l.i]}),S.jsxs("button",{onClick:()=>r(Math.min(o.length-1,t+1)),disabled:t===o.length-1,className:"px-4 py-2 bg-cyan-600 rounded-lg text-white font-bold disabled:opacity-50 hover:bg-cyan-500 transition-colors flex items-center gap-2",children:["Next ",S.jsx(t6,{size:14,fill:"currentColor"})]})]})]}),S.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-700 bg-slate-900/50",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-950 text-[10px] uppercase text-slate-500 font-mono tracking-wider",children:S.jsxs("tr",{children:[S.jsx("th",{className:"p-3",children:"n"}),S.jsx("th",{className:"p-3",children:"x"}),S.jsx("th",{className:"p-3",children:"f(x)"}),S.jsx("th",{className:"p-3 text-cyan-400",children:"x"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-800",children:o.map((_,M)=>S.jsxs("tr",{onClick:()=>r(M),className:`text-xs font-mono cursor-pointer transition-colors ${t===M?"bg-cyan-500/10 text-cyan-300":"text-slate-400 hover:bg-white/5"}`,children:[S.jsx("td",{className:"p-3",children:_.i}),S.jsx("td",{className:"p-3",children:_.x.toFixed(4)}),S.jsx("td",{className:"p-3",children:_.y.toFixed(4)}),S.jsx("td",{className:"p-3 font-bold",children:_.nextX.toFixed(4)})]},M))})]})})]}),S.jsxs("div",{className:"lg:col-span-7",children:[S.jsx("div",{className:"glass-panel p-1 rounded-3xl border-slate-700 relative overflow-hidden shadow-2xl",children:S.jsxs("div",{className:"bg-slate-900 rounded-[20px] relative h-[450px] overflow-hidden",children:[S.jsxs("svg",{viewBox:`0 0 ${u} ${c}`,className:"w-full h-full",children:[S.jsx("line",{x1:"0",y1:g(0),x2:u,y2:g(0),stroke:"#475569",strokeWidth:"2"}),S.jsx("text",{x:u-20,y:g(0)-10,fill:"#64748b",fontSize:"12",fontWeight:"bold",children:"x"}),S.jsx("path",{d:x(),fill:"none",stroke:"#64748b",strokeWidth:"3",strokeOpacity:"0.5"}),S.jsx("circle",{cx:p(l.x),cy:g(l.y),r:"6",fill:"#ec4899"}),S.jsxs("text",{x:p(l.x)+10,y:g(l.y),fill:"#ec4899",fontSize:"12",fontWeight:"bold",children:["(x",l.i,", y",l.i,")"]}),S.jsx("line",{x1:p(l.x),y1:g(0),x2:p(l.x),y2:g(l.y),stroke:"#ec4899",strokeWidth:"1",strokeDasharray:"4 4",opacity:"0.5"}),S.jsx(Yt.line,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.8,ease:"easeInOut"},x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,stroke:"#22d3ee",strokeWidth:"2"}),S.jsx("circle",{cx:p(l.nextX),cy:g(0),r:"4",fill:"#22d3ee"}),S.jsxs("text",{x:p(l.nextX)-10,y:g(0)+20,fill:"#22d3ee",fontSize:"12",fontWeight:"bold",children:["x",l.i+1]})]}),S.jsxs("div",{className:"absolute top-4 right-4 bg-slate-950/80 p-4 rounded-xl border border-slate-800 text-xs backdrop-blur-md",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"w-3 h-1 bg-slate-500"}),S.jsx("span",{className:"text-slate-400",children:"Curve: $x^3 - x - 1$"})]}),S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"w-3 h-1 bg-cyan-400"}),S.jsx("span",{className:"text-cyan-400",children:"Tangent Line"})]}),S.jsxs("div",{className:"mt-2 pt-2 border-t border-white/10 text-slate-300",children:["Slope $f'(x)$ = ",l.slope.toFixed(3)]})]})]})}),S.jsxs("div",{className:"mt-4 p-4 bg-emerald-900/10 border border-emerald-500/20 rounded-xl flex items-start gap-3",children:[S.jsx(n6,{size:20,className:"text-emerald-400 mt-1 shrink-0"}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-emerald-400 font-bold text-sm",children:"Educational Insight"}),S.jsxs("p",{className:"text-xs text-emerald-100/70 mt-1 leading-relaxed",children:["Notice how the tangent line at ",S.jsxs("span",{className:"font-mono",children:["x",l.i]})," acts as a linear approximation of the curve. By following this straight line down to zero, we get ",S.jsxs("span",{className:"font-mono",children:["x",l.i+1]}),", which is (usually) closer to the true root than where we started."]})]})]})]})]}),S.jsx(cc,{context:"analysis"})]})},MCe=()=>{const[n,e]=Re.useState(1),[t,r]=Re.useState("cos"),i=600,a=400,s=8,o=p=>(p+s)/(2*s)*i,l=p=>a/2-p/s*a,u=p=>p<=1?1:p*u(p-1),c={cos:{label:"cos(x)",eval:p=>Math.cos(p),taylor:(p,g)=>{let x=0;for(let A=0;A<=g;A++){const b=Math.pow(-1,A)*Math.pow(p,2*A)/u(2*A);x+=b}return x},color:"#f472b6"},exp:{label:"e",eval:p=>Math.exp(p),taylor:(p,g)=>{let x=0;for(let A=0;A<=g;A++){const b=Math.pow(p,A)/u(A);x+=b}return x},color:"#22d3ee"},sin:{label:"sin(x)",eval:p=>Math.sin(p),taylor:(p,g)=>{let x=0;for(let A=0;A<=g;A++){const b=Math.pow(-1,A)*Math.pow(p,2*A+1)/u(2*A+1);x+=b}return x},color:"#a78bfa"}},d=c[t],h=p=>{let g="";for(let A=-s;A<=s;A+=.1){let b;p?b=d.taylor(A,n):b=d.eval(A),b>s/2&&(b=s/2),b<-s/2&&(b=-s/2);const _=o(A),M=l(b);A===-s?g+=`M ${_} ${M}`:g+=` L ${_} ${M}`}return g};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-slate-800 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Taylor Series Expansion"}),S.jsxs("p",{className:"text-slate-400",children:["Approximating functions using polynomials centered at ",S.jsx("span",{className:"font-mono text-cyan-400",children:"a=0"})," (Maclaurin Series)."]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[S.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700 backdrop-blur-md",children:[S.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"Function"}),S.jsx("div",{className:"flex gap-2 mb-6",children:Object.entries(c).map(([p,g])=>S.jsx("button",{onClick:()=>{e(1),r(p)},className:`flex-1 py-2 rounded font-mono font-bold transition-colors ${t===p?"bg-slate-200 text-slate-900":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:g.label},p))}),S.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Approximation Degree (n)"}),S.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[S.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:n,onChange:p=>e(parseInt(p.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),S.jsx("span",{className:"text-2xl font-mono font-bold text-cyan-400 w-8 text-center",children:n})]}),S.jsx("p",{className:"text-xs text-slate-500",children:"Higher degrees hug the curve tighter further from the center."})]}),S.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 font-mono text-sm leading-loose",children:[S.jsx("div",{className:"text-slate-500 mb-2",children:"Polynomial P(x):"}),S.jsxs("div",{className:"break-words text-cyan-200/80",children:[t==="exp"&&"1 + x + x/2! + x/3! + ...",t==="cos"&&"1 - x/2! + x/4! - ...",t==="sin"&&"x - x/3! + x/5! - ..."]})]})]}),S.jsxs("div",{className:"lg:col-span-8 bg-slate-900 rounded-2xl border border-slate-700 relative overflow-hidden shadow-2xl flex flex-col",children:[S.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center z-10 bg-slate-900/90",children:[S.jsxs("h3",{className:"font-bold text-slate-300 flex items-center gap-2",children:[S.jsx(SF,{size:18,className:"text-purple-400"})," Approximation Visualizer"]}),S.jsxs("div",{className:"flex gap-4 text-xs font-mono",children:[S.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[S.jsx("div",{className:"w-3 h-1 bg-slate-500"})," Exact f(x)"]}),S.jsxs("span",{className:"text-cyan-400 flex items-center gap-1",children:[S.jsx("div",{className:"w-3 h-1 bg-cyan-400"})," Approx P(x)"]})]})]}),S.jsx("div",{className:"relative flex-1 w-full h-full",children:S.jsxs("svg",{viewBox:`0 0 ${i} ${a}`,className:"w-full h-full",children:[S.jsx("line",{x1:i/2,y1:0,x2:i/2,y2:a,stroke:"#475569",strokeWidth:"1"}),S.jsx("line",{x1:0,y1:a/2,x2:i,y2:a/2,stroke:"#475569",strokeWidth:"1"}),S.jsx("path",{d:h(!1),fill:"none",stroke:"#64748b",strokeWidth:"4",opacity:"0.4"}),S.jsx(Yt.path,{d:h(!0),fill:"none",stroke:d.color,strokeWidth:"3",initial:!1,transition:{type:"spring",bounce:0,duration:.5}})]})})]})]})]})},_Ce=()=>{const[n,e]=Re.useState(0),t=600,r=400,i={x:[-3,3],y:[-5,10]},a=c=>(c-i.x[0])/(i.x[1]-i.x[0])*t,s=c=>r-(c-i.y[0])/(i.y[1]-i.y[0])*r,o=c=>{let d="";for(let p=i.x[0];p<=i.x[1];p+=.1){const g=c(p),x=a(p),A=s(g);p===i.x[0]?d+=`M ${x} ${A}`:d+=` L ${x} ${A}`}return d},l=c=>3*c*c,u=c=>c*c*c+n;return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"The Antiderivative"}),S.jsxs("p",{className:"text-slate-400 max-w-3xl",children:["Integration is the inverse operation of differentiation. The indefinite integral represents the family of functions ",S.jsx("span",{className:"font-mono text-cyan-400",children:"F(x) + C"})," whose derivative is ",S.jsx("span",{className:"font-mono text-purple-400",children:"f(x)"}),"."]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-700",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[S.jsx(dF,{className:"text-cyan-400",size:20})," Definition"]}),S.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed mb-4",children:["The prime function ",S.jsx(Dn,{expression:"F(x)",inline:!0})," is any function whose derivative equals ",S.jsx(Dn,{expression:"f(x)",inline:!0}),"."]}),S.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800 text-center",children:[S.jsx(Dn,{expression:"\\int f(x)dx = F(x) + C",className:"text-xl text-white"}),S.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["if ",S.jsx(Dn,{expression:"F'(x) = f(x)",inline:!0})]})]})]}),S.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-700",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[S.jsx(oc,{className:"text-purple-400",size:20})," The Constant C"]}),S.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:["Two functions with the same derivative differ only by a vertical shift.",S.jsx("br",{}),S.jsx("br",{}),"Example: If ",S.jsx(Dn,{expression:"f(x) = 3x^2",inline:!0}),", then ",S.jsx(Dn,{expression:"F(x)",inline:!0})," can be:"]}),S.jsxs("ul",{className:"list-disc list-inside text-sm text-slate-400 mt-2 space-y-1 ml-2",children:[S.jsx("li",{children:S.jsx(Dn,{expression:"x^3",inline:!0})}),S.jsx("li",{children:S.jsx(Dn,{expression:"x^3 + 4",inline:!0})}),S.jsx("li",{children:S.jsx(Dn,{expression:"x^3 - 1",inline:!0})}),S.jsxs("li",{children:["Generally: ",S.jsx(Dn,{expression:"x^3 + C",inline:!0})]})]})]})]}),S.jsxs("div",{className:"bg-slate-900 rounded-3xl border border-slate-700 p-1 shadow-2xl relative overflow-hidden flex flex-col",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"p-4 bg-slate-950/80 backdrop-blur-sm border-b border-white/5 flex justify-between items-center z-10",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Family of Curves"}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("span",{className:"text-xs font-mono text-cyan-400",children:["F(x) = x + ",n.toFixed(1)]}),S.jsx("span",{className:"text-xs font-mono text-purple-400",children:"f(x) = 3x"})]})]}),S.jsxs("div",{className:"relative flex-1",children:[S.jsxs("svg",{viewBox:`0 0 ${t} ${r}`,className:"w-full h-full",children:[S.jsx("line",{x1:0,y1:s(0),x2:t,y2:s(0),stroke:"#475569",strokeWidth:"1"}),S.jsx("line",{x1:a(0),y1:0,x2:a(0),y2:r,stroke:"#475569",strokeWidth:"1"}),S.jsx("path",{d:o(c=>l(c)/3),fill:"none",stroke:"#a855f7",strokeWidth:"2",strokeDasharray:"4 4",opacity:"0.5"}),S.jsx(Yt.path,{d:o(u),fill:"none",stroke:"#22d3ee",strokeWidth:"3",initial:!1,animate:{d:o(u)},transition:{type:"spring",stiffness:300,damping:30}})]}),S.jsx(Yt.div,{className:"absolute left-1/2 top-1/2 w-px bg-white/20 h-full -translate-x-1/2 pointer-events-none"})]}),S.jsxs("div",{className:"p-6 bg-slate-950/50 border-t border-white/5",children:[S.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:[S.jsxs("span",{className:"flex items-center gap-2",children:[S.jsx(z$,{size:14})," Constant C"]}),S.jsx("span",{className:"text-cyan-400 font-mono text-lg",children:n.toFixed(1)})]}),S.jsx("input",{type:"range",min:"-4",max:"4",step:"0.1",value:n,onChange:c=>e(parseFloat(c.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]})]})]})},ECe=[{name:"Power Rule",latex:"\\int x^a dx = \\frac{1}{a+1}x^{a+1} + C",cond:"a \\neq -1",ex:"\\int x^2 dx = \\frac{x^3}{3} + C"},{name:"Constant Rule",latex:"\\int dx = x + C",cond:"",ex:"\\int 5 dx = 5x + C"},{name:"Reciprocal Rule",latex:"\\int \\frac{1}{x} dx = \\ln|x| + C",cond:"x \\neq 0",ex:""},{name:"Exponential Rule",latex:"\\int e^x dx = e^x + C",cond:"",ex:""},{name:"General Exponential",latex:"\\int a^x dx = \\frac{a^x}{\\ln a} + C",cond:"a > 0, a \\neq 1",ex:"\\int 2^x dx = \\frac{2^x}{\\ln 2} + C"},{name:"Root Rule",latex:"\\int \\frac{1}{\\sqrt{x}} dx = 2\\sqrt{x} + C",cond:"x > 0",ex:"\\text{Derived from } x^{-1/2}"}],NCe=[{name:"Sum/Difference",latex:"\\int (f(x) \\pm g(x)) dx = \\int f(x) dx \\pm \\int g(x) dx"},{name:"Constant Multiple",latex:"\\int k f(x) dx = k \\int f(x) dx"}],TCe=()=>S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Integration Rules"}),S.jsx("p",{className:"text-slate-400",children:"Essential formulas and properties for solving indefinite integrals."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"md:col-span-2",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(Wy,{className:"text-emerald-400",size:16})," Properties"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:NCe.map((n,e)=>S.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-4 flex flex-col justify-center",children:[S.jsx("span",{className:"text-xs text-slate-400 mb-2 font-bold",children:n.name}),S.jsx(Dn,{expression:n.latex,className:"text-white text-lg"})]},e))})]}),S.jsxs("div",{className:"md:col-span-2",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(F3,{className:"text-purple-400",size:16})," Basic Formulas"]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:ECe.map((n,e)=>S.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/50 rounded-xl p-5 hover:border-purple-500/30 transition-colors group",children:[S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsx("h4",{className:"text-cyan-400 font-bold",children:n.name}),n.cond&&S.jsx("span",{className:"text-[10px] bg-slate-900 text-slate-500 px-2 py-1 rounded border border-slate-800",children:n.cond})]}),S.jsx("div",{className:"bg-slate-900 rounded-lg p-3 text-center border border-slate-800 mb-3 group-hover:border-purple-500/20 transition-colors",children:S.jsx(Dn,{expression:n.latex,className:"text-xl text-white"})}),n.ex&&S.jsxs("div",{className:"text-xs text-slate-400 border-t border-white/5 pt-2 flex gap-2 items-center",children:[S.jsx("span",{className:"opacity-50",children:"Ex:"}),S.jsx(Dn,{expression:n.ex,inline:!0,className:"text-slate-300"})]})]},e))})]})]})]}),CCe=()=>{const[n,e]=Re.useState(-1),[t,r]=Re.useState(1),[i,a]=Re.useState("between"),s=600,o=400,l={x:[-3,3],y:[-5,5]},u=_=>(_-l.x[0])/(l.x[1]-l.x[0])*s,c=_=>o-(_-l.y[0])/(l.y[1]-l.y[0])*o,d=_=>_*_,h=_=>2*_-_*_,p=_=>{let M="";for(let C=l.x[0];C<=l.x[1];C+=.05){const T=_(C),B=u(C),z=c(T);C===l.x[0]?M+=`M ${B} ${z}`:M+=` L ${B} ${z}`}return M},g=()=>{let _="";const E=Math.max(n,l.x[0]),C=Math.min(t,l.x[1]);if(E>=C)return"";if(i==="single"){_=`M ${u(E)} ${c(0)}`;for(let T=E;T<=C;T+=.05)_+=` L ${u(T)} ${c(d(T))}`;_+=` L ${u(C)} ${c(0)} Z`}else{_=`M ${u(E)} ${c(h(E))}`;for(let T=E;T<=C;T+=.05)_+=` L ${u(T)} ${c(h(T))}`;for(let T=C;T>=E;T-=.05)_+=` L ${u(T)} ${c(d(T))}`;_+=" Z"}return _},x=_=>Math.pow(_,3)/3,A=_=>_*_-Math.pow(_,3)/3,b=i==="single"?x(t)-x(n):A(t)-x(t)-(A(n)-x(n));return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6 flex flex-col md:flex-row justify-between items-end gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Definite Integral & Area"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl",children:["The definite integral ",S.jsx(Dn,{expression:"\\int_a^b f(x)dx",inline:!0})," represents the signed area under the curve."]})]}),S.jsxs("div",{className:"bg-slate-900 p-1 rounded-xl border border-slate-800 flex gap-1",children:[S.jsx("button",{onClick:()=>a("single"),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg transition-all ${i==="single"?"bg-cyan-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"Area under f(x)"}),S.jsx("button",{onClick:()=>a("between"),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg transition-all ${i==="between"?"bg-purple-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"Between Curves"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700",children:[S.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6",children:"Integration Limits"}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[S.jsx("span",{children:"Lower Limit (a)"}),S.jsx("span",{className:"font-mono text-cyan-400",children:n.toFixed(2)})]}),S.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:n,onChange:_=>e(parseFloat(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[S.jsx("span",{children:"Upper Limit (b)"}),S.jsx("span",{className:"font-mono text-purple-400",children:t.toFixed(2)})]}),S.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:t,onChange:_=>r(parseFloat(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]})]}),S.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[S.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(xF,{size:16})," Calculation (FTC)"]}),S.jsxs("div",{className:"text-center mb-4",children:[S.jsx("div",{className:"text-3xl font-mono font-bold text-white",children:b.toFixed(4)}),S.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Calculated Area"})]}),S.jsx("div",{className:"text-xs text-slate-400 space-y-2 border-t border-white/5 pt-4",children:i==="single"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Function:"})," ",S.jsx(Dn,{expression:"x^2",inline:!0})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Primitive F(x):"})," ",S.jsx(Dn,{expression:"\\frac{x^3}{3}",inline:!0})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"F(b) - F(a):"})," ",S.jsxs("span",{children:[x(t).toFixed(2)," - ",x(n).toFixed(2)]})]})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Top Curve:"})," ",S.jsx(Dn,{expression:"2x - x^2",inline:!0})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Bottom Curve:"})," ",S.jsx(Dn,{expression:"x^2",inline:!0})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Integrand:"})," ",S.jsx(Dn,{expression:"(2x - x^2) - x^2",inline:!0})]})]})})]})]}),S.jsxs("div",{className:"lg:col-span-2 bg-slate-900 rounded-3xl border border-slate-700 relative overflow-hidden shadow-2xl flex flex-col h-[500px]",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-2 text-xs font-mono",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-4 h-0.5 bg-cyan-400"}),S.jsx("span",{className:"text-slate-400",children:"f(x) = x"})]}),i==="between"&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-4 h-0.5 bg-purple-400"}),S.jsx("span",{className:"text-slate-400",children:"g(x) = 2x - x"})]})]}),S.jsxs("svg",{viewBox:`0 0 ${s} ${o}`,className:"w-full h-full",children:[S.jsx("line",{x1:s/2,y1:0,x2:s/2,y2:o,stroke:"#475569",strokeWidth:"1"}),S.jsx("line",{x1:0,y1:o/2,x2:s,y2:o/2,stroke:"#475569",strokeWidth:"1"}),S.jsx(Yt.path,{d:g(),fill:i==="single"?"rgba(34, 211, 238, 0.2)":"rgba(168, 85, 247, 0.2)",stroke:"none"}),S.jsx("path",{d:p(d),fill:"none",stroke:"#22d3ee",strokeWidth:"2"}),i==="between"&&S.jsx("path",{d:p(h),fill:"none",stroke:"#c084fc",strokeWidth:"2"}),S.jsx("line",{x1:u(n),y1:0,x2:u(n),y2:o,stroke:"#22d3ee",strokeWidth:"1",strokeDasharray:"4 4",opacity:"0.5"}),S.jsx("line",{x1:u(t),y1:0,x2:u(t),y2:o,stroke:"#c084fc",strokeWidth:"1",strokeDasharray:"4 4",opacity:"0.5"}),S.jsx("text",{x:u(n),y:o-10,fill:"#22d3ee",fontSize:"12",textAnchor:"middle",children:"a"}),S.jsx("text",{x:u(t),y:o-10,fill:"#c084fc",fontSize:"12",textAnchor:"middle",children:"b"})]})]})]})]})},DCe=()=>{const[n,e]=Re.useState(32),[t,r]=Re.useState("parabola"),[i,a]=Re.useState(6),[s,o]=Re.useState(!1),l={parabola:{label:"Parabola",fn:d=>.15*d*d+1,desc:"f(x) = 0.15x + 1"},sine:{label:"Sine Vase",fn:d=>Math.sin(d)*.5+1.5,desc:"f(x) = sin(x)*0.5 + 1.5"},funnel:{label:"Trumpet",fn:d=>2/(Math.abs(d)+1),desc:"f(x) = 2/(|x|+1)"},cone:{label:"Linear",fn:d=>.4*Math.abs(d)+.5,desc:"f(x) = 0.4|x| + 0.5"}},u=l[t],c=Re.useMemo(()=>{const d=[],p=-i/2;for(let g=0;g<=100;g++){const x=p+g/100*i,A=u.fn(x);d.push(new bt(Math.max(.01,A),x))}return new z1(d,n)},[u,i,n]);return S.jsxs("div",{className:"space-y-6 h-[calc(100vh-140px)] flex flex-col pb-6",children:[S.jsx("header",{className:"flex flex-col md:flex-row justify-between items-end border-b border-white/10 pb-4 shrink-0 gap-4",children:S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[S.jsx(PX,{className:"text-emerald-400"})," Solid of Revolution"]}),S.jsxs("p",{className:"text-slate-400 text-sm max-w-2xl",children:["Generate 3D volumes by rotating a function ",S.jsx("span",{className:"font-mono text-emerald-400",children:"f(x)"})," around the central axis. This visualizes the method of disks/washers used in integral calculus."]})]})}),S.jsxs("div",{className:"flex-1 bg-slate-950 rounded-3xl border border-slate-800 relative overflow-hidden shadow-2xl flex flex-col md:flex-row",children:[S.jsxs("div",{className:"absolute top-4 left-4 z-10 w-64 bg-slate-900/90 backdrop-blur-md p-5 rounded-2xl border border-slate-700/50 flex flex-col gap-5 shadow-xl",children:[S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[S.jsx(uF,{size:14})," Generating Function"]}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(l).map(([d,h])=>S.jsx("button",{onClick:()=>r(d),className:`px-3 py-2 rounded-lg text-xs font-bold border transition-all ${t===d?"bg-emerald-600 border-emerald-500 text-white shadow-lg shadow-emerald-900/50":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white"}`,children:h.label},d))}),S.jsx("div",{className:"mt-2 text-[10px] font-mono text-emerald-400 text-center bg-emerald-900/10 p-1 rounded border border-emerald-900/30",children:u.desc})]}),S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[S.jsx(U3,{size:14})," Dimensions"]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1",children:[S.jsx("span",{children:"Height Range"}),S.jsxs("span",{className:"text-white",children:[i,"u"]})]}),S.jsx("input",{type:"range",min:"2",max:"10",step:"0.5",value:i,onChange:d=>a(parseFloat(d.target.value)),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1",children:[S.jsx("span",{children:"Resolution (Segments)"}),S.jsx("span",{className:"text-white",children:n})]}),S.jsx("input",{type:"range",min:"3",max:"64",step:"1",value:n,onChange:d=>e(parseInt(d.target.value)),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),S.jsx("div",{children:S.jsxs("button",{onClick:()=>o(!s),className:`w-full py-2 rounded-lg text-xs font-bold border transition-all flex items-center justify-center gap-2 ${s?"bg-white text-slate-900 border-white":"bg-transparent text-slate-300 border-slate-600 hover:border-slate-400"}`,children:[S.jsx(W$,{size:14})," Toggle Structure"]})})]}),S.jsxs("div",{className:"w-full h-full",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none z-0"}),S.jsxs(ip,{camera:{position:[8,6,8],fov:45},shadows:!0,children:[S.jsx("color",{attach:"background",args:["#020617"]}),S.jsx("ambientLight",{intensity:.5}),S.jsx("pointLight",{position:[10,10,10],intensity:1,castShadow:!0}),S.jsx("pointLight",{position:[-10,-5,-5],intensity:.5,color:"#10b981"}),S.jsx(I1,{makeDefault:!0,autoRotate:!0,autoRotateSpeed:.5,minPolarAngle:0,maxPolarAngle:Math.PI/1.5}),S.jsx(u5,{infiniteGrid:!0,sectionSize:3,cellColor:"#1e293b",sectionColor:"#334155",fadeDistance:30,position:[0,-i/2-1,0]}),S.jsx(KN,{speed:2,rotationIntensity:.2,floatIntensity:.5,children:S.jsxs("group",{position:[0,0,0],children:[S.jsx("mesh",{geometry:c,castShadow:!0,receiveShadow:!0,children:S.jsx("meshStandardMaterial",{color:"#10b981",side:Qa,metalness:.6,roughness:.2,wireframe:s,transparent:!0,opacity:s?.3:.9})}),!s&&S.jsx("mesh",{geometry:c,children:S.jsx("meshBasicMaterial",{color:"#34d399",wireframe:!0,transparent:!0,opacity:.1,side:Qa})}),S.jsxs("mesh",{position:[0,0,0],children:[S.jsx("cylinderGeometry",{args:[.02,.02,i+2,8]}),S.jsx("meshBasicMaterial",{color:"#ef4444",opacity:.8,transparent:!0})]})]})})]}),S.jsx("div",{className:"absolute bottom-4 right-4 pointer-events-none text-[10px] text-slate-500 font-mono bg-black/20 p-2 rounded backdrop-blur-sm",children:"Left Click: Rotate  Scroll: Zoom  Right Click: Pan"})]})]})]})},RCe=()=>{const[n,e]=Re.useState(0),[t,r]=Re.useState(0),[i,a]=Re.useState(4),s=600,o=400,l={x:[-2,2],y:[-2,20]},u=g=>(g-l.x[0])/(l.x[1]-l.x[0])*s,c=g=>o-(g-l.y[0])/(l.y[1]-l.y[0])*o,d=(g,x)=>x*Math.exp(2*g),h=i/Math.exp(2*t),p=g=>{let x="";for(let b=l.x[0];b<=l.x[1];b+=.05){const _=d(b,g),M=u(b),E=c(_);if(_>l.y[1]||_<l.y[0]){x===""&&(x+=`M ${M} ${Math.max(0,Math.min(o,E))}`);continue}x===""?x+=`M ${M} ${E}`:x+=` L ${M} ${E}`}return x};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"First-Order Differential Equations"}),S.jsxs("p",{className:"text-slate-400 max-w-3xl",children:["An equation relating a function ",S.jsx(Dn,{expression:"y",inline:!0})," to its derivative ",S.jsx(Dn,{expression:"y'",inline:!0}),".",S.jsx("br",{}),S.jsx("span",{className:"font-mono text-cyan-400",children:"General Solution"})," represents a family of curves. ",S.jsx("span",{className:"font-mono text-purple-400",children:"Particular Solution"})," passes through a specific point."]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-700",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[S.jsx(mF,{className:"text-cyan-400",size:20})," The Problem"]}),S.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800 text-center mb-4",children:[S.jsx(Dn,{expression:"y' = 2y",className:"text-xl text-white"}),S.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Find a function that grows at twice its current size."})]}),S.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:["By rearranging to ",S.jsx(Dn,{expression:"\\frac{1}{y}dy = 2dx",inline:!0})," and integrating both sides:"]}),S.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-slate-700 text-sm text-slate-400 font-mono space-y-1",children:[S.jsx("div",{children:" (1/y) dy =  2 dx"}),S.jsx("div",{children:"ln|y| = 2x + C"}),S.jsxs("div",{className:"text-cyan-400 font-bold",children:["y = C  e^","2x"]})]})]}),S.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-700",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[S.jsx(M1,{className:"text-purple-400",size:20})," Initial Conditions"]}),S.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed mb-4",children:["To find the specific curve (Particular Solution), we need a point ",S.jsx(Dn,{expression:"(x_0, y_0)",inline:!0}),"."]}),S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsxs("div",{className:"flex justify-between items-center bg-slate-950 p-3 rounded-lg border border-slate-800",children:[S.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Condition"}),S.jsxs("span",{className:"font-mono text-purple-400",children:["y(",t,") = ",i]})]}),S.jsxs("div",{className:"flex justify-between items-center bg-slate-950 p-3 rounded-lg border border-slate-800",children:[S.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Result C"}),S.jsxs("span",{className:"font-mono text-cyan-400",children:[i," = Ce^{2(0)}  C = ",h.toFixed(2)]})]})]})]})]}),S.jsxs("div",{className:"bg-slate-900 rounded-3xl border border-slate-700 p-1 shadow-2xl relative overflow-hidden flex flex-col min-h-[500px]",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"p-4 bg-slate-950/80 backdrop-blur-sm border-b border-white/5 flex justify-between items-center z-10",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Solution Family"}),S.jsx("div",{className:"flex items-center gap-4",children:S.jsx("span",{className:"text-xs font-mono text-slate-500",children:"y = Ce^{2x}"})})]}),S.jsx("div",{className:"relative flex-1 w-full",children:S.jsxs("svg",{viewBox:`0 0 ${s} ${o}`,className:"w-full h-full",children:[S.jsx("line",{x1:0,y1:c(0),x2:s,y2:c(0),stroke:"#475569",strokeWidth:"1"}),S.jsx("line",{x1:u(0),y1:0,x2:u(0),y2:o,stroke:"#475569",strokeWidth:"1"}),[-2,-1,.5,1,3,5].map((g,x)=>S.jsx("path",{d:p(g),fill:"none",stroke:"#334155",strokeWidth:"1",strokeDasharray:"4 4"},x)),S.jsx(Yt.path,{d:p(n),fill:"none",stroke:"#22d3ee",strokeWidth:"2",opacity:.5}),S.jsx(Yt.path,{d:p(h),fill:"none",stroke:"#c084fc",strokeWidth:"4"}),S.jsx("circle",{cx:u(t),cy:c(i),r:"6",fill:"#c084fc",stroke:"white",strokeWidth:"2"})]})}),S.jsxs("div",{className:"p-6 bg-slate-950/50 border-t border-white/5 space-y-6",children:[S.jsxs("div",{children:[S.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:[S.jsx("span",{className:"flex items-center gap-2",children:"Manual C Exploration"}),S.jsx("span",{className:"text-cyan-400 font-mono text-lg",children:n.toFixed(1)})]}),S.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",value:n,onChange:g=>e(parseFloat(g.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold text-purple-400 uppercase tracking-widest mb-2 block",children:"Set Initial Y(0)"}),S.jsx("input",{type:"number",value:i,onChange:g=>a(parseFloat(g.target.value)),className:"w-full bg-slate-800 border border-slate-700 rounded p-2 text-white font-mono focus:border-purple-500 outline-none"})]}),S.jsx("div",{className:"flex items-end pb-2",children:S.jsxs("span",{className:"text-xs text-slate-500",children:["Particular Solution: ",S.jsxs("span",{className:"text-white font-mono font-bold",children:["y = ",h.toFixed(2),"e^{2x}"]})]})})]})]})]})]})]})},BCe=()=>{const[n,e]=Re.useState("verhulst"),[t,r]=Re.useState(10),[i,a]=Re.useState(.5),[s,o]=Re.useState(100),l=600,u=400,c=15,d=_=>t*Math.exp(i*_),p=n==="malthus"?d:_=>s/(1+(s-t)/t*Math.exp(-i*_)),g=n==="malthus"?d(c/2):s*1.2,x=_=>_/c*l,A=_=>u-_/g*u,b=_=>{let M="";for(let C=0;C<=c;C+=.1){const T=_(C),B=x(C),z=A(T);if(z<0){M!==""&&(M+=` L ${B} 0`);break}C===0?M+=`M ${B} ${z}`:M+=` L ${B} ${z}`}return M};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6 flex flex-col md:flex-row justify-between items-end gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Population Dynamics"}),S.jsxs("p",{className:"text-slate-400 max-w-2xl",children:["Modeling biological growth. Unlimited resources lead to ",S.jsx("span",{className:"text-pink-400",children:"Malthusian"})," explosion. Real-world limits create ",S.jsx("span",{className:"text-emerald-400",children:"Verhulst (Logistic)"})," equilibrium."]})]}),S.jsxs("div",{className:"bg-slate-900 p-1 rounded-xl border border-slate-800 flex gap-1",children:[S.jsx("button",{onClick:()=>e("malthus"),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg transition-all ${n==="malthus"?"bg-pink-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"Malthus (Exp)"}),S.jsx("button",{onClick:()=>e("verhulst"),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg transition-all ${n==="verhulst"?"bg-emerald-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"Verhulst (Logistic)"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700 backdrop-blur-md",children:[S.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6",children:"Environment Params"}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[S.jsx("span",{children:"Initial Population (N)"}),S.jsx("span",{className:"font-mono text-cyan-400",children:t})]}),S.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:t,onChange:_=>r(parseFloat(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[S.jsx("span",{children:"Growth Rate (r)"}),S.jsx("span",{className:"font-mono text-purple-400",children:i.toFixed(2)})]}),S.jsx("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:i,onChange:_=>a(parseFloat(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),n==="verhulst"&&S.jsxs(Yt.div,{initial:{opacity:0},animate:{opacity:1},children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[S.jsx("span",{children:"Carrying Capacity (K)"}),S.jsx("span",{className:"font-mono text-emerald-400",children:s})]}),S.jsx("input",{type:"range",min:"50",max:"200",step:"10",value:s,onChange:_=>o(parseFloat(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),S.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[S.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(yF,{size:16})," Differential Equation"]}),n==="malthus"?S.jsxs("div",{className:"space-y-4",children:[S.jsx(Dn,{expression:"\\frac{dN}{dt} = rN",className:"text-xl text-pink-400 text-center"}),S.jsxs("p",{className:"text-xs text-slate-400 text-center leading-relaxed",children:["Growth is proportional only to current size.",S.jsx("br",{}),"Result: ",S.jsx(Dn,{expression:"N(t) = N_0 e^{rt}",inline:!0})]}),S.jsxs("div",{className:"flex items-center gap-2 text-pink-400 bg-pink-900/10 p-2 rounded border border-pink-900/30 text-xs",children:[S.jsx(pw,{size:14})," Unbounded growth (Unrealistic long-term)"]})]}):S.jsxs("div",{className:"space-y-4",children:[S.jsx(Dn,{expression:"\\frac{dN}{dt} = rN(1 - \\frac{N}{K})",className:"text-xl text-emerald-400 text-center"}),S.jsxs("p",{className:"text-xs text-slate-400 text-center leading-relaxed",children:["Growth slows as ",S.jsx(Dn,{expression:"N",inline:!0})," approaches capacity ",S.jsx(Dn,{expression:"K",inline:!0}),".",S.jsx("br",{}),"Result: Sigmoid Curve."]}),S.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-900/10 p-2 rounded border border-emerald-900/30 text-xs",children:[S.jsx(ic,{size:14})," Stabilizes at K (Sustainable)"]})]})]})]}),S.jsxs("div",{className:"lg:col-span-2 bg-slate-900 rounded-3xl border border-slate-700 relative overflow-hidden shadow-2xl flex flex-col h-[500px]",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-2 text-xs font-mono",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`w-4 h-0.5 ${n==="malthus"?"bg-pink-400":"bg-emerald-400"}`}),S.jsx("span",{className:"text-slate-400",children:"Population N(t)"})]}),n==="verhulst"&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-4 h-0.5 bg-slate-500 border-t border-dashed border-slate-300"}),S.jsx("span",{className:"text-slate-500",children:"Capacity K"})]})]}),S.jsxs("svg",{viewBox:`0 0 ${l} ${u}`,className:"w-full h-full",children:[S.jsx("line",{x1:0,y1:u,x2:l,y2:u,stroke:"#475569",strokeWidth:"2"}),S.jsx("line",{x1:0,y1:0,x2:0,y2:u,stroke:"#475569",strokeWidth:"2"}),n==="verhulst"&&S.jsx("line",{x1:0,y1:A(s),x2:l,y2:A(s),stroke:"#64748b",strokeWidth:"1",strokeDasharray:"5 5"}),S.jsx(Yt.path,{d:b(p),fill:"none",stroke:n==="malthus"?"#ec4899":"#10b981",strokeWidth:"3",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1}}),S.jsx("text",{x:10,y:u-10,fill:"#64748b",fontSize:"10",children:"t=0"}),S.jsxs("text",{x:l-30,y:u-10,fill:"#64748b",fontSize:"10",children:["t=",c]}),n==="verhulst"&&S.jsxs("text",{x:10,y:A(s)-5,fill:"#64748b",fontSize:"10",children:["K=",s]})]}),S.jsxs("div",{className:"absolute bottom-4 left-4 p-3 bg-black/60 rounded-xl backdrop-blur-sm border border-white/10 pointer-events-none",children:[S.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-2",children:"Bio-Sim Preview"}),S.jsx("div",{className:"w-32 h-32 relative bg-slate-900/50 rounded-lg overflow-hidden",children:Array.from({length:Math.min(Math.floor(p(c/2)),100)}).map((_,M)=>S.jsx("div",{className:`absolute w-1 h-1 rounded-full ${n==="malthus"?"bg-pink-500":"bg-emerald-500"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,opacity:.6}},M))})]})]})]})]})},OCe=()=>{const[n,e]=Re.useState(100),[t,r]=Re.useState(.5),i=600,a=400,s=10,o=h=>n*Math.exp(-t*h),l=Math.log(2)/t,u=h=>h/s*i,c=h=>a-h/n*(a*.8)-20,d=()=>{let h="";for(let g=0;g<=s;g+=.1){const x=o(g),A=u(g),b=c(x);g===0?h+=`M ${A} ${b}`:h+=` L ${A} ${b}`}return h};return S.jsxs("div",{className:"space-y-8 pb-20",children:[S.jsxs("header",{className:"border-b border-white/10 pb-6",children:[S.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Radioactive Decay"}),S.jsx("p",{className:"text-slate-400 max-w-3xl",children:"The probability of decay per time unit is constant. This leads to an exponential decrease in the number of active nuclei."})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[S.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[S.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700 backdrop-blur-md",children:[S.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-2",children:[S.jsx(sF,{size:16})," Isotope Properties"]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[S.jsx("span",{children:"Initial Nuclei (N)"}),S.jsx("span",{className:"font-mono text-cyan-400",children:n})]}),S.jsx("input",{type:"range",min:"10",max:"200",step:"10",value:n,onChange:h=>e(parseFloat(h.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[S.jsx("span",{children:"Decay Constant ()"}),S.jsx("span",{className:"font-mono text-purple-400",children:t.toFixed(2)})]}),S.jsx("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:t,onChange:h=>r(parseFloat(h.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]})]}),S.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 text-center",children:[S.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase mb-2",children:"Equation"}),S.jsx(Dn,{expression:"\\frac{dN}{dt} = -\\lambda N",className:"text-xl text-white mb-2"}),S.jsx(Dn,{expression:"N(t) = N_0 e^{-\\lambda t}",className:"text-lg text-slate-400"})]}),S.jsxs("div",{className:"bg-amber-500/10 p-6 rounded-2xl border border-amber-500/20 text-center",children:[S.jsxs("div",{className:"text-xs text-amber-500 font-bold uppercase mb-2 flex items-center justify-center gap-2",children:[S.jsx(r6,{size:14})," Half-Life (T 1/2)"]}),S.jsxs("div",{className:"text-3xl font-mono text-white font-bold",children:[l.toFixed(2),"s"]}),S.jsxs("p",{className:"text-[10px] text-amber-200/60 mt-2",children:["Time to reach ",n/2," nuclei"]})]})]}),S.jsxs("div",{className:"lg:col-span-8 bg-slate-900 rounded-3xl border border-slate-700 relative overflow-hidden shadow-2xl flex flex-col min-h-[400px]",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"}),S.jsx("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-2 text-xs font-mono",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-4 h-0.5 bg-amber-400"}),S.jsx("span",{className:"text-slate-400",children:"Nuclei Count"})]})}),S.jsxs("svg",{viewBox:`0 0 ${i} ${a}`,className:"w-full h-full",children:[S.jsx("line",{x1:0,y1:a,x2:i,y2:a,stroke:"#475569",strokeWidth:"2"}),S.jsx("line",{x1:0,y1:0,x2:0,y2:a,stroke:"#475569",strokeWidth:"2"}),S.jsx("line",{x1:u(l),y1:c(0),x2:u(l),y2:c(n),stroke:"#64748b",strokeWidth:"1",strokeDasharray:"5 5"}),S.jsx("text",{x:u(l)+5,y:c(n/2),fill:"#94a3b8",fontSize:"10",children:"N/2"}),S.jsx(Yt.path,{d:d(),fill:"none",stroke:"#fbbf24",strokeWidth:"3",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1}}),S.jsx("g",{children:Array.from({length:50}).map((h,p)=>{const g=p*(s/50),x=o(g),b=(n-x)/n;return S.jsx("circle",{cx:u(g),cy:c(x),r:2,fill:Math.random()>b?"#fbbf24":"#334155"},p)})})]})]})]})]})},zCe=()=>{const n=Re.useRef(null),e=10,t=28,r=8/3,i=.01,a=Re.useMemo(()=>{const s=[];let o=.1,l=0,u=0;for(let c=0;c<3e3;c++){const d=e*(l-o),h=o*(t-u)-l,p=o*l-r*u;o+=d*i,l+=h*i,u+=p*i,s.push(new Ce(o,l,u))}return s},[]);return L1(s=>{n.current&&(n.current.rotation.y+=.002)}),S.jsx("group",{ref:n,position:[0,-25,0],children:S.jsx(Um,{points:a,color:"#f472b6",lineWidth:1.5,opacity:.8,transparent:!0})})},UCe=()=>S.jsxs("div",{className:"space-y-6 h-[calc(100vh-140px)] flex flex-col pb-6",children:[S.jsx("header",{className:"flex justify-between items-end border-b border-white/10 pb-4 shrink-0",children:S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[S.jsx(fF,{className:"text-pink-400"})," Lorenz Attractor"]}),S.jsx("p",{className:"text-slate-400 text-sm max-w-2xl",children:"A chaotic system of differential equations. Small changes in initial conditions lead to vastly different trajectories (Butterfly Effect)."})]})}),S.jsx("div",{className:"flex-1 bg-slate-950 rounded-3xl border border-slate-800 relative overflow-hidden shadow-2xl",children:S.jsxs(ip,{camera:{position:[50,40,50],fov:45},children:[S.jsx("color",{attach:"background",args:["#020617"]}),S.jsx(I1,{makeDefault:!0,autoRotate:!0,autoRotateSpeed:.5}),S.jsx(zCe,{})]})})]}),FCe=({module:n})=>{const t=(()=>{switch(n){case hn.MATRIX:return{color:"text-orange-400",icon:A1,sections:[{title:"Basic Definitions",items:[{label:"Matrix Dimensions",formula:"A_{m \\times n}",note:"m rows, n columns"},{label:"Square Matrix",formula:"m = n",note:"Essential for det(A) & A"},{label:"Identity Matrix (I)",formula:"I = \\text{diag}(1,1,\\dots,1)",note:"A \\cdot I = A"},{label:"Zero Matrix (0)",formula:"O_{ij} = 0",note:"A + O = A"},{label:"Transpose",formula:"(A^T)_{ij} = A_{ji}",note:"Rows become columns"},{label:"Symmetric Matrix",formula:"A = A^T",note:"Must be square"},{label:"Skew-Symmetric",formula:"A^T = -A",note:"Diag elements must be 0"}]},{title:"Operations",items:[{label:"Addition",formula:"C_{ij} = a_{ij} + b_{ij}",note:"Dims must match exactly"},{label:"Scalar Mult",formula:"(kA)_{ij} = k \\cdot a_{ij}",note:"Multiply every element"},{label:"Matrix Mult",formula:"C_{ij} = \\sum_k a_{ik}b_{kj}",note:"Cols(A) must equal Rows(B)"},{label:"Properties",formula:"AB \\neq BA",note:"Generally not commutative"},{label:"Transpose Prop",formula:"(AB)^T = B^T A^T",note:"Order reverses!"},{label:"Trace",formula:"\\text{Tr}(A) = \\sum a_{ii}",note:"Sum of main diagonal"}]},{title:"Determinants (Det)",items:[{label:"2x2 Formula",formula:"ad - bc",note:"For [[a,b],[c,d]]"},{label:"Sarrus Rule (3x3)",formula:"\\text{diag sum} - \\text{anti-diag sum}",note:"Only for 3x3 matrices"},{label:"Laplace Expansion",formula:"\\det A = \\sum (-1)^{i+j} a_{ij} M_{ij}",note:"Expansion by any row/col"},{label:"Product Rule",formula:"\\det(AB) = \\det(A)\\det(B)",note:""},{label:"Transpose Rule",formula:"\\det(A^T) = \\det(A)",note:""},{label:"Inverse Rule",formula:"\\det(A^{-1}) = 1/\\det(A)",note:""},{label:"Scalar Rule",formula:"\\det(kA) = k^n \\det(A)",note:"n is dimension size"}]},{title:"Inverse Matrix",items:[{label:"Condition",formula:"\\det(A) \\neq 0",note:"Matrix is Non-Singular"},{label:"Adjugate Formula",formula:"A^{-1} = \\frac{1}{\\det A} (C_{ij})^T",note:"Transpose of cofactor matrix"},{label:"2x2 Shortcut",formula:"\\frac{1}{ad-bc} \\begin{bmatrix} d & -b \\\\ -c & a \\end{bmatrix}",note:"Swap diag, negate off-diag"},{label:"Product Inverse",formula:"(AB)^{-1} = B^{-1}A^{-1}",note:"Order reverses!"}]},{title:"Systems of Equations",items:[{label:"Matrix Form",formula:"AX = B",note:""},{label:"Cramer's Rule",formula:"x_i = \\frac{\\det(A_i)}{\\det(A)}",note:"Valid if det(A)  0"},{label:"Rouche-Capelli",formula:"\\text{rank}(A) = \\text{rank}(A|B)",note:"Condition for consistency"},{label:"Unique Solution",formula:"\\text{rank}(A) = \\text{rank}(A|B) = n",note:"n = variables"},{label:"Infinite Solutions",formula:"\\text{rank}(A) = \\text{rank}(A|B) < n",note:"Free parameters exist"}]}]};case hn.SEQUENCES:return{color:"text-amber-400",icon:mw,sections:[{title:"Definitions",items:[{label:"General Term",formula:"a_n = f(n)",note:"n  "},{label:"Monotonicity",formula:"a_{n+1} - a_n",note:">0 increasing, <0 decreasing"},{label:"Convergence",formula:"\\lim_{n\\to\\infty} a_n = g",note:"g is finite number"},{label:"Boundedness",formula:"|a_n| \\le M",note:"For all n"}]},{title:"Arithmetic Progression",items:[{label:"Definition",formula:"a_{n+1} - a_n = r",note:"r is const difference"},{label:"N-th Term",formula:"a_n = a_1 + (n-1)r",note:""},{label:"Sum S_n",formula:"\\frac{a_1 + a_n}{2} \\cdot n",note:""},{label:"Monotonicity",formula:"r > 0 \\implies \\nearrow",note:"r < 0 implies decreasing"}]},{title:"Geometric Progression",items:[{label:"Definition",formula:"a_{n+1} / a_n = q",note:"q is const ratio"},{label:"N-th Term",formula:"a_n = a_1 \\cdot q^{n-1}",note:""},{label:"Sum S_n (q1)",formula:"a_1 \\frac{1-q^n}{1-q}",note:""},{label:"Infinite Sum",formula:"S = \\frac{a_1}{1-q}",note:"Converges if |q| < 1"}]},{title:"Key Limits",items:[{label:"Reciprocal",formula:"\\lim \\frac{1}{n} = 0",note:""},{label:"Polynomials",formula:"\\lim \\frac{P(n)}{Q(n)}",note:"Compare highest degrees"},{label:"Euler Number",formula:"\\lim (1 + \\frac{1}{n})^n = e",note:""},{label:"Root Test",formula:"\\lim \\sqrt[n]{n} = 1",note:""},{label:"Constant Root",formula:"\\lim \\sqrt[n]{A} = 1",note:"For A > 0"},{label:"Geometric",formula:"\\lim q^n = 0",note:"If |q| < 1"}]},{title:"Theorems",items:[{label:"Squeeze Theorem",formula:"a_n \\le b_n \\le c_n",note:"If lim a = lim c, then lim b is same"},{label:"Weierstrass",formula:"Bounded & Monotonic",note:"Implies Convergence"},{label:"Arithmetic Ops",formula:"\\lim(a_n \\pm b_n) = A \\pm B",note:"Only for finite limits"}]}]};case hn.FUNCTIONS:return{color:"text-rose-400",icon:Vd,sections:[{title:"Function Basics",items:[{label:"Domain (D)",formula:"x \\text{ values}",note:"Where f(x) exists"},{label:"Range (R)",formula:"y \\text{ values}",note:"Output set"},{label:"Roots",formula:"f(x) = 0",note:"x-intercepts"},{label:"Injection (1-to-1)",formula:"f(x_1)=f(x_2) \\implies x_1=x_2",note:"Horizontal line test"},{label:"Inverse",formula:"y=f(x) \\iff x=f^{-1}(y)",note:"Requires Injection"}]},{title:"Domain Constraints",items:[{label:"Denominator",formula:"\\text{denom} \\neq 0",note:"Division by zero"},{label:"Even Roots",formula:"\\text{inside} \\ge 0",note:"sqrt(x), x^(1/4)"},{label:"Logarithms",formula:"\\text{argument} > 0",note:"ln(x)"},{label:"Arcsin/Arccos",formula:"-1 \\le x \\le 1",note:"Domain restricted"}]},{title:"Parity & Symmetry",items:[{label:"Even Function",formula:"f(-x) = f(x)",note:"Symmetric to Y-axis (e.g., x, cos x)"},{label:"Odd Function",formula:"f(-x) = -f(x)",note:"Symmetric to Origin (e.g., x, sin x)"},{label:"Periodic",formula:"f(x+T) = f(x)",note:"Trig functions"}]},{title:"Elementary Functions",items:[{label:"Linear",formula:"y = ax+b",note:"Slope a, intercept b"},{label:"Quadratic",formula:"y = ax^2+bx+c",note:"Vertex x = -b/2a"},{label:"Exponential",formula:"y = a^x",note:"Always > 0 (if a>0)"},{label:"Logarithm",formula:"y = \\log_a x",note:"Inverse of exp"}]},{title:"Trigonometry",items:[{label:"Pythagorean",formula:"\\sin^2 x + \\cos^2 x = 1",note:""},{label:"Double Angle (sin)",formula:"\\sin 2x = 2\\sin x \\cos x",note:""},{label:"Double Angle (cos)",formula:"\\cos 2x = \\cos^2 x - \\sin^2 x",note:""}]}]};case hn.LIMITS:return{color:"text-pink-400",icon:hw,sections:[{title:"Rules of Calculation",items:[{label:"Const Mult",formula:"\\lim k f(x) = k \\lim f(x)",note:""},{label:"Sum/Diff",formula:"\\lim (f \\pm g) = \\lim f \\pm \\lim g",note:""},{label:"Product",formula:"\\lim (f \\cdot g) = \\lim f \\cdot \\lim g",note:""},{label:"Quotient",formula:"\\lim (f/g) = (\\lim f)/(\\lim g)",note:"If lim g  0"},{label:"Power",formula:"\\lim f(x)^{g(x)} = (\\lim f)^{\\lim g}",note:""}]},{title:"Important Limits",items:[{label:"Sinc Limit",formula:"\\lim_{x\\to 0} \\frac{\\sin x}{x} = 1",note:"Very common"},{label:"Euler Limit",formula:"\\lim_{x\\to 0} (1+x)^{1/x} = e",note:""},{label:"Log Growth",formula:"\\lim_{x\\to 0} \\frac{\\ln(1+x)}{x} = 1",note:""},{label:"Exp Growth",formula:"\\lim_{x\\to 0} \\frac{e^x - 1}{x} = 1",note:""},{label:"Infinity Ratio",formula:"\\frac{x^n}{e^x} \\to 0",note:"As x  "}]},{title:"Continuity & Asymptotes",items:[{label:"Continuity Def",formula:"\\lim_{x\\to c} f(x) = f(c)",note:"No holes, no jumps"},{label:"Vertical Asym",formula:"\\lim_{x\\to c} f(x) = \\pm \\infty",note:"Line x = c"},{label:"Horizontal Asym",formula:"\\lim_{x\\to \\infty} f(x) = L",note:"Line y = L"},{label:"Oblique Asym",formula:"y = ax+b",note:"a = lim f(x)/x"}]},{title:"Indeterminate Forms",items:[{label:"Types",formula:"\\frac{0}{0}, \\frac{\\infty}{\\infty}, 0 \\cdot \\infty, \\infty - \\infty",note:"Requires work"},{label:"Exponential",formula:"1^\\infty, \\infty^0, 0^0",note:"Use ln() transform"},{label:"Strategy",formula:"Factor, Conjugate, L'Hospital",note:""}]}]};case hn.DERIVATIVES:return{color:"text-cyan-400",icon:dw,sections:[{title:"Definition",items:[{label:"Limit Def",formula:"f'(x) = \\lim_{h\\to 0} \\frac{f(x+h)-f(x)}{h}",note:""},{label:"Tangent Slope",formula:"m = f'(x_0)",note:""},{label:"Tangent Line",formula:"y - y_0 = f'(x_0)(x - x_0)",note:""},{label:"Normal Line",formula:"y - y_0 = -\\frac{1}{f'(x_0)}(x - x_0)",note:"Perpendicular"}]},{title:"Differentiation Rules",items:[{label:"Power Rule",formula:"(x^n)' = nx^{n-1}",note:""},{label:"Product Rule",formula:"(uv)' = u'v + uv'",note:""},{label:"Quotient Rule",formula:"(\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}",note:""},{label:"Chain Rule",formula:"(f(g(x)))' = f'(g) \\cdot g'(x)",note:"Outer'  Inner'"},{label:"Inverse Func",formula:"(f^{-1})'(y) = \\frac{1}{f'(x)}",note:""}]},{title:"Standard Derivatives",items:[{label:"Trig",formula:"(\\sin)'=\\cos, (\\cos)'=-\\sin",note:""},{label:"Tan/Cot",formula:"(\\tan)'=\\frac{1}{\\cos^2}, (\\cot)'=\\frac{-1}{\\sin^2}",note:""},{label:"Exponentials",formula:"(e^x)' = e^x, (a^x)' = a^x \\ln a",note:""},{label:"Logarithms",formula:"(\\ln x)' = \\frac{1}{x}, (\\log_a x)' = \\frac{1}{x \\ln a}",note:""},{label:"Inverse Trig",formula:"(\\arctan x)' = \\frac{1}{1+x^2}",note:""},{label:"Arcsin",formula:"(\\arcsin x)' = \\frac{1}{\\sqrt{1-x^2}}",note:""}]},{title:"Applications (Analysis)",items:[{label:"Monotonicity",formula:"f' > 0 \\implies \\nearrow",note:"f' < 0 implies decreasing"},{label:"Extrema",formula:"f'(c)=0 \\text{ & sign change}",note:"Local Max/Min"},{label:"Convexity",formula:"f'' > 0 \\implies \\cup",note:"Concave Up (Convex)"},{label:"Concavity",formula:"f'' < 0 \\implies \\cap",note:"Concave Down"},{label:"Inflection Pt",formula:"f''(c)=0 \\text{ & sign change}",note:"Change in curvature"},{label:"L'Hospital",formula:"\\lim \\frac{f}{g} = \\lim \\frac{f'}{g'}",note:"For 0/0 or /"}]}]};case hn.INTEGRALS:return{color:"text-emerald-400",icon:fw,sections:[{title:"Indefinite Integrals",items:[{label:"Power Rule",formula:"\\int x^a dx = \\frac{x^{a+1}}{a+1} + C",note:"a  -1"},{label:"Log Rule",formula:"\\int \\frac{1}{x} dx = \\ln|x| + C",note:""},{label:"Exponential",formula:"\\int e^x dx = e^x + C",note:""},{label:"General Exp",formula:"\\int a^x dx = \\frac{a^x}{\\ln a} + C",note:""}]},{title:"Definite Integrals",items:[{label:"Newton-Leibniz",formula:"\\int_a^b f(x)dx = F(b) - F(a)",note:"F is antiderivative"},{label:"Additivity",formula:"\\int_a^c = \\int_a^b + \\int_b^c",note:""},{label:"Linearity",formula:"\\int (af + bg) = a\\int f + b\\int g",note:""}]},{title:"Area Calculation",items:[{label:"Under Curve",formula:"S = \\int_a^b f(x)dx",note:"If f(x)  0"},{label:"Between Curves",formula:"S = \\int_a^b (f(x) - g(x))dx",note:"If f(x)  g(x)"}]}]};default:return{color:"text-slate-400",icon:Px,sections:[]}}})(),r=t.icon;return S.jsxs("div",{className:"pb-20 space-y-8",children:[S.jsxs("header",{className:"flex flex-col md:flex-row items-start md:items-center gap-6 mb-8 border-b border-white/10 pb-6",children:[S.jsx("div",{className:`p-4 rounded-2xl bg-slate-900 border border-slate-700 shadow-xl ${t.color}`,children:S.jsx(r,{size:40})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-4xl font-black text-white tracking-tight mb-2",children:"Exam Cheat Sheet"}),S.jsxs("p",{className:"text-slate-400 text-lg font-light max-w-2xl",children:["Complete revision guide for ",S.jsx("strong",{className:"text-white",children:n}),". Contains essential definitions, formulas, and theorems required for final exams."]})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 items-start",children:t.sections.map((i,a)=>S.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"bg-slate-900/40 backdrop-blur-md border border-slate-700/60 rounded-3xl overflow-hidden hover:border-slate-500/50 transition-all shadow-lg group",children:[S.jsxs("div",{className:"bg-slate-950/40 px-6 py-4 border-b border-slate-800/50 flex justify-between items-center",children:[S.jsxs("h3",{className:`font-bold uppercase tracking-widest text-xs flex items-center gap-2 ${t.color}`,children:[a===0?S.jsx(v$,{size:14}):a===1?S.jsx(s1,{size:14}):S.jsx(OX,{size:14}),i.title]}),S.jsxs("span",{className:"text-[10px] text-slate-600 font-mono font-bold bg-slate-900 px-2 py-0.5 rounded",children:["SEC ",a+1]})]}),S.jsx("div",{className:"p-5 space-y-3",children:i.items.map((s,o)=>S.jsxs("div",{className:"relative p-3 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5 group/item",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[S.jsx("span",{className:"text-slate-300 text-xs font-bold",children:s.label}),s.note&&S.jsx("span",{className:"text-[9px] text-slate-500 font-medium bg-slate-950 px-1.5 py-0.5 rounded border border-slate-800/50",children:s.note})]}),S.jsx("div",{className:"font-mono text-sm text-cyan-100/90 overflow-x-auto whitespace-nowrap pb-1 custom-scrollbar",children:S.jsx(Dn,{expression:s.formula,inline:!0})})]},o))})]},a))}),S.jsx("div",{className:"mt-8 text-center",children:S.jsx("p",{className:"text-xs text-slate-500 font-mono",children:"PRO TIP: Practice applying these formulas in the Homework section before the exam."})})]})},LCe=(n,e,t)=>n.map((r,i)=>r.map((a,s)=>a+(e[i][s]-a)*t)),qq=(n,e)=>({x:n[0][0]*e.x+n[0][1]*e.y+n[0][2]*e.z,y:n[1][0]*e.x+n[1][1]*e.y+n[1][2]*e.z,z:n[2][0]*e.x+n[2][1]*e.y+n[2][2]*e.z}),Ix=({start:n=new Ce(0,0,0),end:e,color:t,label:r})=>{const i=new Ce().subVectors(e,n).normalize(),a=n.distanceTo(e);return a<.01?null:S.jsxs("group",{children:[S.jsx("arrowHelper",{args:[i,n,a,t,.3,.15]}),r&&S.jsx(Fj,{position:[e.x+.1,e.y+.1,e.z],fontSize:.25,color:t,fontWeight:"bold",anchorX:"left",anchorY:"bottom",outlineWidth:.02,outlineColor:"#000",children:r})]})},kCe=({matrix:n})=>{const e=Re.useMemo(()=>{const t=new fc(10,10,20,20),r=t.attributes.position,i=new Ce;for(let a=0;a<r.count;a++){i.fromBufferAttribute(r,a);const s=qq(n,{x:i.x,y:i.y,z:i.z});r.setXYZ(a,s.x,s.y,s.z)}return t.computeVertexNormals(),t},[n]);return S.jsxs("group",{children:[S.jsx("mesh",{geometry:e,children:S.jsx("meshBasicMaterial",{color:"#3b82f6",wireframe:!0,transparent:!0,opacity:.2})}),S.jsx("mesh",{geometry:e,children:S.jsx("meshBasicMaterial",{color:"#3b82f6",transparent:!0,opacity:.05,side:Qa})})]})},ICe=()=>{const[n,e]=Re.useState([[1,0,0],[0,1,0],[0,0,1]]),[t,r]=Re.useState(1),[i,a]=Re.useState(!1),[s,o]=Re.useState({x:1,y:1,z:1}),l=[[1,0,0],[0,1,0],[0,0,1]],u=Re.useMemo(()=>LCe(l,n,t),[n,t]),c=Re.useMemo(()=>ff(u),[u]),d=new Ce(u[0][0],u[1][0],u[2][0]),h=new Ce(u[0][1],u[1][1],u[2][1]),p=new Ce(u[0][2],u[1][2],u[2][2]),g=qq(u,s),x=new Ce(g.x,g.y,g.z),A=new Ce(s.x,s.y,s.z);Re.useEffect(()=>{let _;if(i){const M=()=>{r(E=>E>=1?(a(!1),1):E+.02),_=requestAnimationFrame(M)};_=requestAnimationFrame(M)}return()=>cancelAnimationFrame(_)},[i]);const b=_=>{switch(r(0),setTimeout(()=>a(!0),100),_){case"identity":e([[1,0,0],[0,1,0],[0,0,1]]);break;case"scale":e([[2,0,0],[0,.5,0],[0,0,1]]);break;case"shear":e([[1,1,0],[0,1,0],[0,0,1]]);break;case"rotateZ":const M=Math.PI/4;e([[Math.cos(M),-Math.sin(M),0],[Math.sin(M),Math.cos(M),0],[0,0,1]]);break;case"projection":e([[1,0,0],[0,1,0],[0,0,0]]);break;case"random":e([[(Math.random()-.5)*3,(Math.random()-.5)*3,(Math.random()-.5)*3],[(Math.random()-.5)*3,(Math.random()-.5)*3,(Math.random()-.5)*3],[(Math.random()-.5)*3,(Math.random()-.5)*3,(Math.random()-.5)*3]]);break}};return S.jsxs("div",{className:"space-y-6 h-[calc(100vh-140px)] flex flex-col pb-6",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end border-b border-white/10 pb-4 shrink-0 gap-4",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[S.jsx(gd,{className:"text-cyan-400"})," Matrix Space Warper"]}),S.jsxs("p",{className:"text-slate-400 text-sm max-w-2xl",children:["Visualize how a linear transformation ",S.jsx("span",{className:"font-mono text-cyan-400",children:"T(x) = Ax"})," deforms the entire fabric of space. The blue grid represents the XY plane being transformed."]})]}),S.jsxs("div",{className:"flex gap-6 items-center",children:[S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-[10px] uppercase text-slate-500 font-bold tracking-widest",children:"Progress"}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:t,onChange:_=>r(parseFloat(_.target.value)),className:"w-24 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})})]}),S.jsxs("div",{className:"text-right pl-6 border-l border-white/10",children:[S.jsx("div",{className:"text-[10px] uppercase text-slate-500 font-bold tracking-widest",children:"Volume Scaling"}),S.jsx("div",{className:`text-2xl font-mono font-bold ${c===0?"text-pink-500":"text-white"}`,children:c!==null?du(c):"Err"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 flex-1 min-h-0",children:[S.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6 overflow-y-auto pr-2 custom-scrollbar",children:[S.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"identity",label:"Reset",icon:R_},{id:"scale",label:"Scale",icon:oc},{id:"shear",label:"Shear",icon:F3},{id:"rotateZ",label:"Rot Z",icon:R_},{id:"projection",label:"Flat",icon:gd},{id:"random",label:"Chaos",icon:F3}].map(_=>S.jsxs("button",{onClick:()=>b(_.id),className:"flex flex-col items-center justify-center p-3 bg-slate-900 border border-slate-700 rounded-xl hover:bg-slate-800 hover:border-cyan-500/50 transition-all group",children:[S.jsx(_.icon,{size:16,className:"mb-1 text-slate-500 group-hover:text-cyan-400"}),S.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 group-hover:text-white",children:_.label})]},_.id))}),S.jsxs("div",{className:"glass-panel p-5 rounded-2xl border border-slate-700",children:[S.jsx("div",{className:"flex justify-between items-center mb-4",children:S.jsx("h3",{className:"text-xs font-bold text-slate-300 uppercase tracking-widest",children:"Transformation Matrix A"})}),S.jsx(Jo,{data:n,onChange:_=>{e(_),r(1)},editable:!0,color:"blue"})]}),S.jsxs("div",{className:"bg-slate-900/50 p-5 rounded-2xl border border-slate-800 space-y-4",children:[S.jsxs("h4",{className:"text-xs font-bold text-amber-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(pF,{size:14})," Test Vector v"]}),S.jsx("div",{className:"grid grid-cols-3 gap-2",children:["x","y","z"].map(_=>S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase text-center block",children:_}),S.jsx("input",{type:"number",value:s[_],onChange:M=>o(E=>({...E,[_]:parseFloat(M.target.value)})),className:"w-full bg-slate-950 border border-slate-700 rounded px-2 py-1 text-center text-sm font-mono text-amber-100 focus:border-amber-500 outline-none"})]},_))})]})]}),S.jsxs("div",{className:"lg:col-span-3 bg-slate-950 rounded-3xl border border-slate-800 relative overflow-hidden shadow-2xl",children:[S.jsxs(ip,{camera:{position:[5,5,8],fov:45},children:[S.jsx("color",{attach:"background",args:["#020617"]}),S.jsx("ambientLight",{intensity:.4}),S.jsx("pointLight",{position:[10,10,10],intensity:1}),S.jsx("pointLight",{position:[-10,-5,-10],intensity:.5,color:"blue"}),S.jsx(I1,{makeDefault:!0,enablePan:!0,minDistance:2,maxDistance:40}),S.jsx(u5,{infiniteGrid:!0,sectionSize:3,cellColor:"#1e293b",sectionColor:"#334155",fadeDistance:30,position:[0,-.01,0]}),S.jsxs("group",{position:[0,0,0],children:[S.jsx(Um,{points:[[-10,0,0],[10,0,0]],color:"#ef4444",opacity:.3,transparent:!0}),S.jsx(Um,{points:[[0,-10,0],[0,10,0]],color:"#10b981",opacity:.3,transparent:!0}),S.jsx(Um,{points:[[0,0,-10],[0,0,10]],color:"#3b82f6",opacity:.3,transparent:!0})]}),S.jsx(kCe,{matrix:u}),S.jsx(Ix,{end:d,color:"#f472b6",label:"i"}),S.jsx(Ix,{end:h,color:"#a78bfa",label:"j"}),S.jsx(Ix,{end:p,color:"#34d399",label:"k"}),S.jsx(Ix,{end:A,color:"#64748b",label:"v"}),S.jsx(Ix,{end:x,color:"#fbbf24",label:"Av"}),S.jsx(Um,{points:[A,x],color:"#fbbf24",opacity:.4,transparent:!0,lineWidth:1,segments:!0,dashed:!0})]}),S.jsx("div",{className:"absolute bottom-4 right-4 pointer-events-none text-[10px] text-slate-600 font-mono bg-black/20 p-2 rounded backdrop-blur-sm",children:"Left Click: Rotate  Scroll: Zoom"})]})]})]})},Pv=({start:n=new Ce(0,0,0),end:e,color:t,label:r,scale:i=1})=>{const a=new Ce().subVectors(e,n).normalize(),s=n.distanceTo(e);return s<.01?null:S.jsxs("group",{children:[S.jsx("arrowHelper",{args:[a,n,s,t,.4*i,.2*i]}),r&&S.jsx(Fj,{position:[e.x,e.y+.3,e.z],fontSize:.4,color:t,fontWeight:"bold",outlineWidth:.03,outlineColor:"#000",anchorY:"bottom",children:r})]})},PCe=({v1:n,v2:e})=>{const t=Re.useMemo(()=>{const r=new Yn,i=new Float32Array([0,0,0,n.x,n.y,n.z,e.x,e.y,e.z,n.x,n.y,n.z,n.x+e.x,n.y+e.y,n.z+e.z,e.x,e.y,e.z]);return r.setAttribute("position",new Yr(i,3)),r.computeVertexNormals(),r},[n,e]);return S.jsx("mesh",{geometry:t,children:S.jsx("meshBasicMaterial",{color:"white",transparent:!0,opacity:.1,side:Qa})})},jCe=()=>{const[n,e]=Re.useState({x:3,y:0,z:0}),[t,r]=Re.useState({x:0,y:3,z:2}),[i,a]=Re.useState(!0),[s,o]=Re.useState(!0),[l,u]=Re.useState(!0),c=new Ce(n.x,n.y,n.z),d=new Ce(t.x,t.y,t.z),h=new Ce().addVectors(c,d),p=new Ce().crossVectors(c,d),g=c.dot(d);return S.jsxs("div",{className:"space-y-6 h-[calc(100vh-140px)] flex flex-col pb-6",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end border-b border-white/10 pb-4 shrink-0 gap-4",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[S.jsx(wX,{className:"text-cyan-400"})," Vector Operations 3D"]}),S.jsxs("p",{className:"text-slate-400 text-sm max-w-2xl",children:["Interactive laboratory for visualizing ",S.jsx("span",{className:"text-cyan-400",children:"Addition"}),", ",S.jsx("span",{className:"text-purple-400",children:"Dot Product"}),", and ",S.jsx("span",{className:"text-amber-400",children:"Cross Product"})," in 3D space."]})]}),S.jsxs("div",{className:"bg-slate-900/50 p-2 rounded-lg border border-slate-800 flex gap-4 text-xs font-mono",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-slate-500 uppercase tracking-widest",children:"Dot Product"}),S.jsx("div",{className:"text-white font-bold text-lg",children:g.toFixed(1)})]}),S.jsx("div",{className:"w-px bg-white/10"}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-slate-500 uppercase tracking-widest",children:"Cross Mag"}),S.jsx("div",{className:"text-amber-400 font-bold text-lg",children:p.length().toFixed(1)})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 flex-1 min-h-0",children:[S.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6 overflow-y-auto pr-2 custom-scrollbar",children:[S.jsxs("div",{className:"bg-slate-900/50 p-5 rounded-2xl border border-slate-800",children:[S.jsxs("h3",{className:"text-xs font-bold text-cyan-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(O3,{size:16})," Vector u"]}),S.jsx("div",{className:"space-y-4",children:["x","y","z"].map(x=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-bold uppercase",children:[S.jsxs("span",{children:[x,"-axis"]}),S.jsx("span",{className:"text-white",children:n[x]})]}),S.jsx("input",{type:"range",min:"-5",max:"5",step:"0.5",value:n[x],onChange:A=>e(b=>({...b,[x]:parseFloat(A.target.value)})),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]},`u-${x}`))})]}),S.jsxs("div",{className:"bg-slate-900/50 p-5 rounded-2xl border border-slate-800",children:[S.jsxs("h3",{className:"text-xs font-bold text-purple-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[S.jsx(O3,{size:16})," Vector v"]}),S.jsx("div",{className:"space-y-4",children:["x","y","z"].map(x=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-bold uppercase",children:[S.jsxs("span",{children:[x,"-axis"]}),S.jsx("span",{className:"text-white",children:t[x]})]}),S.jsx("input",{type:"range",min:"-5",max:"5",step:"0.5",value:t[x],onChange:A=>r(b=>({...b,[x]:parseFloat(A.target.value)})),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]},`v-${x}`))})]}),S.jsxs("div",{className:"bg-slate-900/50 p-5 rounded-2xl border border-slate-800 space-y-2",children:[S.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-white transition-colors",children:"Show Addition (u+v)"}),S.jsx("input",{type:"checkbox",checked:i,onChange:x=>a(x.target.checked),className:"accent-emerald-500"})]}),S.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-white transition-colors",children:"Show Cross Product"}),S.jsx("input",{type:"checkbox",checked:s,onChange:x=>o(x.target.checked),className:"accent-amber-500"})]}),S.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-white transition-colors",children:"Show Span Plane"}),S.jsx("input",{type:"checkbox",checked:l,onChange:x=>u(x.target.checked),className:"accent-white"})]})]}),S.jsxs("div",{className:"p-4 bg-black/20 rounded-xl border border-white/5 text-[10px] text-slate-500 space-y-2 font-mono",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400"})," Vector u"]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})," Vector v"]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"})," Sum (u+v)"]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"})," Cross (uv)"]})]})]}),S.jsxs("div",{className:"lg:col-span-3 bg-slate-950 rounded-3xl border border-slate-800 relative overflow-hidden shadow-2xl",children:[S.jsxs(ip,{camera:{position:[8,8,8],fov:45},children:[S.jsx("color",{attach:"background",args:["#020617"]}),S.jsx("ambientLight",{intensity:.5}),S.jsx("pointLight",{position:[10,10,10],intensity:1}),S.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"blue"}),S.jsx(I1,{makeDefault:!0}),S.jsx(u5,{infiniteGrid:!0,sectionSize:1,cellColor:"#1e293b",sectionColor:"#334155",fadeDistance:30}),S.jsx("axesHelper",{args:[5]}),S.jsx(Pv,{end:c,color:"#22d3ee",label:"u"}),S.jsx(Pv,{end:d,color:"#a855f7",label:"v"}),i&&S.jsxs(S.Fragment,{children:[S.jsx(Pv,{start:c,end:h,color:"#a855f7",scale:.5}),S.jsx(Pv,{start:d,end:h,color:"#22d3ee",scale:.5}),S.jsx(Pv,{end:h,color:"#10b981",label:"u+v"})]}),s&&S.jsx(Pv,{end:p,color:"#fbbf24",label:"uv"}),l&&S.jsx(PCe,{v1:c,v2:d})]}),S.jsx("div",{className:"absolute bottom-4 right-4 pointer-events-none text-[10px] text-slate-600 font-mono bg-black/20 p-2 rounded backdrop-blur-sm",children:"Drag to Rotate  Scroll to Zoom"})]})]})]})},C_=({title:n})=>S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center space-y-6",children:[S.jsx("div",{className:"p-6 bg-slate-900/50 rounded-full border border-slate-800 shadow-xl",children:S.jsx(hF,{size:48,className:"text-slate-600"})}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h2",{className:"text-3xl font-bold text-white tracking-tight",children:n}),S.jsx("div",{className:"px-3 py-1 rounded-full bg-slate-800/50 text-xs font-mono text-slate-400 inline-block border border-slate-700",children:"STATUS: LOCKED"})]}),S.jsxs("p",{className:"text-slate-400 max-w-md text-sm leading-relaxed",children:["This examination module is currently unavailable. Please proceed to the ",S.jsx("strong",{children:"Final Exam"})," for comprehensive assessment."]})]}),VCe=()=>{const[n,e]=hu("app_module",hn.HOME),[t,r]=hu("app_view",Ft.BASICS),[i,a]=Re.useState(!1),s=u=>{switch(e(u),u){case hn.MATRIX:r(Ft.BASICS);break;case hn.SEQUENCES:r(Ft.SEQUENCES);break;case hn.FUNCTIONS:r(Ft.FUNCTIONS);break;case hn.LIMITS:r(Ft.FUNCTIONS);break;case hn.DERIVATIVES:r(Ft.DERIVATIVE_RULES);break;case hn.INTEGRALS:r(Ft.INTEGRAL_BASICS);break;case hn.DIFF_EQ:r(Ft.DIFF_BASICS);break;case hn.EXAMS:r(Ft.FULL_EXAM);break;default:r(Ft.BASICS)}a(!1)},o=()=>{e(hn.HOME),a(!1)},l=()=>{switch(t){case Ft.BASICS:return S.jsx(V7,{});case Ft.OPERATIONS:return S.jsx(gte,{});case Ft.DETERMINANT:return S.jsx(xte,{});case Ft.INVERSE:return S.jsx(yte,{});case Ft.SYSTEMS:return S.jsx(vCe,{});case Ft.GAUSSIAN:return S.jsx(xCe,{});case Ft.EIGENVALUES:return S.jsx(yCe,{});case Ft.VECTOR_3D:return S.jsx(ICe,{});case Ft.VECTOR_OPS_3D:return S.jsx(jCe,{});case Ft.SEQUENCES:return S.jsx(Ste,{});case Ft.SERIES:return S.jsx(SCe,{});case Ft.COBWEB:return S.jsx(bCe,{});case Ft.SEQUENCES_3D:return S.jsx(tde,{});case Ft.FUNCTIONS:return S.jsx(tF,{});case Ft.TRANSFORMATIONS:return S.jsx(wCe,{});case Ft.NEWTON:return S.jsx(ACe,{});case Ft.FUNCTIONS_3D:return S.jsx(M_,{mode:"function"});case Ft.LIMITS:return S.jsx(tF,{});case Ft.CONTINUITY:return S.jsx(gCe,{});case Ft.LIMITS_3D:return S.jsx(M_,{mode:"limit"});case Ft.DERIVATIVE_RULES:return S.jsx(mCe,{});case Ft.FUNCTION_ANALYSIS:return S.jsx(pCe,{});case Ft.TAYLOR:return S.jsx(MCe,{});case Ft.DERIVATIVES_3D:return S.jsx(M_,{mode:"derivative"});case Ft.INTEGRAL_BASICS:return S.jsx(_Ce,{});case Ft.INTEGRAL_RULES:return S.jsx(TCe,{});case Ft.AREA_UNDER_CURVE:return S.jsx(CCe,{});case Ft.INTEGRALS_3D:return S.jsx(DCe,{});case Ft.DIFF_BASICS:return S.jsx(RCe,{});case Ft.POPULATION_MODELS:return S.jsx(BCe,{});case Ft.RADIOACTIVE_DECAY:return S.jsx(OCe,{});case Ft.DIFF_EQ_3D:return S.jsx(UCe,{});case Ft.CLASS_EXAM_1:return S.jsx(C_,{title:"Class Exam I"});case Ft.CLASS_EXAM_2:return S.jsx(C_,{title:"Class Exam II"});case Ft.CLASS_EXAM_3:return S.jsx(C_,{title:"Class Exam III"});case Ft.FULL_EXAM:return S.jsx(nF,{examMode:"FINAL"},"FINAL");case Ft.EXAM_ANALYSIS:return S.jsx(hCe,{});case Ft.HOMEWORK:return S.jsx(bte,{module:n},n);case Ft.FINAL_EXAM:return S.jsx(nF,{module:n},n);case Ft.CHEAT_SHEET:return S.jsx(FCe,{module:n},n);default:return S.jsx(V7,{})}};return n===hn.HOME?S.jsx(hJ,{onSelectModule:s}):S.jsxs("div",{className:"min-h-screen bg-[#020617] text-slate-200 font-sans selection:bg-cyan-500/30 overflow-hidden",children:[S.jsx(cJ,{currentView:t,currentModule:n,setView:r,goHome:o,isOpen:i,toggleSidebar:()=>a(!i)}),S.jsxs("main",{className:"md:ml-72 p-4 md:p-6 min-h-screen relative",children:[S.jsxs("div",{className:"md:hidden flex items-center justify-between mb-6",children:[S.jsx("button",{onClick:()=>a(!0),className:"p-2 bg-slate-800 rounded-lg text-white border border-slate-700",children:S.jsx(pX,{size:24})}),S.jsx("span",{className:"text-sm font-bold text-slate-400 tracking-widest uppercase",children:n.replace("_"," ")})]}),S.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[S.jsx("div",{className:"absolute inset-0 bg-noise opacity-[0.04] mix-blend-overlay"}),S.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[800px] h-[800px] bg-cyan-900/10 rounded-full blur-[120px] opacity-40"}),S.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[900px] h-[900px] bg-purple-900/10 rounded-full blur-[120px] opacity-40"}),S.jsx("div",{className:"absolute top-[20%] right-[20%] w-[300px] h-[300px] bg-indigo-900/5 rounded-full blur-3xl opacity-30"})]}),S.jsx("div",{className:"relative z-10 max-w-[1400px] mx-auto pt-2 pb-16",children:S.jsx(Eo,{mode:"wait",children:S.jsx(Yt.div,{initial:{opacity:0,y:10,filter:"blur(4px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-10,filter:"blur(4px)"},transition:{duration:.3,ease:"easeOut"},children:l()},t)})})]})]})},HCe=console.warn;console.warn=(...n)=>{n[0]&&typeof n[0]=="string"&&n[0].includes("KaTeX doesn't work in quirks mode")||HCe(...n)};const Gq=document.getElementById("root");if(!Gq)throw new Error("Could not find root element to mount to");const qCe=XG.createRoot(Gq);qCe.render(S.jsx(rF.StrictMode,{children:S.jsx(VCe,{})}));
